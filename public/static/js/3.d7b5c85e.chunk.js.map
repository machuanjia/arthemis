{"version":3,"sources":["../node_modules/xtend/immutable.js","../node_modules/micromark/dist/util/normalize-identifier.js","../node_modules/micromark/dist/util/miniflat.js","../node_modules/micromark/dist/util/chunked-push.js","../node_modules/micromark/dist/character/unicode-punctuation.js","../node_modules/micromark/dist/character/unicode-whitespace.js","../node_modules/micromark/dist/character/ascii-control.js","../node_modules/micromark/dist/tokenize/label-end.js","../node_modules/repeat-string/index.js","../node_modules/antd/lib/tag/style/index.js","../home/runner/work/react-sortablejs/react-sortablejs/node_modules/@parcel/scope-hoisting/lib/helpers.js","util.ts","react-sortable.tsx","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/regenerator/index.js","../node_modules/is-buffer/index.js","../node_modules/micromark/dist/constant/has-own-property.js","../node_modules/micromark/dist/util/size-chunks.js","../node_modules/micromark/dist/util/subtokenize.js","../node_modules/micromark/dist/initialize/text.js","../node_modules/micromark/dist/util/combine-extensions.js","../node_modules/micromark/dist/util/classify-character.js","../node_modules/micromark/dist/character/ascii-digit.js","../node_modules/micromark/dist/tokenize/factory-destination.js","../node_modules/micromark/dist/tokenize/factory-label.js","../node_modules/micromark/dist/tokenize/factory-whitespace.js","../node_modules/micromark/dist/tokenize/factory-title.js","../node_modules/micromark/dist/tokenize/thematic-break.js","../node_modules/unist-util-visit-parents/index.js","../node_modules/unist-util-is/convert.js","../node_modules/mdast-util-to-markdown/lib/util/container-phrasing.js","../node_modules/antd/lib/tag/index.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../src/langs.ts","../../../src/index.tsx","../../../../src/commands/bold.tsx","../../../../src/commands/italic.tsx","../../../../src/commands/header.tsx","../../../../src/commands/strike.tsx","../../../../src/commands/underline.tsx","../../../../src/commands/olist.tsx","../../../../src/commands/ulist.tsx","../../../../src/commands/link.tsx","../../../../src/commands/todo.tsx","../../../../src/commands/image.tsx","../../../../src/commands/fullscreen.tsx","../../../../src/commands/preview.tsx","../../../../src/commands/index.tsx","../../../../../src/components/ToolBar/index.tsx","../node_modules/sortablejs/modular/sortable.esm.js","../../../../../src/components/CodeMirror/index.tsx","../node_modules/codemirror/mode/markdown/markdown.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/meta.js","../node_modules/react-markdown/lib/react-markdown.js","../node_modules/react-markdown/node_modules/unified/index.js","../node_modules/bail/index.js","../node_modules/extend/index.js","../node_modules/react-markdown/node_modules/is-plain-obj/index.js","../node_modules/trough/index.js","../node_modules/trough/wrap.js","../node_modules/vfile/index.js","../node_modules/vfile/lib/index.js","../node_modules/vfile/node_modules/vfile-message/index.js","../node_modules/vfile/node_modules/unist-util-stringify-position/index.js","../node_modules/vfile/lib/core.js","../node_modules/vfile/lib/minpath.browser.js","../node_modules/vfile/lib/minproc.browser.js","../node_modules/remark-parse/index.js","../node_modules/mdast-util-from-markdown/index.js","../node_modules/mdast-util-from-markdown/dist/index.js","../node_modules/mdast-util-to-string/index.js","../node_modules/micromark/dist/util/safe-from-int.js","../node_modules/micromark/dist/parse.js","../node_modules/micromark/dist/initialize/content.js","../node_modules/micromark/dist/initialize/document.js","../node_modules/micromark/dist/initialize/flow.js","../node_modules/micromark/dist/tokenize/content.js","../node_modules/micromark/dist/constant/splice.js","../node_modules/micromark/dist/util/create-tokenizer.js","../node_modules/micromark/dist/util/serialize-chunks.js","../node_modules/micromark/dist/util/slice-chunks.js","../node_modules/micromark/dist/constructs.js","../node_modules/micromark/dist/tokenize/attention.js","../node_modules/micromark/dist/constant/unicode-punctuation-regex.js","../node_modules/micromark/dist/util/move-point.js","../node_modules/micromark/dist/tokenize/autolink.js","../node_modules/micromark/dist/character/ascii-atext.js","../node_modules/micromark/dist/tokenize/block-quote.js","../node_modules/micromark/dist/tokenize/character-escape.js","../node_modules/micromark/dist/character/ascii-punctuation.js","../node_modules/micromark/dist/tokenize/character-reference.js","../node_modules/micromark/node_modules/parse-entities/decode-entity.browser.js","../node_modules/micromark/dist/character/ascii-hex-digit.js","../node_modules/micromark/dist/tokenize/code-fenced.js","../node_modules/micromark/dist/tokenize/code-indented.js","../node_modules/micromark/dist/tokenize/code-text.js","../node_modules/micromark/dist/tokenize/definition.js","../node_modules/micromark/dist/tokenize/hard-break-escape.js","../node_modules/micromark/dist/tokenize/heading-atx.js","../node_modules/micromark/dist/tokenize/html-flow.js","../node_modules/micromark/dist/constant/html-block-names.js","../node_modules/micromark/dist/constant/html-raw-names.js","../node_modules/micromark/dist/tokenize/html-text.js","../node_modules/micromark/dist/tokenize/label-start-image.js","../node_modules/micromark/dist/tokenize/label-start-link.js","../node_modules/micromark/dist/tokenize/line-ending.js","../node_modules/micromark/dist/tokenize/list.js","../node_modules/micromark/dist/tokenize/setext-underline.js","../node_modules/micromark/dist/preprocess.js","../node_modules/micromark/dist/postprocess.js","../node_modules/mdast-util-from-markdown/node_modules/parse-entities/decode-entity.browser.js","../node_modules/mdast-util-from-markdown/node_modules/unist-util-stringify-position/index.js","../node_modules/mdast-add-list-metadata/index.js","../node_modules/mdast-add-list-metadata/node_modules/unist-util-visit-parents/index.js","../node_modules/react-markdown/lib/plugins/naive-html.js","../node_modules/unist-util-visit-parents/color.browser.js","../node_modules/react-markdown/lib/plugins/disallow-node.js","../node_modules/react-markdown/lib/ast-to-react.js","../node_modules/react-markdown/lib/wrap-table-rows.js","../node_modules/react-markdown/lib/get-definitions.js","../node_modules/react-markdown/lib/uri-transformer.js","../node_modules/react-markdown/lib/renderers.js","../node_modules/react-markdown/lib/symbols.js","../node_modules/remark-gfm/index.js","../node_modules/micromark-extension-gfm/index.js","../node_modules/micromark-extension-gfm/syntax.js","../node_modules/micromark-extension-gfm-autolink-literal/index.js","../node_modules/micromark-extension-gfm-autolink-literal/syntax.js","../node_modules/micromark-extension-gfm-strikethrough/index.js","../node_modules/micromark-extension-gfm-table/index.js","../node_modules/micromark-extension-gfm-table/syntax.js","../node_modules/micromark-extension-gfm-task-list-item/index.js","../node_modules/micromark-extension-gfm-task-list-item/syntax.js","../node_modules/mdast-util-gfm/from-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/from-markdown.js","../node_modules/ccount/index.js","../node_modules/mdast-util-find-and-replace/index.js","../node_modules/mdast-util-find-and-replace/node_modules/escape-string-regexp/index.js","../node_modules/mdast-util-gfm-strikethrough/from-markdown.js","../node_modules/mdast-util-gfm-table/from-markdown.js","../node_modules/mdast-util-gfm-task-list-item/from-markdown.js","../node_modules/mdast-util-gfm/to-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/to-markdown.js","../node_modules/mdast-util-gfm-strikethrough/to-markdown.js","../node_modules/mdast-util-gfm-table/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/inline-code.js","../node_modules/mdast-util-to-markdown/lib/util/pattern-compile.js","../node_modules/markdown-table/index.js","../node_modules/mdast-util-gfm-task-list-item/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/list-item.js","../node_modules/mdast-util-to-markdown/lib/util/check-bullet.js","../node_modules/mdast-util-to-markdown/lib/util/check-list-item-indent.js","../node_modules/mdast-util-to-markdown/lib/util/container-flow.js","../node_modules/mdast-util-to-markdown/lib/util/indent-lines.js","../node_modules/mdast-util-to-markdown/lib/configure.js","../node_modules/prismjs/prism.js","../node_modules/antd/lib/tag/CheckableTag.js","../node_modules/micromark/dist/character/markdown-line-ending.js","../node_modules/micromark/dist/tokenize/factory-space.js","../node_modules/micromark/dist/character/markdown-space.js","../node_modules/micromark/dist/util/chunked-splice.js","../node_modules/micromark/dist/character/markdown-line-ending-or-space.js","../node_modules/micromark/dist/util/regex-check.js","../node_modules/micromark/dist/util/shallow.js","../node_modules/micromark/dist/constant/assign.js","../node_modules/micromark/dist/util/prefix-size.js","../node_modules/micromark/dist/character/ascii-alphanumeric.js","../node_modules/prismjs/components/prism-markup.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/micromark/dist/constant/from-char-code.js","../node_modules/micromark/dist/tokenize/partial-blank-line.js","../node_modules/micromark/dist/util/resolve-all.js","../node_modules/micromark/dist/character/ascii-alpha.js","../node_modules/react-markdown/node_modules/unist-util-visit/index.js"],"names":["module","exports","target","i","arguments","length","source","key","hasOwnProperty","call","Object","prototype","value","replace","toLowerCase","toUpperCase","undefined","chunkedSplice","require","list","items","unicodePunctuationRegex","unicodePunctuation","regexCheck","unicodeWhitespace","code","markdownLineEndingOrSpace","chunkedPush","normalizeIdentifier","resolveAll","shallow","factoryDestination","factoryLabel","factoryTitle","factoryWhitespace","labelEnd","name","tokenize","effects","ok","nok","labelStart","defined","self","this","index","events","type","_balanced","_inactive","balanced","parser","indexOf","sliceSerialize","start","end","now","enter","consume","exit","afterLabelEnd","attempt","resourceConstruct","fullReferenceConstruct","collapsedReferenceConstruct","resolveTo","context","group","label","text","token","open","close","media","offset","slice","constructs","insideSpan","null","_used","splice","destinationAfter","between","afterLabel","cache","res","str","num","TypeError","max","substr","$parcel$interopDefault","a","__esModule","default","removeNode","node","parentElement","removeChild","removeNodes","customs","forEach","curr","element","insertNodes","parent","newChild","refChild","oldIndex","children","insertBefore","createCustoms","evt","mode","getMode","from","custom","item","newIndex","$bf037e368b3040002dda64d69d3f$var$_objectSpread","swapItem","oldIndicies","map","multiDragElement","newIndicies","inputs","sort","b","handleStateRemove","normalized","newList","$bf037e368b3040002dda64d69d3f$var$_toConsumableArray","concat","reverse","handleStateAdd","clone","newItem","store","dragging","ReactSortable","Component","props","_this","ref","createRef","chosen","selected","setList","sortable","invariant","plugins","current","newOptions","makeOptions","Sortable","create","tag","classicProps","style","className","id","createElement","$ff006f4a88ed11a8119708ec3f19c5db$var$_objectSpread","getChildren","dataIdAttr","selectedClass","chosenClass","dragClass","fallbackClass","ghostClass","swapClass","filter","dataid","Children","child","prevClassName","filtered","$ff006f4a88ed11a8119708ec3f19c5db$var$_defineProperty","classNames","cloneElement","onAdd","onChange","onChoose","onClone","onEnd","onFilter","onRemove","onSort","onStart","onUnchoose","onUpdate","onMove","onSpill","onSelect","onDeselect","$bf037e368b3040002dda64d69d3f$var$_objectWithoutProperties","_this2","prepareOnHandlerPropAndDOM","prepareOnHandlerProp","originalEvt","defaultValue","willInsertAfter","result","evtName","_this3","callOnHandlerProp","_this4","propEvent","$bf037e368b3040002dda64d69d3f$export$createCustoms","$ff006f4a88ed11a8119708ec3f19c5db$var$_toConsumableArray","$bf037e368b3040002dda64d69d3f$export$removeNodes","$bf037e368b3040002dda64d69d3f$export$handleStateAdd","$bf037e368b3040002dda64d69d3f$export$getMode","$bf037e368b3040002dda64d69d3f$export$insertNodes","pullMode","$bf037e368b3040002dda64d69d3f$export$handleStateRemove","customClones","clones","_this5","removeOnSpill","revertOnSpill","$bf037e368b3040002dda64d69d3f$export$removeNode","console","log","el","keys","find","k","includes","obj","constructor","isBuffer","own","chunks","size","assign","subcontent","eventIndex","stream","previous","entered","adjust","startPosition","startPositions","tokenizer","_tokenizer","contentType","childEvents","jumps","gaps","push","sliceStream","next","defineSkip","isInFirstContentOfListItem","_gfmTasklistFirstContentOfListItem","write","line","add","pop","unshift","event","lineIndex","otherIndex","otherEvent","parameters","subevents","more","_container","_movePreviousLineEndings","defineProperty","initializeFactory","string","resolver","createResolver","field","notText","atBreak","data","resolveAllLineSuffixes","extraResolver","chunk","bufferIndex","tabs","charCodeAt","column","_index","_bufferIndex","miniflat","extension","all","hook","left","right","existing","before","extensions","asciiDigit","asciiControl","markdownLineEnding","literalType","literalMarkerType","rawType","stringType","limit","Infinity","balance","destinationEnclosedBefore","destinationRaw","destinationEnclosed","destinationEnclosedEscape","destinationRawEscape","markdownSpace","markerType","labelEscape","factorySpace","seen","marker","atFirstTitleBreak","atTitleBreak","title","titleEscape","thematicBreak","sequence","visitParents","convert","color","CONTINUE","SKIP","EXIT","tree","test","visitor","step","is","factory","parents","tagName","visit","displayName","subresult","grandparents","toResult","Boolean","typeFactory","tests","checks","any","apply","anyFactory","allFactory","Error","safeOptions","after","handle","results","handlers","peek","charAt","join","_interopRequireWildcard","_interopRequireDefault","_defineProperty2","_extends2","_slicedToArray2","React","_classnames","_omit","_CloseOutlined","_CheckableTag","_configProvider","_colors","_wave","__rest","s","e","t","p","getOwnPropertySymbols","propertyIsEnumerable","PresetColorRegex","RegExp","PresetColorTypes","PresetStatusColorRegex","PresetStatusColorTypes","InternalTag","_a","_classNames","customizePrefixCls","prefixCls","icon","onClose","closeIcon","_a$closable","closable","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","_React$useState","useState","_React$useState2","visible","setVisible","useEffect","isPresetColor","tagStyle","backgroundColor","presetColor","tagClassName","handleCloseClick","stopPropagation","defaultPrevented","isNeedWave","tagProps","iconNode","kids","Fragment","tagNode","onClick","Tag","forwardRef","CheckableTag","_default","_arrayLikeToArray","arr","len","arr2","Array","_unsupportedIterableToArray","o","minLen","n","toString","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","isArray","F","done","_e","f","err","normalCompletion","didErr","_e2","_toConsumableArray","iter","_defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","_asyncToGenerator","fn","args","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","langData","meta","markup","css","clike","javascript","r","abap","abnf","actionscript","ada","apacheconf","apl","applescript","arduino","arff","asciidoc","asm6502","aspnet","autohotkey","autoit","bash","basic","batch","bison","bnf","brainfuck","bro","c","csharp","cpp","cil","coffeescript","cmake","clojure","crystal","csp","d","dart","diff","django","docker","ebnf","eiffel","ejs","elixir","elm","erb","erlang","fsharp","flow","fortran","gcode","gedcom","gherkin","git","glsl","gml","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","http","hpkp","hsts","ichigojam","inform7","ini","io","j","java","javadoc","javadoclike","javastacktrace","jolie","jq","jsdoc","json","jsonp","json5","julia","keyman","kotlin","latex","less","lilypond","liquid","lisp","livescript","lolcode","lua","makefile","markdown","matlab","mel","mizar","monkey","n1ql","n4js","nasm","nginx","nim","nix","nsis","objectivec","ocaml","opencl","oz","parigp","pascal","pascaligo","pcaxis","perl","php","phpdoc","plsql","powershell","processing","prolog","properties","protobuf","pug","puppet","pure","python","q","qore","jsx","tsx","renpy","reason","regex","rest","rip","roboconf","ruby","rust","sas","sass","scss","scala","scheme","smalltalk","smarty","soy","sql","stylus","swift","tap","tcl","textile","toml","tt2","twig","typescript","vala","vbnet","velocity","verilog","vhdl","vim","wasm","wiki","xeora","xojo","xquery","yaml","langs","alias","Set","ext","onScroll","onMouseOver","other","mdp","loadedLang","codes","val","lang","loadLang","Prism","highlight","useImperativeHandle","cls","reactMarkdownProps","allowDangerousHtml","allowNode","bold","keyCommand","button","width","height","viewBox","fill","execute","selection","editor","position","italic","header","strike","underline","olist","ulist","link","todo","image","Fullscreen","container","preview","full","setFull","initEditorHeight","useRef","containerRef","editorRef","window","clientHeight","document","fullscreen","command","editorProps","Preview","containerEditor","defaultCommands","toolbars","htmlProps","buttonProps","btn","MarkdownEditor","toolbarsMode","visibleEditor","previewProps","codemirrorProps","setValue","codeMirror","previewContainer","setEditor","toolBarProps","codeEditor","useMemo","data-visible","instance","_typeof","_extends","_objectSpread","_objectWithoutPropertiesLoose","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","userAgent","pattern","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","prop","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","getBoundingClientRect","elRect","top","bottom","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","options","currentChild","display","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","scrollHeight","elemCSS","overflowX","overflowY","body","isRectEqual","rect1","rect2","Math","round","throttle","callback","ms","setTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","Number","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","easing","animated","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginName","pluginEvent","eventName","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","lastPutMode","allEventProperties","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopImmediatePropagation","nearestEmptyInsertDetectEvent","nearest","ret","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","touches","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","disabled","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","_onMove","dragRect","targetRect","retVal","onMoveFn","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","src","href","sum","_nextTick","_cancelNextTick","contains","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","idx","checked","_saveInputCheckedState","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","empty","getSelection","removeAllRanges","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","cssMatrix","appendChild","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","handleEvent","dropEffect","_globalDragOver","toArray","order","getAttribute","useAnimation","set","destroy","querySelectorAll","removeAttribute","utils","extend","dst","nextTick","cancelNextTick","detectDirection","_len","_key","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","lastSwapEl","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","Revert","Remove","SwapPlugin","Swap","dragStart","dragOverValid","_ref2","swap","prevSwapEl","_ref3","n1","n2","i1","i2","p1","p2","isEqualNode","swapNodes","nulling","startIndex","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","multiDragKey","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","removeMultiDragElements","dragOver","_ref8","_ref9","clonesInserted","insertMultiDragElements","dragOverCompleted","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","elementsInserted","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverBubble","ogElemScroller","newElem","SERVER_RENDERED","global","cm","ReactCodeMirror","textarea","defineMode","editorOption","tabSize","lineNumbers","getValue","prevProps","nextProps","eventHandle","eventDict","ele","defaultProps","CodeMirror","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","found","mime","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","quote","list1","list2","list3","hr","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","blankLine","linkTitle","indentedCode","htmlBlock","inner","innerMode","htmlState","tagStart","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","indentation","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","skipToEnd","eatSpace","getType","eat","setext","listType","taskList","fencedEndRE","localMode","localState","startState","local","lookAhead","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","ch","matchCh","previousFormatting","eatWhile","count","formattingEscape","pos","atts","backUp","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","copyState","indent","textAfter","Pass","blockCommentStart","blockCommentEnd","closeBrackets","fold","defineMIME","mod","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","indentUnit","config","inText","chain","inBlock","doctype","inTag","baseState","inAttribute","stringStartCol","closure","eol","isInAttribute","terminator","depth","Context","startOfLine","prev","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","sol","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","configuration","helperType","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","mimeModes","modeInfo","file","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","xtend","unified","parse","PropTypes","addListMetadata","naiveHtml","disallowNode","astToReact","wrapTableRows","getDefinitions","uriTransformer","defaultRenderers","allTypes","ReactMarkdown","allowedTypes","disallowedTypes","renderers","processor","use","runSync","renderProps","definitions","transforms","removalMethod","unwrapDisallowed","ofType","ifNotMatch","renderHtml","escapeHtml","skipHtml","hasHtmlParser","astPlugins","identity","HtmlParser","determineAstToReactTransforms","transformLinkUri","propTypes","sourcePos","bool","rawSourcePos","func","arrayOf","oneOf","oneOfType","linkTarget","transformImageUri","array","types","bail","buffer","plain","trough","vfile","frozen","attachers","transformers","namespace","freezeIndex","assertUnfrozen","freeze","settings","addPlugin","addList","addPreset","entry","doc","Parser","assertParser","newable","String","stringify","Compiler","assertCompiler","assertNode","compile","run","complete","assertDone","process","processSync","destination","values","transformer","cb","executor","pipeline","contents","asyncName","hasOwn","toStr","gOPD","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","newValue","getProperty","copy","copyIsArray","deep","getPrototypeOf","wrap","fns","middleware","input","params","invoked","VMessage","VFile","message","origin","fatal","messages","fail","VMessagePrototype","proto","parts","range","location","parseOrigin","stack","ruleId","point","proc","history","cwd","assertPart","part","sep","assertNonEmpty","assertPath","encoding","dirname","basename","extname","stem","normalize","absolute","allowAboveRoot","lastSlashIndex","lastSegmentLength","lastSlash","dots","normalizeString","JSON","firstNonSlashEnd","seenNonSlash","extIndex","unmatchedSlash","startDot","startPart","preDotState","joined","fromMarkdown","mdastExtensions","configure","canContainEols","autolink","opener","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","heading","blockQuote","characterEscape","characterReference","codeFenced","codeFlow","codeFencedFenceInfo","codeFencedFenceMeta","codeIndented","codeText","codeTextData","codeFlowValue","definition","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreakEscape","hardBreak","hardBreakTrailing","htmlFlow","html","htmlFlowData","htmlText","htmlTextData","listItem","listItemValue","onenterlistitemvalue","listOrdered","onenterlistordered","listUnordered","paragraph","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","lineEnding","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","resource","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","handler","tokenStack","resume","getData","prepareList","stringifyPosition","tailIndex","tailEvent","firstBlankLineIndex","atMarker","containerBalance","listSpread","_spread","and","identifier","url","siblings","tail","referenceType","fragment","alt","safeFromInt","decode","ordered","spread","compiler","postprocess","preprocessor","fromCharCode","base","content","combineExtensions","createTokenizer","initializer","contentStart","contentInitial","lineStart","partialBlankLine","inspectResult","childFlow","childToken","continued","inspectConstruct","subcontinued","inspectStart","containerState","continuation","inspectContinue","inspectLess","currentConstruct","concrete","flowContinue","inspectDone","interrupt","interruptible","containerConstruct","inspectFlowEnd","_closeFlow","lazy","lazyFlowConstruct","check","inspectLazy","flowEnd","partial","documentContinue","documentContinued","flowStart","containerContinue","exitContainers","continueFlow","documentAfterPeek","disable","initial","flowInitial","afterConstruct","prefixSize","subtokenize","contentEnd","continuationConstruct","contentContinue","prefixed","serializeChunks","sliceChunks","initialize","columnStart","resolveAllConstructs","accountForPotentialSkip","fields","constructFactory","construct","addResult","onsuccessfulcheck","main","chunkIndex","restore","onreturn","bogusState","listOfConstructs","constructIndex","handleListOfConstructs","handleConstruct","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","atTab","view","startBufferIndex","endIndex","endBufferIndex","text$1","attention","headingAtx","labelStartImage","labelStartLink","setextUnderline","42","43","45","48","49","50","51","52","53","54","55","56","57","62","91","32","35","60","61","95","96","126","38","92","33","93","classifyCharacter","movePoint","_open","_close","openingSequence","closingSequence","nextEvents","asciiAlpha","asciiAlphanumeric","asciiAtext","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","asciiPunctuation","decodeEntity","asciiHexDigit","_interopDefaultLegacy","decodeEntity__default","numeric","characters","char","entity","innerHTML","closingFenceConstruct","closingSequenceStart","sizeOpen","closingSequenceEnd","initialPrefix","sequenceOpen","infoOpen","openAfter","infoAfter","indentedContentConstruct","afterPrefix","gap","tailExitIndex","headEnterIndex","labelAfter","titleConstruct","fenceOpenInside","headingBreak","htmlBlockNames","htmlRawNames","kind","startTag","declarationStart","tagCloseStart","continuationDeclarationInside","commentOpenInside","cdataOpenInside","basicSelfClosing","completeAttributeNameBefore","completeClosingTagAfter","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCharacterDataInside","continuationAtLineEnding","nextBlankConstruct","htmlContinueStart","continuationRawEndTag","declarationOpen","instruction","tagOpen","commentOpen","cdataOpen","declaration","commentStart","commentStartDash","comment","commentClose","atLineEnding","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","sizeChunks","initialSize","inside","onBlank","listItemPrefixWhitespaceConstruct","endOfPrefix","otherPrefix","initialBlankLine","furtherBlankLines","notInCurrentItem","indentConstruct","search","atCarriageReturn","endPosition","ceil","visitWithParents","ast","listNode","one","selfClosingRe","simpleTagRe","selfClosing","getSelfClosing","opening","getSimpleTag","matching","matchingTag","findAndPull","fromNode","toNode","fromIndex","toIndex","virtual","allow","ReactIs","renderer","isValidElementType","nodeProps","getNodeProps","resolveChildren","childNode","opts","isSimpleRenderer","sourcePosition","includeNodeIndex","parentChildCount","assignDefined","nodeKey","level","loose","listItemLoose","listLoose","reduce","unwrapParagraphs","getListItemChildren","language","columnAlignment","align","isHeader","isBlock","parsedChildren","mergeNodeChildren","attrs","table","protocols","uri","first","colon","protocol","supportsStringRender","SimpleRenderer","getCoreProps","break","blockquote","delete","linkReference","imageReference","tableHead","tableBody","tableRow","tableCell","textAlign","coreProps","checkbox","readOnly","inlineCode","dangerous","dangerouslySetInnerHTML","__html","virtualHtml","parsedHtml","warningIssued","syntax","toMarkdown","blockTokenizers","visitors","warn","combine","tasklist","www","w2","w3","domain","hasUnderscoreInLastSegment","hasUnderscoreInLastLastSegment","namedCharacterReference","punctuationContinuation","inPath","continuedPunctuation","parenAtPathEnd","pathEnd","trailingPunctuation","wwwAutolink","previousWww","httpAutolink","previousHttp","t1","t2","slash1","slash2","emailAutolink","hasDot","gfmAtext","previousEmail","atext","dotContinuation","dashOrUnderscoreContinuation","afterDashOrUnderscore","single","singleTilde","removeRemainingSequences","seenDelimiter","hasDash","tableHeaderCount","_align","cellDividerHead","inCellContentHead","cellBreakHead","setextUnderlineMini","createSpace","rowStartDelimiter","atRowEndHead","inWhitespaceHead","inCellContentEscapeHead","atDelimiterRowBreak","rowEndDelimiter","inWhitespaceDelimiter","inFillerDelimiter","afterLeftAlignment","afterRightAlignment","tableClose","nextPrefixedOrBlank","tableContinue","bodyStart","rowStartBody","cellDividerBody","inCellContentBody","cellBreakBody","tableBodyClose","tableBodyContinue","atRowEndBody","inWhitespaceBody","inCellContentEscapeBody","inHead","inDelimiterRow","inRow","cell","cellStart","whitespace","spaceFactory","tasklistCheck","spaceThenNonSpace","autolinkLiteral","taskListItem","ccount","findAndReplace","enterLiteralAutolinkValue","findUrl","$0","prefix","isCorrectDomain","closingParenIndex","openingParens","closingParens","trail","splitUrl","findEmail","email","literalAutolink","literalAutolinkEmail","literalAutolinkHttp","literalAutolinkWww","character","schema","handlerFactory","pairs","pair","subhandler","nodes","toExpression","toFunction","toPairs","escape","ignored","grandparent","enterCell","$1","tableData","tableHeader","exitCheck","taskListCheckValueChecked","taskListCheckValueUnchecked","firstParaghraph","head","unsafe","inConstruct","notInConstruct","phrasing","handleDelete","defaultInlineCode","markdownTable","padding","tableCellPadding","alignDelimiters","tablePipeAlign","stringLength","around","serializeData","subexit","handleTableRowAsData","handleTableAsData","handleTableCell","patternCompile","expression","_compiled","repeat","cells","columnIndex","columnLength","largest","lines","delimiterStart","delimiterEnd","alignments","defaultStringLength","rowIndex","rowLength","cellMatrix","sizeMatrix","row","sizes","longestCellByColumn","mostCellsPerRow","toAlignment","space","trailingWhitespace","defaultListItem","bullet","checkBullet","listItemIndent","checkListItemIndent","incrementListMarker","indentLines","blank","_self","uniqueId","manual","disableWorkerMessageHandler","util","encode","tokens","Token","objId","deepClone","visited","v","getLanguage","currentScript","scripts","isActive","defaultActivation","no","languages","redef","insert","grammar","newToken","old","DFS","property","propertyType","highlightAll","async","highlightAllUnder","env","hooks","elements","highlightElement","insertHighlightedCode","highlightedCode","Worker","worker","onmessage","postMessage","immediateClose","tokenList","LinkedList","addAfter","matchGrammar","callbacks","matchedStr","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","flags","currentNode","reach","removeCount","matchStr","removeFrom","removeRange","newNode","classes","attributes","aliases","script","highlightAutomaticallyCallback","hasAttribute","readyState","defer","requestAnimationFrame","WorkerGlobalScope","includedCdataInside","def","mathml","svg","ssml","atom","rss","addInlined","js","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","setAttribute","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","restProps","remove","chunkStart","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","rmClass","removeChildren","childNodes","firstChild","removeChildrenAndAdd","elt","createTextNode","eltP","activeElt","activeElement","addClass","joinClasses","as","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","copyObj","overwrite","countColumn","startValue","nextTab","selectionStart","selectionEnd","Delayed","onTimeout","scrollerGap","sel_dontScroll","sel_mouse","sel_move","findColumn","goal","col","skipped","min","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","dir","findFirst","pred","midF","mid","iterateBidiSections","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","getOrder","noHandlers","emitter","attachEvent","_handlers","getHandlers","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","hasBadBidiRects","txt","r0","r1","splitLinesAuto","l","nl","rt","hasSelection","te","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","modes","dependencies","spec","resolveMode","mfactory","modeObj","modeExtensions","exts","modeProps","prop$1","extendMode","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","getLine","sz","chunkSize","getBetween","getLines","updateLineHeight","lineNo","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","clipToLen","linelen","clipPosArray","skipTo","caseInsensitive","cased","hideFirstChars","oracle","baseToken","SavedContext","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","takeToken","asArray","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","buildLineContent","lineView","builder","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","getLineContent","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","isWidget","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","widgetHeight","parentStyle","gutters","wrapper","eventInWidget","sizer","mover","paddingTop","lineSpace","paddingVert","paddingH","cachedPaddingH","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","pageScrollY","marginTop","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","e$1","colDiff","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","blinker","cursorDiv","visibility","cursorBlinkRate","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","scrollNode","scrollIntoView","scrollPosIntoView","margin","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollbars","isScroller","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","bar","maybeDisable","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","editorIsHidden","wrapperHeight","oldDisplayWidth","scrollbarsClipped","marginBottom","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","allowDropFileTypes","reader","onerror","onload","readAsText","onDragStart","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","34","36","37","39","40","44","46","59","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","keyMap","normalizeKeyName","ctrl","cmd","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","nextCh","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","onMouseDown","supportsTouch","clickInGutter","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","mouseMove","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","over","leave","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","copyableRanges","lineRange","disableBrowserMagic","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","dontDelegate","method","defineExtension","defineDocExtension","called"],"mappings":"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","file":"static/js/3.d7b5c85e.chunk.js","sourcesContent":["module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nfunction normalizeIdentifier(value) {\n  return (\n    value // Collapse Markdown whitespace.\n      .replace(/[\\t\\n\\r ]+/g, ' ') // Trim.\n      .replace(/^ | $/g, '') // Some characters are considered “uppercase”, but if their lowercase\n      // counterpart is uppercased will result in a different uppercase\n      // character.\n      // Hence, to get that form, we perform both lower- and uppercase.\n      // Upper case makes sure keys will not interact with default prototypal\n      // methods: no object method is uppercase.\n      .toLowerCase()\n      .toUpperCase()\n  )\n}\n\nmodule.exports = normalizeIdentifier\n","'use strict'\n\nfunction miniflat(value) {\n  return value === null || value === undefined\n    ? []\n    : 'length' in value\n    ? value\n    : [value]\n}\n\nmodule.exports = miniflat\n","'use strict'\n\nvar chunkedSplice = require('./chunked-splice.js')\n\nfunction chunkedPush(list, items) {\n  if (list.length) {\n    chunkedSplice(list, list.length, 0, items)\n    return list\n  }\n\n  return items\n}\n\nmodule.exports = chunkedPush\n","'use strict'\n\nvar unicodePunctuationRegex = require('../constant/unicode-punctuation-regex.js')\nvar regexCheck = require('../util/regex-check.js')\n\n// In fact adds to the bundle size.\n\nvar unicodePunctuation = regexCheck(unicodePunctuationRegex)\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar unicodeWhitespace = regexCheck(/\\s/)\n\nmodule.exports = unicodeWhitespace\n","'use strict'\n\n// Note: EOF is seen as ASCII control here, because `null < 32 == true`.\nfunction asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code < 32 || code === 127\n  )\n}\n\nmodule.exports = asciiControl\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factoryTitle = require('./factory-title.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\n\nvar labelEnd = {\n  name: 'labelEnd',\n  tokenize: tokenizeLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  resolveAll: resolveAllLabelEnd\n}\nvar resourceConstruct = {\n  tokenize: tokenizeResource\n}\nvar fullReferenceConstruct = {\n  tokenize: tokenizeFullReference\n}\nvar collapsedReferenceConstruct = {\n  tokenize: tokenizeCollapsedReference\n}\n\nfunction resolveAllLabelEnd(events) {\n  var index = -1\n  var token\n\n  while (++index < events.length) {\n    token = events[index][1]\n\n    if (\n      !token._used &&\n      (token.type === 'labelImage' ||\n        token.type === 'labelLink' ||\n        token.type === 'labelEnd')\n    ) {\n      // Remove the marker.\n      events.splice(index + 1, token.type === 'labelImage' ? 4 : 2)\n      token.type = 'data'\n      index++\n    }\n  }\n\n  return events\n}\n\nfunction resolveToLabelEnd(events, context) {\n  var index = events.length\n  var offset = 0\n  var group\n  var label\n  var text\n  var token\n  var open\n  var close\n  var media // Find an opening.\n\n  while (index--) {\n    token = events[index][1]\n\n    if (open) {\n      // If we see another link, or inactive link label, we’ve been here before.\n      if (\n        token.type === 'link' ||\n        (token.type === 'labelLink' && token._inactive)\n      ) {\n        break\n      } // Mark other link openings as inactive, as we can’t have links in\n      // links.\n\n      if (events[index][0] === 'enter' && token.type === 'labelLink') {\n        token._inactive = true\n      }\n    } else if (close) {\n      if (\n        events[index][0] === 'enter' &&\n        (token.type === 'labelImage' || token.type === 'labelLink') &&\n        !token._balanced\n      ) {\n        open = index\n\n        if (token.type !== 'labelLink') {\n          offset = 2\n          break\n        }\n      }\n    } else if (token.type === 'labelEnd') {\n      close = index\n    }\n  }\n\n  group = {\n    type: events[open][1].type === 'labelLink' ? 'link' : 'image',\n    start: shallow(events[open][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  }\n  label = {\n    type: 'label',\n    start: shallow(events[open][1].start),\n    end: shallow(events[close][1].end)\n  }\n  text = {\n    type: 'labelText',\n    start: shallow(events[open + offset + 2][1].end),\n    end: shallow(events[close - 2][1].start)\n  }\n  media = [\n    ['enter', group, context],\n    ['enter', label, context]\n  ] // Opening marker.\n\n  media = chunkedPush(media, events.slice(open + 1, open + offset + 3)) // Text open.\n\n  media = chunkedPush(media, [['enter', text, context]]) // Between.\n\n  media = chunkedPush(\n    media,\n    resolveAll(\n      context.parser.constructs.insideSpan.null,\n      events.slice(open + offset + 4, close - 3),\n      context\n    )\n  ) // Text close, marker close, label close.\n\n  media = chunkedPush(media, [\n    ['exit', text, context],\n    events[close - 2],\n    events[close - 1],\n    ['exit', label, context]\n  ]) // Reference, resource, or so.\n\n  media = chunkedPush(media, events.slice(close + 1)) // Media close.\n\n  media = chunkedPush(media, [['exit', group, context]])\n  chunkedSplice(events, open, events.length, media)\n  return events\n}\n\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var labelStart\n  var defined // Find an opening.\n\n  while (index--) {\n    if (\n      (self.events[index][1].type === 'labelImage' ||\n        self.events[index][1].type === 'labelLink') &&\n      !self.events[index][1]._balanced\n    ) {\n      labelStart = self.events[index][1]\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!labelStart) {\n      return nok(code)\n    } // It’s a balanced bracket, but contains a link.\n\n    if (labelStart._inactive) return balanced(code)\n    defined =\n      self.parser.defined.indexOf(\n        normalizeIdentifier(\n          self.sliceSerialize({\n            start: labelStart.end,\n            end: self.now()\n          })\n        )\n      ) > -1\n    effects.enter('labelEnd')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelEnd')\n    return afterLabelEnd\n  }\n\n  function afterLabelEnd(code) {\n    // Resource: `[asd](fgh)`.\n    if (code === 40) {\n      return effects.attempt(\n        resourceConstruct,\n        ok,\n        defined ? ok : balanced\n      )(code)\n    } // Collapsed (`[asd][]`) or full (`[asd][fgh]`) reference?\n\n    if (code === 91) {\n      return effects.attempt(\n        fullReferenceConstruct,\n        ok,\n        defined\n          ? effects.attempt(collapsedReferenceConstruct, ok, balanced)\n          : balanced\n      )(code)\n    } // Shortcut reference: `[asd]`?\n\n    return defined ? ok(code) : balanced(code)\n  }\n\n  function balanced(code) {\n    labelStart._balanced = true\n    return nok(code)\n  }\n}\n\nfunction tokenizeResource(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('resource')\n    effects.enter('resourceMarker')\n    effects.consume(code)\n    effects.exit('resourceMarker')\n    return factoryWhitespace(effects, open)\n  }\n\n  function open(code) {\n    if (code === 41) {\n      return end(code)\n    }\n\n    return factoryDestination(\n      effects,\n      destinationAfter,\n      nok,\n      'resourceDestination',\n      'resourceDestinationLiteral',\n      'resourceDestinationLiteralMarker',\n      'resourceDestinationRaw',\n      'resourceDestinationString',\n      3\n    )(code)\n  }\n\n  function destinationAfter(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, between)(code)\n      : end(code)\n  }\n\n  function between(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factoryWhitespace(effects, end),\n        nok,\n        'resourceTitle',\n        'resourceTitleMarker',\n        'resourceTitleString'\n      )(code)\n    }\n\n    return end(code)\n  }\n\n  function end(code) {\n    if (code === 41) {\n      effects.enter('resourceMarker')\n      effects.consume(code)\n      effects.exit('resourceMarker')\n      effects.exit('resource')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeFullReference(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    return factoryLabel.call(\n      self,\n      effects,\n      afterLabel,\n      nok,\n      'reference',\n      'referenceMarker',\n      'referenceString'\n    )(code)\n  }\n\n  function afterLabel(code) {\n    return self.parser.defined.indexOf(\n      normalizeIdentifier(\n        self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n      )\n    ) < 0\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nfunction tokenizeCollapsedReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('reference')\n    effects.enter('referenceMarker')\n    effects.consume(code)\n    effects.exit('referenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 93) {\n      effects.enter('referenceMarker')\n      effects.consume(code)\n      effects.exit('referenceMarker')\n      effects.exit('reference')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = labelEnd\n","/*!\n * repeat-string <https://github.com/jonschlinkert/repeat-string>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\n/**\n * Results cache\n */\n\nvar res = '';\nvar cache;\n\n/**\n * Expose `repeat`\n */\n\nmodule.exports = repeat;\n\n/**\n * Repeat the given `string` the specified `number`\n * of times.\n *\n * **Example:**\n *\n * ```js\n * var repeat = require('repeat-string');\n * repeat('A', 5);\n * //=> AAAAA\n * ```\n *\n * @param {String} `string` The string to repeat\n * @param {Number} `number` The number of times to repeat the string\n * @return {String} Repeated string\n * @api public\n */\n\nfunction repeat(str, num) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  // cover common, quick use cases\n  if (num === 1) return str;\n  if (num === 2) return str + str;\n\n  var max = str.length * num;\n  if (cache !== str || typeof cache === 'undefined') {\n    cache = str;\n    res = '';\n  } else if (res.length >= max) {\n    return res.substr(0, max);\n  }\n\n  while (max > res.length && num > 1) {\n    if (num & 1) {\n      res += str;\n    }\n\n    num >>= 1;\n    str += str;\n  }\n\n  res += str;\n  res = res.substr(0, max);\n  return res;\n}\n","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"./index.less\");",null,"import { PropsWithChildren } from \"react\";\nimport Sortable, { Options } from \"sortablejs\";\nimport { MultiDragEvent } from \"./react-sortable\";\nimport { AllMethodNames, ItemInterface, ReactSortableProps } from \"./types\";\n\n/**\n * Removes the `node` from the DOM\n * @param node\n */\nexport function removeNode(node: HTMLElement): void {\n  if (node.parentElement !== null) node.parentElement.removeChild(node);\n}\n\n/**\n * Inserts the `newChild` node at the given index in a parent\n * @param parent The parent HTML Element.\n * @param newChild A HTML eement to add as a child of the parent.\n * @param index index of the parent to place the new child in.\n */\nexport function insertNodeAt(\n  parent: HTMLElement,\n  newChild: HTMLElement,\n  index: number\n): void {\n  const refChild = parent.children[index] || null;\n  parent.insertBefore(newChild, refChild);\n}\n\n// @todo - create a dom handler function for arrays or not at all\n\n/** removes stuff from the dom in a nice order */\n// @todo - do I need parenElement?\nexport function handleDOMChanges<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  removeNodes(customs);\n  insertNodes(customs);\n}\n\nexport function removeNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => removeNode(curr.element));\n}\n\nexport function insertNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => {\n    insertNodeAt(curr.parentElement, curr.element, curr.oldIndex);\n  });\n}\n\nexport function createCustoms<T extends ItemInterface>(\n  evt: MultiDragEvent,\n  list: T[]\n): Normalized<T>[] {\n  const mode = getMode(evt);\n  const parentElement = { parentElement: evt.from };\n  let custom = [];\n  switch (mode) {\n    case \"normal\":\n      /* eslint-disable */\n      const item = {\n        element: evt.item,\n        newIndex: evt.newIndex!,\n        oldIndex: evt.oldIndex!,\n        parentElement: evt.from,\n      };\n      custom = [item];\n      break;\n    case \"swap\":\n      const drag: Input = {\n        element: evt.item,\n        oldIndex: evt.oldIndex!,\n        newIndex: evt.newIndex!,\n        ...parentElement,\n      };\n      const swap: Input = {\n        element: evt.swapItem!,\n        oldIndex: evt.newIndex!,\n        newIndex: evt.oldIndex!,\n        ...parentElement,\n      };\n      custom = [drag, swap];\n      break;\n    case \"multidrag\":\n      custom = evt.oldIndicies.map<Input>((curr, index) => ({\n        element: curr.multiDragElement,\n        oldIndex: curr.index,\n        newIndex: evt.newIndicies[index].index,\n        ...parentElement,\n      }));\n      break;\n  }\n  /* eslint-enable */\n\n  const customs = createNormalized(custom, list);\n  return customs;\n}\n\n/** moves items form old index to new index without breaking anything ideally. */\nexport function handleStateChanges<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const a = handleStateRemove(normalized, list);\n  const b = handleStateAdd(normalized, a);\n  return b;\n}\n\nexport function handleStateRemove<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const newList = [...list];\n  normalized\n    .concat()\n    .reverse()\n    .forEach((curr) => newList.splice(curr.oldIndex, 1));\n  return newList;\n}\n\nexport function handleStateAdd<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[],\n  evt?: Sortable.SortableEvent,\n  clone?: ((currentItem: T, evt: Sortable.SortableEvent) => T) | undefined\n): T[] {\n  const newList = [...list];\n  normalized.forEach((curr) => {\n    const newItem = clone && evt && clone(curr.item, evt);\n    newList.splice(curr.newIndex, 0, newItem || curr.item);\n  });\n  return newList;\n}\n\nexport function getMode(evt: MultiDragEvent): \"multidrag\" | \"swap\" | \"normal\" {\n  if (evt.oldIndicies && evt.oldIndicies.length > 0) return \"multidrag\";\n  if (evt.swapItem) return \"swap\";\n  return \"normal\";\n}\n\nexport function createNormalized<T extends ItemInterface>(\n  inputs: Input[],\n  list: T[]\n): Normalized<T>[] {\n  const normalized = inputs\n    .map<Normalized<T>>((curr) => ({ ...curr, item: list[curr.oldIndex] }))\n    .sort((a, b) => a.oldIndex - b.oldIndex);\n  return normalized;\n}\n\nexport interface Input {\n  parentElement: HTMLElement;\n  element: HTMLElement;\n  oldIndex: number;\n  newIndex: number;\n}\n\nexport interface Normalized<T> extends Input {\n  item: T;\n}\n\n/**\n * Removes the following group of properties from `props`,\n * leaving only `Sortable.Options` without any `on` methods.\n * @param props `ReactSortable.Props`\n */\nexport function destructurePropsForOptions<T>(\n  props: PropsWithChildren<ReactSortableProps<T>>\n): Exclude<Options, AllMethodNames> {\n  /* eslint-disable */\n  const {\n    // react sortable props\n    list,\n    setList,\n    children,\n    tag,\n    style,\n    className,\n    clone,\n    // sortable options that have methods we want to overwrite\n    onAdd,\n    onChange,\n    onChoose,\n    onClone,\n    onEnd,\n    onFilter,\n    onRemove,\n    onSort,\n    onStart,\n    onUnchoose,\n    onUpdate,\n    onMove,\n    onSpill,\n    onSelect,\n    onDeselect,\n    ...options\n  } = props;\n  /* eslint-enable */\n  return options;\n}\n\n/**\n * Construct a type with the properties of T except for those in type K.\n * Including this allows for backwards compatibility with earlier versions of TS.\n */\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n","import classNames from \"classnames\";\nimport {\n  Children,\n  cloneElement,\n  Component,\n  createElement,\n  createRef,\n  ReactElement,\n  RefObject,\n} from \"react\";\nimport Sortable, { MoveEvent, Options, SortableEvent } from \"sortablejs\";\nimport invariant from \"tiny-invariant\";\nimport {\n  AllMethodsExceptMove,\n  HandledMethodNames,\n  ItemInterface,\n  ReactSortableProps,\n  Store,\n  UnHandledMethodNames,\n} from \"./types\";\nimport {\n  createCustoms,\n  destructurePropsForOptions,\n  getMode,\n  handleStateAdd,\n  handleStateChanges,\n  handleStateRemove,\n  insertNodes,\n  removeNode,\n  removeNodes,\n} from \"./util\";\n\n/** Holds a global reference for which react element is being dragged */\n// @todo - use context to manage this. How does one use 2 different providers?\nconst store: Store = { dragging: null };\n\nexport class ReactSortable<T extends ItemInterface> extends Component<\n  ReactSortableProps<T>\n> {\n  /* eslint-disable-next-line */\n  static defaultProps: Partial<ReactSortableProps<any>> = {\n    clone: (item) => item,\n  };\n\n  private ref: RefObject<HTMLElement>;\n  constructor(props: ReactSortableProps<T>) {\n    super(props);\n    // @todo forward ref this component\n    this.ref = createRef<HTMLElement>();\n\n    // make all state false because we can't change sortable unless a mouse gesture is made.\n    const newList = props.list.map((item) => ({\n      ...item,\n      chosen: false,\n      selected: false,\n    }));\n\n    props.setList(newList, this.sortable, store);\n    invariant(\n      //@ts-expect-error: Doesn't exist. Will deprecate soon.\n      !props.plugins,\n      `\nPlugins prop is no longer supported.\nInstead, mount it with \"Sortable.mount(new MultiDrag())\"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      `\n    );\n  }\n  componentDidMount(): void {\n    if (this.ref.current === null) return;\n    const newOptions = this.makeOptions();\n    Sortable.create(this.ref.current, newOptions);\n  }\n\n  render(): JSX.Element {\n    const { tag, style, className, id } = this.props;\n    const classicProps = { style, className, id };\n\n    // if no tag, default to a `div` element.\n    const newTag = !tag || tag === null ? \"div\" : tag;\n    return createElement(\n      newTag,\n      {\n        // @todo - find a way (perhaps with the callback) to allow AntD components to work\n        ref: this.ref,\n        ...classicProps,\n      },\n      this.getChildren()\n    );\n  }\n\n  private getChildren() {\n    const {\n      children,\n      dataIdAttr,\n      selectedClass = \"sortable-selected\",\n      chosenClass = \"sortable-chosen\",\n      /* eslint-disable */\n      dragClass = \"sortable-drag\",\n      fallbackClass = \"sortable-falback\",\n      ghostClass = \"sortable-ghost\",\n      swapClass = \"sortable-swap-highlight\",\n      /* eslint-enable */\n      filter = \"sortable-filter\",\n      list,\n    } = this.props;\n\n    // if no children, don't do anything.\n    if (!children || children == null) return null;\n    const dataid = dataIdAttr || \"data-id\";\n    /* eslint-disable-next-line */\n    return Children.map(children as ReactElement<any>[], (child, index) => {\n      const item = list[index];\n      const { className: prevClassName } = child.props;\n\n      // @todo - handle the function if avalable. I don't think anyone will be doing this soon.\n      const filtered = typeof filter === \"string\" && {\n        [filter.replace(\".\", \"\")]: !!item.filtered,\n      };\n\n      const className = classNames(prevClassName, {\n        [selectedClass]: item.selected,\n        [chosenClass]: item.chosen,\n        ...filtered,\n        // [dragClass]: true,\n        // [fallbackClass]: true,\n        // [ghostClass]: true,\n        // [swapClass]: true\n      });\n\n      return cloneElement(child, {\n        [dataid]: child.key,\n        className,\n      });\n    });\n  }\n\n  /** Appends the `sortable` property to this component */\n  private get sortable(): Sortable | null {\n    const el = this.ref.current;\n    if (el === null) return null;\n    const key = Object.keys(el).find((k) => k.includes(\"Sortable\"));\n    if (!key) return null;\n    //@ts-expect-error: fix me.\n    return el[key] as Sortable;\n  }\n\n  /** Converts all the props from `ReactSortable` into the `options` object that `Sortable.create(el, [options])` can use. */\n  makeOptions(): Options {\n    const DOMHandlers: HandledMethodNames[] = [\n      \"onAdd\",\n      \"onChoose\",\n      \"onDeselect\",\n      \"onEnd\",\n      \"onRemove\",\n      \"onSelect\",\n      \"onSpill\",\n      \"onStart\",\n      \"onUnchoose\",\n      \"onUpdate\",\n    ];\n    const NonDOMHandlers: UnHandledMethodNames[] = [\n      \"onChange\",\n      \"onClone\",\n      \"onFilter\",\n      \"onSort\",\n    ];\n    const newOptions: Options = destructurePropsForOptions(this.props);\n    DOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerPropAndDOM(name))\n    );\n    NonDOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerProp(name))\n    );\n\n    /** onMove has 2 arguments and needs to be handled seperately. */\n    const onMove = (evt: MoveEvent, originalEvt: Event) => {\n      const { onMove } = this.props;\n      const defaultValue = evt.willInsertAfter || -1;\n      if (!onMove) return defaultValue;\n      const result = onMove(evt, originalEvt, this.sortable, store);\n      if (typeof result === \"undefined\") return false;\n      return result;\n    };\n\n    return {\n      ...newOptions,\n      onMove,\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop & an `on[Handler]` ReactSortable method.  */\n  prepareOnHandlerPropAndDOM(\n    evtName: HandledMethodNames\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n      // calls state change\n      //@ts-expect-error: until @types multidrag item is in\n      this[evtName](evt);\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop */\n  prepareOnHandlerProp(\n    evtName: Exclude<AllMethodsExceptMove, HandledMethodNames>\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n    };\n  }\n\n  /** Calls the `props.on[Handler]` function */\n  callOnHandlerProp(evt: SortableEvent, evtName: AllMethodsExceptMove): void {\n    const propEvent = this.props[evtName];\n    if (propEvent) propEvent(evt, this.sortable, store);\n  }\n\n  // SORTABLE DOM HANDLING\n\n  onAdd(evt: MultiDragEvent): void {\n    const { list, setList, clone } = this.props;\n    /* eslint-disable-next-line */\n    const otherList = [...store.dragging!.props.list];\n    const customs = createCustoms(evt, otherList);\n    removeNodes(customs);\n    const newList = handleStateAdd(customs, list, evt, clone).map((item) => ({\n      ...item,\n      selected: false,\n    }));\n    setList(newList, this.sortable, store);\n  }\n\n  onRemove(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const mode = getMode(evt);\n    const customs = createCustoms(evt, list);\n    insertNodes(customs);\n\n    let newList = [...list];\n    // remove state if not in clone mode. otherwise, keep.\n    if (evt.pullMode !== \"clone\") newList = handleStateRemove(customs, newList);\n    // if clone, it doesn't really remove. instead it clones in place.\n    // @todo -\n    else {\n      // switch used to get the clone\n      let customClones = customs;\n      switch (mode) {\n        case \"multidrag\":\n          customClones = customs.map((item, index) => ({\n            ...item,\n            element: evt.clones[index],\n          }));\n          break;\n        case \"normal\":\n          customClones = customs.map((item) => ({\n            ...item,\n            element: evt.clone,\n          }));\n          break;\n        case \"swap\":\n        default: {\n          invariant(\n            true,\n            `mode \"${mode}\" cannot clone. Please remove \"props.clone\" from <ReactSortable/> when using the \"${mode}\" plugin`\n          );\n        }\n      }\n      removeNodes(customClones);\n\n      // replace selected items with cloned items\n      customs.forEach((curr) => {\n        const index = curr.oldIndex;\n        /* eslint-disable-next-line */\n        const newItem = this.props.clone!(curr.item, evt);\n        newList.splice(index, 1, newItem);\n      });\n    }\n\n    // remove item.selected from list\n    newList = newList.map((item) => ({ ...item, selected: false }));\n    setList(newList, this.sortable, store);\n  }\n\n  onUpdate(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const customs = createCustoms(evt, list);\n    removeNodes(customs);\n    insertNodes(customs);\n    const newList = handleStateChanges(customs, list);\n    return setList(newList, this.sortable, store);\n  }\n\n  onStart(): void {\n    store.dragging = this;\n  }\n\n  onEnd(): void {\n    store.dragging = null;\n  }\n\n  onChoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: true,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onUnchoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: false,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onSpill(evt: SortableEvent): void {\n    const { removeOnSpill, revertOnSpill } = this.props;\n    if (removeOnSpill && !revertOnSpill) removeNode(evt.item);\n  }\n\n  onSelect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) {\n        console.log(\n          `\"${evt.type}\" had indice of \"${curr.index}\", which is probably -1 and doesn't usually happen here.`\n        );\n        console.log(evt);\n        return;\n      }\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onDeselect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) return;\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n}\n\n// everything below this point can be removed\n// once @types has been merged. PR submited\ninterface MultiIndices {\n  multiDragElement: HTMLElement;\n  index: number;\n}\n\nexport interface MultiDragEvent extends SortableEvent {\n  // @todo - add this to @types\n  clones: HTMLElement[];\n  oldIndicies: MultiIndices[];\n  newIndicies: MultiIndices[];\n  swapItem: HTMLElement | null;\n}\n","module.exports = require(\"regenerator-runtime\");\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = own\n","'use strict'\n\n// Counts tabs based on their expanded size, and CR+LF as one character.\n\nfunction sizeChunks(chunks) {\n  var index = -1\n  var size = 0\n\n  while (++index < chunks.length) {\n    size += typeof chunks[index] === 'string' ? chunks[index].length : 1\n  }\n\n  return size\n}\n\nmodule.exports = sizeChunks\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar shallow = require('./shallow.js')\n\nfunction subtokenize(events) {\n  var jumps = {}\n  var index = -1\n  var event\n  var lineIndex\n  var otherIndex\n  var otherEvent\n  var parameters\n  var subevents\n  var more\n\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index]\n    }\n\n    event = events[index] // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n\n    if (\n      index &&\n      event[1].type === 'chunkFlow' &&\n      events[index - 1][1].type === 'listItemPrefix'\n    ) {\n      subevents = event[1]._tokenizer.events\n      otherIndex = 0\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'lineEndingBlank'\n      ) {\n        otherIndex += 2\n      }\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'content'\n      ) {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === 'content') {\n            break\n          }\n\n          if (subevents[otherIndex][1].type === 'chunkText') {\n            subevents[otherIndex][1].isInFirstContentOfListItem = true\n            otherIndex++\n          }\n        }\n      }\n    } // Enter.\n\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        assign(jumps, subcontent(events, index))\n        index = jumps[index]\n        more = true\n      }\n    } // Exit.\n    else if (event[1]._container || event[1]._movePreviousLineEndings) {\n      otherIndex = index\n      lineIndex = undefined\n\n      while (otherIndex--) {\n        otherEvent = events[otherIndex]\n\n        if (\n          otherEvent[1].type === 'lineEnding' ||\n          otherEvent[1].type === 'lineEndingBlank'\n        ) {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events[lineIndex][1].type = 'lineEndingBlank'\n            }\n\n            otherEvent[1].type = 'lineEnding'\n            lineIndex = otherIndex\n          }\n        } else {\n          break\n        }\n      }\n\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = shallow(events[lineIndex][1].start) // Switch container exit w/ line endings.\n\n        parameters = events.slice(lineIndex, index)\n        parameters.unshift(event)\n        chunkedSplice(events, lineIndex, index - lineIndex + 1, parameters)\n      }\n    }\n  }\n\n  return !more\n}\n\nfunction subcontent(events, eventIndex) {\n  var token = events[eventIndex][1]\n  var context = events[eventIndex][2]\n  var startPosition = eventIndex - 1\n  var startPositions = []\n  var tokenizer =\n    token._tokenizer || context.parser[token.contentType](token.start)\n  var childEvents = tokenizer.events\n  var jumps = []\n  var gaps = {}\n  var stream\n  var previous\n  var index\n  var entered\n  var end\n  var adjust // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n\n  while (token) {\n    // Find the position of the event for this token.\n    while (events[++startPosition][1] !== token) {\n      // Empty.\n    }\n\n    startPositions.push(startPosition)\n\n    if (!token._tokenizer) {\n      stream = context.sliceStream(token)\n\n      if (!token.next) {\n        stream.push(null)\n      }\n\n      if (previous) {\n        tokenizer.defineSkip(token.start)\n      }\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true\n      }\n\n      tokenizer.write(stream)\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined\n      }\n    } // Unravel the next token.\n\n    previous = token\n    token = token.next\n  } // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n\n  token = previous\n  index = childEvents.length\n\n  while (index--) {\n    // Make sure we’ve at least seen something (final eol is part of the last\n    // token).\n    if (childEvents[index][0] === 'enter') {\n      entered = true\n    } else if (\n      // Find a void token that includes a break.\n      entered &&\n      childEvents[index][1].type === childEvents[index - 1][1].type &&\n      childEvents[index][1].start.line !== childEvents[index][1].end.line\n    ) {\n      add(childEvents.slice(index + 1, end))\n      // Help GC.\n      token._tokenizer = token.next = undefined\n      token = token.previous\n      end = index + 1\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = token._tokenizer = token.next = undefined // Do head:\n\n  add(childEvents.slice(0, end))\n  index = -1\n  adjust = 0\n\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1]\n    adjust += jumps[index][1] - jumps[index][0] - 1\n  }\n\n  return gaps\n\n  function add(slice) {\n    var start = startPositions.pop()\n    jumps.unshift([start, start + slice.length - 1])\n    chunkedSplice(events, start, 2, slice)\n  }\n}\n\nmodule.exports = subtokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar assign = require('../constant/assign.js')\nvar shallow = require('../util/shallow.js')\n\nvar text = initializeFactory('text')\nvar string = initializeFactory('string')\nvar resolver = {\n  resolveAll: createResolver()\n}\n\nfunction initializeFactory(field) {\n  return {\n    tokenize: initializeText,\n    resolveAll: createResolver(\n      field === 'text' ? resolveAllLineSuffixes : undefined\n    )\n  }\n\n  function initializeText(effects) {\n    var self = this\n    var constructs = this.parser.constructs[field]\n    var text = effects.attempt(constructs, start, notText)\n    return start\n\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code)\n    }\n\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code)\n        return\n      }\n\n      effects.enter('data')\n      effects.consume(code)\n      return data\n    }\n\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit('data')\n        return text(code)\n      } // Data.\n\n      effects.consume(code)\n      return data\n    }\n\n    function atBreak(code) {\n      var list = constructs[code]\n      var index = -1\n\n      if (code === null) {\n        return true\n      }\n\n      if (list) {\n        while (++index < list.length) {\n          if (\n            !list[index].previous ||\n            list[index].previous.call(self, self.previous)\n          ) {\n            return true\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction createResolver(extraResolver) {\n  return resolveAllText\n\n  function resolveAllText(events, context) {\n    var index = -1\n    var enter // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === 'data') {\n          enter = index\n          index++\n        }\n      } else if (!events[index] || events[index][1].type !== 'data') {\n        // Don’t do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end\n          events.splice(enter + 2, index - enter - 2)\n          index = enter + 2\n        }\n\n        enter = undefined\n      }\n    }\n\n    return extraResolver ? extraResolver(events, context) : events\n  }\n} // A rather ugly set of instructions which again looks at chunks in the input\n// stream.\n// The reason to do this here is that it is *much* faster to parse in reverse.\n// And that we can’t hook into `null` to split the line suffix before an EOF.\n// To do: figure out if we can make this into a clean utility, or even in core.\n// As it will be useful for GFMs literal autolink extension (and maybe even\n// tables?)\n\nfunction resolveAllLineSuffixes(events, context) {\n  var eventIndex = -1\n  var chunks\n  var data\n  var chunk\n  var index\n  var bufferIndex\n  var size\n  var tabs\n  var token\n\n  while (++eventIndex <= events.length) {\n    if (\n      (eventIndex === events.length ||\n        events[eventIndex][1].type === 'lineEnding') &&\n      events[eventIndex - 1][1].type === 'data'\n    ) {\n      data = events[eventIndex - 1][1]\n      chunks = context.sliceStream(data)\n      index = chunks.length\n      bufferIndex = -1\n      size = 0\n      tabs = undefined\n\n      while (index--) {\n        chunk = chunks[index]\n\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length\n\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++\n            bufferIndex--\n          }\n\n          if (bufferIndex) break\n          bufferIndex = -1\n        } // Number\n        else if (chunk === -2) {\n          tabs = true\n          size++\n        } else if (chunk === -1);\n        else {\n          // Replacement character, exit.\n          index++\n          break\n        }\n      }\n\n      if (size) {\n        token = {\n          type:\n            eventIndex === events.length || tabs || size < 2\n              ? 'lineSuffix'\n              : 'hardBreakTrailing',\n          start: {\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size,\n            _index: data.start._index + index,\n            _bufferIndex: index\n              ? bufferIndex\n              : data.start._bufferIndex + bufferIndex\n          },\n          end: shallow(data.end)\n        }\n        data.end = shallow(token.start)\n\n        if (data.start.offset === data.end.offset) {\n          assign(data, token)\n        } else {\n          events.splice(\n            eventIndex,\n            0,\n            ['enter', token, context],\n            ['exit', token, context]\n          )\n          eventIndex += 2\n        }\n      }\n\n      eventIndex++\n    }\n  }\n\n  return events\n}\n\nexports.resolver = resolver\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar hasOwnProperty = require('../constant/has-own-property.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\n\nfunction combineExtensions(extensions) {\n  var all = {}\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(all, extensions[index])\n  }\n\n  return all\n}\n\nfunction extension(all, extension) {\n  var hook\n  var left\n  var right\n  var code\n\n  for (hook in extension) {\n    left = hasOwnProperty.call(all, hook) ? all[hook] : (all[hook] = {})\n    right = extension[hook]\n\n    for (code in right) {\n      left[code] = constructs(\n        miniflat(right[code]),\n        hasOwnProperty.call(left, code) ? left[code] : []\n      )\n    }\n  }\n}\n\nfunction constructs(list, existing) {\n  var index = -1\n  var before = []\n\n  while (++index < list.length) {\n    ;(list[index].add === 'after' ? existing : before).push(list[index])\n  }\n\n  chunkedSplice(existing, 0, 0, before)\n  return existing\n}\n\nmodule.exports = combineExtensions\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar unicodePunctuation = require('../character/unicode-punctuation.js')\nvar unicodeWhitespace = require('../character/unicode-whitespace.js')\n\n// Classify whether a character is unicode whitespace, unicode punctuation, or\n// anything else.\n// Used for attention (emphasis, strong), whose sequences can open or close\n// based on the class of surrounding characters.\nfunction classifyCharacter(code) {\n  if (\n    code === null ||\n    markdownLineEndingOrSpace(code) ||\n    unicodeWhitespace(code)\n  ) {\n    return 1\n  }\n\n  if (unicodePunctuation(code)) {\n    return 2\n  }\n}\n\nmodule.exports = classifyCharacter\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiDigit = regexCheck(/\\d/)\n\nmodule.exports = asciiDigit\n","'use strict'\n\nvar asciiControl = require('../character/ascii-control.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\n// eslint-disable-next-line max-params\nfunction destinationFactory(\n  effects,\n  ok,\n  nok,\n  type,\n  literalType,\n  literalMarkerType,\n  rawType,\n  stringType,\n  max\n) {\n  var limit = max || Infinity\n  var balance = 0\n  return start\n\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type)\n      effects.enter(literalType)\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      return destinationEnclosedBefore\n    }\n\n    if (asciiControl(code) || code === 41) {\n      return nok(code)\n    }\n\n    effects.enter(type)\n    effects.enter(rawType)\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationRaw(code)\n  }\n\n  function destinationEnclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      effects.exit(literalType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationEnclosed(code)\n  }\n\n  function destinationEnclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      return destinationEnclosedBefore(code)\n    }\n\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? destinationEnclosedEscape : destinationEnclosed\n  }\n\n  function destinationEnclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code)\n      return destinationEnclosed\n    }\n\n    return destinationEnclosed(code)\n  }\n\n  function destinationRaw(code) {\n    if (code === 40) {\n      if (++balance > limit) return nok(code)\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === 41) {\n      if (!balance--) {\n        effects.exit('chunkString')\n        effects.exit(stringType)\n        effects.exit(rawType)\n        effects.exit(type)\n        return ok(code)\n      }\n\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      if (balance) return nok(code)\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      effects.exit(rawType)\n      effects.exit(type)\n      return ok(code)\n    }\n\n    if (asciiControl(code)) return nok(code)\n    effects.consume(code)\n    return code === 92 ? destinationRawEscape : destinationRaw\n  }\n\n  function destinationRawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    return destinationRaw(code)\n  }\n}\n\nmodule.exports = destinationFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\n\n// eslint-disable-next-line max-params\nfunction labelFactory(effects, ok, nok, type, markerType, stringType) {\n  var self = this\n  var size = 0\n  var data\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    effects.enter(stringType)\n    return atBreak\n  }\n\n  function atBreak(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      (code === 93 && !data) ||\n      /* c8 ignore next */\n      (code === 94 &&\n        /* c8 ignore next */\n        !size &&\n        /* c8 ignore next */\n        '_hiddenFootnoteSupport' in self.parser.constructs) ||\n      size > 999\n    ) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.exit(stringType)\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return atBreak\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return label(code)\n  }\n\n  function label(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      code === 93 ||\n      markdownLineEnding(code) ||\n      size++ > 999\n    ) {\n      effects.exit('chunkString')\n      return atBreak(code)\n    }\n\n    effects.consume(code)\n    data = data || !markdownSpace(code)\n    return code === 92 ? labelEscape : label\n  }\n\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code)\n      size++\n      return label\n    }\n\n    return label(code)\n  }\n}\n\nmodule.exports = labelFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction whitespaceFactory(effects, ok) {\n  var seen\n  return start\n\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      seen = true\n      return start\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(\n        effects,\n        start,\n        seen ? 'linePrefix' : 'lineSuffix'\n      )(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = whitespaceFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction titleFactory(effects, ok, nok, type, markerType, stringType) {\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    marker = code === 40 ? 41 : code\n    return atFirstTitleBreak\n  }\n\n  function atFirstTitleBreak(code) {\n    if (code === marker) {\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    return atTitleBreak(code)\n  }\n\n  function atTitleBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType)\n      return atFirstTitleBreak(marker)\n    }\n\n    if (code === null) {\n      return nok(code)\n    } // Note: blank lines can’t exist in content.\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, atTitleBreak, 'linePrefix')\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return title(code)\n  }\n\n  function title(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      return atTitleBreak(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? titleEscape : title\n  }\n\n  function titleEscape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code)\n      return title\n    }\n\n    return title(code)\n  }\n}\n\nmodule.exports = titleFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n}\n\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  var size = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('thematicBreak')\n    marker = code\n    return atBreak(code)\n  }\n\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter('thematicBreakSequence')\n      return sequence(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, 'whitespace')(code)\n    }\n\n    if (size < 3 || (code !== null && !markdownLineEnding(code))) {\n      return nok(code)\n    }\n\n    effects.exit('thematicBreak')\n    return ok(code)\n  }\n\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      size++\n      return sequence\n    }\n\n    effects.exit('thematicBreakSequence')\n    return atBreak(code)\n  }\n}\n\nmodule.exports = thematicBreak\n","'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\nvar color = require('./color')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n  step = reverse ? -1 : 1\n\n  factory(tree, null, [])()\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {}\n    var name\n\n    if (typeof value.type === 'string') {\n      name =\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      visit.displayName =\n        'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')'\n    }\n\n    return visit\n\n    function visit() {\n      var grandparents = parents.concat(node)\n      var result = []\n      var subresult\n      var offset\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)()\n\n          if (subresult[0] === EXIT) {\n            return subresult\n          }\n\n          offset =\n            typeof subresult[1] === 'number' ? subresult[1] : offset + step\n        }\n      }\n\n      return result\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","'use strict'\n\nmodule.exports = convert\n\nfunction convert(test) {\n  if (test == null) {\n    return ok\n  }\n\n  if (typeof test === 'string') {\n    return typeFactory(test)\n  }\n\n  if (typeof test === 'object') {\n    return 'length' in test ? anyFactory(test) : allFactory(test)\n  }\n\n  if (typeof test === 'function') {\n    return test\n  }\n\n  throw new Error('Expected function, string, or object as test')\n}\n\n// Utility assert each property in `test` is represented in `node`, and each\n// values are strictly equal.\nfunction allFactory(test) {\n  return all\n\n  function all(node) {\n    var key\n\n    for (key in test) {\n      if (node[key] !== test[key]) return false\n    }\n\n    return true\n  }\n}\n\nfunction anyFactory(tests) {\n  var checks = []\n  var index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return any\n\n  function any() {\n    var index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, arguments)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n// Utility to convert a string into a function which checks a given node’s type\n// for said string.\nfunction typeFactory(test) {\n  return type\n\n  function type(node) {\n    return Boolean(node && node.type === test)\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","module.exports = phrasing\n\nfunction phrasing(parent, context, safeOptions) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var before = safeOptions.before\n  var after\n  var handle\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    if (index + 1 < children.length) {\n      handle = context.handle.handlers[children[index + 1].type]\n      if (handle && handle.peek) handle = handle.peek\n      after = handle\n        ? handle(children[index + 1], parent, context, {\n            before: '',\n            after: ''\n          }).charAt(0)\n        : ''\n    } else {\n      after = safeOptions.after\n    }\n\n    // In some cases, html (text) can be found in phrasing right after an eol.\n    // When we’d serialize that, in most cases that would be seen as html\n    // (flow).\n    // As we can’t escape or so to prevent it from happening, we take a somewhat\n    // reasonable approach: replace that eol with a space.\n    // See: <https://github.com/syntax-tree/mdast-util-to-markdown/issues/15>\n    if (\n      results.length > 0 &&\n      (before === '\\r' || before === '\\n') &&\n      child.type === 'html'\n    ) {\n      results[results.length - 1] = results[results.length - 1].replace(\n        /(\\r?\\n|\\r)$/,\n        ' '\n      )\n      before = ' '\n    }\n\n    results.push(\n      context.handle(child, parent, context, {\n        before: before,\n        after: after\n      })\n    )\n\n    before = results[results.length - 1].slice(-1)\n  }\n\n  return results.join('')\n}\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _omit = _interopRequireDefault(require(\"omit.js\"));\n\nvar _CloseOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseOutlined\"));\n\nvar _CheckableTag = _interopRequireDefault(require(\"./CheckableTag\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _colors = require(\"../_util/colors\");\n\nvar _wave = _interopRequireDefault(require(\"../_util/wave\"));\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar PresetColorRegex = new RegExp(\"^(\".concat(_colors.PresetColorTypes.join('|'), \")(-inverse)?$\"));\nvar PresetStatusColorRegex = new RegExp(\"^(\".concat(_colors.PresetStatusColorTypes.join('|'), \")$\"));\n\nvar InternalTag = function InternalTag(_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      style = _a.style,\n      children = _a.children,\n      icon = _a.icon,\n      color = _a.color,\n      onClose = _a.onClose,\n      closeIcon = _a.closeIcon,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? false : _a$closable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  React.useEffect(function () {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n\n  var isPresetColor = function isPresetColor() {\n    if (!color) {\n      return false;\n    }\n\n    return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n  };\n\n  var tagStyle = (0, _extends2[\"default\"])({\n    backgroundColor: color && !isPresetColor() ? color : undefined\n  }, style);\n  var presetColor = isPresetColor();\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var tagClassName = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(color), presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n\n  var handleCloseClick = function handleCloseClick(e) {\n    e.stopPropagation();\n\n    if (onClose) {\n      onClose(e);\n    }\n\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (!('visible' in props)) {\n      setVisible(false);\n    }\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    if (closable) {\n      return closeIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      }, closeIcon) : /*#__PURE__*/React.createElement(_CloseOutlined[\"default\"], {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      });\n    }\n\n    return null;\n  };\n\n  var isNeedWave = 'onClick' in props || children && children.type === 'a';\n  var tagProps = (0, _omit[\"default\"])(props, ['visible']);\n  var iconNode = icon || null;\n  var kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  var tagNode = /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, tagProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, renderCloseIcon());\n  return isNeedWave ? /*#__PURE__*/React.createElement(_wave[\"default\"], null, tagNode) : tagNode;\n};\n\nvar Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nTag.displayName = 'Tag';\nTag.CheckableTag = _CheckableTag[\"default\"];\nvar _default = Tag;\nexports[\"default\"] = _default;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","\nexport interface ILangData {\n  [key: string]: {\n    /**\n     * alias\n     */\n    a?: string | string[];\n    /**\n     * require\n     */\n    r?: string | string[];\n    /**\n     * peerDependencies\n     */\n    p?: string | string[];\n    /**\n     * file does not exist\n     */\n    e?: boolean;\n  }\n}\n\nconst langData: ILangData = {\n  meta: {},\n  markup: { a: ['html', 'xml', 'svg', 'mathml'] },\n  css: { p: 'markup' },\n  clike: {},\n  javascript: { p: 'markup', r: 'clike', a: 'js' },\n  abap: {},\n  abnf: {},\n  actionscript: { p: 'markup', r: 'javascript' },\n  ada: {},\n  apacheconf: {},\n  apl: {},\n  applescript: {},\n  arduino: { r: 'cpp' },\n  arff: {},\n  asciidoc: { a: 'adoc' },\n  asm6502: {},\n  aspnet: { r: ['markup', 'csharp'] },\n  autohotkey: {},\n  autoit: {},\n  bash: { a: 'shell' },\n  basic: {},\n  batch: {},\n  bison: { r: 'c' },\n  bnf: { a: 'rbnf' },\n  brainfuck: {},\n  bro: {},\n  c: { r: 'clike' },\n  csharp: { r: 'clike', a: ['cs', 'dotnet'] },\n  cpp: { r: 'c' },\n  cil: {},\n  coffeescript: { r: 'javascript', a: 'coffee' },\n  cmake: {},\n  clojure: {},\n  crystal: { r: 'ruby' },\n  csp: {},\n  'css-extras': { r: 'css' },\n  d: { r: 'clike' },\n  dart: { r: 'clike' },\n  diff: {},\n  django: { r: 'markup-templating', a: 'jinja2' },\n  'dns-zone-file': { a: 'dns-zone' },\n  docker: { a: 'dockerfile' },\n  ebnf: {},\n  eiffel: {},\n  ejs: { r: ['javascript', 'markup-templating'] },\n  elixir: {},\n  elm: {},\n  erb: { r: ['ruby', 'markup-templating'] },\n  erlang: {},\n  fsharp: { r: 'clike' },\n  flow: { r: 'javascript' },\n  fortran: {},\n  gcode: {},\n  gedcom: {},\n  gherkin: {},\n  git: {},\n  glsl: { r: 'clike' },\n  gml: { r: 'clike', a: 'gamemakerlanguage' },\n  go: { r: 'clike' },\n  graphql: {},\n  groovy: { r: 'clike' },\n  haml:\n  {\n    p: ['css', 'coffeescript', 'erb', 'javascript', 'less', 'markdown', 'ruby', 'scss', 'textile'],\n    r: 'ruby'\n  },\n  handlebars: { r: 'markup-templating' },\n  haskell: { a: 'hs' },\n  haxe: { r: 'clike' },\n  hcl: {},\n  http: { p: ['javascript', 'markup'] },\n  hpkp: {},\n  hsts: {},\n  ichigojam: {},\n  icon: {},\n  inform7: {},\n  ini: {},\n  io: {},\n  j: {},\n  java: { r: 'clike' },\n  javadoc: { p: ['scala'], r: ['markup', 'java', 'javadoclike'] },\n  javadoclike: { p: ['java', 'javascript', 'php'] },\n  javastacktrace: {},\n  jolie: { r: 'clike' },\n  jq: {},\n  jsdoc:\n  {\n    p: ['actionscript', 'coffeescript'],\n    r: ['javascript', 'javadoclike']\n  },\n  'js-extras':\n  {\n    p: ['actionscript', 'coffeescript', 'flow', 'n4js', 'typescript'],\n    r: 'javascript'\n  },\n  'js-templates':\n  {\n    p: ['css', 'css-extras', 'graphql', 'markdown', 'markup'],\n    r: 'javascript'\n  },\n  json: {},\n  jsonp: { r: 'json' },\n  json5: { r: 'json' },\n  julia: {},\n  keyman: {},\n  kotlin: { r: 'clike' },\n  latex: { a: ['tex', 'context'] },\n  less: { r: 'css' },\n  lilypond: { r: 'scheme', a: 'ly' },\n  liquid: {},\n  lisp: { a: ['emacs', 'elisp', 'emacs-lisp'] },\n  livescript: {},\n  lolcode: {},\n  lua: {},\n  makefile: {},\n  markdown: { r: 'markup', a: 'md' },\n  'markup-templating': { r: 'markup' },\n  matlab: {},\n  mel: {},\n  mizar: {},\n  monkey: {},\n  n1ql: {},\n  n4js: { p: ['jsdoc'], r: 'javascript', a: 'n4jsd' },\n  'nand2tetris-hdl': {},\n  nasm: {},\n  nginx: { r: 'clike' },\n  nim: {},\n  nix: {},\n  nsis: {},\n  objectivec: { r: 'c' },\n  ocaml: {},\n  opencl: { p: ['c', 'cpp'], r: 'cpp' },\n  oz: {},\n  parigp: {},\n  parser: { r: 'markup' },\n  pascal: { a: 'objectpascal' },\n  pascaligo: {},\n  pcaxis: { a: 'px' },\n  perl: {},\n  php: { r: ['clike', 'markup-templating'] },\n  phpdoc: { r: ['php', 'javadoclike'] },\n  'php-extras': { r: 'php' },\n  plsql: { r: 'sql' },\n  powershell: {},\n  processing: { r: 'clike' },\n  prolog: {},\n  properties: {},\n  protobuf: { r: 'clike' },\n  pug:\n  {\n    p: ['coffeescript', 'ejs', 'handlebars', 'less', 'livescript', 'markdown', 'scss', 'stylus', 'twig'],\n    r: ['markup', 'javascript']\n  },\n  puppet: {},\n  pure: { p: ['c', 'cpp', 'fortran'] },\n  python: { a: 'py' },\n  q: {},\n  qore: { r: 'clike' },\n  r: {},\n  jsx:\n  {\n    p: ['jsdoc', 'js-extras', 'js-templates'],\n    r: ['markup', 'javascript']\n  },\n  tsx: { r: ['jsx', 'typescript'] },\n  renpy: {},\n  reason: { r: 'clike' },\n  regex: { p: ['actionscript', 'coffeescript', 'flow', 'javascript', 'typescript', 'vala'] },\n  rest: {},\n  rip: {},\n  roboconf: {},\n  ruby: { r: 'clike', a: 'rb' },\n  rust: {},\n  sas: {},\n  sass: { r: 'css' },\n  scss: { r: 'css' },\n  scala: { r: 'java' },\n  scheme: {},\n  'shell-session': { r: 'bash' },\n  smalltalk: {},\n  smarty: { r: 'markup-templating' },\n  soy: { r: 'markup-templating' },\n  'splunk-spl': {},\n  sql: {},\n  stylus: {},\n  swift: { r: 'clike' },\n  tap: { r: 'yaml' },\n  tcl: {},\n  textile: { p: 'css', r: 'markup' },\n  toml: {},\n  tt2: { r: ['clike', 'markup-templating'] },\n  twig: { r: 'markup' },\n  typescript: { p: 'js-templates', r: 'javascript', a: 'ts' },\n  't4-cs': { r: ['t4-templating', 'csharp'], a: 't4' },\n  't4-vb': { r: ['t4-templating', 'visual-basic'] },\n  't4-templating': {},\n  vala: { r: 'clike' },\n  vbnet: { r: 'basic' },\n  velocity: { r: 'markup' },\n  verilog: {},\n  vhdl: {},\n  vim: {},\n  'visual-basic': { a: 'vb' },\n  wasm: {},\n  wiki: { r: 'markup' },\n  xeora: { r: 'markup', a: 'xeoracube' },\n  xojo: {},\n  xquery: { r: 'markup' },\n  yaml: { a: 'yml' }\n};\n\nexport async function loadLang(ext: string) {\n  let langs: string[] = [];\n  Object.keys(langData).forEach((item) => {\n    const { a: alias, r: require } = langData[item];\n    if (alias && (Array.isArray(alias) ? alias : [alias]).includes(ext)) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n    }\n    if (ext === item) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n      langs.push(ext);\n    }\n  });\n  try {\n    if (langs.length > 0) {\n      return Promise.all(langs.map((key) => import(`prismjs/components/prism-${key}`)));\n    }\n  } catch (error) { }\n}\n\nexport default langData;\n","import React, { useState, createRef, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\nimport CodeMirror, { ICodeMirror } from './components/CodeMirror';\nimport MarkdownPreview, { MarkdownPreviewProps } from '@uiw/react-markdown-preview';\nimport ToolBar, { IToolBarProps } from './components/ToolBar';\nimport { getCommands, getModeCommands } from './commands';\nimport './index.less';\n\nexport * from './commands';\n\nexport interface IMarkdownEditor extends ICodeMirror {\n  className?: string;\n  prefixCls?: string,\n  value?: string,\n  height?: number,\n  visible?: boolean,\n  visibleEditor?: boolean,\n  toolbars?: IToolBarProps['toolbars'],\n  toolbarsMode?: IToolBarProps['toolbars'],\n  previewProps?: MarkdownPreviewProps;\n  options?: CodeMirror.EditorConfiguration,\n}\n\nexport interface MarkdownEditorRef {\n  editor?: CodeMirror.Editor;\n  preview?: HTMLDivElement | null;\n}\n\nexport default React.forwardRef<MarkdownEditorRef, IMarkdownEditor>(MarkdownEditor);\n\nfunction MarkdownEditor(\n  props: IMarkdownEditor,\n  ref?:\n    | ((instance: MarkdownEditorRef) => void)\n    | React.RefObject<MarkdownEditorRef>\n    | null\n) {\n  const {\n    prefixCls = 'md-editor', className,\n    onChange,\n    toolbars = getCommands(),\n    toolbarsMode = getModeCommands(),\n    visible = true,\n    visibleEditor = true,\n    previewProps = {}, ...codemirrorProps } = props;\n  const [value, setValue] = useState(props.value || '');\n  const codeMirror = createRef<CodeMirror>();\n  const previewContainer = useRef<HTMLDivElement | null>()\n  const [editor, setEditor] = useState<CodeMirror.Editor>();\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst containerEditor = useRef<HTMLDivElement>(null);\n\n  useImperativeHandle(ref, () => ({\n    editor: editor,\n    preview: previewContainer.current,\n  }));\n\n  useEffect(() => {\n    if (codeMirror.current) {\n      setEditor(codeMirror.current.editor);\n    }\n  }, [codeMirror.current]);\n\n  const toolBarProps = {\n    editor,\n    preview: previewContainer.current,\n    container: container.current,\n    containerEditor: containerEditor.current,\n    editorProps: props\n  }\n  const codeEditor = useMemo(() => (\n    <CodeMirror\n      visibleEditor={visibleEditor}\n      {...codemirrorProps}\n      ref={codeMirror}\n      onChange={(editor, data) => {\n        setValue(editor.getValue());\n        onChange && onChange(editor, data, editor.getValue())\n      }}\n    />\n  ), [visibleEditor, codemirrorProps])\n  return (\n    <div ref={container}>\n      <div className={`${prefixCls || ''} ${className || ''}`}>\n        <ToolBar {...toolBarProps} toolbars={toolbarsMode} mode />\n        <ToolBar {...toolBarProps} toolbars={toolbars} />\n        <div className={`${prefixCls}-content`}>\n          <div className={`${prefixCls}-content-editor`} ref={containerEditor}>\n            {visibleEditor && codeEditor}\n          </div>\n          <MarkdownPreview\n            {...previewProps}\n            data-visible={!!visible}\n            className={`${prefixCls}-preview`}\n            ref={(instance) => {\n              if(instance && instance.mdp) {\n                previewContainer.current = instance.mdp.current\n              }\n            }}\n            source={value}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { ICommand } from './'\n\nexport const bold: ICommand = {\n  name: 'bold',\n  keyCommand: 'bold',\n  button: { 'aria-label': 'Add bold text' },\n  icon: (\n    <svg width=\"13\" height=\"13\" viewBox=\"0 0 384 512\">\n      <path fill=\"currentColor\" d=\"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `**${selection}**` : `****`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const italic: ICommand = {\n  name: 'italic',\n  keyCommand: 'italic',\n  button: { 'aria-label': 'Add italic text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 320 512\">\n      <path fill=\"currentColor\" d=\"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `*${selection}*` : `**`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const header: ICommand = {\n  name: 'header',\n  keyCommand: 'header',\n  button: { 'aria-label': 'Add header text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `# ${selection}` : '# ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const strike: ICommand = {\n  name: 'strike',\n  keyCommand: 'strike',\n  button: { 'aria-label': 'Add strike text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `~~${selection}~~` : '~~~~';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const underline: ICommand = {\n  name: 'underline',\n  keyCommand: 'underline',\n  button: { 'aria-label': 'Add underline text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M10 17c3.3 0 6-2.7 6-6V3.5c0-.8-.7-1.5-1.5-1.5S13 2.7 13 3.5V11c0 1.7-1.3 3-3 3s-3-1.3-3-3V3.5C7 2.7 6.3 2 5.5 2S4 2.7 4 3.5V11c0 3.3 2.7 6 6 6zM16.5 19h-13c-.3 0-.5.2-.5.5s.2.5.5.5h13c.3 0 .5-.2.5-.5s-.2-.5-.5-.5z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `<u>${selection}</u>` : '<u></u>';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const olist: ICommand = {\n  name: 'olist',\n  keyCommand: 'olist',\n  button: { 'aria-label': 'Add olist text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M12 2h20v4h-20v-4zM12 14h20v4h-20v-4zM12 26h20v4h-20v-4zM0 4c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 16c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 28c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- ${selection}` : '- ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const ulist: ICommand = {\n  name: 'ulist',\n  keyCommand: 'ulist',\n  button: { 'aria-label': 'Add ulist text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `1. ${selection}` : '1. ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const link: ICommand = {\n  name: 'link',\n  keyCommand: 'link',\n  button: { 'aria-label': 'Add link text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = '[连接说明](连接地址 \"连接标题\")';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const todo: ICommand = {\n  name: 'todo',\n  keyCommand: 'todo',\n  button: { 'aria-label': 'Add todo List' },\n  icon: (\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M224 800.256L223.712 224H320v31.68c0 35.456 28.64 64.32 63.872 64.32h256.256A64.16 64.16 0 0 0 704 255.68V224l96-0.256L800.256 800 224 800.256zM640 192.32L640.128 256 384 255.68V192.32L383.872 192 640 192.32zM799.84 160H695.04c-11.072-19.04-31.424-32-54.912-32h-256.256c-23.488 0-43.808 12.928-54.912 32H223.712A63.776 63.776 0 0 0 160 223.744v576.512C160 835.392 188.608 864 223.744 864h576.512A63.84 63.84 0 0 0 864 800.256V223.744A64 64 0 0 0 799.84 160zM619.072 429.088l-151.744 165.888-62.112-69.6a32 32 0 1 0-47.744 42.624l85.696 96a32 32 0 0 0 23.68 10.688h0.192c8.96 0 17.536-3.776 23.616-10.4l175.648-192a32 32 0 0 0-47.232-43.2\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- [ ] ${selection}` : '- [ ] ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 6;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const image: ICommand = {\n  name: 'image',\n  keyCommand: 'image',\n  button: { 'aria-label': 'Add image text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `${selection} ![](图片地址 \"图片描述\")` : '![图片描述](图片地址 \"图片描述\")\\n';\n    editor.replaceSelection(value);\n    // position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null | undefined;\n  container?: HTMLDivElement | null | undefined;\n  editor?: CodeMirror.Editor;\n}\n\nconst Fullscreen: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { container, preview, editor } } = props;\n  const [full, setFull] = useState(false);\n  const initEditorHeight = useRef(0);\n  const containerRef = useRef<HTMLDivElement | null>();\n  const editorRef = useRef<CodeMirror.Editor>();\n  function handleResize() {\n    if (containerRef.current && editorRef.current) {\n      editorRef.current.setSize('initial', containerRef.current.clientHeight - 35);\n    }\n  }\n  useEffect(() => {\n    window && window.addEventListener('resize', handleResize, true);\n    return () => {\n      window && window.removeEventListener('resize', handleResize, true);\n    }\n  }, []);\n  useEffect(() => {\n    if (editor) {\n      editorRef.current = editor;\n      const { clientHeight } = editor.getScrollInfo();\n      initEditorHeight.current = clientHeight;\n    }\n  }, [editor]);\n  useEffect(() => {\n    if (!document) return;\n    containerRef.current = container\n    document.body.style.overflow = full ? 'hidden' : 'initial';\n    if (container && full) {\n      container.style.zIndex = '999';\n      container.style.position = 'fixed';\n      container.style.top = '0px';\n      container.style.bottom = '0px';\n      container.style.left = '0px';\n      container.style.right = '0px';\n      editor!.setSize('initial', container.clientHeight - 35);\n    } else if (container) {\n      container.style.position = 'initial';\n      container.style.top = 'initial';\n      container.style.bottom = 'initial';\n      container.style.left = 'initial';\n      container.style.right = 'initial';\n      editor!.setSize('initial', initEditorHeight.current);\n    }\n  }, [full, container, preview]);\n  return (\n    <button\n      onClick={() => setFull(!full)}\n      type=\"button\"\n      className={full ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  );\n}\n\nexport const fullscreen: ICommand = {\n  name: 'fullscreen',\n  keyCommand: 'fullscreen',\n  button: (command, props, opts) => <Fullscreen command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M189.75 428.89a36.87 36.87 0 0 0 36.84-36.85V228.12h164a36.85 36.85 0 1 0 0-73.7H189.75a36.82 36.82 0 0 0-36.8 36.85v200.8a36.83 36.83 0 0 0 36.8 36.82zM834.26 595.06a36.82 36.82 0 0 0-36.8 36.84v164H633.41a36.85 36.85 0 0 0 0 73.7h200.85a36.87 36.87 0 0 0 36.84-36.85V631.9a36.86 36.86 0 0 0-36.84-36.84zM797.46 228.12v179.31a36.82 36.82 0 1 0 73.64 0V191.24a36.86 36.86 0 0 0-36.84-36.85H602.33a36.85 36.85 0 0 0 0 73.7zM421.62 795.9H226.54V616.56a36.82 36.82 0 1 0-73.64 0v216.19a36.83 36.83 0 0 0 36.85 36.85h231.87a36.85 36.85 0 0 0 0-73.7z\" />\n      <path fill=\"currentColor\" d=\"M306.5 307.94m32.95 0l345.1 0q32.95 0 32.95 32.95l0 342.22q0 32.95-32.95 32.95l-345.1 0q-32.95 0-32.95-32.95l0-342.22q0-32.95 32.95-32.95Z\" />\n    </svg>\n  ),\n};","import React, { useEffect, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  editor?: CodeMirror.Editor;\n}\n\nconst Preview: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { preview, containerEditor } } = props;\n  const [visible, setVisible] = useState(props.editorProps.visible);\n  useEffect(() => {\n    setVisible(props.editorProps.visible);\n  }, [props.editorProps.visible]);\n\n  useEffect(() => {\n    if (preview) {\n      preview.style.borderBottomRightRadius = '3px';\n    }\n    if (preview && visible) {\n      preview.style.width = '50%';\n      preview.style.overflow = 'auto';\n      preview.style.borderLeft = '1px solid #dfdfe0';\n      preview.style.padding = '20px';\n      if (containerEditor) {\n        containerEditor.style.width = '50%'\n      }\n    } else if (preview) {\n      preview.style.width = '0%';\n      preview.style.overflow = 'hidden';\n      preview.style.borderLeft = '0px';\n      preview.style.padding = '0';\n      if (containerEditor) {\n        containerEditor.style.width = '100%'\n      }\n    }\n  }, [preview, containerEditor, visible]);\n\n  return (\n    <button\n      onClick={() => setVisible(!visible)}\n      type=\"button\"\n      className={visible ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  )\n}\n\nexport const preview: ICommand = {\n  name: 'preview',\n  keyCommand: 'preview',\n  button: (command, props, opts) => <Preview command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M0 16c3.037-5.864 9.058-9.802 16-9.802s12.963 3.938 15.953 9.703l0.047 0.1c-3.037 5.864-9.058 9.802-16 9.802s-12.963-3.938-15.953-9.703l-0.047-0.1zM16 22.531c3.607 0 6.531-2.924 6.531-6.531s-2.924-6.531-6.531-6.531v0c-3.607 0-6.531 2.924-6.531 6.531s2.924 6.531 6.531 6.531v0zM16 19.265c-1.804 0-3.265-1.461-3.265-3.265s1.461-3.265 3.265-3.265v0c1.804 0 3.265 1.461 3.265 3.265s-1.461 3.265-3.265 3.265v0z\" />\n    </svg>\n  ),\n};","import { Editor, Position } from 'codemirror';\nimport { bold } from './bold';\nimport { italic } from './italic';\nimport { header } from './header';\nimport { strike } from './strike';\nimport { underline } from './underline';\nimport { olist } from './olist';\nimport { ulist } from './ulist';\nimport { link } from './link';\nimport { todo } from './todo';\nimport { image } from './image';\nimport { fullscreen } from './fullscreen';\nimport { preview } from './preview';\nimport { IMarkdownEditor } from '../';\n\nexport type ButtonHandle = (command: ICommand, props: IMarkdownEditor, options: {\n  preview?: HTMLDivElement | null,\n  container?: HTMLDivElement | null,\n  containerEditor?: HTMLDivElement | null;\n  editor?: Editor;\n}) => JSX.Element\n\nexport type ICommand = {\n  icon?: React.ReactElement;\n  name?: string;\n  keyCommand?: string;\n  button?: ButtonHandle | React.ButtonHTMLAttributes<HTMLButtonElement>;\n  execute?: (editor: Editor, selection: string, position: Position, opts: {\n    preview?: HTMLDivElement | null,\n    container?: HTMLDivElement | null,\n  }) => void;\n}\n\nexport const defaultCommands = { bold, italic, header, strike, underline, olist, ulist, link, todo, image, fullscreen, preview }\n\nexport const getCommands: () => ICommand[] = () => \n  Object.keys(defaultCommands).filter(key => !/^(fullscreen|preview)/.test(key))\n    .map((key) => defaultCommands[key as (keyof (typeof defaultCommands))]);\n\nexport const getModeCommands: () => ICommand[] = () => [preview, fullscreen];","import * as React from \"react\";\nimport CodeMirror from 'codemirror';\nimport './index.less';\nimport { ICommand, defaultCommands } from '../../commands';\nimport { IMarkdownEditor } from '../../';\n\nexport type IToolBarProps<T = (keyof (typeof defaultCommands)) | ICommand> = {\n  className?: string;\n  editorProps: IMarkdownEditor;\n  mode?: boolean;\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  prefixCls?: string;\n  editor?: CodeMirror.Editor;\n  toolbars?: T[];\n  onClick?: (type: string) => void;\n}\n\nexport default function ToolBar(props: IToolBarProps) {\n  const { prefixCls = 'md-editor', className, onClick, toolbars = [], editor, mode, preview, container, containerEditor, editorProps = {}, ...htmlProps } = props;\n  if (!toolbars || toolbars.length === 0) return null;\n  function handleClick(execute: ICommand['execute']) {\n    if (execute && editor) {\n      execute(editor, editor.getSelection(), editor.getCursor(), { preview, container });\n    }\n  }\n  return (\n    <div className={`${prefixCls}-toolbar ${className || ''} ${mode ? `${prefixCls}-toolbar-mode` : ''}`} {...htmlProps}>\n      {[...toolbars].map((command, key) => {\n        let buttonProps: React.ButtonHTMLAttributes<HTMLButtonElement> = {\n          type: 'button',\n        }\n        const obj = typeof command === 'string' ? defaultCommands[command] : command;\n        if (!obj) return;\n        buttonProps.children = obj.icon;\n        buttonProps.onClick = () => handleClick(obj.execute);\n        if (obj.button && typeof obj.button === 'object') {\n          const btn: React.ButtonHTMLAttributes<HTMLButtonElement> = obj.button;\n          (Object.keys(btn) as (keyof React.ButtonHTMLAttributes<HTMLButtonElement>)[]).forEach((key) => {\n            buttonProps[key] = btn[key];\n          });\n        } else if (typeof obj.button === 'function') {\n          return React.cloneElement(obj.button(obj, editorProps, { preview, container, containerEditor, editor }), { key });\n        }\n\n        return (\n          <button {...buttonProps} key={key} />\n        );\n      })}\n    </div>\n  );\n\n}\n","/**!\n * Sortable 1.13.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.13.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","import * as CodeMirror from 'codemirror';\nimport 'codemirror/mode/markdown/markdown';\nimport React, { Component } from 'react';\nimport { DomEvent, IDefineModeOptions, IEventDict, IGetSelectionOptions, IInstance, ISetScrollOptions, ISetSelectionOptions } from '../../common/codemirror';\nimport './codemirror.less';\nimport './index.less';\n\ndeclare let global: any;\ndeclare let require: any;\n\nconst SERVER_RENDERED = (typeof navigator === 'undefined' || global.PREVENT_CODEMIRROR_RENDER === true);\n\nlet cm: any;\nif (!SERVER_RENDERED) {\n  // tslint:disable-next-line: no-var-requires\n  cm = require('codemirror');\n}\n\nexport interface ICodeMirror {\n  value?: string,\n  width?: number | string,\n  height?: number | string,\n  className?: string;\n  cursor?: CodeMirror.Position;\n  defineMode?: IDefineModeOptions;\n  editorDidConfigure?: (editor: IInstance) => void;\n  editorDidMount?: (editor: IInstance, value: string, cb: () => void) => void;\n  editorWillMount?: () => void;\n  editorWillUnmount?: (lib: any) => void;\n  onClear?: (from: CodeMirror.Position, to: CodeMirror.Position) => void;\n  onBlur?: DomEvent;\n  onChange?: (editor: IInstance, data: CodeMirror.EditorChange, value: string) => void;\n  onContextMenu?: DomEvent;\n  onCopy?: DomEvent;\n  onCursor?: (editor: IInstance, data: CodeMirror.Position) => void;\n  onCut?: DomEvent;\n  onCursorActivity?: (editor: IInstance) => void;\n  onDblClick?: DomEvent;\n  onDragEnter?: DomEvent;\n  onDragLeave?: DomEvent;\n  onDragOver?: DomEvent\n  onDragStart?: DomEvent;\n  onDrop?: DomEvent;\n  onFocus?: DomEvent\n  onGutterClick?: (editor: IInstance, lineNumber: number, gutter: string, event: Event) => void;\n  onKeyDown?: DomEvent;\n  onKeyPress?: DomEvent;\n  onKeyUp?: DomEvent;\n  onMouseDown?: DomEvent;\n  onPaste?: DomEvent;\n  onRenderLine?: (editor: IInstance, line: CodeMirror.LineHandle, element: HTMLElement) => void;\n  onScroll?: (editor: IInstance, data: CodeMirror.ScrollInfo) => void;\n  onSelection?: (editor: IInstance, data: IGetSelectionOptions) => void;\n  onTouchStart?: DomEvent;\n  onUpdate?: (editor: IInstance) => void;\n  onViewportChange?: (editor: IInstance, start: number, end: number) => void;\n  options?: CodeMirror.EditorConfiguration\n  selection?: { ranges: ISetSelectionOptions[], focus?: boolean };\n  scroll?: ISetScrollOptions;\n  [key: string]: any,\n}\n\nexport interface ICodeMirrorState {\n  value: string;\n}\n\nexport default class ReactCodeMirror extends Component<ICodeMirror, ICodeMirrorState> {\n  public static defaultProps: ICodeMirror = {\n    height: '100%',\n    options: {\n      lineNumbers: true,\n      mode: 'markdown',\n      tabSize: 2,\n    },\n    value: '',\n    width: '100%',\n  }\n  public textarea!: HTMLTextAreaElement;\n  public editor!: CodeMirror.Editor;\n  // public editor!: Doc | Editor | EditorFromTextArea | Editor;\n  public constructor(props: Readonly<ICodeMirror>) {\n    super(props);\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    if (this.props.editorWillMount) {\n      this.props.editorWillMount();\n    }\n  }\n  public render() {\n    return (\n      <textarea ref={(instance: HTMLTextAreaElement) => this.textarea = instance} />\n    );\n  }\n\n  public componentDidMount() {\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    const { options } = this.props;\n    if (this.props.defineMode) {\n      if (this.props.defineMode.name && this.props.defineMode.fn) {\n        cm.defineMode(this.props.defineMode.name, this.props.defineMode.fn);\n      }\n    }\n\n    const editorOption = { tabSize: 2, lineNumbers: true, ...options, mode: 'markdown' };\n    // 生成codemirror实例\n    this.editor = cm.fromTextArea(this.textarea, editorOption) as CodeMirror.EditorFromTextArea;\n    this.renderCodeMirror(this.props);\n  }\n\n  componentDidUpdate(prevProps: ICodeMirror) {\n    const { value, width, height } = this.props;\n    if (this.editor.getValue() !== value && value !== prevProps.value) {\n      this.editor.setValue(value || '');\n    }\n    if (width !== prevProps.width || height !== prevProps.height) {\n      // Setting Size\n      this.editor.setSize(width, height);\n    }\n  }\n\n  public shouldComponentUpdate(nextProps: ICodeMirror, nextState: ICodeMirrorState) {\n    return nextProps.value !== this.props.value \n    || nextProps.options !== this.props.options\n    || nextProps.height !== this.props.height\n    || nextProps.width !== this.props.width;\n  }\n  // 将 props 中所有的事件处理函数映射并保存\n  public getEventHandleFromProps(): IEventDict {\n    const propNames = Object.keys(this.props);\n    const eventHandle = propNames.filter((prop) => {\n      return /^on+/.test(prop);\n    });\n\n    const eventDict: IEventDict = {};\n    eventHandle.forEach((ele) => {\n      eventDict[ele] = ele.replace(/^on[A-Z]/g, s => s.slice(2).toLowerCase()) as string;\n    });\n\n    return eventDict;\n  }\n\n  private renderCodeMirror(props: ICodeMirror) {\n    const { value, width, height } = props;\n    // 获取CodeMirror用于获取其中的一些常量\n    // 事件处理映射\n    const eventDict = this.getEventHandleFromProps();\n    Object.keys(eventDict).forEach((event: string) => {\n      const handle = this.props[event];\n      this.editor.on(eventDict[event], handle);\n    });\n    // Init value\n    this.editor.setValue(value || '');\n    // this.editor.setOption(name, editorOption.mode);\n\n    if (width || height) {\n      // Setting size\n      this.editor.setSize(width, height);\n    }\n  }\n}","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","'use strict';\n\nvar xtend = require('xtend');\n\nvar unified = require('unified');\n\nvar parse = require('remark-parse');\n\nvar PropTypes = require('prop-types');\n\nvar addListMetadata = require('mdast-add-list-metadata');\n\nvar naiveHtml = require('./plugins/naive-html');\n\nvar disallowNode = require('./plugins/disallow-node');\n\nvar astToReact = require('./ast-to-react');\n\nvar wrapTableRows = require('./wrap-table-rows');\n\nvar getDefinitions = require('./get-definitions');\n\nvar uriTransformer = require('./uri-transformer');\n\nvar defaultRenderers = require('./renderers');\n\nvar symbols = require('./symbols');\n\nvar allTypes = Object.keys(defaultRenderers);\n\nvar ReactMarkdown = function ReactMarkdown(props) {\n  // To do in next major: remove `source`.\n  var src = props.source || props.children || '';\n\n  if (props.allowedTypes && props.disallowedTypes) {\n    throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');\n  }\n\n  var renderers = xtend(defaultRenderers, props.renderers);\n  var processor = unified().use(parse).use(props.plugins || []); // eslint-disable-next-line no-sync\n\n  var tree = processor.runSync(processor.parse(src));\n  var renderProps = xtend(props, {\n    renderers: renderers,\n    definitions: getDefinitions(tree)\n  });\n  determineAstToReactTransforms(props).forEach(function (transform) {\n    tree = transform(tree, renderProps);\n  });\n  return tree;\n};\n\nfunction determineAstToReactTransforms(props) {\n  var transforms = [wrapTableRows, addListMetadata()];\n  var disallowedTypes = props.disallowedTypes;\n\n  if (props.allowedTypes) {\n    disallowedTypes = allTypes.filter(function (type) {\n      return type !== 'root' && props.allowedTypes.indexOf(type) === -1;\n    });\n  }\n\n  var removalMethod = props.unwrapDisallowed ? 'unwrap' : 'remove';\n\n  if (disallowedTypes && disallowedTypes.length > 0) {\n    transforms.push(disallowNode.ofType(disallowedTypes, removalMethod));\n  }\n\n  if (props.allowNode) {\n    transforms.push(disallowNode.ifNotMatch(props.allowNode, removalMethod));\n  } // To do in next major: remove `escapeHtml`.\n\n\n  var renderHtml = (props.allowDangerousHtml || props.escapeHtml === false) && !props.skipHtml;\n  var hasHtmlParser = (props.astPlugins || []).some(function (transform) {\n    return transform.identity === symbols.HtmlParser;\n  });\n\n  if (renderHtml && !hasHtmlParser) {\n    transforms.push(naiveHtml);\n  }\n\n  if (props.astPlugins) {\n    transforms = transforms.concat(props.astPlugins);\n  } // Add the final transform to turn everything into React.\n\n\n  transforms.push(astToReact);\n  return transforms;\n}\n\nReactMarkdown.defaultProps = {\n  transformLinkUri: uriTransformer\n};\nReactMarkdown.propTypes = {\n  className: PropTypes.string,\n  source: PropTypes.string,\n  children: PropTypes.string,\n  sourcePos: PropTypes.bool,\n  rawSourcePos: PropTypes.bool,\n  escapeHtml: PropTypes.bool,\n  allowDangerousHtml: PropTypes.bool,\n  skipHtml: PropTypes.bool,\n  allowNode: PropTypes.func,\n  allowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  disallowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  transformLinkUri: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  linkTarget: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transformImageUri: PropTypes.func,\n  astPlugins: PropTypes.arrayOf(PropTypes.func),\n  unwrapDisallowed: PropTypes.bool,\n  renderers: PropTypes.object,\n  plugins: PropTypes.array\n};\nReactMarkdown.types = allTypes;\nReactMarkdown.renderers = defaultRenderers;\nReactMarkdown.uriTransformer = uriTransformer;\nmodule.exports = ReactMarkdown;","'use strict'\n\nvar bail = require('bail')\nvar buffer = require('is-buffer')\nvar extend = require('extend')\nvar plain = require('is-plain-obj')\nvar trough = require('trough')\nvar vfile = require('vfile')\n\n// Expose a frozen processor.\nmodule.exports = unified().freeze()\n\nvar slice = [].slice\nvar own = {}.hasOwnProperty\n\n// Process pipeline.\nvar pipeline = trough()\n  .use(pipelineParse)\n  .use(pipelineRun)\n  .use(pipelineStringify)\n\nfunction pipelineParse(p, ctx) {\n  ctx.tree = p.parse(ctx.file)\n}\n\nfunction pipelineRun(p, ctx, next) {\n  p.run(ctx.tree, ctx.file, done)\n\n  function done(error, tree, file) {\n    if (error) {\n      next(error)\n    } else {\n      ctx.tree = tree\n      ctx.file = file\n      next()\n    }\n  }\n}\n\nfunction pipelineStringify(p, ctx) {\n  var result = p.stringify(ctx.tree, ctx.file)\n\n  if (result === undefined || result === null) {\n    // Empty.\n  } else if (typeof result === 'string' || buffer(result)) {\n    ctx.file.contents = result\n  } else {\n    ctx.file.result = result\n  }\n}\n\n// Function to create the first processor.\nfunction unified() {\n  var attachers = []\n  var transformers = trough()\n  var namespace = {}\n  var freezeIndex = -1\n  var frozen\n\n  // Data management.\n  processor.data = data\n\n  // Lock.\n  processor.freeze = freeze\n\n  // Plugins.\n  processor.attachers = attachers\n  processor.use = use\n\n  // API.\n  processor.parse = parse\n  processor.stringify = stringify\n  processor.run = run\n  processor.runSync = runSync\n  processor.process = process\n  processor.processSync = processSync\n\n  // Expose.\n  return processor\n\n  // Create a new processor based on the processor in the current scope.\n  function processor() {\n    var destination = unified()\n    var index = -1\n\n    while (++index < attachers.length) {\n      destination.use.apply(null, attachers[index])\n    }\n\n    destination.data(extend(true, {}, namespace))\n\n    return destination\n  }\n\n  // Freeze: used to signal a processor that has finished configuration.\n  //\n  // For example, take unified itself: it’s frozen.\n  // Plugins should not be added to it.\n  // Rather, it should be extended, by invoking it, before modifying it.\n  //\n  // In essence, always invoke this when exporting a processor.\n  function freeze() {\n    var values\n    var transformer\n\n    if (frozen) {\n      return processor\n    }\n\n    while (++freezeIndex < attachers.length) {\n      values = attachers[freezeIndex]\n\n      if (values[1] === false) {\n        continue\n      }\n\n      if (values[1] === true) {\n        values[1] = undefined\n      }\n\n      transformer = values[0].apply(processor, values.slice(1))\n\n      if (typeof transformer === 'function') {\n        transformers.use(transformer)\n      }\n    }\n\n    frozen = true\n    freezeIndex = Infinity\n\n    return processor\n  }\n\n  // Data management.\n  // Getter / setter for processor-specific informtion.\n  function data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', frozen)\n        namespace[key] = value\n        return processor\n      }\n\n      // Get `key`.\n      return (own.call(namespace, key) && namespace[key]) || null\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', frozen)\n      namespace = key\n      return processor\n    }\n\n    // Get space.\n    return namespace\n  }\n\n  // Plugin management.\n  //\n  // Pass it:\n  // *   an attacher and options,\n  // *   a preset,\n  // *   a list of presets, attachers, and arguments (list of attachers and\n  //     options).\n  function use(value) {\n    var settings\n\n    assertUnfrozen('use', frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin.apply(null, arguments)\n    } else if (typeof value === 'object') {\n      if ('length' in value) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new Error('Expected usable value, not `' + value + '`')\n    }\n\n    if (settings) {\n      namespace.settings = extend(namespace.settings || {}, settings)\n    }\n\n    return processor\n\n    function addPreset(result) {\n      addList(result.plugins)\n\n      if (result.settings) {\n        settings = extend(settings || {}, result.settings)\n      }\n    }\n\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value)\n      } else if (typeof value === 'object') {\n        if ('length' in value) {\n          addPlugin.apply(null, value)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new Error('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    function addList(plugins) {\n      var index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (typeof plugins === 'object' && 'length' in plugins) {\n        while (++index < plugins.length) {\n          add(plugins[index])\n        }\n      } else {\n        throw new Error('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    function addPlugin(plugin, value) {\n      var entry = find(plugin)\n\n      if (entry) {\n        if (plain(entry[1]) && plain(value)) {\n          value = extend(true, entry[1], value)\n        }\n\n        entry[1] = value\n      } else {\n        attachers.push(slice.call(arguments))\n      }\n    }\n  }\n\n  function find(plugin) {\n    var index = -1\n\n    while (++index < attachers.length) {\n      if (attachers[index][0] === plugin) {\n        return attachers[index]\n      }\n    }\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor.\n  function parse(doc) {\n    var file = vfile(doc)\n    var Parser\n\n    freeze()\n    Parser = processor.Parser\n    assertParser('parse', Parser)\n\n    if (newable(Parser, 'parse')) {\n      return new Parser(String(file), file).parse()\n    }\n\n    return Parser(String(file), file) // eslint-disable-line new-cap\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), async.\n  function run(node, file, cb) {\n    assertNode(node)\n    freeze()\n\n    if (!cb && typeof file === 'function') {\n      cb = file\n      file = null\n    }\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      transformers.run(node, vfile(file), done)\n\n      function done(error, tree, file) {\n        tree = tree || node\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(tree)\n        } else {\n          cb(null, tree, file)\n        }\n      }\n    }\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), sync.\n  function runSync(node, file) {\n    var result\n    var complete\n\n    run(node, file, done)\n\n    assertDone('runSync', 'run', complete)\n\n    return result\n\n    function done(error, tree) {\n      complete = true\n      result = tree\n      bail(error)\n    }\n  }\n\n  // Stringify a unist node representation of a file (in string or vfile\n  // representation) into a string using the `Compiler` on the processor.\n  function stringify(node, doc) {\n    var file = vfile(doc)\n    var Compiler\n\n    freeze()\n    Compiler = processor.Compiler\n    assertCompiler('stringify', Compiler)\n    assertNode(node)\n\n    if (newable(Compiler, 'compile')) {\n      return new Compiler(node, file).compile()\n    }\n\n    return Compiler(node, file) // eslint-disable-line new-cap\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor, then run transforms on that node, and\n  // compile the resulting node using the `Compiler` on the processor, and\n  // store that result on the vfile.\n  function process(doc, cb) {\n    freeze()\n    assertParser('process', processor.Parser)\n    assertCompiler('process', processor.Compiler)\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      var file = vfile(doc)\n\n      pipeline.run(processor, {file: file}, done)\n\n      function done(error) {\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          cb(null, file)\n        }\n      }\n    }\n  }\n\n  // Process the given document (in string or vfile representation), sync.\n  function processSync(doc) {\n    var file\n    var complete\n\n    freeze()\n    assertParser('processSync', processor.Parser)\n    assertCompiler('processSync', processor.Compiler)\n    file = vfile(doc)\n\n    process(file, done)\n\n    assertDone('processSync', 'process', complete)\n\n    return file\n\n    function done(error) {\n      complete = true\n      bail(error)\n    }\n  }\n}\n\n// Check if `value` is a constructor.\nfunction newable(value, name) {\n  return (\n    typeof value === 'function' &&\n    value.prototype &&\n    // A function with keys in its prototype is probably a constructor.\n    // Classes’ prototype methods are not enumerable, so we check if some value\n    // exists in the prototype.\n    (keys(value.prototype) || name in value.prototype)\n  )\n}\n\n// Check if `value` is an object with keys.\nfunction keys(value) {\n  var key\n  for (key in value) {\n    return true\n  }\n\n  return false\n}\n\n// Assert a parser is available.\nfunction assertParser(name, Parser) {\n  if (typeof Parser !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Parser`')\n  }\n}\n\n// Assert a compiler is available.\nfunction assertCompiler(name, Compiler) {\n  if (typeof Compiler !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Compiler`')\n  }\n}\n\n// Assert the processor is not frozen.\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot invoke `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n// Assert `node` is a unist node.\nfunction assertNode(node) {\n  if (!node || typeof node.type !== 'string') {\n    throw new Error('Expected node, got `' + node + '`')\n  }\n}\n\n// Assert that `complete` is `true`.\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = bail\n\nfunction bail(err) {\n  if (err) {\n    throw err\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict'\n\nvar wrap = require('./wrap.js')\n\nmodule.exports = trough\n\ntrough.wrap = wrap\n\nvar slice = [].slice\n\n// Create new middleware.\nfunction trough() {\n  var fns = []\n  var middleware = {}\n\n  middleware.run = run\n  middleware.use = use\n\n  return middleware\n\n  // Run `fns`.  Last argument must be a completion handler.\n  function run() {\n    var index = -1\n    var input = slice.call(arguments, 0, -1)\n    var done = arguments[arguments.length - 1]\n\n    if (typeof done !== 'function') {\n      throw new Error('Expected function as last argument, not ' + done)\n    }\n\n    next.apply(null, [null].concat(input))\n\n    // Run the next `fn`, if any.\n    function next(err) {\n      var fn = fns[++index]\n      var params = slice.call(arguments, 0)\n      var values = params.slice(1)\n      var length = input.length\n      var pos = -1\n\n      if (err) {\n        done(err)\n        return\n      }\n\n      // Copy non-nully input into values.\n      while (++pos < length) {\n        if (values[pos] === null || values[pos] === undefined) {\n          values[pos] = input[pos]\n        }\n      }\n\n      input = values\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next).apply(null, input)\n      } else {\n        done.apply(null, [null].concat(input))\n      }\n    }\n  }\n\n  // Add `fn` to the list.\n  function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected `fn` to be a function, not ' + fn)\n    }\n\n    fns.push(fn)\n\n    return middleware\n  }\n}\n","'use strict'\n\nvar slice = [].slice\n\nmodule.exports = wrap\n\n// Wrap `fn`.\n// Can be sync or async; return a promise, receive a completion handler, return\n// new values and errors.\nfunction wrap(fn, callback) {\n  var invoked\n\n  return wrapped\n\n  function wrapped() {\n    var params = slice.call(arguments, 0)\n    var callback = fn.length > params.length\n    var result\n\n    if (callback) {\n      params.push(done)\n    }\n\n    try {\n      result = fn.apply(null, params)\n    } catch (error) {\n      // Well, this is quite the pickle.\n      // `fn` received a callback and invoked it (thus continuing the pipeline),\n      // but later also threw an error.\n      // We’re not about to restart the pipeline again, so the only thing left\n      // to do is to throw the thing instead.\n      if (callback && invoked) {\n        throw error\n      }\n\n      return done(error)\n    }\n\n    if (!callback) {\n      if (result && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  // Invoke `next`, only once.\n  function done() {\n    if (!invoked) {\n      invoked = true\n\n      callback.apply(null, arguments)\n    }\n  }\n\n  // Invoke `done` with one value.\n  // Tracks if an error is passed, too.\n  function then(value) {\n    done(null, value)\n  }\n}\n","'use strict'\n\nmodule.exports = require('./lib')\n","'use strict'\n\nvar VMessage = require('vfile-message')\nvar VFile = require('./core.js')\n\nmodule.exports = VFile\n\nVFile.prototype.message = message\nVFile.prototype.info = info\nVFile.prototype.fail = fail\n\n// Create a message with `reason` at `position`.\n// When an error is passed in as `reason`, copies the stack.\nfunction message(reason, position, origin) {\n  var message = new VMessage(reason, position, origin)\n\n  if (this.path) {\n    message.name = this.path + ':' + message.name\n    message.file = this.path\n  }\n\n  message.fatal = false\n\n  this.messages.push(message)\n\n  return message\n}\n\n// Fail: creates a vmessage, associates it with the file, and throws it.\nfunction fail() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = true\n\n  throw message\n}\n\n// Info: creates a vmessage, associates it with the file, and marks the fatality\n// as null.\nfunction info() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = null\n\n  return message\n}\n","'use strict'\n\nvar stringify = require('unist-util-stringify-position')\n\nmodule.exports = VMessage\n\n// Inherit from `Error#`.\nfunction VMessagePrototype() {}\nVMessagePrototype.prototype = Error.prototype\nVMessage.prototype = new VMessagePrototype()\n\n// Message properties.\nvar proto = VMessage.prototype\n\nproto.file = ''\nproto.name = ''\nproto.reason = ''\nproto.message = ''\nproto.stack = ''\nproto.fatal = null\nproto.column = null\nproto.line = null\n\n// Construct a new VMessage.\n//\n// Note: We cannot invoke `Error` on the created context, as that adds readonly\n// `line` and `column` attributes on Safari 9, thus throwing and failing the\n// data.\nfunction VMessage(reason, position, origin) {\n  var parts\n  var range\n  var location\n\n  if (typeof position === 'string') {\n    origin = position\n    position = null\n  }\n\n  parts = parseOrigin(origin)\n  range = stringify(position) || '1:1'\n\n  location = {\n    start: {line: null, column: null},\n    end: {line: null, column: null}\n  }\n\n  // Node.\n  if (position && position.position) {\n    position = position.position\n  }\n\n  if (position) {\n    // Position.\n    if (position.start) {\n      location = position\n      position = position.start\n    } else {\n      // Point.\n      location.start = position\n    }\n  }\n\n  if (reason.stack) {\n    this.stack = reason.stack\n    reason = reason.message\n  }\n\n  this.message = reason\n  this.name = range\n  this.reason = reason\n  this.line = position ? position.line : null\n  this.column = position ? position.column : null\n  this.location = location\n  this.source = parts[0]\n  this.ruleId = parts[1]\n}\n\nfunction parseOrigin(origin) {\n  var result = [null, null]\n  var index\n\n  if (typeof origin === 'string') {\n    index = origin.indexOf(':')\n\n    if (index === -1) {\n      result[1] = origin\n    } else {\n      result[0] = origin.slice(0, index)\n      result[1] = origin.slice(index + 1)\n    }\n  }\n\n  return result\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","'use strict'\n\nvar p = require('./minpath')\nvar proc = require('./minproc')\nvar buffer = require('is-buffer')\n\nmodule.exports = VFile\n\nvar own = {}.hasOwnProperty\n\n// Order of setting (least specific to most), we need this because otherwise\n// `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n// stem can be set.\nvar order = ['history', 'path', 'basename', 'stem', 'extname', 'dirname']\n\nVFile.prototype.toString = toString\n\n// Access full path (`~/index.min.js`).\nObject.defineProperty(VFile.prototype, 'path', {get: getPath, set: setPath})\n\n// Access parent path (`~`).\nObject.defineProperty(VFile.prototype, 'dirname', {\n  get: getDirname,\n  set: setDirname\n})\n\n// Access basename (`index.min.js`).\nObject.defineProperty(VFile.prototype, 'basename', {\n  get: getBasename,\n  set: setBasename\n})\n\n// Access extname (`.js`).\nObject.defineProperty(VFile.prototype, 'extname', {\n  get: getExtname,\n  set: setExtname\n})\n\n// Access stem (`index.min`).\nObject.defineProperty(VFile.prototype, 'stem', {get: getStem, set: setStem})\n\n// Construct a new file.\nfunction VFile(options) {\n  var prop\n  var index\n\n  if (!options) {\n    options = {}\n  } else if (typeof options === 'string' || buffer(options)) {\n    options = {contents: options}\n  } else if ('message' in options && 'messages' in options) {\n    return options\n  }\n\n  if (!(this instanceof VFile)) {\n    return new VFile(options)\n  }\n\n  this.data = {}\n  this.messages = []\n  this.history = []\n  this.cwd = proc.cwd()\n\n  // Set path related properties in the correct order.\n  index = -1\n\n  while (++index < order.length) {\n    prop = order[index]\n\n    if (own.call(options, prop)) {\n      this[prop] = options[prop]\n    }\n  }\n\n  // Set non-path related properties.\n  for (prop in options) {\n    if (order.indexOf(prop) < 0) {\n      this[prop] = options[prop]\n    }\n  }\n}\n\nfunction getPath() {\n  return this.history[this.history.length - 1]\n}\n\nfunction setPath(path) {\n  assertNonEmpty(path, 'path')\n\n  if (this.path !== path) {\n    this.history.push(path)\n  }\n}\n\nfunction getDirname() {\n  return typeof this.path === 'string' ? p.dirname(this.path) : undefined\n}\n\nfunction setDirname(dirname) {\n  assertPath(this.path, 'dirname')\n  this.path = p.join(dirname || '', this.basename)\n}\n\nfunction getBasename() {\n  return typeof this.path === 'string' ? p.basename(this.path) : undefined\n}\n\nfunction setBasename(basename) {\n  assertNonEmpty(basename, 'basename')\n  assertPart(basename, 'basename')\n  this.path = p.join(this.dirname || '', basename)\n}\n\nfunction getExtname() {\n  return typeof this.path === 'string' ? p.extname(this.path) : undefined\n}\n\nfunction setExtname(extname) {\n  assertPart(extname, 'extname')\n  assertPath(this.path, 'extname')\n\n  if (extname) {\n    if (extname.charCodeAt(0) !== 46 /* `.` */) {\n      throw new Error('`extname` must start with `.`')\n    }\n\n    if (extname.indexOf('.', 1) > -1) {\n      throw new Error('`extname` cannot contain multiple dots')\n    }\n  }\n\n  this.path = p.join(this.dirname, this.stem + (extname || ''))\n}\n\nfunction getStem() {\n  return typeof this.path === 'string'\n    ? p.basename(this.path, this.extname)\n    : undefined\n}\n\nfunction setStem(stem) {\n  assertNonEmpty(stem, 'stem')\n  assertPart(stem, 'stem')\n  this.path = p.join(this.dirname || '', stem + (this.extname || ''))\n}\n\n// Get the value of the file.\nfunction toString(encoding) {\n  return (this.contents || '').toString(encoding)\n}\n\n// Assert that `part` is not a path (i.e., does not contain `p.sep`).\nfunction assertPart(part, name) {\n  if (part && part.indexOf(p.sep) > -1) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + p.sep + '`'\n    )\n  }\n}\n\n// Assert that `part` is not empty.\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n// Assert `path` exists.\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n","'use strict'\n\n// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Node’s internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexports.basename = basename\nexports.dirname = dirname\nexports.extname = extname\nexports.join = join\nexports.sep = '/'\n\nfunction basename(path, ext) {\n  var start = 0\n  var end = -1\n  var index\n  var firstNonSlashEnd\n  var seenNonSlash\n  var extIndex\n\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  index = path.length\n\n  if (ext === undefined || !ext.length || ext.length > path.length) {\n    while (index--) {\n      if (path.charCodeAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  firstNonSlashEnd = -1\n  extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.charCodeAt(index) === ext.charCodeAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\nfunction dirname(path) {\n  var end\n  var unmatchedSlash\n  var index\n\n  assertPath(path)\n\n  if (!path.length) {\n    return '.'\n  }\n\n  end = -1\n  index = path.length\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.charCodeAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.charCodeAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\nfunction extname(path) {\n  var startDot = -1\n  var startPart = 0\n  var end = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  var preDotState = 0\n  var unmatchedSlash\n  var code\n  var index\n\n  assertPath(path)\n\n  index = path.length\n\n  while (index--) {\n    code = path.charCodeAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\nfunction join() {\n  var index = -1\n  var joined\n\n  while (++index < arguments.length) {\n    assertPath(arguments[index])\n\n    if (arguments[index]) {\n      joined =\n        joined === undefined\n          ? arguments[index]\n          : joined + '/' + arguments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  var absolute\n  var value\n\n  assertPath(path)\n\n  absolute = path.charCodeAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  value = normalizeString(path, !absolute)\n\n  if (!value.length && !absolute) {\n    value = '.'\n  }\n\n  if (value.length && path.charCodeAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n// Resolve `.` and `..` elements in a path with directory names.\nfunction normalizeString(path, allowAboveRoot) {\n  var result = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var index = -1\n  var code\n  var lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.charCodeAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.charCodeAt(result.length - 1) !== 46 /* `.` */ ||\n          result.charCodeAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            /* istanbul ignore else - No clue how to cover it. */\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n","'use strict'\n\n// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I don’t think one tiny line of code can be copyrighted. 😅\nexports.cwd = cwd\n\nfunction cwd() {\n  return '/'\n}\n","'use strict'\n\nmodule.exports = parse\n\nvar fromMarkdown = require('mdast-util-from-markdown')\n\nfunction parse(options) {\n  var self = this\n\n  this.Parser = parse\n\n  function parse(doc) {\n    return fromMarkdown(\n      doc,\n      Object.assign({}, self.data('settings'), options, {\n        // Note: these options are not in the readme.\n        // The goal is for them to be set by plugins on `data` instead of being\n        // passed by users.\n        extensions: self.data('micromarkExtensions') || [],\n        mdastExtensions: self.data('fromMarkdownExtensions') || []\n      })\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = require('./dist')\n","'use strict'\n\nmodule.exports = fromMarkdown\n\n// These three are compiled away in the `dist/`\n\nvar toString = require('mdast-util-to-string')\nvar assign = require('micromark/dist/constant/assign')\nvar own = require('micromark/dist/constant/has-own-property')\nvar normalizeIdentifier = require('micromark/dist/util/normalize-identifier')\nvar safeFromInt = require('micromark/dist/util/safe-from-int')\nvar parser = require('micromark/dist/parse')\nvar preprocessor = require('micromark/dist/preprocess')\nvar postprocess = require('micromark/dist/postprocess')\nvar decode = require('parse-entities/decode-entity')\nvar stringifyPosition = require('unist-util-stringify-position')\n\nfunction fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding\n    encoding = undefined\n  }\n\n  return compiler(options)(\n    postprocess(\n      parser(options).document().write(preprocessor()(value, encoding, true))\n    )\n  )\n}\n\n// Note this compiler only understand complete buffering, not streaming.\nfunction compiler(options) {\n  var settings = options || {}\n  var config = configure(\n    {\n      transforms: [],\n      canContainEols: [\n        'emphasis',\n        'fragment',\n        'heading',\n        'paragraph',\n        'strong'\n      ],\n\n      enter: {\n        autolink: opener(link),\n        autolinkProtocol: onenterdata,\n        autolinkEmail: onenterdata,\n        atxHeading: opener(heading),\n        blockQuote: opener(blockQuote),\n        characterEscape: onenterdata,\n        characterReference: onenterdata,\n        codeFenced: opener(codeFlow),\n        codeFencedFenceInfo: buffer,\n        codeFencedFenceMeta: buffer,\n        codeIndented: opener(codeFlow, buffer),\n        codeText: opener(codeText, buffer),\n        codeTextData: onenterdata,\n        data: onenterdata,\n        codeFlowValue: onenterdata,\n        definition: opener(definition),\n        definitionDestinationString: buffer,\n        definitionLabelString: buffer,\n        definitionTitleString: buffer,\n        emphasis: opener(emphasis),\n        hardBreakEscape: opener(hardBreak),\n        hardBreakTrailing: opener(hardBreak),\n        htmlFlow: opener(html, buffer),\n        htmlFlowData: onenterdata,\n        htmlText: opener(html, buffer),\n        htmlTextData: onenterdata,\n        image: opener(image),\n        label: buffer,\n        link: opener(link),\n        listItem: opener(listItem),\n        listItemValue: onenterlistitemvalue,\n        listOrdered: opener(list, onenterlistordered),\n        listUnordered: opener(list),\n        paragraph: opener(paragraph),\n        reference: onenterreference,\n        referenceString: buffer,\n        resourceDestinationString: buffer,\n        resourceTitleString: buffer,\n        setextHeading: opener(heading),\n        strong: opener(strong),\n        thematicBreak: opener(thematicBreak)\n      },\n\n      exit: {\n        atxHeading: closer(),\n        atxHeadingSequence: onexitatxheadingsequence,\n        autolink: closer(),\n        autolinkEmail: onexitautolinkemail,\n        autolinkProtocol: onexitautolinkprotocol,\n        blockQuote: closer(),\n        characterEscapeValue: onexitdata,\n        characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n        characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n        characterReferenceValue: onexitcharacterreferencevalue,\n        codeFenced: closer(onexitcodefenced),\n        codeFencedFence: onexitcodefencedfence,\n        codeFencedFenceInfo: onexitcodefencedfenceinfo,\n        codeFencedFenceMeta: onexitcodefencedfencemeta,\n        codeFlowValue: onexitdata,\n        codeIndented: closer(onexitcodeindented),\n        codeText: closer(onexitcodetext),\n        codeTextData: onexitdata,\n        data: onexitdata,\n        definition: closer(),\n        definitionDestinationString: onexitdefinitiondestinationstring,\n        definitionLabelString: onexitdefinitionlabelstring,\n        definitionTitleString: onexitdefinitiontitlestring,\n        emphasis: closer(),\n        hardBreakEscape: closer(onexithardbreak),\n        hardBreakTrailing: closer(onexithardbreak),\n        htmlFlow: closer(onexithtmlflow),\n        htmlFlowData: onexitdata,\n        htmlText: closer(onexithtmltext),\n        htmlTextData: onexitdata,\n        image: closer(onexitimage),\n        label: onexitlabel,\n        labelText: onexitlabeltext,\n        lineEnding: onexitlineending,\n        link: closer(onexitlink),\n        listItem: closer(),\n        listOrdered: closer(),\n        listUnordered: closer(),\n        paragraph: closer(),\n        referenceString: onexitreferencestring,\n        resourceDestinationString: onexitresourcedestinationstring,\n        resourceTitleString: onexitresourcetitlestring,\n        resource: onexitresource,\n        setextHeading: closer(onexitsetextheading),\n        setextHeadingLineSequence: onexitsetextheadinglinesequence,\n        setextHeadingText: onexitsetextheadingtext,\n        strong: closer(),\n        thematicBreak: closer()\n      }\n    },\n\n    settings.mdastExtensions || []\n  )\n\n  var data = {}\n\n  return compile\n\n  function compile(events) {\n    var tree = {type: 'root', children: []}\n    var stack = [tree]\n    var tokenStack = []\n    var listStack = []\n    var index = -1\n    var handler\n    var listStart\n\n    var context = {\n      stack: stack,\n      tokenStack: tokenStack,\n      config: config,\n      enter: enter,\n      exit: exit,\n      buffer: buffer,\n      resume: resume,\n      setData: setData,\n      getData: getData\n    }\n\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (\n        events[index][1].type === 'listOrdered' ||\n        events[index][1].type === 'listUnordered'\n      ) {\n        if (events[index][0] === 'enter') {\n          listStack.push(index)\n        } else {\n          listStart = listStack.pop(index)\n          index = prepareList(events, listStart, index)\n        }\n      }\n    }\n\n    index = -1\n\n    while (++index < events.length) {\n      handler = config[events[index][0]]\n\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(\n          assign({sliceSerialize: events[index][2].sliceSerialize}, context),\n          events[index][1]\n        )\n      }\n    }\n\n    if (tokenStack.length) {\n      throw new Error(\n        'Cannot close document, a token (`' +\n          tokenStack[tokenStack.length - 1].type +\n          '`, ' +\n          stringifyPosition({\n            start: tokenStack[tokenStack.length - 1].start,\n            end: tokenStack[tokenStack.length - 1].end\n          }) +\n          ') is still open'\n      )\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(\n        events.length ? events[0][1].start : {line: 1, column: 1, offset: 0}\n      ),\n\n      end: point(\n        events.length\n          ? events[events.length - 2][1].end\n          : {line: 1, column: 1, offset: 0}\n      )\n    }\n\n    index = -1\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree\n    }\n\n    return tree\n  }\n\n  function prepareList(events, start, length) {\n    var index = start - 1\n    var containerBalance = -1\n    var listSpread = false\n    var listItem\n    var tailIndex\n    var lineIndex\n    var tailEvent\n    var event\n    var firstBlankLineIndex\n    var atMarker\n\n    while (++index <= length) {\n      event = events[index]\n\n      if (\n        event[1].type === 'listUnordered' ||\n        event[1].type === 'listOrdered' ||\n        event[1].type === 'blockQuote'\n      ) {\n        if (event[0] === 'enter') {\n          containerBalance++\n        } else {\n          containerBalance--\n        }\n\n        atMarker = undefined\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (\n            listItem &&\n            !atMarker &&\n            !containerBalance &&\n            !firstBlankLineIndex\n          ) {\n            firstBlankLineIndex = index\n          }\n\n          atMarker = undefined\n        }\n      } else if (\n        event[1].type === 'linePrefix' ||\n        event[1].type === 'listItemValue' ||\n        event[1].type === 'listItemMarker' ||\n        event[1].type === 'listItemPrefix' ||\n        event[1].type === 'listItemPrefixWhitespace'\n      ) {\n        // Empty.\n      } else {\n        atMarker = undefined\n      }\n\n      if (\n        (!containerBalance &&\n          event[0] === 'enter' &&\n          event[1].type === 'listItemPrefix') ||\n        (containerBalance === -1 &&\n          event[0] === 'exit' &&\n          (event[1].type === 'listUnordered' ||\n            event[1].type === 'listOrdered'))\n      ) {\n        if (listItem) {\n          tailIndex = index\n          lineIndex = undefined\n\n          while (tailIndex--) {\n            tailEvent = events[tailIndex]\n\n            if (\n              tailEvent[1].type === 'lineEnding' ||\n              tailEvent[1].type === 'lineEndingBlank'\n            ) {\n              if (tailEvent[0] === 'exit') continue\n\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank'\n                listSpread = true\n              }\n\n              tailEvent[1].type = 'lineEnding'\n              lineIndex = tailIndex\n            } else if (\n              tailEvent[1].type === 'linePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefixWhitespace' ||\n              tailEvent[1].type === 'blockQuoteMarker' ||\n              tailEvent[1].type === 'listItemIndent'\n            ) {\n              // Empty\n            } else {\n              break\n            }\n          }\n\n          if (\n            firstBlankLineIndex &&\n            (!lineIndex || firstBlankLineIndex < lineIndex)\n          ) {\n            listItem._spread = true\n          }\n\n          // Fix position.\n          listItem.end = point(\n            lineIndex ? events[lineIndex][1].start : event[1].end\n          )\n\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]])\n          index++\n          length++\n        }\n\n        // Create a new list item.\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: point(event[1].start)\n          }\n\n          events.splice(index, 0, ['enter', listItem, event[2]])\n          index++\n          length++\n          firstBlankLineIndex = undefined\n          atMarker = true\n        }\n      }\n    }\n\n    events[start][1]._spread = listSpread\n    return length\n  }\n\n  function setData(key, value) {\n    data[key] = value\n  }\n\n  function getData(key) {\n    return data[key]\n  }\n\n  function point(d) {\n    return {line: d.line, column: d.column, offset: d.offset}\n  }\n\n  function opener(create, and) {\n    return open\n\n    function open(token) {\n      enter.call(this, create(token), token)\n      if (and) and.call(this, token)\n    }\n  }\n\n  function buffer() {\n    this.stack.push({type: 'fragment', children: []})\n  }\n\n  function enter(node, token) {\n    this.stack[this.stack.length - 1].children.push(node)\n    this.stack.push(node)\n    this.tokenStack.push(token)\n    node.position = {start: point(token.start)}\n    return node\n  }\n\n  function closer(and) {\n    return close\n\n    function close(token) {\n      if (and) and.call(this, token)\n      exit.call(this, token)\n    }\n  }\n\n  function exit(token) {\n    var node = this.stack.pop()\n    var open = this.tokenStack.pop()\n\n    if (!open) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): it’s not open'\n      )\n    } else if (open.type !== token.type) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): a different token (`' +\n          open.type +\n          '`, ' +\n          stringifyPosition({start: open.start, end: open.end}) +\n          ') is open'\n      )\n    }\n\n    node.position.end = point(token.end)\n    return node\n  }\n\n  function resume() {\n    return toString(this.stack.pop())\n  }\n\n  //\n  // Handlers.\n  //\n\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true)\n  }\n\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      this.stack[this.stack.length - 2].start = parseInt(\n        this.sliceSerialize(token),\n        10\n      )\n\n      setData('expectingFirstListItemValue')\n    }\n  }\n\n  function onexitcodefencedfenceinfo() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].lang = data\n  }\n\n  function onexitcodefencedfencemeta() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].meta = data\n  }\n\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return\n    this.buffer()\n    setData('flowCodeInside', true)\n  }\n\n  function onexitcodefenced() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data.replace(\n      /^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g,\n      ''\n    )\n\n    setData('flowCodeInside')\n  }\n\n  function onexitcodeindented() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitdefinitionlabelstring(token) {\n    // Discard label, use the source content instead.\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitdefinitiontitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitdefinitiondestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitatxheadingsequence(token) {\n    if (!this.stack[this.stack.length - 1].depth) {\n      this.stack[this.stack.length - 1].depth = this.sliceSerialize(\n        token\n      ).length\n    }\n  }\n\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true)\n  }\n\n  function onexitsetextheadinglinesequence(token) {\n    this.stack[this.stack.length - 1].depth =\n      this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2\n  }\n\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding')\n  }\n\n  function onenterdata(token) {\n    var siblings = this.stack[this.stack.length - 1].children\n    var tail = siblings[siblings.length - 1]\n\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text()\n      tail.position = {start: point(token.start)}\n      this.stack[this.stack.length - 1].children.push(tail)\n    }\n\n    this.stack.push(tail)\n  }\n\n  function onexitdata(token) {\n    var tail = this.stack.pop()\n    tail.value += this.sliceSerialize(token)\n    tail.position.end = point(token.end)\n  }\n\n  function onexitlineending(token) {\n    var context = this.stack[this.stack.length - 1]\n\n    // If we’re at a hard break, include the line ending in there.\n    if (getData('atHardBreak')) {\n      context.children[context.children.length - 1].position.end = point(\n        token.end\n      )\n\n      setData('atHardBreak')\n      return\n    }\n\n    if (\n      !getData('setextHeadingSlurpLineEnding') &&\n      config.canContainEols.indexOf(context.type) > -1\n    ) {\n      onenterdata.call(this, token)\n      onexitdata.call(this, token)\n    }\n  }\n\n  function onexithardbreak() {\n    setData('atHardBreak', true)\n  }\n\n  function onexithtmlflow() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexithtmltext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitcodetext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitlink() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitimage() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitlabeltext(token) {\n    this.stack[this.stack.length - 2].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitlabel() {\n    var fragment = this.stack[this.stack.length - 1]\n    var value = this.resume()\n\n    this.stack[this.stack.length - 1].label = value\n\n    // Assume a reference.\n    setData('inReference', true)\n\n    if (this.stack[this.stack.length - 1].type === 'link') {\n      this.stack[this.stack.length - 1].children = fragment.children\n    } else {\n      this.stack[this.stack.length - 1].alt = value\n    }\n  }\n\n  function onexitresourcedestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitresourcetitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitresource() {\n    setData('inReference')\n  }\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed')\n  }\n\n  function onexitreferencestring(token) {\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n    setData('referenceType', 'full')\n  }\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type)\n  }\n\n  function onexitcharacterreferencevalue(token) {\n    var data = this.sliceSerialize(token)\n    var type = getData('characterReferenceType')\n    var value\n    var tail\n\n    if (type) {\n      value = safeFromInt(\n        data,\n        type === 'characterReferenceMarkerNumeric' ? 10 : 16\n      )\n\n      setData('characterReferenceType')\n    } else {\n      value = decode(data)\n    }\n\n    tail = this.stack.pop()\n    tail.value += value\n    tail.position.end = point(token.end)\n  }\n\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url = this.sliceSerialize(token)\n  }\n\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url =\n      'mailto:' + this.sliceSerialize(token)\n  }\n\n  //\n  // Creaters.\n  //\n\n  function blockQuote() {\n    return {type: 'blockquote', children: []}\n  }\n\n  function codeFlow() {\n    return {type: 'code', lang: null, meta: null, value: ''}\n  }\n\n  function codeText() {\n    return {type: 'inlineCode', value: ''}\n  }\n\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    }\n  }\n\n  function emphasis() {\n    return {type: 'emphasis', children: []}\n  }\n\n  function heading() {\n    return {type: 'heading', depth: undefined, children: []}\n  }\n\n  function hardBreak() {\n    return {type: 'break'}\n  }\n\n  function html() {\n    return {type: 'html', value: ''}\n  }\n\n  function image() {\n    return {type: 'image', title: null, url: '', alt: null}\n  }\n\n  function link() {\n    return {type: 'link', title: null, url: '', children: []}\n  }\n\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    }\n  }\n\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    }\n  }\n\n  function paragraph() {\n    return {type: 'paragraph', children: []}\n  }\n\n  function strong() {\n    return {type: 'strong', children: []}\n  }\n\n  function text() {\n    return {type: 'text', value: ''}\n  }\n\n  function thematicBreak() {\n    return {type: 'thematicBreak'}\n  }\n}\n\nfunction configure(config, extensions) {\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, extension[key])\n    } else {\n      Object.assign(left, extension[key])\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = toString\n\n// Get the text content of a node.\n// Prefer the node’s plain-text fields, otherwise serialize its children,\n// and if the given value is an array, serialize the nodes in it.\nfunction toString(node) {\n  return (\n    (node &&\n      (node.value ||\n        node.alt ||\n        node.title ||\n        ('children' in node && all(node.children)) ||\n        ('length' in node && all(node)))) ||\n    ''\n  )\n}\n\nfunction all(values) {\n  var result = []\n  var index = -1\n\n  while (++index < values.length) {\n    result[index] = toString(values[index])\n  }\n\n  return result.join('')\n}\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction safeFromInt(value, base) {\n  var code = parseInt(value, base)\n\n  if (\n    // C0 except for HT, LF, FF, CR, space\n    code < 9 ||\n    code === 11 ||\n    (code > 13 && code < 32) || // Control character (DEL) of the basic block and C1 controls.\n    (code > 126 && code < 160) || // Lone high surrogates and low surrogates.\n    (code > 55295 && code < 57344) || // Noncharacters.\n    (code > 64975 && code < 65008) ||\n    (code & 65535) === 65535 ||\n    (code & 65535) === 65534 || // Out of range\n    code > 1114111\n  ) {\n    return '\\uFFFD'\n  }\n\n  return fromCharCode(code)\n}\n\nmodule.exports = safeFromInt\n","'use strict'\n\nvar content = require('./initialize/content.js')\nvar document = require('./initialize/document.js')\nvar flow = require('./initialize/flow.js')\nvar text = require('./initialize/text.js')\nvar combineExtensions = require('./util/combine-extensions.js')\nvar createTokenizer = require('./util/create-tokenizer.js')\nvar miniflat = require('./util/miniflat.js')\nvar constructs = require('./constructs.js')\n\nfunction parse(options) {\n  var settings = options || {}\n  var parser = {\n    defined: [],\n    constructs: combineExtensions(\n      [constructs].concat(miniflat(settings.extensions))\n    ),\n    content: create(content),\n    document: create(document),\n    flow: create(flow),\n    string: create(text.string),\n    text: create(text.text)\n  }\n  return parser\n\n  function create(initializer) {\n    return creator\n\n    function creator(from) {\n      return createTokenizer(parser, initializer, from)\n    }\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\n\nvar tokenize = initializeContent\n\nfunction initializeContent(effects) {\n  var contentStart = effects.attempt(\n    this.parser.constructs.contentInitial,\n    afterContentStartConstruct,\n    paragraphInitial\n  )\n  var previous\n  return contentStart\n\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, contentStart, 'linePrefix')\n  }\n\n  function paragraphInitial(code) {\n    effects.enter('paragraph')\n    return lineStart(code)\n  }\n\n  function lineStart(code) {\n    var token = effects.enter('chunkText', {\n      contentType: 'text',\n      previous: previous\n    })\n\n    if (previous) {\n      previous.next = token\n    }\n\n    previous = token\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      effects.exit('chunkText')\n      effects.exit('paragraph')\n      effects.consume(code)\n      return\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      effects.exit('chunkText')\n      return lineStart\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeDocument\nvar containerConstruct = {\n  tokenize: tokenizeContainer\n}\nvar lazyFlowConstruct = {\n  tokenize: tokenizeLazyFlow\n}\n\nfunction initializeDocument(effects) {\n  var self = this\n  var stack = []\n  var continued = 0\n  var inspectConstruct = {\n    tokenize: tokenizeInspect,\n    partial: true\n  }\n  var inspectResult\n  var childFlow\n  var childToken\n  return start\n\n  function start(code) {\n    if (continued < stack.length) {\n      self.containerState = stack[continued][1]\n      return effects.attempt(\n        stack[continued][0].continuation,\n        documentContinue,\n        documentContinued\n      )(code)\n    }\n\n    return documentContinued(code)\n  }\n\n  function documentContinue(code) {\n    continued++\n    return start(code)\n  }\n\n  function documentContinued(code) {\n    // If we’re in a concrete construct (such as when expecting another line of\n    // HTML, or we resulted in lazy content), we can immediately start flow.\n    if (inspectResult && inspectResult.flowContinue) {\n      return flowStart(code)\n    }\n\n    self.interrupt =\n      childFlow &&\n      childFlow.currentConstruct &&\n      childFlow.currentConstruct.interruptible\n    self.containerState = {}\n    return effects.attempt(\n      containerConstruct,\n      containerContinue,\n      flowStart\n    )(code)\n  }\n\n  function containerContinue(code) {\n    stack.push([self.currentConstruct, self.containerState])\n    self.containerState = undefined\n    return documentContinued(code)\n  }\n\n  function flowStart(code) {\n    if (code === null) {\n      exitContainers(0, true)\n      effects.consume(code)\n      return\n    }\n\n    childFlow = childFlow || self.parser.flow(self.now())\n    effects.enter('chunkFlow', {\n      contentType: 'flow',\n      previous: childToken,\n      _tokenizer: childFlow\n    })\n    return flowContinue(code)\n  }\n\n  function flowContinue(code) {\n    if (code === null) {\n      continueFlow(effects.exit('chunkFlow'))\n      return flowStart(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      continueFlow(effects.exit('chunkFlow'))\n      return effects.check(inspectConstruct, documentAfterPeek)\n    }\n\n    effects.consume(code)\n    return flowContinue\n  }\n\n  function documentAfterPeek(code) {\n    exitContainers(\n      inspectResult.continued,\n      inspectResult && inspectResult.flowEnd\n    )\n    continued = 0\n    return start(code)\n  }\n\n  function continueFlow(token) {\n    if (childToken) childToken.next = token\n    childToken = token\n    childFlow.lazy = inspectResult && inspectResult.lazy\n    childFlow.defineSkip(token.start)\n    childFlow.write(self.sliceStream(token))\n  }\n\n  function exitContainers(size, end) {\n    var index = stack.length // Close the flow.\n\n    if (childFlow && end) {\n      childFlow.write([null])\n      childToken = childFlow = undefined\n    } // Exit open containers.\n\n    while (index-- > size) {\n      self.containerState = stack[index][1]\n      stack[index][0].exit.call(self, effects)\n    }\n\n    stack.length = size\n  }\n\n  function tokenizeInspect(effects, ok) {\n    var subcontinued = 0\n    inspectResult = {}\n    return inspectStart\n\n    function inspectStart(code) {\n      if (subcontinued < stack.length) {\n        self.containerState = stack[subcontinued][1]\n        return effects.attempt(\n          stack[subcontinued][0].continuation,\n          inspectContinue,\n          inspectLess\n        )(code)\n      } // If we’re continued but in a concrete flow, we can’t have more\n      // containers.\n\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        inspectResult.flowContinue = true\n        return inspectDone(code)\n      }\n\n      self.interrupt =\n        childFlow.currentConstruct && childFlow.currentConstruct.interruptible\n      self.containerState = {}\n      return effects.attempt(\n        containerConstruct,\n        inspectFlowEnd,\n        inspectDone\n      )(code)\n    }\n\n    function inspectContinue(code) {\n      subcontinued++\n      return self.containerState._closeFlow\n        ? inspectFlowEnd(code)\n        : inspectStart(code)\n    }\n\n    function inspectLess(code) {\n      if (childFlow.currentConstruct && childFlow.currentConstruct.lazy) {\n        // Maybe another container?\n        self.containerState = {}\n        return effects.attempt(\n          containerConstruct,\n          inspectFlowEnd, // Maybe flow, or a blank line?\n          effects.attempt(\n            lazyFlowConstruct,\n            inspectFlowEnd,\n            effects.check(partialBlankLine, inspectFlowEnd, inspectLazy)\n          )\n        )(code)\n      } // Otherwise we’re interrupting.\n\n      return inspectFlowEnd(code)\n    }\n\n    function inspectLazy(code) {\n      // Act as if all containers are continued.\n      subcontinued = stack.length\n      inspectResult.lazy = true\n      inspectResult.flowContinue = true\n      return inspectDone(code)\n    } // We’re done with flow if we have more containers, or an interruption.\n\n    function inspectFlowEnd(code) {\n      inspectResult.flowEnd = true\n      return inspectDone(code)\n    }\n\n    function inspectDone(code) {\n      inspectResult.continued = subcontinued\n      self.interrupt = self.containerState = undefined\n      return ok(code)\n    }\n  }\n}\n\nfunction tokenizeContainer(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(this.parser.constructs.document, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction tokenizeLazyFlow(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.lazy(this.parser.constructs.flow, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar content = require('../tokenize/content.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeFlow\n\nfunction initializeFlow(effects) {\n  var self = this\n  var initial = effects.attempt(\n    // Try to parse a blank line.\n    partialBlankLine,\n    atBlankEnding, // Try to parse initial flow (essentially, only code).\n    effects.attempt(\n      this.parser.constructs.flowInitial,\n      afterConstruct,\n      factorySpace(\n        effects,\n        effects.attempt(\n          this.parser.constructs.flow,\n          afterConstruct,\n          effects.attempt(content, afterConstruct)\n        ),\n        'linePrefix'\n      )\n    )\n  )\n  return initial\n\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    self.currentConstruct = undefined\n    return initial\n  }\n\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    self.currentConstruct = undefined\n    return initial\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar subtokenize = require('../util/subtokenize.js')\nvar factorySpace = require('./factory-space.js')\n\n// No name because it must not be turned off.\nvar content = {\n  tokenize: tokenizeContent,\n  resolve: resolveContent,\n  interruptible: true,\n  lazy: true\n}\nvar continuationConstruct = {\n  tokenize: tokenizeContinuation,\n  partial: true\n} // Content is transparent: it’s parsed right now. That way, definitions are also\n// parsed right now: before text in paragraphs (specifically, media) are parsed.\n\nfunction resolveContent(events) {\n  subtokenize(events)\n  return events\n}\n\nfunction tokenizeContent(effects, ok) {\n  var previous\n  return start\n\n  function start(code) {\n    effects.enter('content')\n    previous = effects.enter('chunkContent', {\n      contentType: 'content'\n    })\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      return contentEnd(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.check(\n        continuationConstruct,\n        contentContinue,\n        contentEnd\n      )(code)\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n\n  function contentEnd(code) {\n    effects.exit('chunkContent')\n    effects.exit('content')\n    return ok(code)\n  }\n\n  function contentContinue(code) {\n    effects.consume(code)\n    effects.exit('chunkContent')\n    previous = previous.next = effects.enter('chunkContent', {\n      contentType: 'content',\n      previous: previous\n    })\n    return data\n  }\n}\n\nfunction tokenizeContinuation(effects, ok, nok) {\n  var self = this\n  return startLookahead\n\n  function startLookahead(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, prefixed, 'linePrefix')\n  }\n\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    if (\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1 ||\n      prefixSize(self.events, 'linePrefix') < 4\n    ) {\n      return effects.interrupt(self.parser.constructs.flow, nok, ok)(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = content\n","'use strict'\n\nvar splice = [].splice\n\nmodule.exports = splice\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedPush = require('./chunked-push.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\nvar resolveAll = require('./resolve-all.js')\nvar serializeChunks = require('./serialize-chunks.js')\nvar shallow = require('./shallow.js')\nvar sliceChunks = require('./slice-chunks.js')\n\n// Create a tokenizer.\n// Tokenizers deal with one type of data (e.g., containers, flow, text).\n// The parser is the object dealing with it all.\n// `initialize` works like other constructs, except that only its `tokenize`\n// function is used, in which case it doesn’t receive an `ok` or `nok`.\n// `from` can be given to set the point before the first character, although\n// when further lines are indented, they must be set with `defineSkip`.\nfunction createTokenizer(parser, initialize, from) {\n  var point = from\n    ? shallow(from)\n    : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }\n  var columnStart = {}\n  var resolveAllConstructs = []\n  var chunks = []\n  var stack = []\n\n  var effects = {\n    consume: consume,\n    enter: enter,\n    exit: exit,\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    }),\n    lazy: constructFactory(onsuccessfulcheck, {\n      lazy: true\n    })\n  } // State and tools for resolving and serializing.\n\n  var context = {\n    previous: null,\n    events: [],\n    parser: parser,\n    sliceStream: sliceStream,\n    sliceSerialize: sliceSerialize,\n    now: now,\n    defineSkip: skip,\n    write: write\n  } // The state function.\n\n  var state = initialize.tokenize.call(context, effects) // Track which character we expect to be consumed, to catch bugs.\n\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize)\n  } // Store where we are in the input stream.\n\n  point._index = 0\n  point._bufferIndex = -1\n  return context\n\n  function write(slice) {\n    chunks = chunkedPush(chunks, slice)\n    main() // Exit if we’re not done, resolve might change stuff.\n\n    if (chunks[chunks.length - 1] !== null) {\n      return []\n    }\n\n    addResult(initialize, 0) // Otherwise, resolve, and exit.\n\n    context.events = resolveAll(resolveAllConstructs, context.events, context)\n    return context.events\n  } //\n  // Tools.\n  //\n\n  function sliceSerialize(token) {\n    return serializeChunks(sliceStream(token))\n  }\n\n  function sliceStream(token) {\n    return sliceChunks(chunks, token)\n  }\n\n  function now() {\n    return shallow(point)\n  }\n\n  function skip(value) {\n    columnStart[value.line] = value.column\n    accountForPotentialSkip()\n  } //\n  // State management.\n  //\n  // Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n  // `consume`).\n  // Here is where we walk through the chunks, which either include strings of\n  // several characters, or numerical character codes.\n  // The reason to do this in a loop instead of a call is so the stack can\n  // drain.\n\n  function main() {\n    var chunkIndex\n    var chunk\n\n    while (point._index < chunks.length) {\n      chunk = chunks[point._index] // If we’re in a buffer chunk, loop through it.\n\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index\n\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0\n        }\n\n        while (\n          point._index === chunkIndex &&\n          point._bufferIndex < chunk.length\n        ) {\n          go(chunk.charCodeAt(point._bufferIndex))\n        }\n      } else {\n        go(chunk)\n      }\n    }\n  } // Deal with one code.\n\n  function go(code) {\n    state = state(code)\n  } // Move a character forward.\n\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++\n      point.column = 1\n      point.offset += code === -3 ? 2 : 1\n      accountForPotentialSkip()\n    } else if (code !== -1) {\n      point.column++\n      point.offset++\n    } // Not in a string chunk.\n\n    if (point._bufferIndex < 0) {\n      point._index++\n    } else {\n      point._bufferIndex++ // At end of string chunk.\n\n      if (point._bufferIndex === chunks[point._index].length) {\n        point._bufferIndex = -1\n        point._index++\n      }\n    } // Expose the previous character.\n\n    context.previous = code // Mark as consumed.\n  } // Start a token.\n\n  function enter(type, fields) {\n    var token = fields || {}\n    token.type = type\n    token.start = now()\n    context.events.push(['enter', token, context])\n    stack.push(token)\n    return token\n  } // Stop a token.\n\n  function exit(type) {\n    var token = stack.pop()\n    token.end = now()\n    context.events.push(['exit', token, context])\n    return token\n  } // Use results.\n\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from)\n  } // Discard results.\n\n  function onsuccessfulcheck(construct, info) {\n    info.restore()\n  } // Factory to attempt/check/interrupt.\n\n  function constructFactory(onreturn, fields) {\n    return hook // Handle either an object mapping codes to constructs, a list of\n    // constructs, or a single construct.\n\n    function hook(constructs, returnState, bogusState) {\n      var listOfConstructs\n      var constructIndex\n      var currentConstruct\n      var info\n      return constructs.tokenize || 'length' in constructs\n        ? handleListOfConstructs(miniflat(constructs))\n        : handleMapOfConstructs\n\n      function handleMapOfConstructs(code) {\n        if (code in constructs || null in constructs) {\n          return handleListOfConstructs(\n            constructs.null\n              ? /* c8 ignore next */\n                miniflat(constructs[code]).concat(miniflat(constructs.null))\n              : constructs[code]\n          )(code)\n        }\n\n        return bogusState(code)\n      }\n\n      function handleListOfConstructs(list) {\n        listOfConstructs = list\n        constructIndex = 0\n        return handleConstruct(list[constructIndex])\n      }\n\n      function handleConstruct(construct) {\n        return start\n\n        function start(code) {\n          // To do: not nede to store if there is no bogus state, probably?\n          // Currently doesn’t work because `inspect` in document does a check\n          // w/o a bogus, which doesn’t make sense. But it does seem to help perf\n          // by not storing.\n          info = store()\n          currentConstruct = construct\n\n          if (!construct.partial) {\n            context.currentConstruct = construct\n          }\n\n          if (\n            construct.name &&\n            context.parser.constructs.disable.null.indexOf(construct.name) > -1\n          ) {\n            return nok()\n          }\n\n          return construct.tokenize.call(\n            fields ? assign({}, context, fields) : context,\n            effects,\n            ok,\n            nok\n          )(code)\n        }\n      }\n\n      function ok(code) {\n        onreturn(currentConstruct, info)\n        return returnState\n      }\n\n      function nok(code) {\n        info.restore()\n\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex])\n        }\n\n        return bogusState\n      }\n    }\n  }\n\n  function addResult(construct, from) {\n    if (construct.resolveAll && resolveAllConstructs.indexOf(construct) < 0) {\n      resolveAllConstructs.push(construct)\n    }\n\n    if (construct.resolve) {\n      chunkedSplice(\n        context.events,\n        from,\n        context.events.length - from,\n        construct.resolve(context.events.slice(from), context)\n      )\n    }\n\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context)\n    }\n  }\n\n  function store() {\n    var startPoint = now()\n    var startPrevious = context.previous\n    var startCurrentConstruct = context.currentConstruct\n    var startEventsIndex = context.events.length\n    var startStack = Array.from(stack)\n    return {\n      restore: restore,\n      from: startEventsIndex\n    }\n\n    function restore() {\n      point = startPoint\n      context.previous = startPrevious\n      context.currentConstruct = startCurrentConstruct\n      context.events.length = startEventsIndex\n      stack = startStack\n      accountForPotentialSkip()\n    }\n  }\n\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line]\n      point.offset += columnStart[point.line] - 1\n    }\n  }\n}\n\nmodule.exports = createTokenizer\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction serializeChunks(chunks) {\n  var index = -1\n  var result = []\n  var chunk\n  var value\n  var atTab\n\n  while (++index < chunks.length) {\n    chunk = chunks[index]\n\n    if (typeof chunk === 'string') {\n      value = chunk\n    } else if (chunk === -5) {\n      value = '\\r'\n    } else if (chunk === -4) {\n      value = '\\n'\n    } else if (chunk === -3) {\n      value = '\\r' + '\\n'\n    } else if (chunk === -2) {\n      value = '\\t'\n    } else if (chunk === -1) {\n      if (atTab) continue\n      value = ' '\n    } else {\n      // Currently only replacement character.\n      value = fromCharCode(chunk)\n    }\n\n    atTab = chunk === -2\n    result.push(value)\n  }\n\n  return result.join('')\n}\n\nmodule.exports = serializeChunks\n","'use strict'\n\nfunction sliceChunks(chunks, token) {\n  var startIndex = token.start._index\n  var startBufferIndex = token.start._bufferIndex\n  var endIndex = token.end._index\n  var endBufferIndex = token.end._bufferIndex\n  var view\n\n  if (startIndex === endIndex) {\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)]\n  } else {\n    view = chunks.slice(startIndex, endIndex)\n\n    if (startBufferIndex > -1) {\n      view[0] = view[0].slice(startBufferIndex)\n    }\n\n    if (endBufferIndex > 0) {\n      view.push(chunks[endIndex].slice(0, endBufferIndex))\n    }\n  }\n\n  return view\n}\n\nmodule.exports = sliceChunks\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar text$1 = require('./initialize/text.js')\nvar attention = require('./tokenize/attention.js')\nvar autolink = require('./tokenize/autolink.js')\nvar blockQuote = require('./tokenize/block-quote.js')\nvar characterEscape = require('./tokenize/character-escape.js')\nvar characterReference = require('./tokenize/character-reference.js')\nvar codeFenced = require('./tokenize/code-fenced.js')\nvar codeIndented = require('./tokenize/code-indented.js')\nvar codeText = require('./tokenize/code-text.js')\nvar definition = require('./tokenize/definition.js')\nvar hardBreakEscape = require('./tokenize/hard-break-escape.js')\nvar headingAtx = require('./tokenize/heading-atx.js')\nvar htmlFlow = require('./tokenize/html-flow.js')\nvar htmlText = require('./tokenize/html-text.js')\nvar labelEnd = require('./tokenize/label-end.js')\nvar labelStartImage = require('./tokenize/label-start-image.js')\nvar labelStartLink = require('./tokenize/label-start-link.js')\nvar lineEnding = require('./tokenize/line-ending.js')\nvar list = require('./tokenize/list.js')\nvar setextUnderline = require('./tokenize/setext-underline.js')\nvar thematicBreak = require('./tokenize/thematic-break.js')\n\nvar document = {\n  42: list,\n  // Asterisk\n  43: list,\n  // Plus sign\n  45: list,\n  // Dash\n  48: list,\n  // 0\n  49: list,\n  // 1\n  50: list,\n  // 2\n  51: list,\n  // 3\n  52: list,\n  // 4\n  53: list,\n  // 5\n  54: list,\n  // 6\n  55: list,\n  // 7\n  56: list,\n  // 8\n  57: list,\n  // 9\n  62: blockQuote // Greater than\n}\nvar contentInitial = {\n  91: definition // Left square bracket\n}\nvar flowInitial = {\n  '-2': codeIndented,\n  // Horizontal tab\n  '-1': codeIndented,\n  // Virtual space\n  32: codeIndented // Space\n}\nvar flow = {\n  35: headingAtx,\n  // Number sign\n  42: thematicBreak,\n  // Asterisk\n  45: [setextUnderline, thematicBreak],\n  // Dash\n  60: htmlFlow,\n  // Less than\n  61: setextUnderline,\n  // Equals to\n  95: thematicBreak,\n  // Underscore\n  96: codeFenced,\n  // Grave accent\n  126: codeFenced // Tilde\n}\nvar string = {\n  38: characterReference,\n  // Ampersand\n  92: characterEscape // Backslash\n}\nvar text = {\n  '-5': lineEnding,\n  // Carriage return\n  '-4': lineEnding,\n  // Line feed\n  '-3': lineEnding,\n  // Carriage return + line feed\n  33: labelStartImage,\n  // Exclamation mark\n  38: characterReference,\n  // Ampersand\n  42: attention,\n  // Asterisk\n  60: [autolink, htmlText],\n  // Less than\n  91: labelStartLink,\n  // Left square bracket\n  92: [hardBreakEscape, characterEscape],\n  // Backslash\n  93: labelEnd,\n  // Right square bracket\n  95: attention,\n  // Underscore\n  96: codeText // Grave accent\n}\nvar insideSpan = {\n  null: [attention, text$1.resolver]\n}\nvar disable = {\n  null: []\n}\n\nexports.contentInitial = contentInitial\nexports.disable = disable\nexports.document = document\nexports.flow = flow\nexports.flowInitial = flowInitial\nexports.insideSpan = insideSpan\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar classifyCharacter = require('../util/classify-character.js')\nvar movePoint = require('../util/move-point.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\n\nvar attention = {\n  name: 'attention',\n  tokenize: tokenizeAttention,\n  resolveAll: resolveAllAttention\n}\n\nfunction resolveAllAttention(events, context) {\n  var index = -1\n  var open\n  var group\n  var text\n  var openingSequence\n  var closingSequence\n  var use\n  var nextEvents\n  var offset // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but it’s\n  // a bottleneck for malicious stuff.\n\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (\n      events[index][0] === 'enter' &&\n      events[index][1].type === 'attentionSequence' &&\n      events[index][1]._close\n    ) {\n      open = index // Now walk back to find an opener.\n\n      while (open--) {\n        // Find a token that can open the closer.\n        if (\n          events[open][0] === 'exit' &&\n          events[open][1].type === 'attentionSequence' &&\n          events[open][1]._open && // If the markers are the same:\n          context.sliceSerialize(events[open][1]).charCodeAt(0) ===\n            context.sliceSerialize(events[index][1]).charCodeAt(0)\n        ) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then don’t match.\n          if (\n            (events[open][1]._close || events[index][1]._open) &&\n            (events[index][1].end.offset - events[index][1].start.offset) % 3 &&\n            !(\n              (events[open][1].end.offset -\n                events[open][1].start.offset +\n                events[index][1].end.offset -\n                events[index][1].start.offset) %\n              3\n            )\n          ) {\n            continue\n          } // Number of markers to use from the sequence.\n\n          use =\n            events[open][1].end.offset - events[open][1].start.offset > 1 &&\n            events[index][1].end.offset - events[index][1].start.offset > 1\n              ? 2\n              : 1\n          openingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: movePoint(shallow(events[open][1].end), -use),\n            end: shallow(events[open][1].end)\n          }\n          closingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: shallow(events[index][1].start),\n            end: movePoint(shallow(events[index][1].start), use)\n          }\n          text = {\n            type: use > 1 ? 'strongText' : 'emphasisText',\n            start: shallow(events[open][1].end),\n            end: shallow(events[index][1].start)\n          }\n          group = {\n            type: use > 1 ? 'strong' : 'emphasis',\n            start: shallow(openingSequence.start),\n            end: shallow(closingSequence.end)\n          }\n          events[open][1].end = shallow(openingSequence.start)\n          events[index][1].start = shallow(closingSequence.end)\n          nextEvents = [] // If there are more markers in the opening, add them before.\n\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context]\n            ])\n          } // Opening.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['enter', group, context],\n            ['enter', openingSequence, context],\n            ['exit', openingSequence, context],\n            ['enter', text, context]\n          ]) // Between.\n\n          nextEvents = chunkedPush(\n            nextEvents,\n            resolveAll(\n              context.parser.constructs.insideSpan.null,\n              events.slice(open + 1, index),\n              context\n            )\n          ) // Closing.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['exit', text, context],\n            ['enter', closingSequence, context],\n            ['exit', closingSequence, context],\n            ['exit', group, context]\n          ]) // If there are more markers in the closing, add them after.\n\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context]\n            ])\n          } else {\n            offset = 0\n          }\n\n          chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n          index = open + nextEvents.length - offset - 2\n          break\n        }\n      }\n    }\n  } // Remove remaining sequences.\n\n  index = -1\n\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeAttention(effects, ok) {\n  var before = classifyCharacter(this.previous)\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('attentionSequence')\n    marker = code\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    var token\n    var after\n    var open\n    var close\n\n    if (code === marker) {\n      effects.consume(code)\n      return sequence\n    }\n\n    token = effects.exit('attentionSequence')\n    after = classifyCharacter(code)\n    open = !after || (after === 2 && before)\n    close = !before || (before === 2 && after)\n    token._open = marker === 42 ? open : open && (before || !close)\n    token._close = marker === 42 ? close : close && (after || !open)\n    return ok(code)\n  }\n}\n\nmodule.exports = attention\n","'use strict'\n\n// This module is generated by `script/`.\n//\n// CommonMark handles attention (emphasis, strong) markers based on what comes\n// before or after them.\n// One such difference is if those characters are Unicode punctuation.\n// This script is generated from the Unicode data.\nvar unicodePunctuation = /[!-\\/:-@\\[-`\\{-~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\n// chunks (replacement characters, tabs, or line endings).\n\nfunction movePoint(point, offset) {\n  point.column += offset\n  point.offset += offset\n  point._bufferIndex += offset\n  return point\n}\n\nmodule.exports = movePoint\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiAtext = require('../character/ascii-atext.js')\nvar asciiControl = require('../character/ascii-control.js')\n\nvar autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n}\n\nfunction tokenizeAutolink(effects, ok, nok) {\n  var size = 1\n  return start\n\n  function start(code) {\n    effects.enter('autolink')\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.enter('autolinkProtocol')\n    return open\n  }\n\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return schemeOrEmailAtext\n    }\n\n    return asciiAtext(code) ? emailAtext(code) : nok(code)\n  }\n\n  function schemeOrEmailAtext(code) {\n    return code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)\n      ? schemeInsideOrEmailAtext(code)\n      : emailAtext(code)\n  }\n\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code)\n      return urlInside\n    }\n\n    if (\n      (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) &&\n      size++ < 32\n    ) {\n      effects.consume(code)\n      return schemeInsideOrEmailAtext\n    }\n\n    return emailAtext(code)\n  }\n\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol')\n      return end(code)\n    }\n\n    if (code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return urlInside\n  }\n\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (asciiAtext(code)) {\n      effects.consume(code)\n      return emailAtext\n    }\n\n    return nok(code)\n  }\n\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code)\n  }\n\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (code === 62) {\n      // Exit, then change the type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail'\n      return end(code)\n    }\n\n    return emailValue(code)\n  }\n\n  function emailValue(code) {\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      effects.consume(code)\n      return code === 45 ? emailValue : emailLabel\n    }\n\n    return nok(code)\n  }\n\n  function end(code) {\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.exit('autolink')\n    return ok\n  }\n}\n\nmodule.exports = autolink\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/)\n\nmodule.exports = asciiAtext\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar blockQuote = {\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart,\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit: exit\n}\n\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    if (code === 62) {\n      if (!self.containerState.open) {\n        effects.enter('blockQuote', {\n          _container: true\n        })\n        self.containerState.open = true\n      }\n\n      effects.enter('blockQuotePrefix')\n      effects.enter('blockQuoteMarker')\n      effects.consume(code)\n      effects.exit('blockQuoteMarker')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter('blockQuotePrefixWhitespace')\n      effects.consume(code)\n      effects.exit('blockQuotePrefixWhitespace')\n      effects.exit('blockQuotePrefix')\n      return ok\n    }\n\n    effects.exit('blockQuotePrefix')\n    return ok(code)\n  }\n}\n\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(blockQuote, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction exit(effects) {\n  effects.exit('blockQuote')\n}\n\nmodule.exports = blockQuote\n","'use strict'\n\nvar asciiPunctuation = require('../character/ascii-punctuation.js')\n\nvar characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n}\n\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('characterEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    effects.exit('escapeMarker')\n    return open\n  }\n\n  function open(code) {\n    if (asciiPunctuation(code)) {\n      effects.enter('characterEscapeValue')\n      effects.consume(code)\n      effects.exit('characterEscapeValue')\n      effects.exit('characterEscape')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterEscape\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/)\n\nmodule.exports = asciiPunctuation\n","'use strict'\n\nvar decodeEntity = require('parse-entities/decode-entity.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiDigit = require('../character/ascii-digit.js')\nvar asciiHexDigit = require('../character/ascii-hex-digit.js')\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {default: e}\n}\n\nvar decodeEntity__default = /*#__PURE__*/ _interopDefaultLegacy(decodeEntity)\n\nvar characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n}\n\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  var self = this\n  var size = 0\n  var max\n  var test\n  return start\n\n  function start(code) {\n    effects.enter('characterReference')\n    effects.enter('characterReferenceMarker')\n    effects.consume(code)\n    effects.exit('characterReferenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 35) {\n      effects.enter('characterReferenceMarkerNumeric')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerNumeric')\n      return numeric\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 31\n    test = asciiAlphanumeric\n    return value(code)\n  }\n\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter('characterReferenceMarkerHexadecimal')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerHexadecimal')\n      effects.enter('characterReferenceValue')\n      max = 6\n      test = asciiHexDigit\n      return value\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 7\n    test = asciiDigit\n    return value(code)\n  }\n\n  function value(code) {\n    var token\n\n    if (code === 59 && size) {\n      token = effects.exit('characterReferenceValue')\n\n      if (\n        test === asciiAlphanumeric &&\n        !decodeEntity__default['default'](self.sliceSerialize(token))\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('characterReferenceMarker')\n      effects.consume(code)\n      effects.exit('characterReferenceMarker')\n      effects.exit('characterReference')\n      return ok\n    }\n\n    if (test(code) && size++ < max) {\n      effects.consume(code)\n      return value\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterReference\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `¬it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiHexDigit = regexCheck(/[\\dA-Fa-f]/)\n\nmodule.exports = asciiHexDigit\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeFenced = {\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced,\n  concrete: true\n}\n\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  var self = this\n  var closingFenceConstruct = {\n    tokenize: tokenizeClosingFence,\n    partial: true\n  }\n  var initialPrefix = prefixSize(this.events, 'linePrefix')\n  var sizeOpen = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('codeFenced')\n    effects.enter('codeFencedFence')\n    effects.enter('codeFencedFenceSequence')\n    marker = code\n    return sequenceOpen(code)\n  }\n\n  function sequenceOpen(code) {\n    if (code === marker) {\n      effects.consume(code)\n      sizeOpen++\n      return sequenceOpen\n    }\n\n    effects.exit('codeFencedFenceSequence')\n    return sizeOpen < 3\n      ? nok(code)\n      : factorySpace(effects, infoOpen, 'whitespace')(code)\n  }\n\n  function infoOpen(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceInfo')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return info(code)\n  }\n\n  function info(code) {\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceInfo')\n      return factorySpace(effects, infoAfter, 'whitespace')(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return info\n  }\n\n  function infoAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceMeta')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return meta(code)\n  }\n\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceMeta')\n      return openAfter(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return meta\n  }\n\n  function openAfter(code) {\n    effects.exit('codeFencedFence')\n    return self.interrupt ? ok(code) : content(code)\n  }\n\n  function content(code) {\n    if (code === null) {\n      return after(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return effects.attempt(\n        closingFenceConstruct,\n        after,\n        initialPrefix\n          ? factorySpace(effects, content, 'linePrefix', initialPrefix + 1)\n          : content\n      )\n    }\n\n    effects.enter('codeFlowValue')\n    return contentContinue(code)\n  }\n\n  function contentContinue(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return content(code)\n    }\n\n    effects.consume(code)\n    return contentContinue\n  }\n\n  function after(code) {\n    effects.exit('codeFenced')\n    return ok(code)\n  }\n\n  function tokenizeClosingFence(effects, ok, nok) {\n    var size = 0\n    return factorySpace(\n      effects,\n      closingSequenceStart,\n      'linePrefix',\n      this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n\n    function closingSequenceStart(code) {\n      effects.enter('codeFencedFence')\n      effects.enter('codeFencedFenceSequence')\n      return closingSequence(code)\n    }\n\n    function closingSequence(code) {\n      if (code === marker) {\n        effects.consume(code)\n        size++\n        return closingSequence\n      }\n\n      if (size < sizeOpen) return nok(code)\n      effects.exit('codeFencedFenceSequence')\n      return factorySpace(effects, closingSequenceEnd, 'whitespace')(code)\n    }\n\n    function closingSequenceEnd(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit('codeFencedFence')\n        return ok(code)\n      }\n\n      return nok(code)\n    }\n  }\n}\n\nmodule.exports = codeFenced\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented,\n  resolve: resolveCodeIndented\n}\nvar indentedContentConstruct = {\n  tokenize: tokenizeIndentedContent,\n  partial: true\n}\n\nfunction resolveCodeIndented(events, context) {\n  var code = {\n    type: 'codeIndented',\n    start: events[0][1].start,\n    end: events[events.length - 1][1].end\n  }\n  chunkedSplice(events, 0, 0, [['enter', code, context]])\n  chunkedSplice(events, events.length, 0, [['exit', code, context]])\n  return events\n}\n\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  return effects.attempt(indentedContentConstruct, afterPrefix, nok)\n\n  function afterPrefix(code) {\n    if (code === null) {\n      return ok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.attempt(indentedContentConstruct, afterPrefix, ok)(code)\n    }\n\n    effects.enter('codeFlowValue')\n    return content(code)\n  }\n\n  function content(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return afterPrefix(code)\n    }\n\n    effects.consume(code)\n    return content\n  }\n}\n\nfunction tokenizeIndentedContent(effects, ok, nok) {\n  var self = this\n  return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n\n  function afterPrefix(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n    }\n\n    return prefixSize(self.events, 'linePrefix') < 4 ? nok(code) : ok(code)\n  }\n}\n\nmodule.exports = codeIndented\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar codeText = {\n  name: 'codeText',\n  tokenize: tokenizeCodeText,\n  resolve: resolveCodeText,\n  previous: previous\n}\n\nfunction resolveCodeText(events) {\n  var tailExitIndex = events.length - 4\n  var headEnterIndex = 3\n  var index\n  var enter // If we start and end with an EOL or a space.\n\n  if (\n    (events[headEnterIndex][1].type === 'lineEnding' ||\n      events[headEnterIndex][1].type === 'space') &&\n    (events[tailExitIndex][1].type === 'lineEnding' ||\n      events[tailExitIndex][1].type === 'space')\n  ) {\n    index = headEnterIndex // And we have data.\n\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === 'codeTextData') {\n        // Then we have padding.\n        events[tailExitIndex][1].type = events[headEnterIndex][1].type =\n          'codeTextPadding'\n        headEnterIndex += 2\n        tailExitIndex -= 2\n        break\n      }\n    }\n  } // Merge adjacent spaces and data.\n\n  index = headEnterIndex - 1\n  tailExitIndex++\n\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== 'lineEnding') {\n        enter = index\n      }\n    } else if (\n      index === tailExitIndex ||\n      events[index][1].type === 'lineEnding'\n    ) {\n      events[enter][1].type = 'codeTextData'\n\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end\n        events.splice(enter + 2, index - enter - 2)\n        tailExitIndex -= index - enter - 2\n        index = enter + 2\n      }\n\n      enter = undefined\n    }\n  }\n\n  return events\n}\n\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return (\n    code !== 96 ||\n    this.events[this.events.length - 1][1].type === 'characterEscape'\n  )\n}\n\nfunction tokenizeCodeText(effects, ok, nok) {\n  var sizeOpen = 0\n  var size\n  var token\n  return start\n\n  function start(code) {\n    effects.enter('codeText')\n    effects.enter('codeTextSequence')\n    return openingSequence(code)\n  }\n\n  function openingSequence(code) {\n    if (code === 96) {\n      effects.consume(code)\n      sizeOpen++\n      return openingSequence\n    }\n\n    effects.exit('codeTextSequence')\n    return gap(code)\n  }\n\n  function gap(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code)\n    } // Closing fence?\n    // Could also be data.\n\n    if (code === 96) {\n      token = effects.enter('codeTextSequence')\n      size = 0\n      return closingSequence(code)\n    } // Tabs don’t work, and virtual spaces don’t make sense.\n\n    if (code === 32) {\n      effects.enter('space')\n      effects.consume(code)\n      effects.exit('space')\n      return gap\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return gap\n    } // Data.\n\n    effects.enter('codeTextData')\n    return data(code)\n  } // In code.\n\n  function data(code) {\n    if (\n      code === null ||\n      code === 32 ||\n      code === 96 ||\n      markdownLineEnding(code)\n    ) {\n      effects.exit('codeTextData')\n      return gap(code)\n    }\n\n    effects.consume(code)\n    return data\n  } // Closing fence.\n\n  function closingSequence(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code)\n      size++\n      return closingSequence\n    } // Done!\n\n    if (size === sizeOpen) {\n      effects.exit('codeTextSequence')\n      effects.exit('codeText')\n      return ok(code)\n    } // More or less accents: mark as data.\n\n    token.type = 'codeTextData'\n    return data(code)\n  }\n}\n\nmodule.exports = codeText\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factorySpace = require('./factory-space.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\nvar factoryTitle = require('./factory-title.js')\n\nvar definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n}\nvar titleConstruct = {\n  tokenize: tokenizeTitle,\n  partial: true\n}\n\nfunction tokenizeDefinition(effects, ok, nok) {\n  var self = this\n  var identifier\n  return start\n\n  function start(code) {\n    effects.enter('definition')\n    return factoryLabel.call(\n      self,\n      effects,\n      labelAfter,\n      nok,\n      'definitionLabel',\n      'definitionLabelMarker',\n      'definitionLabelString'\n    )(code)\n  }\n\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(\n      self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n    )\n\n    if (code === 58) {\n      effects.enter('definitionMarker')\n      effects.consume(code)\n      effects.exit('definitionMarker') // Note: blank lines can’t exist in content.\n\n      return factoryWhitespace(\n        effects,\n        factoryDestination(\n          effects,\n          effects.attempt(\n            titleConstruct,\n            factorySpace(effects, after, 'whitespace'),\n            factorySpace(effects, after, 'whitespace')\n          ),\n          nok,\n          'definitionDestination',\n          'definitionDestinationLiteral',\n          'definitionDestinationLiteralMarker',\n          'definitionDestinationRaw',\n          'definitionDestinationString'\n        )\n      )\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('definition')\n\n      if (self.parser.defined.indexOf(identifier) < 0) {\n        self.parser.defined.push(identifier)\n      }\n\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeTitle(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, before)(code)\n      : nok(code)\n  }\n\n  function before(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factorySpace(effects, after, 'whitespace'),\n        nok,\n        'definitionTitle',\n        'definitionTitleMarker',\n        'definitionTitleString'\n      )(code)\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = definition\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n}\n\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('hardBreakEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit('escapeMarker')\n      effects.exit('hardBreakEscape')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = hardBreakEscape\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar factorySpace = require('./factory-space.js')\n\nvar headingAtx = {\n  name: 'headingAtx',\n  tokenize: tokenizeHeadingAtx,\n  resolve: resolveHeadingAtx\n}\n\nfunction resolveHeadingAtx(events, context) {\n  var contentEnd = events.length - 2\n  var contentStart = 3\n  var content\n  var text // Prefix whitespace, part of the opening.\n\n  if (events[contentStart][1].type === 'whitespace') {\n    contentStart += 2\n  } // Suffix whitespace, part of the closing.\n\n  if (\n    contentEnd - 2 > contentStart &&\n    events[contentEnd][1].type === 'whitespace'\n  ) {\n    contentEnd -= 2\n  }\n\n  if (\n    events[contentEnd][1].type === 'atxHeadingSequence' &&\n    (contentStart === contentEnd - 1 ||\n      (contentEnd - 4 > contentStart &&\n        events[contentEnd - 2][1].type === 'whitespace'))\n  ) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4\n  }\n\n  if (contentEnd > contentStart) {\n    content = {\n      type: 'atxHeadingText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    }\n    text = {\n      type: 'chunkText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: 'text'\n    }\n    chunkedSplice(events, contentStart, contentEnd - contentStart + 1, [\n      ['enter', content, context],\n      ['enter', text, context],\n      ['exit', text, context],\n      ['exit', content, context]\n    ])\n  }\n\n  return events\n}\n\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  var self = this\n  var size = 0\n  return start\n\n  function start(code) {\n    effects.enter('atxHeading')\n    effects.enter('atxHeadingSequence')\n    return fenceOpenInside(code)\n  }\n\n  function fenceOpenInside(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code)\n      return fenceOpenInside\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingSequence')\n      return self.interrupt ? ok(code) : headingBreak(code)\n    }\n\n    return nok(code)\n  }\n\n  function headingBreak(code) {\n    if (code === 35) {\n      effects.enter('atxHeadingSequence')\n      return sequence(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('atxHeading')\n      return ok(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headingBreak, 'whitespace')(code)\n    }\n\n    effects.enter('atxHeadingText')\n    return data(code)\n  }\n\n  function sequence(code) {\n    if (code === 35) {\n      effects.consume(code)\n      return sequence\n    }\n\n    effects.exit('atxHeadingSequence')\n    return headingBreak(code)\n  }\n\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingText')\n      return headingBreak(code)\n    }\n\n    effects.consume(code)\n    return data\n  }\n}\n\nmodule.exports = headingAtx\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar fromCharCode = require('../constant/from-char-code.js')\nvar htmlBlockNames = require('../constant/html-block-names.js')\nvar htmlRawNames = require('../constant/html-raw-names.js')\nvar partialBlankLine = require('./partial-blank-line.js')\n\nvar htmlFlow = {\n  name: 'htmlFlow',\n  tokenize: tokenizeHtmlFlow,\n  resolveTo: resolveToHtmlFlow,\n  concrete: true\n}\nvar nextBlankConstruct = {\n  tokenize: tokenizeNextBlank,\n  partial: true\n}\n\nfunction resolveToHtmlFlow(events) {\n  var index = events.length\n\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === 'htmlFlow') {\n      break\n    }\n  }\n\n  if (index > 1 && events[index - 2][1].type === 'linePrefix') {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start // Add the prefix start to the HTML line token.\n\n    events[index + 1][1].start = events[index - 2][1].start // Remove the line prefix.\n\n    events.splice(index - 2, 2)\n  }\n\n  return events\n}\n\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  var self = this\n  var kind\n  var startTag\n  var buffer\n  var index\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('htmlFlow')\n    effects.enter('htmlFlowData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationStart\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      kind = 3 // While we’re in an instruction instead of a declaration, we’re on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      startTag = true\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function declarationStart(code) {\n    if (code === 45) {\n      effects.consume(code)\n      kind = 2\n      return commentOpenInside\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      kind = 5\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpenInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      kind = 4\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function cdataOpenInside(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length\n        ? self.interrupt\n          ? ok\n          : continuation\n        : cdataOpenInside\n    }\n\n    return nok(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function tagName(code) {\n    if (\n      code === null ||\n      code === 47 ||\n      code === 62 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      if (\n        code !== 47 &&\n        startTag &&\n        htmlRawNames.indexOf(buffer.toLowerCase()) > -1\n      ) {\n        kind = 1\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      if (htmlBlockNames.indexOf(buffer.toLowerCase()) > -1) {\n        kind = 6\n\n        if (code === 47) {\n          effects.consume(code)\n          return basicSelfClosing\n        }\n\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      kind = 7 // Do not support complete HTML when interrupting.\n\n      return self.interrupt\n        ? nok(code)\n        : startTag\n        ? completeAttributeNameBefore(code)\n        : completeClosingTagAfter(code)\n    }\n\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuation\n    }\n\n    return nok(code)\n  }\n\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeClosingTagAfter\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return completeEnd\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameBefore\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    return completeAttributeNameAfter(code)\n  }\n\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameAfter\n    }\n\n    return completeAttributeNameBefore(code)\n  }\n\n  function completeAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return completeAttributeValueQuoted\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    marker = undefined\n    return completeAttributeValueUnquoted(code)\n  }\n\n  function completeAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return completeAttributeValueQuotedAfter\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueQuoted\n  }\n\n  function completeAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      return completeAttributeNameAfter(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueUnquoted\n  }\n\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code)\n    }\n\n    return nok(code)\n  }\n\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return nok(code)\n  }\n\n  function completeAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return code === null || markdownLineEnding(code)\n      ? continuation(code)\n      : nok(code)\n  }\n\n  function continuation(code) {\n    if (code === 45 && kind === 2) {\n      effects.consume(code)\n      return continuationCommentInside\n    }\n\n    if (code === 60 && kind === 1) {\n      effects.consume(code)\n      return continuationRawTagOpen\n    }\n\n    if (code === 62 && kind === 4) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (code === 63 && kind === 3) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    if (code === 93 && kind === 5) {\n      effects.consume(code)\n      return continuationCharacterDataInside\n    }\n\n    if (markdownLineEnding(code) && (kind === 6 || kind === 7)) {\n      return effects.check(\n        nextBlankConstruct,\n        continuationClose,\n        continuationAtLineEnding\n      )(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return continuationAtLineEnding(code)\n    }\n\n    effects.consume(code)\n    return continuation\n  }\n\n  function continuationAtLineEnding(code) {\n    effects.exit('htmlFlowData')\n    return htmlContinueStart(code)\n  }\n\n  function htmlContinueStart(code) {\n    if (code === null) {\n      return done(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return htmlContinueStart\n    }\n\n    effects.enter('htmlFlowData')\n    return continuation(code)\n  }\n\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code)\n      buffer = ''\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawEndTag(code) {\n    if (code === 62 && htmlRawNames.indexOf(buffer.toLowerCase()) > -1) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (asciiAlpha(code) && buffer.length < 8) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationCharacterDataInside(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    return continuation(code)\n  }\n\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('htmlFlowData')\n      return done(code)\n    }\n\n    effects.consume(code)\n    return continuationClose\n  }\n\n  function done(code) {\n    effects.exit('htmlFlow')\n    return ok(code)\n  }\n}\n\nfunction tokenizeNextBlank(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.exit('htmlFlowData')\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    return effects.attempt(partialBlankLine, ok, nok)\n  }\n}\n\nmodule.exports = htmlFlow\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar basics = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n]\n\nmodule.exports = basics\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar raws = ['pre', 'script', 'style', 'textarea']\n\nmodule.exports = raws\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n}\n\nfunction tokenizeHtmlText(effects, ok, nok) {\n  var self = this\n  var marker\n  var buffer\n  var index\n  var returnState\n  return start\n\n  function start(code) {\n    effects.enter('htmlText')\n    effects.enter('htmlTextData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationOpen\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instruction\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    return nok(code)\n  }\n\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentOpen\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpen\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return declaration\n    }\n\n    return nok(code)\n  }\n\n  function commentOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentStart\n    }\n\n    return nok(code)\n  }\n\n  function commentStart(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentStartDash\n    }\n\n    return comment(code)\n  }\n\n  function commentStartDash(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    return comment(code)\n  }\n\n  function comment(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = comment\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return comment\n  }\n\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return end\n    }\n\n    return comment(code)\n  }\n\n  function cdataOpen(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length ? cdata : cdataOpen\n    }\n\n    return nok(code)\n  }\n\n  function cdata(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = cdata\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return cdata\n  }\n\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = declaration\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return declaration\n  }\n\n  function instruction(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instructionClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = instruction\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return instruction\n  }\n\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return nok(code)\n  }\n\n  function tagClose(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return tagCloseBetween(code)\n  }\n\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagCloseBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpen(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return end\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpenAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    return tagOpenAttributeNameAfter(code)\n  }\n\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeNameAfter\n    }\n\n    return tagOpenBetween(code)\n  }\n\n  function tagOpenAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return tagOpenAttributeValueQuoted\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    effects.consume(code)\n    marker = undefined\n    return tagOpenAttributeValueUnquoted\n  }\n\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return tagOpenAttributeValueQuotedAfter\n    }\n\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueQuoted\n  }\n\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 62 || code === 47 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueUnquoted\n  } // We can’t have blank lines in content, so no need to worry about empty\n  // tokens.\n\n  function atLineEnding(code) {\n    effects.exit('htmlTextData')\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(\n      effects,\n      afterPrefix,\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n  }\n\n  function afterPrefix(code) {\n    effects.enter('htmlTextData')\n    return returnState(code)\n  }\n\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code)\n      effects.exit('htmlTextData')\n      effects.exit('htmlText')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = htmlText\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartImage = {\n  name: 'labelStartImage',\n  tokenize: tokenizeLabelStartImage,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelImage')\n    effects.enter('labelImageMarker')\n    effects.consume(code)\n    effects.exit('labelImageMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 91) {\n      effects.enter('labelMarker')\n      effects.consume(code)\n      effects.exit('labelMarker')\n      effects.exit('labelImage')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartImage\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartLink = {\n  name: 'labelStartLink',\n  tokenize: tokenizeLabelStartLink,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelLink')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelLink')\n    return after\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartLink\n","'use strict'\n\nvar factorySpace = require('./factory-space.js')\n\nvar lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n}\n\nfunction tokenizeLineEnding(effects, ok) {\n  return start\n\n  function start(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, ok, 'linePrefix')\n  }\n}\n\nmodule.exports = lineEnding\n","'use strict'\n\nvar asciiDigit = require('../character/ascii-digit.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar sizeChunks = require('../util/size-chunks.js')\nvar factorySpace = require('./factory-space.js')\nvar partialBlankLine = require('./partial-blank-line.js')\nvar thematicBreak = require('./thematic-break.js')\n\nvar list = {\n  name: 'list',\n  tokenize: tokenizeListStart,\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd\n}\nvar listItemPrefixWhitespaceConstruct = {\n  tokenize: tokenizeListItemPrefixWhitespace,\n  partial: true\n}\nvar indentConstruct = {\n  tokenize: tokenizeIndent,\n  partial: true\n}\n\nfunction tokenizeListStart(effects, ok, nok) {\n  var self = this\n  var initialSize = prefixSize(self.events, 'linePrefix')\n  var size = 0\n  return start\n\n  function start(code) {\n    var kind =\n      self.containerState.type ||\n      (code === 42 || code === 43 || code === 45\n        ? 'listUnordered'\n        : 'listOrdered')\n\n    if (\n      kind === 'listUnordered'\n        ? !self.containerState.marker || code === self.containerState.marker\n        : asciiDigit(code)\n    ) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind\n        effects.enter(kind, {\n          _container: true\n        })\n      }\n\n      if (kind === 'listUnordered') {\n        effects.enter('listItemPrefix')\n        return code === 42 || code === 45\n          ? effects.check(thematicBreak, nok, atMarker)(code)\n          : atMarker(code)\n      }\n\n      if (!self.interrupt || code === 49) {\n        effects.enter('listItemPrefix')\n        effects.enter('listItemValue')\n        return inside(code)\n      }\n    }\n\n    return nok(code)\n  }\n\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code)\n      return inside\n    }\n\n    if (\n      (!self.interrupt || size < 2) &&\n      (self.containerState.marker\n        ? code === self.containerState.marker\n        : code === 41 || code === 46)\n    ) {\n      effects.exit('listItemValue')\n      return atMarker(code)\n    }\n\n    return nok(code)\n  }\n\n  function atMarker(code) {\n    effects.enter('listItemMarker')\n    effects.consume(code)\n    effects.exit('listItemMarker')\n    self.containerState.marker = self.containerState.marker || code\n    return effects.check(\n      partialBlankLine, // Can’t be empty when interrupting.\n      self.interrupt ? nok : onBlank,\n      effects.attempt(\n        listItemPrefixWhitespaceConstruct,\n        endOfPrefix,\n        otherPrefix\n      )\n    )\n  }\n\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true\n    initialSize++\n    return endOfPrefix(code)\n  }\n\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter('listItemPrefixWhitespace')\n      effects.consume(code)\n      effects.exit('listItemPrefixWhitespace')\n      return endOfPrefix\n    }\n\n    return nok(code)\n  }\n\n  function endOfPrefix(code) {\n    self.containerState.size =\n      initialSize + sizeChunks(self.sliceStream(effects.exit('listItemPrefix')))\n    return ok(code)\n  }\n}\n\nfunction tokenizeListContinuation(effects, ok, nok) {\n  var self = this\n  self.containerState._closeFlow = undefined\n  return effects.check(partialBlankLine, onBlank, notBlank)\n\n  function onBlank(code) {\n    self.containerState.furtherBlankLines =\n      self.containerState.furtherBlankLines ||\n      self.containerState.initialBlankLine // We have a blank line.\n    // Still, try to consume at most the items size.\n\n    return factorySpace(\n      effects,\n      ok,\n      'listItemIndent',\n      self.containerState.size + 1\n    )(code)\n  }\n\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n      return notInCurrentItem(code)\n    }\n\n    self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code)\n  }\n\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true // As we’re closing flow, we’re no longer interrupting.\n\n    self.interrupt = undefined\n    return factorySpace(\n      effects,\n      effects.attempt(list, ok, nok),\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )(code)\n  }\n}\n\nfunction tokenizeIndent(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemIndent',\n    self.containerState.size + 1\n  )\n\n  function afterPrefix(code) {\n    return prefixSize(self.events, 'listItemIndent') ===\n      self.containerState.size\n      ? ok(code)\n      : nok(code)\n  }\n}\n\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type)\n}\n\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemPrefixWhitespace',\n    self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4 + 1\n  )\n\n  function afterPrefix(code) {\n    return markdownSpace(code) ||\n      !prefixSize(self.events, 'listItemPrefixWhitespace')\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = list\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar shallow = require('../util/shallow.js')\nvar factorySpace = require('./factory-space.js')\n\nvar setextUnderline = {\n  name: 'setextUnderline',\n  tokenize: tokenizeSetextUnderline,\n  resolveTo: resolveToSetextUnderline\n}\n\nfunction resolveToSetextUnderline(events, context) {\n  var index = events.length\n  var content\n  var text\n  var definition\n  var heading // Find the opening of the content.\n  // It’ll always exist: we don’t tokenize if it isn’t there.\n\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === 'content') {\n        content = index\n        break\n      }\n\n      if (events[index][1].type === 'paragraph') {\n        text = index\n      }\n    } // Exit\n    else {\n      if (events[index][1].type === 'content') {\n        // Remove the content end (if needed we’ll add it later)\n        events.splice(index, 1)\n      }\n\n      if (!definition && events[index][1].type === 'definition') {\n        definition = index\n      }\n    }\n  }\n\n  heading = {\n    type: 'setextHeading',\n    start: shallow(events[text][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  } // Change the paragraph to setext heading text.\n\n  events[text][1].type = 'setextHeadingText' // If we have definitions in the content, we’ll keep on having content,\n  // but we need move it.\n\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context])\n    events.splice(definition + 1, 0, ['exit', events[content][1], context])\n    events[content][1].end = shallow(events[definition][1].end)\n  } else {\n    events[content][1] = heading\n  } // Add the heading exit at the end.\n\n  events.push(['exit', heading, context])\n  return events\n}\n\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var marker\n  var paragraph // Find an opening.\n\n  while (index--) {\n    // Skip enter/exit of line ending, line prefix, and content.\n    // We can now either have a definition or a paragraph.\n    if (\n      self.events[index][1].type !== 'lineEnding' &&\n      self.events[index][1].type !== 'linePrefix' &&\n      self.events[index][1].type !== 'content'\n    ) {\n      paragraph = self.events[index][1].type === 'paragraph'\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!self.lazy && (self.interrupt || paragraph)) {\n      effects.enter('setextHeadingLine')\n      effects.enter('setextHeadingLineSequence')\n      marker = code\n      return closingSequence(code)\n    }\n\n    return nok(code)\n  }\n\n  function closingSequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return closingSequence\n    }\n\n    effects.exit('setextHeadingLineSequence')\n    return factorySpace(effects, closingSequenceEnd, 'lineSuffix')(code)\n  }\n\n  function closingSequenceEnd(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('setextHeadingLine')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = setextUnderline\n","'use strict'\n\nvar search = /[\\0\\t\\n\\r]/g\n\nfunction preprocess() {\n  var start = true\n  var column = 1\n  var buffer = ''\n  var atCarriageReturn\n  return preprocessor\n\n  function preprocessor(value, encoding, end) {\n    var chunks = []\n    var match\n    var next\n    var startPosition\n    var endPosition\n    var code\n    value = buffer + value.toString(encoding)\n    startPosition = 0\n    buffer = ''\n\n    if (start) {\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++\n      }\n\n      start = undefined\n    }\n\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition\n      match = search.exec(value)\n      endPosition = match ? match.index : value.length\n      code = value.charCodeAt(endPosition)\n\n      if (!match) {\n        buffer = value.slice(startPosition)\n        break\n      }\n\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3)\n        atCarriageReturn = undefined\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5)\n          atCarriageReturn = undefined\n        }\n\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition))\n          column += endPosition - startPosition\n        }\n\n        if (code === 0) {\n          chunks.push(65533)\n          column++\n        } else if (code === 9) {\n          next = Math.ceil(column / 4) * 4\n          chunks.push(-2)\n\n          while (column++ < next) chunks.push(-1)\n        } else if (code === 10) {\n          chunks.push(-4)\n          column = 1\n        } // Must be carriage return.\n        else {\n          atCarriageReturn = true\n          column = 1\n        }\n      }\n\n      startPosition = endPosition + 1\n    }\n\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5)\n      if (buffer) chunks.push(buffer)\n      chunks.push(null)\n    }\n\n    return chunks\n  }\n}\n\nmodule.exports = preprocess\n","'use strict'\n\nvar subtokenize = require('./util/subtokenize.js')\n\nfunction postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n\n  return events\n}\n\nmodule.exports = postprocess\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `¬it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","var visitWithParents = require('unist-util-visit-parents');\n\nfunction addListMetadata() {\n  return function (ast) {\n    visitWithParents(ast, 'list', function (listNode, parents) {\n      var depth = 0, i, n;\n      for (i = 0, n = parents.length; i < n; i++) {\n        if (parents[i].type === 'list') depth += 1;\n      }\n      for (i = 0, n = listNode.children.length; i < n; i++) {\n        var child = listNode.children[i];\n        child.index = i;\n        child.ordered = listNode.ordered;\n      }\n      listNode.depth = depth;\n    });\n    return ast;\n  };\n}\n\nmodule.exports = addListMetadata;\n","'use strict'\n\n/* Expose. */\nmodule.exports = visitParents\n\n/* Visit. */\nfunction visitParents(tree, type, visitor) {\n  var stack = []\n\n  if (typeof type === 'function') {\n    visitor = type\n    type = null\n  }\n\n  one(tree)\n\n  /* Visit a single node. */\n  function one(node) {\n    var result\n\n    if (!type || node.type === type) {\n      result = visitor(node, stack.concat())\n    }\n\n    if (node.children && result !== false) {\n      return all(node.children, node)\n    }\n\n    return result\n  }\n\n  /* Visit children in `parent`. */\n  function all(children, parent) {\n    var length = children.length\n    var index = -1\n    var child\n\n    stack.push(parent)\n\n    while (++index < length) {\n      child = children[index]\n\n      if (child && one(child) === false) {\n        return false\n      }\n    }\n\n    stack.pop()\n\n    return true\n  }\n}\n","\"use strict\";\n\n/**\n * Naive, simple plugin to match inline nodes without attributes\n * This allows say <strong>foo</strong>, but not <strong class=\"very\">foo</strong>\n * For proper HTML support, you'll want a different plugin\n **/\nvar visit = require('unist-util-visit');\n\nvar type = 'virtualHtml';\nvar selfClosingRe = /^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\s*\\/?>$/i;\nvar simpleTagRe = /^<(\\/?)([a-z]+)\\s*>$/;\n\nmodule.exports = function (tree) {\n  var open;\n  var currentParent;\n  visit(tree, 'html', function (node, index, parent) {\n    if (currentParent !== parent) {\n      open = [];\n      currentParent = parent;\n    }\n\n    var selfClosing = getSelfClosing(node);\n\n    if (selfClosing) {\n      parent.children.splice(index, 1, {\n        type: type,\n        tag: selfClosing,\n        position: node.position\n      });\n      return true;\n    }\n\n    var current = getSimpleTag(node, parent);\n\n    if (!current) {\n      return true;\n    }\n\n    var matching = findAndPull(open, current.tag);\n\n    if (matching) {\n      parent.children.splice(index, 0, virtual(current, matching, parent));\n    } else if (!current.opening) {\n      open.push(current);\n    }\n\n    return true;\n  }, true // Iterate in reverse\n  );\n  return tree;\n};\n\nfunction findAndPull(open, matchingTag) {\n  var i = open.length;\n\n  while (i--) {\n    if (open[i].tag === matchingTag) {\n      return open.splice(i, 1)[0];\n    }\n  }\n\n  return false;\n}\n\nfunction getSimpleTag(node, parent) {\n  var match = node.value.match(simpleTagRe);\n  return match ? {\n    tag: match[2],\n    opening: !match[1],\n    node: node\n  } : false;\n}\n\nfunction getSelfClosing(node) {\n  var match = node.value.match(selfClosingRe);\n  return match ? match[1] : false;\n}\n\nfunction virtual(fromNode, toNode, parent) {\n  var fromIndex = parent.children.indexOf(fromNode.node);\n  var toIndex = parent.children.indexOf(toNode.node);\n  var extracted = parent.children.splice(fromIndex, toIndex - fromIndex + 1);\n  var children = extracted.slice(1, -1);\n  return {\n    type: type,\n    children: children,\n    tag: fromNode.tag,\n    position: {\n      start: fromNode.node.position.start,\n      end: toNode.node.position.end,\n      indent: []\n    }\n  };\n}","module.exports = identity\nfunction identity(d) {\n  return d\n}\n","\"use strict\";\n\nvar visit = require('unist-util-visit');\n\nvar splice = [].splice;\n\nexports.ofType = function (types, mode) {\n  return ifNotMatch(allow, mode);\n\n  function allow(node, index, parent) {\n    return !types.includes(node.type);\n  }\n};\n\nexports.ifNotMatch = ifNotMatch;\n\nfunction ifNotMatch(allow, mode) {\n  return transform;\n\n  function transform(tree) {\n    visit(tree, filter);\n    return tree;\n  } // eslint-disable-next-line consistent-return\n\n\n  function filter(node, index, parent) {\n    if (parent && !allow(node, index, parent)) {\n      var parameters = [index, 1];\n\n      if (mode === 'unwrap' && node.children) {\n        parameters = parameters.concat(node.children);\n      }\n\n      splice.apply(parent.children, parameters);\n      return index;\n    }\n  }\n}","'use strict';\n\nvar React = require('react');\n\nvar xtend = require('xtend');\n\nvar ReactIs = require('react-is');\n\nfunction astToReact(node, options) {\n  var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var renderer = options.renderers[node.type]; // Nodes created by plugins do not have positional info, in which case we set\n  // an object that matches the positon interface.\n\n  if (!node.position) {\n    node.position = {\n      start: {\n        line: null,\n        column: null,\n        offset: null\n      },\n      end: {\n        line: null,\n        column: null,\n        offset: null\n      }\n    };\n  }\n\n  var pos = node.position.start;\n  var key = [node.type, pos.line, pos.column, index].join('-');\n\n  if (!ReactIs.isValidElementType(renderer)) {\n    throw new Error(\"Renderer for type `\".concat(node.type, \"` not defined or is not renderable\"));\n  }\n\n  var nodeProps = getNodeProps(node, key, options, renderer, parent, index);\n  return React.createElement(renderer, nodeProps, nodeProps.children || resolveChildren() || undefined);\n\n  function resolveChildren() {\n    return node.children && node.children.map(function (childNode, i) {\n      return astToReact(childNode, options, {\n        node: node,\n        props: nodeProps\n      }, i);\n    });\n  }\n} // eslint-disable-next-line max-params, complexity\n\n\nfunction getNodeProps(node, key, opts, renderer, parent, index) {\n  var props = {\n    key: key\n  };\n  var isSimpleRenderer = typeof renderer === 'string' || renderer === React.Fragment; // `sourcePos` is true if the user wants source information (line/column info from markdown source)\n\n  if (opts.sourcePos && node.position) {\n    props['data-sourcepos'] = flattenPosition(node.position);\n  }\n\n  if (opts.rawSourcePos && !isSimpleRenderer) {\n    props.sourcePosition = node.position;\n  } // If `includeNodeIndex` is true, pass node index info to all non-tag renderers\n\n\n  if (opts.includeNodeIndex && parent.node && parent.node.children && !isSimpleRenderer) {\n    props.index = parent.node.children.indexOf(node);\n    props.parentChildCount = parent.node.children.length;\n  }\n\n  var ref = node.identifier !== null && node.identifier !== undefined ?\n  /* istanbul ignore next - plugins could inject an undefined reference. */\n  opts.definitions[node.identifier.toUpperCase()] || {} : null;\n\n  switch (node.type) {\n    case 'root':\n      assignDefined(props, {\n        className: opts.className\n      });\n      break;\n\n    case 'text':\n      props.nodeKey = key;\n      props.children = node.value;\n      break;\n\n    case 'heading':\n      props.level = node.depth;\n      break;\n\n    case 'list':\n      props.start = node.start;\n      props.ordered = node.ordered;\n      props.spread = node.spread;\n      props.depth = node.depth;\n      break;\n\n    case 'listItem':\n      props.checked = node.checked;\n      props.spread = node.spread;\n      props.ordered = node.ordered;\n      props.index = node.index;\n      props.children = getListItemChildren(node, parent).map(function (childNode, i) {\n        return astToReact(childNode, opts, {\n          node: node,\n          props: props\n        }, i);\n      });\n      break;\n\n    case 'definition':\n      assignDefined(props, {\n        identifier: node.identifier,\n        title: node.title,\n        url: node.url\n      });\n      break;\n\n    case 'code':\n      assignDefined(props, {\n        language: node.lang && node.lang.split(/\\s/, 1)[0]\n      });\n      break;\n\n    case 'inlineCode':\n      props.children = node.value;\n      props.inline = true;\n      break;\n\n    case 'link':\n      assignDefined(props, {\n        title: node.title || undefined,\n        target: typeof opts.linkTarget === 'function' ? opts.linkTarget(node.url, node.children, node.title) : opts.linkTarget,\n        href: opts.transformLinkUri ? opts.transformLinkUri(node.url, node.children, node.title) : node.url\n      });\n      break;\n\n    case 'image':\n      assignDefined(props, {\n        src: opts.transformImageUri ? opts.transformImageUri(node.url, node.children, node.title, node.alt) : node.url,\n        alt: node.alt || '',\n        title: node.title || undefined\n      });\n      break;\n\n    case 'linkReference':\n      assignDefined(props, xtend(ref, {\n        href: opts.transformLinkUri ? opts.transformLinkUri(ref.href) : ref.href\n      }));\n      break;\n\n    case 'imageReference':\n      assignDefined(props, {\n        src: opts.transformImageUri && ref.href ? opts.transformImageUri(ref.href, node.children, ref.title, node.alt) : ref.href,\n        alt: node.alt || '',\n        title: ref.title || undefined\n      });\n      break;\n\n    case 'table':\n    case 'tableHead':\n    case 'tableBody':\n      props.columnAlignment = node.align;\n      break;\n\n    case 'tableRow':\n      props.isHeader = parent.node.type === 'tableHead';\n      props.columnAlignment = parent.props.columnAlignment;\n      break;\n\n    case 'tableCell':\n      assignDefined(props, {\n        isHeader: parent.props.isHeader,\n        align: parent.props.columnAlignment[index]\n      });\n      break;\n\n    case 'virtualHtml':\n      props.tag = node.tag;\n      break;\n\n    case 'html':\n      // @todo find a better way than this\n      props.isBlock = node.position.start.line !== node.position.end.line;\n      props.allowDangerousHtml = opts.allowDangerousHtml;\n      props.escapeHtml = opts.escapeHtml;\n      props.skipHtml = opts.skipHtml;\n      break;\n\n    case 'parsedHtml':\n      {\n        var parsedChildren;\n\n        if (node.children) {\n          parsedChildren = node.children.map(function (child, i) {\n            return astToReact(child, opts, {\n              node: node,\n              props: props\n            }, i);\n          });\n        }\n\n        props.allowDangerousHtml = opts.allowDangerousHtml;\n        props.escapeHtml = opts.escapeHtml;\n        props.skipHtml = opts.skipHtml;\n        props.element = node.element ? mergeNodeChildren(node, parsedChildren) : null;\n        break;\n      }\n\n    default:\n      assignDefined(props, xtend(node, {\n        type: undefined,\n        position: undefined,\n        children: undefined\n      }));\n  }\n\n  if (!isSimpleRenderer && node.value) {\n    props.value = node.value;\n  }\n\n  if (!isSimpleRenderer) {\n    props.node = node;\n  }\n\n  return props;\n}\n\nfunction assignDefined(target, attrs) {\n  for (var key in attrs) {\n    if (typeof attrs[key] !== 'undefined') {\n      target[key] = attrs[key];\n    }\n  }\n}\n\nfunction mergeNodeChildren(node, parsedChildren) {\n  var el = node.element;\n\n  if (Array.isArray(el)) {\n    /* istanbul ignore next - `div` fallback for old React. */\n    var Fragment = React.Fragment || 'div';\n    return React.createElement(Fragment, null, el);\n  }\n\n  if (el.props.children || parsedChildren) {\n    var children = React.Children.toArray(el.props.children).concat(parsedChildren);\n    return React.cloneElement(el, null, children);\n  }\n\n  return React.cloneElement(el, null);\n}\n\nfunction flattenPosition(pos) {\n  return [pos.start.line, ':', pos.start.column, '-', pos.end.line, ':', pos.end.column].map(String).join('');\n}\n\nfunction getListItemChildren(node, parent) {\n  /* istanbul ignore next - list items are always in a list, but best to be sure. */\n  var loose = parent && parent.node ? listLoose(parent.node) : listItemLoose(node);\n  return loose ? node.children : unwrapParagraphs(node);\n}\n\nfunction unwrapParagraphs(node) {\n  return node.children.reduce(function (array, child) {\n    return array.concat(child.type === 'paragraph' ? child.children : [child]);\n  }, []);\n}\n\nfunction listLoose(node) {\n  var children = node.children;\n  var loose = node.spread;\n  var index = -1;\n\n  while (!loose && ++index < children.length) {\n    loose = listItemLoose(children[index]);\n  }\n\n  return loose;\n}\n\nfunction listItemLoose(node) {\n  var spread = node.spread;\n  /* istanbul ignore next - spread is present from remark-parse, but maybe plugins don’t set it. */\n\n  return spread === undefined || spread === null ? node.children.length > 1 : spread;\n}\n\nmodule.exports = astToReact;","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function (node) {\n  visit(node, 'table', wrap);\n  return node;\n};\n\nfunction wrap(table) {\n  var children = table.children;\n  table.children = [{\n    type: 'tableHead',\n    align: table.align,\n    children: [children[0]],\n    position: children[0].position\n  }];\n\n  if (children.length > 1) {\n    table.children.push({\n      type: 'tableBody',\n      align: table.align,\n      children: children.slice(1),\n      position: {\n        start: children[1].position.start,\n        end: children[children.length - 1].position.end\n      }\n    });\n  }\n}","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function getDefinitions(tree) {\n  var definitions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  visit(tree, 'definition', function (node) {\n    var identifier = node.identifier.toUpperCase();\n    if (identifier in definitions) return;\n    definitions[identifier] = {\n      href: node.url,\n      title: node.title\n    };\n  });\n  return definitions;\n};","\"use strict\";\n\nvar protocols = ['http', 'https', 'mailto', 'tel'];\n\nmodule.exports = function uriTransformer(uri) {\n  var url = (uri || '').trim();\n  var first = url.charAt(0);\n\n  if (first === '#' || first === '/') {\n    return url;\n  }\n\n  var colon = url.indexOf(':');\n\n  if (colon === -1) {\n    return url;\n  }\n\n  var length = protocols.length;\n  var index = -1;\n\n  while (++index < length) {\n    var protocol = protocols[index];\n\n    if (colon === protocol.length && url.slice(0, protocol.length).toLowerCase() === protocol) {\n      return url;\n    }\n  }\n\n  index = url.indexOf('?');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  }\n\n  index = url.indexOf('#');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  } // eslint-disable-next-line no-script-url\n\n\n  return 'javascript:void(0)';\n};","/* eslint-disable react/prop-types, react/no-multi-comp */\n'use strict';\n\nvar xtend = require('xtend');\n\nvar React = require('react');\n/* istanbul ignore next - Don’t crash on old React. */\n\n\nvar supportsStringRender = parseInt((React.version || '16').slice(0, 2), 10) >= 16;\nvar createElement = React.createElement;\nmodule.exports = {\n  break: 'br',\n  paragraph: 'p',\n  emphasis: 'em',\n  strong: 'strong',\n  thematicBreak: 'hr',\n  blockquote: 'blockquote',\n  delete: 'del',\n  link: 'a',\n  image: 'img',\n  linkReference: 'a',\n  imageReference: 'img',\n  table: SimpleRenderer.bind(null, 'table'),\n  tableHead: SimpleRenderer.bind(null, 'thead'),\n  tableBody: SimpleRenderer.bind(null, 'tbody'),\n  tableRow: SimpleRenderer.bind(null, 'tr'),\n  tableCell: TableCell,\n  root: Root,\n  text: TextRenderer,\n  list: List,\n  listItem: ListItem,\n  definition: NullRenderer,\n  heading: Heading,\n  inlineCode: InlineCode,\n  code: CodeBlock,\n  html: Html,\n  virtualHtml: VirtualHtml,\n  parsedHtml: ParsedHtml\n};\n\nfunction TextRenderer(props) {\n  /* istanbul ignore next - a text node w/o a value could be injected by plugins */\n  var children = props.children || '';\n  /* istanbul ignore next - `span` is a fallback for old React. */\n\n  return supportsStringRender ? children : createElement('span', null, children);\n}\n\nfunction Root(props) {\n  var className = props.className;\n  var root = !className && React.Fragment || 'div';\n  return createElement(root, className ? {\n    className: className\n  } : null, props.children);\n}\n\nfunction SimpleRenderer(tag, props) {\n  return createElement(tag, getCoreProps(props), props.children);\n}\n\nfunction TableCell(props) {\n  var style = props.align ? {\n    textAlign: props.align\n  } : undefined;\n  var coreProps = getCoreProps(props);\n  return createElement(props.isHeader ? 'th' : 'td', style ? xtend({\n    style: style\n  }, coreProps) : coreProps, props.children);\n}\n\nfunction Heading(props) {\n  return createElement(\"h\".concat(props.level), getCoreProps(props), props.children);\n}\n\nfunction List(props) {\n  var attrs = getCoreProps(props);\n\n  if (props.start !== null && props.start !== 1 && props.start !== undefined) {\n    attrs.start = props.start.toString();\n  }\n\n  return createElement(props.ordered ? 'ol' : 'ul', attrs, props.children);\n}\n\nfunction ListItem(props) {\n  var checkbox = null;\n\n  if (props.checked !== null && props.checked !== undefined) {\n    var checked = props.checked;\n    checkbox = createElement('input', {\n      type: 'checkbox',\n      checked: checked,\n      readOnly: true\n    });\n  }\n\n  return createElement('li', getCoreProps(props), checkbox, props.children);\n}\n\nfunction CodeBlock(props) {\n  var className = props.language && \"language-\".concat(props.language);\n  var code = createElement('code', className ? {\n    className: className\n  } : null, props.value);\n  return createElement('pre', getCoreProps(props), code);\n}\n\nfunction InlineCode(props) {\n  return createElement('code', getCoreProps(props), props.children);\n}\n\nfunction Html(props) {\n  if (props.skipHtml) {\n    return null;\n  }\n\n  var dangerous = props.allowDangerousHtml || props.escapeHtml === false;\n  var tag = props.isBlock ? 'div' : 'span';\n\n  if (!dangerous) {\n    /* istanbul ignore next - `tag` is a fallback for old React. */\n    return createElement(React.Fragment || tag, null, props.value);\n  }\n\n  var nodeProps = {\n    dangerouslySetInnerHTML: {\n      __html: props.value\n    }\n  };\n  return createElement(tag, nodeProps);\n}\n\nfunction ParsedHtml(props) {\n  /* To do: `React.cloneElement` is slow, is it really needed? */\n  return props['data-sourcepos'] ? React.cloneElement(props.element, {\n    'data-sourcepos': props['data-sourcepos']\n  }) : props.element;\n}\n\nfunction VirtualHtml(props) {\n  return createElement(props.tag, getCoreProps(props), props.children);\n}\n\nfunction NullRenderer() {\n  return null;\n}\n\nfunction getCoreProps(props) {\n  var source = props['data-sourcepos'];\n  /* istanbul ignore next - nodes from plugins w/o position */\n\n  return source ? {\n    'data-sourcepos': source\n  } : {};\n}","\"use strict\";\n\nvar HtmlParser = '__RMD_HTML_PARSER__';\n/* istanbul ignore next - Fallback for `Symbol`. */\n\nexports.HtmlParser = typeof Symbol === 'undefined' ? HtmlParser : Symbol(HtmlParser);","'use strict'\n\nvar syntax = require('micromark-extension-gfm')\nvar fromMarkdown = require('mdast-util-gfm/from-markdown')\nvar toMarkdown = require('mdast-util-gfm/to-markdown')\n\nvar warningIssued\n\nmodule.exports = gfm\n\nfunction gfm(options) {\n  var data = this.data()\n\n  /* istanbul ignore next - old remark. */\n  if (\n    !warningIssued &&\n    ((this.Parser &&\n      this.Parser.prototype &&\n      this.Parser.prototype.blockTokenizers) ||\n      (this.Compiler &&\n        this.Compiler.prototype &&\n        this.Compiler.prototype.visitors))\n  ) {\n    warningIssued = true\n    console.warn(\n      '[remark-gfm] Warning: please upgrade to remark 13 to use this plugin'\n    )\n  }\n\n  add('micromarkExtensions', syntax(options))\n  add('fromMarkdownExtensions', fromMarkdown)\n  add('toMarkdownExtensions', toMarkdown(options))\n\n  function add(field, value) {\n    /* istanbul ignore if - other extensions. */\n    if (data[field]) data[field].push(value)\n    else data[field] = [value]\n  }\n}\n","module.exports = require('./syntax')\n","var combine = require('micromark/dist/util/combine-extensions')\nvar autolink = require('micromark-extension-gfm-autolink-literal')\nvar strikethrough = require('micromark-extension-gfm-strikethrough')\nvar table = require('micromark-extension-gfm-table')\nvar tasklist = require('micromark-extension-gfm-task-list-item')\n\nmodule.exports = create\n\nfunction create(options) {\n  return combine([autolink, strikethrough(options), table, tasklist])\n}\n","module.exports = require('./syntax')\n","var asciiAlpha = require('micromark/dist/character/ascii-alpha')\nvar asciiAlphanumeric = require('micromark/dist/character/ascii-alphanumeric')\nvar asciiControl = require('micromark/dist/character/ascii-control')\nvar markdownLineEnding = require('micromark/dist/character/markdown-line-ending')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nvar www = {tokenize: tokenizeWww, partial: true}\nvar domain = {tokenize: tokenizeDomain, partial: true}\nvar path = {tokenize: tokenizePath, partial: true}\nvar punctuation = {tokenize: tokenizePunctuation, partial: true}\nvar namedCharacterReference = {\n  tokenize: tokenizeNamedCharacterReference,\n  partial: true\n}\n\nvar wwwAutolink = {tokenize: tokenizeWwwAutolink, previous: previousWww}\nvar httpAutolink = {tokenize: tokenizeHttpAutolink, previous: previousHttp}\nvar emailAutolink = {tokenize: tokenizeEmailAutolink, previous: previousEmail}\n\nvar text = {}\n\n// Export hooked constructs.\nexports.text = text\n\n// `0`\nvar code = 48\n\n// While the code is smaller than `{`.\nwhile (code < 123) {\n  text[code] = emailAutolink\n  code++\n  // Jump from `:` -> `A`\n  if (code === 58) code = 65\n  // Jump from `[` -> `a`\n  else if (code === 91) code = 97\n}\n\n// `+`\ntext[43] = emailAutolink\n// `-`\ntext[45] = emailAutolink\n// `.`\ntext[46] = emailAutolink\n// `_`\ntext[95] = emailAutolink\n// `h`.\ntext[72] = [emailAutolink, httpAutolink]\ntext[104] = [emailAutolink, httpAutolink]\n// `w`.\ntext[87] = [emailAutolink, wwwAutolink]\ntext[119] = [emailAutolink, wwwAutolink]\n\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  var self = this\n  var hasDot\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      !gfmAtext(code) ||\n      !previousEmail(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkEmail')\n    return atext(code)\n  }\n\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code)\n      return atext\n    }\n\n    // `@`\n    if (code === 64) {\n      effects.consume(code)\n      return label\n    }\n\n    return nok(code)\n  }\n\n  function label(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, done, dotContinuation)(code)\n    }\n\n    if (\n      // `-`\n      code === 45 ||\n      // `_`\n      code === 95\n    ) {\n      return effects.check(punctuation, nok, dashOrUnderscoreContinuation)(code)\n    }\n\n    if (asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return label\n    }\n\n    return done(code)\n  }\n\n  function dotContinuation(code) {\n    effects.consume(code)\n    hasDot = true\n    return label\n  }\n\n  function dashOrUnderscoreContinuation(code) {\n    effects.consume(code)\n    return afterDashOrUnderscore\n  }\n\n  function afterDashOrUnderscore(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, nok, dotContinuation)(code)\n    }\n\n    return label(code)\n  }\n\n  function done(code) {\n    if (hasDot) {\n      effects.exit('literalAutolinkEmail')\n      effects.exit('literalAutolink')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 87 && code - 32 !== 87) ||\n      !previousWww(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkWww')\n    // For `www.` we check instead of attempt, because when it matches, GH\n    // treats it as part of a domain (yes, it says a valid domain must come\n    // after `www.`, but that’s not how it’s implemented by them).\n    return effects.check(\n      www,\n      effects.attempt(domain, effects.attempt(path, done), nok),\n      nok\n    )(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkWww')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeHttpAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 72 && code - 32 !== 72) ||\n      !previousHttp(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkHttp')\n    effects.consume(code)\n    return t1\n  }\n\n  function t1(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return t2\n    }\n\n    return nok(code)\n  }\n\n  function t2(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return p\n    }\n\n    return nok(code)\n  }\n\n  function p(code) {\n    // `p`\n    if (code === 80 || code - 32 === 80) {\n      effects.consume(code)\n      return s\n    }\n\n    return nok(code)\n  }\n\n  function s(code) {\n    // `s`\n    if (code === 83 || code - 32 === 83) {\n      effects.consume(code)\n      return colon\n    }\n\n    return colon(code)\n  }\n\n  function colon(code) {\n    // `:`\n    if (code === 58) {\n      effects.consume(code)\n      return slash1\n    }\n\n    return nok(code)\n  }\n\n  function slash1(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return slash2\n    }\n\n    return nok(code)\n  }\n\n  function slash2(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      unicodePunctuation(code)\n      ? nok(code)\n      : effects.attempt(domain, effects.attempt(path, done), nok)(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkHttp')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeWww(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume a `w`.\n    effects.consume(code)\n    return w2\n  }\n\n  function w2(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return w3\n    }\n\n    return nok(code)\n  }\n\n  function w3(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return dot\n    }\n\n    return nok(code)\n  }\n\n  function dot(code) {\n    // `.`\n    if (code === 46) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? nok(code) : ok(code)\n  }\n}\n\nfunction tokenizeDomain(effects, ok, nok) {\n  var hasUnderscoreInLastSegment\n  var hasUnderscoreInLastLastSegment\n\n  return domain\n\n  function domain(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        done,\n        punctuationContinuation\n      )(code)\n    }\n\n    if (code === 46 /* `.` */ || code === 95 /* `_` */) {\n      return effects.check(punctuation, done, punctuationContinuation)(code)\n    }\n\n    // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www.點看.com`,\n    // so that’s Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n    if (\n      asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      (code !== 45 /* `-` */ && unicodePunctuation(code))\n    ) {\n      return done(code)\n    }\n\n    effects.consume(code)\n    return domain\n  }\n\n  function punctuationContinuation(code) {\n    // `.`\n    if (code === 46) {\n      hasUnderscoreInLastLastSegment = hasUnderscoreInLastSegment\n      hasUnderscoreInLastSegment = undefined\n      effects.consume(code)\n      return domain\n    }\n\n    // `_`\n    if (code === 95) hasUnderscoreInLastSegment = true\n\n    effects.consume(code)\n    return domain\n  }\n\n  function done(code) {\n    if (!hasUnderscoreInLastLastSegment && !hasUnderscoreInLastSegment) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizePath(effects, ok) {\n  var balance = 0\n\n  return inPath\n\n  function inPath(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        ok,\n        continuedPunctuation\n      )(code)\n    }\n\n    // `(`\n    if (code === 40) {\n      balance++\n    }\n\n    // `)`\n    if (code === 41) {\n      return effects.check(\n        punctuation,\n        parenAtPathEnd,\n        continuedPunctuation\n      )(code)\n    }\n\n    if (pathEnd(code)) {\n      return ok(code)\n    }\n\n    if (trailingPunctuation(code)) {\n      return effects.check(punctuation, ok, continuedPunctuation)(code)\n    }\n\n    effects.consume(code)\n    return inPath\n  }\n\n  function continuedPunctuation(code) {\n    effects.consume(code)\n    return inPath\n  }\n\n  function parenAtPathEnd(code) {\n    balance--\n    return balance < 0 ? ok(code) : continuedPunctuation(code)\n  }\n}\n\nfunction tokenizeNamedCharacterReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume an ampersand.\n    effects.consume(code)\n    return inside\n  }\n\n  function inside(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return inside\n    }\n\n    // `;`\n    if (code === 59) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    // If the named character reference is followed by the end of the path, it’s\n    // not continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction tokenizePunctuation(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Always a valid trailing punctuation marker.\n    effects.consume(code)\n    return after\n  }\n\n  function after(code) {\n    // Check the next.\n    if (trailingPunctuation(code)) {\n      effects.consume(code)\n      return after\n    }\n\n    // If the punctuation marker is followed by the end of the path, it’s not\n    // continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction trailingPunctuation(code) {\n  return (\n    // `!`\n    code === 33 ||\n    // `\"`\n    code === 34 ||\n    // `'`\n    code === 39 ||\n    // `)`\n    code === 41 ||\n    // `*`\n    code === 42 ||\n    // `,`\n    code === 44 ||\n    // `.`\n    code === 46 ||\n    // `:`\n    code === 58 ||\n    // `;`\n    code === 59 ||\n    // `<`\n    code === 60 ||\n    // `?`\n    code === 63 ||\n    // `_`.\n    code === 95 ||\n    // `~`\n    code === 126\n  )\n}\n\nfunction pathEnd(code) {\n  return (\n    // EOF.\n    code === null ||\n    // CR, LF, CRLF, HT, VS.\n    code < 0 ||\n    // Space.\n    code === 32 ||\n    // `<`\n    code === 60\n  )\n}\n\nfunction gfmAtext(code) {\n  return (\n    code === 43 /* `+` */ ||\n    code === 45 /* `-` */ ||\n    code === 46 /* `.` */ ||\n    code === 95 /* `_` */ ||\n    asciiAlphanumeric(code)\n  )\n}\n\nfunction previousWww(code) {\n  return (\n    code === null ||\n    code < 0 ||\n    code === 32 /* ` ` */ ||\n    code === 40 /* `(` */ ||\n    code === 42 /* `*` */ ||\n    code === 95 /* `_` */ ||\n    code === 126 /* `~` */\n  )\n}\n\nfunction previousHttp(code) {\n  return code === null || !asciiAlpha(code)\n}\n\nfunction previousEmail(code) {\n  return code !== 47 /* `/` */ && previousHttp(code)\n}\n\nfunction previous(events) {\n  var index = events.length\n\n  while (index--) {\n    if (\n      (events[index][1].type === 'labelLink' ||\n        events[index][1].type === 'labelImage') &&\n      !events[index][1]._balanced\n    ) {\n      return true\n    }\n  }\n}\n","module.exports = create\n\nvar classifyCharacter = require('micromark/dist/util/classify-character')\nvar chunkedSplice = require('micromark/dist/util/chunked-splice')\nvar resolveAll = require('micromark/dist/util/resolve-all')\nvar shallow = require('micromark/dist/util/shallow')\n\nfunction create(options) {\n  var settings = options || {}\n  var single = settings.singleTilde\n  var tokenizer = {\n    tokenize: tokenizeStrikethrough,\n    resolveAll: resolveAllStrikethrough\n  }\n\n  if (single === null || single === undefined) {\n    single = true\n  }\n\n  return {text: {126: tokenizer}, insideSpan: {null: tokenizer}}\n\n  // Take events and resolve strikethrough.\n  function resolveAllStrikethrough(events, context) {\n    var index = -1\n    var strikethrough\n    var text\n    var open\n    var nextEvents\n\n    // Walk through all events.\n    while (++index < events.length) {\n      // Find a token that can close.\n      if (\n        events[index][0] === 'enter' &&\n        events[index][1].type === 'strikethroughSequenceTemporary' &&\n        events[index][1]._close\n      ) {\n        open = index\n\n        // Now walk back to find an opener.\n        while (open--) {\n          // Find a token that can open the closer.\n          if (\n            events[open][0] === 'exit' &&\n            events[open][1].type === 'strikethroughSequenceTemporary' &&\n            events[open][1]._open &&\n            // If the sizes are the same:\n            events[index][1].end.offset - events[index][1].start.offset ===\n              events[open][1].end.offset - events[open][1].start.offset\n          ) {\n            events[index][1].type = 'strikethroughSequence'\n            events[open][1].type = 'strikethroughSequence'\n\n            strikethrough = {\n              type: 'strikethrough',\n              start: shallow(events[open][1].start),\n              end: shallow(events[index][1].end)\n            }\n\n            text = {\n              type: 'strikethroughText',\n              start: shallow(events[open][1].end),\n              end: shallow(events[index][1].start)\n            }\n\n            // Opening.\n            nextEvents = [\n              ['enter', strikethrough, context],\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context],\n              ['enter', text, context]\n            ]\n\n            // Between.\n            chunkedSplice(\n              nextEvents,\n              nextEvents.length,\n              0,\n              resolveAll(\n                context.parser.constructs.insideSpan.null,\n                events.slice(open + 1, index),\n                context\n              )\n            )\n\n            // Closing.\n            chunkedSplice(nextEvents, nextEvents.length, 0, [\n              ['exit', text, context],\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context],\n              ['exit', strikethrough, context]\n            ])\n\n            chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n\n            index = open + nextEvents.length - 2\n            break\n          }\n        }\n      }\n    }\n\n    return removeRemainingSequences(events)\n  }\n\n  function removeRemainingSequences(events) {\n    var index = -1\n    var length = events.length\n\n    while (++index < length) {\n      if (events[index][1].type === 'strikethroughSequenceTemporary') {\n        events[index][1].type = 'data'\n      }\n    }\n\n    return events\n  }\n\n  function tokenizeStrikethrough(effects, ok, nok) {\n    var previous = this.previous\n    var events = this.events\n    var size = 0\n\n    return start\n\n    function start(code) {\n      if (\n        code !== 126 ||\n        (previous === 126 &&\n          events[events.length - 1][1].type !== 'characterEscape')\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('strikethroughSequenceTemporary')\n      return more(code)\n    }\n\n    function more(code) {\n      var before = classifyCharacter(previous)\n      var token\n      var after\n\n      if (code === 126) {\n        // If this is the third marker, exit.\n        if (size > 1) return nok(code)\n        effects.consume(code)\n        size++\n        return more\n      }\n\n      if (size < 2 && !single) return nok(code)\n      token = effects.exit('strikethroughSequenceTemporary')\n      after = classifyCharacter(code)\n      token._open = !after || (after === 2 && before)\n      token._close = !before || (before === 2 && after)\n      return ok(code)\n    }\n  }\n}\n","module.exports = require('./syntax')\n","exports.flow = {\n  null: {tokenize: tokenizeTable, resolve: resolveTable, interruptible: true}\n}\n\nvar createSpace = require('micromark/dist/tokenize/factory-space')\n\nvar setextUnderlineMini = {tokenize: tokenizeSetextUnderlineMini, partial: true}\nvar nextPrefixedOrBlank = {tokenize: tokenizeNextPrefixedOrBlank, partial: true}\n\nfunction resolveTable(events, context) {\n  var length = events.length\n  var index = -1\n  var token\n  var inHead\n  var inDelimiterRow\n  var inRow\n  var cell\n  var content\n  var text\n  var contentStart\n  var contentEnd\n  var cellStart\n\n  while (++index < length) {\n    token = events[index][1]\n\n    if (inRow) {\n      if (token.type === 'temporaryTableCellContent') {\n        contentStart = contentStart || index\n        contentEnd = index\n      }\n\n      if (\n        // Combine separate content parts into one.\n        (token.type === 'tableCellDivider' || token.type === 'tableRow') &&\n        contentEnd\n      ) {\n        content = {\n          type: 'tableContent',\n          start: events[contentStart][1].start,\n          end: events[contentEnd][1].end\n        }\n        text = {\n          type: 'chunkText',\n          start: content.start,\n          end: content.end,\n          contentType: 'text'\n        }\n\n        events.splice(\n          contentStart,\n          contentEnd - contentStart + 1,\n          ['enter', content, context],\n          ['enter', text, context],\n          ['exit', text, context],\n          ['exit', content, context]\n        )\n        index -= contentEnd - contentStart - 3\n        length = events.length\n        contentStart = undefined\n        contentEnd = undefined\n      }\n    }\n\n    if (\n      events[index][0] === 'exit' &&\n      cellStart &&\n      cellStart + 1 < index &&\n      (token.type === 'tableCellDivider' ||\n        (token.type === 'tableRow' &&\n          (cellStart + 3 < index ||\n            events[cellStart][1].type !== 'whitespace')))\n    ) {\n      cell = {\n        type: inDelimiterRow\n          ? 'tableDelimiter'\n          : inHead\n          ? 'tableHeader'\n          : 'tableData',\n        start: events[cellStart][1].start,\n        end: events[index][1].end\n      }\n      events.splice(index + (token.type === 'tableCellDivider' ? 1 : 0), 0, [\n        'exit',\n        cell,\n        context\n      ])\n      events.splice(cellStart, 0, ['enter', cell, context])\n      index += 2\n      length = events.length\n      cellStart = index + 1\n    }\n\n    if (token.type === 'tableRow') {\n      inRow = events[index][0] === 'enter'\n\n      if (inRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableDelimiterRow') {\n      inDelimiterRow = events[index][0] === 'enter'\n\n      if (inDelimiterRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableHead') {\n      inHead = events[index][0] === 'enter'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeTable(effects, ok, nok) {\n  var align = []\n  var tableHeaderCount = 0\n  var seenDelimiter\n  var hasDash\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore if - used to be passed in beta micromark versions. */\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return nok(code)\n    }\n\n    effects.enter('table')._align = align\n    effects.enter('tableHead')\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    tableHeaderCount++\n    effects.enter('temporaryTableCellContent')\n    // Can’t be space or eols at the start of a construct, so we’re in a cell.\n    return inCellContentHead(code)\n  }\n\n  function cellDividerHead(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    seenDelimiter = true\n    return cellBreakHead\n  }\n\n  function cellBreakHead(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndHead(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    if (seenDelimiter) {\n      seenDelimiter = undefined\n      tableHeaderCount++\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentHead(code)\n  }\n\n  function inWhitespaceHead(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    effects.exit('whitespace')\n    return cellBreakHead(code)\n  }\n\n  function inCellContentHead(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakHead(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeHead : inCellContentHead\n  }\n\n  function inCellContentEscapeHead(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentHead\n    }\n\n    // Anything else.\n    return inCellContentHead(code)\n  }\n\n  function atRowEndHead(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    effects.exit('tableRow')\n    effects.exit('tableHead')\n\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n\n    // If a setext heading, exit.\n    return effects.check(\n      setextUnderlineMini,\n      nok,\n      // Support an indent before the delimiter row.\n      createSpace(effects, rowStartDelimiter, 'linePrefix', 4)\n    )\n  }\n\n  function rowStartDelimiter(code) {\n    // If there’s another space, or we’re at the EOL/EOF, exit.\n    if (code === null || code < 0 || code === 32) {\n      return nok(code)\n    }\n\n    effects.enter('tableDelimiterRow')\n    return atDelimiterRowBreak(code)\n  }\n\n  function atDelimiterRowBreak(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      align.push(null)\n      return inFillerDelimiter\n    }\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n      align.push('left')\n      return afterLeftAlignment\n    }\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function inWhitespaceDelimiter(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    effects.exit('whitespace')\n    return atDelimiterRowBreak(code)\n  }\n\n  function inFillerDelimiter(code) {\n    // `-`\n    if (code === 45) {\n      effects.consume(code)\n      return inFillerDelimiter\n    }\n\n    effects.exit('tableDelimiterFiller')\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n\n      align[align.length - 1] =\n        align[align.length - 1] === 'left' ? 'center' : 'right'\n\n      return afterRightAlignment\n    }\n\n    return atDelimiterRowBreak(code)\n  }\n\n  function afterLeftAlignment(code) {\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      return inFillerDelimiter\n    }\n\n    // Anything else is not ok.\n    return nok(code)\n  }\n\n  function afterRightAlignment(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `|`\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function rowEndDelimiter(code) {\n    effects.exit('tableDelimiterRow')\n\n    // Exit if there was no dash at all, or if the header cell count is not the\n    // delimiter cell count.\n    if (!hasDash || tableHeaderCount !== align.length) {\n      return nok(code)\n    }\n\n    if (code === null) {\n      return tableClose(code)\n    }\n\n    return effects.check(nextPrefixedOrBlank, tableClose, tableContinue)(code)\n  }\n\n  function tableClose(code) {\n    effects.exit('table')\n    return ok(code)\n  }\n\n  function tableContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // We checked that it’s not a prefixed or blank line, so we’re certain a\n    // body is coming, though it may be indented.\n    return createSpace(effects, bodyStart, 'linePrefix', 4)\n  }\n\n  function bodyStart(code) {\n    effects.enter('tableBody')\n    return rowStartBody(code)\n  }\n\n  function rowStartBody(code) {\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    effects.enter('temporaryTableCellContent')\n    // Can’t be space or eols at the start of a construct, so we’re in a cell.\n    return inCellContentBody(code)\n  }\n\n  function cellDividerBody(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    return cellBreakBody\n  }\n\n  function cellBreakBody(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndBody(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentBody(code)\n  }\n\n  function inWhitespaceBody(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    effects.exit('whitespace')\n    return cellBreakBody(code)\n  }\n\n  function inCellContentBody(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakBody(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeBody : inCellContentBody\n  }\n\n  function inCellContentEscapeBody(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentBody\n    }\n\n    // Anything else.\n    return inCellContentBody(code)\n  }\n\n  function atRowEndBody(code) {\n    effects.exit('tableRow')\n\n    if (code === null) {\n      return tableBodyClose(code)\n    }\n\n    return effects.check(\n      nextPrefixedOrBlank,\n      tableBodyClose,\n      tableBodyContinue\n    )(code)\n  }\n\n  function tableBodyClose(code) {\n    effects.exit('tableBody')\n    return tableClose(code)\n  }\n\n  function tableBodyContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // Support an optional prefix, then start a body row.\n    return createSpace(effects, rowStartBody, 'linePrefix', 4)\n  }\n}\n\n// Based on micromark, but that won’t work as we’re in a table, and that expects\n// content.\n// <https://github.com/micromark/micromark/blob/main/lib/tokenize/setext-underline.js>\nfunction tokenizeSetextUnderlineMini(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // `-`\n    if (code !== 45) {\n      return nok(code)\n    }\n\n    effects.enter('setextUnderline')\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return sequence\n    }\n\n    return whitespace(code)\n  }\n\n  function whitespace(code) {\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return whitespace\n    }\n\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeNextPrefixedOrBlank(effects, ok, nok) {\n  var size = 0\n\n  return start\n\n  function start(code) {\n    // This is a check, so we don’t care about tokens, but we open a bogus one\n    // so we’re valid.\n    effects.enter('check')\n    // EOL.\n    effects.consume(code)\n    return whitespace\n  }\n\n  function whitespace(code) {\n    // VS or SP.\n    if (code === -1 || code === 32) {\n      effects.consume(code)\n      size++\n      return size === 4 ? ok : whitespace\n    }\n\n    // EOF or whitespace\n    if (code === null || code < 0) {\n      return ok(code)\n    }\n\n    // Anything else.\n    return nok(code)\n  }\n}\n","module.exports = require('./syntax')\n","var markdownLineEndingOrSpace = require('micromark/dist/character/markdown-line-ending-or-space')\nvar spaceFactory = require('micromark/dist/tokenize/factory-space')\nvar prefixSize = require('micromark/dist/util/prefix-size')\n\nvar tasklistCheck = {tokenize: tokenizeTasklistCheck}\n\nexports.text = {91: tasklistCheck}\n\nfunction tokenizeTasklistCheck(effects, ok, nok) {\n  var self = this\n\n  return open\n\n  function open(code) {\n    if (\n      // Exit if not `[`.\n      code !== 91 ||\n      // Exit if there’s stuff before.\n      self.previous !== null ||\n      // Exit if not in the first content that is the first child of a list\n      // item.\n      !self._gfmTasklistFirstContentOfListItem\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('taskListCheck')\n    effects.enter('taskListCheckMarker')\n    effects.consume(code)\n    effects.exit('taskListCheckMarker')\n    return inside\n  }\n\n  function inside(code) {\n    // Tab or space.\n    if (code === -2 || code === 32) {\n      effects.enter('taskListCheckValueUnchecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueUnchecked')\n      return close\n    }\n\n    // Upper- and lower `x`.\n    if (code === 88 || code === 120) {\n      effects.enter('taskListCheckValueChecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueChecked')\n      return close\n    }\n\n    return nok(code)\n  }\n\n  function close(code) {\n    // `]`\n    if (code === 93) {\n      effects.enter('taskListCheckMarker')\n      effects.consume(code)\n      effects.exit('taskListCheckMarker')\n      effects.exit('taskListCheck')\n      return effects.check({tokenize: spaceThenNonSpace}, ok, nok)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction spaceThenNonSpace(effects, ok, nok) {\n  var self = this\n\n  return spaceFactory(effects, after, 'whitespace')\n\n  function after(code) {\n    return prefixSize(self.events, 'whitespace') &&\n      code !== null &&\n      !markdownLineEndingOrSpace(code)\n      ? ok(code)\n      : nok(code)\n  }\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/from-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/from-markdown')\nvar table = require('mdast-util-gfm-table/from-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/from-markdown')\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = configure([\n  autolinkLiteral,\n  strikethrough,\n  table,\n  taskListItem\n])\n\nfunction configure(extensions) {\n  var config = {transforms: [], canContainEols: []}\n  var length = extensions.length\n  var index = -1\n\n  while (++index < length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n  var right\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n    right = extension[key]\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, right)\n    } else {\n      Object.assign(left, right)\n    }\n  }\n}\n","var ccount = require('ccount')\nvar findAndReplace = require('mdast-util-find-and-replace')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nexports.transforms = [transformGfmAutolinkLiterals]\nexports.enter = {\n  literalAutolink: enterLiteralAutolink,\n  literalAutolinkEmail: enterLiteralAutolinkValue,\n  literalAutolinkHttp: enterLiteralAutolinkValue,\n  literalAutolinkWww: enterLiteralAutolinkValue\n}\nexports.exit = {\n  literalAutolink: exitLiteralAutolink,\n  literalAutolinkEmail: exitLiteralAutolinkEmail,\n  literalAutolinkHttp: exitLiteralAutolinkHttp,\n  literalAutolinkWww: exitLiteralAutolinkWww\n}\n\nfunction enterLiteralAutolink(token) {\n  this.enter({type: 'link', title: null, url: '', children: []}, token)\n}\n\nfunction enterLiteralAutolinkValue(token) {\n  this.config.enter.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkHttp(token) {\n  this.config.exit.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkWww(token) {\n  this.config.exit.data.call(this, token)\n  this.stack[this.stack.length - 1].url = 'http://' + this.sliceSerialize(token)\n}\n\nfunction exitLiteralAutolinkEmail(token) {\n  this.config.exit.autolinkEmail.call(this, token)\n}\n\nfunction exitLiteralAutolink(token) {\n  this.exit(token)\n}\n\nfunction transformGfmAutolinkLiterals(tree) {\n  findAndReplace(\n    tree,\n    [\n      [/(https?:\\/\\/|www(?=\\.))([-.\\w]+)([^ \\t\\r\\n]*)/i, findUrl],\n      [/([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)/, findEmail]\n    ],\n    {ignore: ['link', 'linkReference']}\n  )\n}\n\nfunction findUrl($0, protocol, domain, path, match) {\n  var prefix = ''\n  var parts\n  var result\n\n  // Not an expected previous character.\n  if (!previous(match)) {\n    return false\n  }\n\n  // Treat `www` as part of the domain.\n  if (/^w/i.test(protocol)) {\n    domain = protocol + domain\n    protocol = ''\n    prefix = 'http://'\n  }\n\n  if (!isCorrectDomain(domain)) {\n    return false\n  }\n\n  parts = splitUrl(domain + path)\n\n  if (!parts[0]) return false\n\n  result = {\n    type: 'link',\n    title: null,\n    url: prefix + protocol + parts[0],\n    children: [{type: 'text', value: protocol + parts[0]}]\n  }\n\n  if (parts[1]) {\n    result = [result, {type: 'text', value: parts[1]}]\n  }\n\n  return result\n}\n\nfunction findEmail($0, atext, label, match) {\n  // Not an expected previous character.\n  if (!previous(match, true) || /[_-]$/.test(label)) {\n    return false\n  }\n\n  return {\n    type: 'link',\n    title: null,\n    url: 'mailto:' + atext + '@' + label,\n    children: [{type: 'text', value: atext + '@' + label}]\n  }\n}\n\nfunction isCorrectDomain(domain) {\n  var parts = domain.split('.')\n\n  if (\n    parts.length < 2 ||\n    (parts[parts.length - 1] &&\n      (/_/.test(parts[parts.length - 1]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 1]))) ||\n    (parts[parts.length - 2] &&\n      (/_/.test(parts[parts.length - 2]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 2])))\n  ) {\n    return false\n  }\n\n  return true\n}\n\nfunction splitUrl(url) {\n  var trail = /[!\"&'),.:;<>?\\]}]+$/.exec(url)\n  var closingParenIndex\n  var openingParens\n  var closingParens\n\n  if (trail) {\n    url = url.slice(0, trail.index)\n    trail = trail[0]\n    closingParenIndex = trail.indexOf(')')\n    openingParens = ccount(url, '(')\n    closingParens = ccount(url, ')')\n\n    while (closingParenIndex !== -1 && openingParens > closingParens) {\n      url += trail.slice(0, closingParenIndex + 1)\n      trail = trail.slice(closingParenIndex + 1)\n      closingParenIndex = trail.indexOf(')')\n      closingParens++\n    }\n  }\n\n  return [url, trail]\n}\n\nfunction previous(match, email) {\n  var code = match.input.charCodeAt(match.index - 1)\n  return (\n    (code !== code || unicodeWhitespace(code) || unicodePunctuation(code)) &&\n    (!email || code !== 47)\n  )\n}\n","'use strict'\n\nmodule.exports = ccount\n\nfunction ccount(source, character) {\n  var value = String(source)\n  var count = 0\n  var index\n\n  if (typeof character !== 'string') {\n    throw new Error('Expected character')\n  }\n\n  index = value.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = value.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","'use strict'\n\nmodule.exports = findAndReplace\n\nvar visit = require('unist-util-visit-parents')\nvar convert = require('unist-util-is/convert')\nvar escape = require('escape-string-regexp')\n\nvar splice = [].splice\n\nfunction findAndReplace(tree, find, replace, options) {\n  var settings\n  var schema\n\n  if (typeof find === 'string' || (find && typeof find.exec === 'function')) {\n    schema = [[find, replace]]\n  } else {\n    schema = find\n    options = replace\n  }\n\n  settings = options || {}\n\n  search(tree, settings, handlerFactory(toPairs(schema)))\n\n  return tree\n\n  function handlerFactory(pairs) {\n    var pair = pairs[0]\n\n    return handler\n\n    function handler(node, parent) {\n      var find = pair[0]\n      var replace = pair[1]\n      var nodes = []\n      var start = 0\n      var index = parent.children.indexOf(node)\n      var position\n      var match\n      var subhandler\n      var value\n\n      find.lastIndex = 0\n\n      match = find.exec(node.value)\n\n      while (match) {\n        position = match.index\n        value = replace.apply(\n          null,\n          [].concat(match, {index: match.index, input: match.input})\n        )\n\n        if (value !== false) {\n          if (start !== position) {\n            nodes.push({type: 'text', value: node.value.slice(start, position)})\n          }\n\n          if (typeof value === 'string' && value.length > 0) {\n            value = {type: 'text', value: value}\n          }\n\n          if (value) {\n            nodes = [].concat(nodes, value)\n          }\n\n          start = position + match[0].length\n        }\n\n        if (!find.global) {\n          break\n        }\n\n        match = find.exec(node.value)\n      }\n\n      if (position === undefined) {\n        nodes = [node]\n        index--\n      } else {\n        if (start < node.value.length) {\n          nodes.push({type: 'text', value: node.value.slice(start)})\n        }\n\n        nodes.unshift(index, 1)\n        splice.apply(parent.children, nodes)\n      }\n\n      if (pairs.length > 1) {\n        subhandler = handlerFactory(pairs.slice(1))\n        position = -1\n\n        while (++position < nodes.length) {\n          node = nodes[position]\n\n          if (node.type === 'text') {\n            subhandler(node, parent)\n          } else {\n            search(node, settings, subhandler)\n          }\n        }\n      }\n\n      return index + nodes.length + 1\n    }\n  }\n}\n\nfunction search(tree, settings, handler) {\n  var ignored = convert(settings.ignore || [])\n  var result = []\n\n  visit(tree, 'text', visitor)\n\n  return result\n\n  function visitor(node, parents) {\n    var index = -1\n    var parent\n    var grandparent\n\n    while (++index < parents.length) {\n      parent = parents[index]\n\n      if (\n        ignored(\n          parent,\n          grandparent ? grandparent.children.indexOf(parent) : undefined,\n          grandparent\n        )\n      ) {\n        return\n      }\n\n      grandparent = parent\n    }\n\n    return handler(node, grandparent)\n  }\n}\n\nfunction toPairs(schema) {\n  var result = []\n  var key\n  var index\n\n  if (typeof schema !== 'object') {\n    throw new Error('Expected array or object as schema')\n  }\n\n  if ('length' in schema) {\n    index = -1\n\n    while (++index < schema.length) {\n      result.push([\n        toExpression(schema[index][0]),\n        toFunction(schema[index][1])\n      ])\n    }\n  } else {\n    for (key in schema) {\n      result.push([toExpression(key), toFunction(schema[key])])\n    }\n  }\n\n  return result\n}\n\nfunction toExpression(find) {\n  return typeof find === 'string' ? new RegExp(escape(find), 'g') : find\n}\n\nfunction toFunction(replace) {\n  return typeof replace === 'function' ? replace : returner\n\n  function returner() {\n    return replace\n  }\n}\n","'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when it’s always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n","exports.canContainEols = ['delete']\nexports.enter = {strikethrough: enterStrikethrough}\nexports.exit = {strikethrough: exitStrikethrough}\n\nfunction enterStrikethrough(token) {\n  this.enter({type: 'delete', children: []}, token)\n}\n\nfunction exitStrikethrough(token) {\n  this.exit(token)\n}\n","exports.enter = {\n  table: enterTable,\n  tableData: enterCell,\n  tableHeader: enterCell,\n  tableRow: enterRow\n}\nexports.exit = {\n  codeText: exitCodeText,\n  table: exitTable,\n  tableData: exit,\n  tableHeader: exit,\n  tableRow: exit\n}\n\nfunction enterTable(token) {\n  this.enter({type: 'table', align: token._align, children: []}, token)\n  this.setData('inTable', true)\n}\n\nfunction exitTable(token) {\n  this.exit(token)\n  this.setData('inTable')\n}\n\nfunction enterRow(token) {\n  this.enter({type: 'tableRow', children: []}, token)\n}\n\nfunction exit(token) {\n  this.exit(token)\n}\n\nfunction enterCell(token) {\n  this.enter({type: 'tableCell', children: []}, token)\n}\n\n// Overwrite the default code text data handler to unescape escaped pipes when\n// they are in tables.\nfunction exitCodeText(token) {\n  var value = this.resume()\n\n  if (this.getData('inTable')) {\n    value = value.replace(/\\\\([\\\\|])/g, replace)\n  }\n\n  this.stack[this.stack.length - 1].value = value\n  this.exit(token)\n}\n\nfunction replace($0, $1) {\n  // Pipes work, backslashes don’t (but can’t escape pipes).\n  return $1 === '|' ? $1 : $0\n}\n","exports.exit = {\n  taskListCheckValueChecked: exitCheck,\n  taskListCheckValueUnchecked: exitCheck,\n  paragraph: exitParagraphWithTaskListItem\n}\n\nfunction exitCheck(token) {\n  // We’re always in a paragraph, in a list item.\n  this.stack[this.stack.length - 2].checked =\n    token.type === 'taskListCheckValueChecked'\n}\n\nfunction exitParagraphWithTaskListItem(token) {\n  var parent = this.stack[this.stack.length - 2]\n  var node = this.stack[this.stack.length - 1]\n  var siblings = parent.children\n  var head = node.children[0]\n  var index = -1\n  var firstParaghraph\n\n  if (\n    parent &&\n    parent.type === 'listItem' &&\n    typeof parent.checked === 'boolean' &&\n    head &&\n    head.type === 'text'\n  ) {\n    while (++index < siblings.length) {\n      if (siblings[index].type === 'paragraph') {\n        firstParaghraph = siblings[index]\n        break\n      }\n    }\n\n    if (firstParaghraph === node) {\n      // Must start with a space or a tab.\n      head.value = head.value.slice(1)\n\n      if (head.value.length === 0) {\n        node.children.shift()\n      } else {\n        head.position.start.column++\n        head.position.start.offset++\n        node.position.start = Object.assign({}, head.position.start)\n      }\n    }\n  }\n\n  this.exit(token)\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/to-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/to-markdown')\nvar table = require('mdast-util-gfm-table/to-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/to-markdown')\nvar configure = require('mdast-util-to-markdown/lib/configure')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var config = configure(\n    {handlers: {}, join: [], unsafe: [], options: {}},\n    {\n      extensions: [autolinkLiteral, strikethrough, table(options), taskListItem]\n    }\n  )\n\n  return Object.assign(config.options, {\n    handlers: config.handlers,\n    join: config.join,\n    unsafe: config.unsafe\n  })\n}\n","var inConstruct = 'phrasing'\nvar notInConstruct = ['autolink', 'link', 'image', 'label']\n\nexports.unsafe = [\n  {\n    character: '@',\n    before: '[+\\\\-.\\\\w]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: '.',\n    before: '[Ww]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: ':',\n    before: '[ps]',\n    after: '\\\\/',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  }\n]\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\n\nexports.unsafe = [{character: '~', inConstruct: 'phrasing'}]\nexports.handlers = {delete: handleDelete}\n\nhandleDelete.peek = peekDelete\n\nfunction handleDelete(node, _, context) {\n  var exit = context.enter('emphasis')\n  var value = phrasing(node, context, {before: '~', after: '~'})\n  exit()\n  return '~~' + value + '~~'\n}\n\nfunction peekDelete() {\n  return '~'\n}\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\nvar defaultInlineCode = require('mdast-util-to-markdown/lib/handle/inline-code')\nvar markdownTable = require('markdown-table')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var settings = options || {}\n  var padding = settings.tableCellPadding\n  var alignDelimiters = settings.tablePipeAlign\n  var stringLength = settings.stringLength\n  var around = padding ? ' ' : '|'\n\n  return {\n    unsafe: [\n      {character: '\\r', inConstruct: 'tableCell'},\n      {character: '\\n', inConstruct: 'tableCell'},\n      // A pipe, when followed by a tab or space (padding), or a dash or colon\n      // (unpadded delimiter row), could result in a table.\n      {atBreak: true, character: '|', after: '[\\t :-]'},\n      // A pipe in a cell must be encoded.\n      {character: '|', inConstruct: 'tableCell'},\n      // A colon must be followed by a dash, in which case it could start a\n      // delimiter row.\n      {atBreak: true, character: ':', after: '-'},\n      // A delimiter row can also start with a dash, when followed by more\n      // dashes, a colon, or a pipe.\n      // This is a stricter version than the built in check for lists, thematic\n      // breaks, and setex heading underlines though:\n      // <https://github.com/syntax-tree/mdast-util-to-markdown/blob/51a2038/lib/unsafe.js#L57>\n      {atBreak: true, character: '-', after: '[:|-]'}\n    ],\n    handlers: {\n      table: handleTable,\n      tableRow: handleTableRow,\n      tableCell: handleTableCell,\n      inlineCode: inlineCodeWithTable\n    }\n  }\n\n  function handleTable(node, _, context) {\n    return serializeData(handleTableAsData(node, context), node.align)\n  }\n\n  // This function isn’t really used normally, because we handle rows at the\n  // table level.\n  // But, if someone passes in a table row, this ensures we make somewhat sense.\n  function handleTableRow(node, _, context) {\n    var row = handleTableRowAsData(node, context)\n    // `markdown-table` will always add an align row\n    var value = serializeData([row])\n    return value.slice(0, value.indexOf('\\n'))\n  }\n\n  function handleTableCell(node, _, context) {\n    var exit = context.enter('tableCell')\n    var value = phrasing(node, context, {before: around, after: around})\n    exit()\n    return value\n  }\n\n  function serializeData(matrix, align) {\n    return markdownTable(matrix, {\n      align: align,\n      alignDelimiters: alignDelimiters,\n      padding: padding,\n      stringLength: stringLength\n    })\n  }\n\n  function handleTableAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('table')\n\n    while (++index < length) {\n      result[index] = handleTableRowAsData(children[index], context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function handleTableRowAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('tableRow')\n\n    while (++index < length) {\n      result[index] = handleTableCell(children[index], node, context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function inlineCodeWithTable(node, parent, context) {\n    var value = defaultInlineCode(node, parent, context)\n\n    if (context.stack.indexOf('tableCell') !== -1) {\n      value = value.replace(/\\|/g, '\\\\$&')\n    }\n\n    return value\n  }\n}\n","module.exports = inlineCode\ninlineCode.peek = inlineCodePeek\n\nvar patternCompile = require('../util/pattern-compile')\n\nfunction inlineCode(node, parent, context) {\n  var value = node.value || ''\n  var sequence = '`'\n  var index = -1\n  var pattern\n  var expression\n  var match\n  var position\n\n  // If there is a single grave accent on its own in the code, use a fence of\n  // two.\n  // If there are two in a row, use one.\n  while (new RegExp('(^|[^`])' + sequence + '([^`]|$)').test(value)) {\n    sequence += '`'\n  }\n\n  // If this is not just spaces or eols (tabs don’t count), and either the\n  // first or last character are a space, eol, or tick, then pad with spaces.\n  if (\n    /[^ \\r\\n]/.test(value) &&\n    (/[ \\r\\n`]/.test(value.charAt(0)) ||\n      /[ \\r\\n`]/.test(value.charAt(value.length - 1)))\n  ) {\n    value = ' ' + value + ' '\n  }\n\n  // We have a potential problem: certain characters after eols could result in\n  // blocks being seen.\n  // For example, if someone injected the string `'\\n# b'`, then that would\n  // result in an ATX heading.\n  // We can’t escape characters in `inlineCode`, but because eols are\n  // transformed to spaces when going from markdown to HTML anyway, we can swap\n  // them out.\n  while (++index < context.unsafe.length) {\n    pattern = context.unsafe[index]\n\n    // Only look for `atBreak`s.\n    // Btw: note that `atBreak` patterns will always start the regex at LF or\n    // CR.\n    if (!pattern.atBreak) continue\n\n    expression = patternCompile(pattern)\n\n    while ((match = expression.exec(value))) {\n      position = match.index\n\n      // Support CRLF (patterns only look for one of the characters).\n      if (\n        value.charCodeAt(position) === 10 /* `\\n` */ &&\n        value.charCodeAt(position - 1) === 13 /* `\\r` */\n      ) {\n        position--\n      }\n\n      value = value.slice(0, position) + ' ' + value.slice(match.index + 1)\n    }\n  }\n\n  return sequence + value + sequence\n}\n\nfunction inlineCodePeek() {\n  return '`'\n}\n","module.exports = patternCompile\n\nfunction patternCompile(pattern) {\n  var before\n  var after\n\n  if (!pattern._compiled) {\n    before = pattern.before ? '(?:' + pattern.before + ')' : ''\n    after = pattern.after ? '(?:' + pattern.after + ')' : ''\n\n    if (pattern.atBreak) {\n      before = '[\\\\r\\\\n][\\\\t ]*' + before\n    }\n\n    pattern._compiled = new RegExp(\n      (before ? '(' + before + ')' : '') +\n        (/[|\\\\{}()[\\]^$+*?.-]/.test(pattern.character) ? '\\\\' : '') +\n        pattern.character +\n        (after || ''),\n      'g'\n    )\n  }\n\n  return pattern._compiled\n}\n","'use strict'\n\nvar repeat = require('repeat-string')\n\nmodule.exports = markdownTable\n\nvar trailingWhitespace = / +$/\n\n// Characters.\nvar space = ' '\nvar lineFeed = '\\n'\nvar dash = '-'\nvar colon = ':'\nvar verticalBar = '|'\n\nvar x = 0\nvar C = 67\nvar L = 76\nvar R = 82\nvar c = 99\nvar l = 108\nvar r = 114\n\n// Create a table from a matrix of strings.\nfunction markdownTable(table, options) {\n  var settings = options || {}\n  var padding = settings.padding !== false\n  var start = settings.delimiterStart !== false\n  var end = settings.delimiterEnd !== false\n  var align = (settings.align || []).concat()\n  var alignDelimiters = settings.alignDelimiters !== false\n  var alignments = []\n  var stringLength = settings.stringLength || defaultStringLength\n  var rowIndex = -1\n  var rowLength = table.length\n  var cellMatrix = []\n  var sizeMatrix = []\n  var row = []\n  var sizes = []\n  var longestCellByColumn = []\n  var mostCellsPerRow = 0\n  var cells\n  var columnIndex\n  var columnLength\n  var largest\n  var size\n  var cell\n  var lines\n  var line\n  var before\n  var after\n  var code\n\n  // This is a superfluous loop if we don’t align delimiters, but otherwise we’d\n  // do superfluous work when aligning, so optimize for aligning.\n  while (++rowIndex < rowLength) {\n    cells = table[rowIndex]\n    columnIndex = -1\n    columnLength = cells.length\n    row = []\n    sizes = []\n\n    if (columnLength > mostCellsPerRow) {\n      mostCellsPerRow = columnLength\n    }\n\n    while (++columnIndex < columnLength) {\n      cell = serialize(cells[columnIndex])\n\n      if (alignDelimiters === true) {\n        size = stringLength(cell)\n        sizes[columnIndex] = size\n\n        largest = longestCellByColumn[columnIndex]\n\n        if (largest === undefined || size > largest) {\n          longestCellByColumn[columnIndex] = size\n        }\n      }\n\n      row.push(cell)\n    }\n\n    cellMatrix[rowIndex] = row\n    sizeMatrix[rowIndex] = sizes\n  }\n\n  // Figure out which alignments to use.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n\n  if (typeof align === 'object' && 'length' in align) {\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = toAlignment(align[columnIndex])\n    }\n  } else {\n    code = toAlignment(align)\n\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = code\n    }\n  }\n\n  // Inject the alignment row.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n  row = []\n  sizes = []\n\n  while (++columnIndex < columnLength) {\n    code = alignments[columnIndex]\n    before = ''\n    after = ''\n\n    if (code === l) {\n      before = colon\n    } else if (code === r) {\n      after = colon\n    } else if (code === c) {\n      before = colon\n      after = colon\n    }\n\n    // There *must* be at least one hyphen-minus in each alignment cell.\n    size = alignDelimiters\n      ? Math.max(\n          1,\n          longestCellByColumn[columnIndex] - before.length - after.length\n        )\n      : 1\n\n    cell = before + repeat(dash, size) + after\n\n    if (alignDelimiters === true) {\n      size = before.length + size + after.length\n\n      if (size > longestCellByColumn[columnIndex]) {\n        longestCellByColumn[columnIndex] = size\n      }\n\n      sizes[columnIndex] = size\n    }\n\n    row[columnIndex] = cell\n  }\n\n  // Inject the alignment row.\n  cellMatrix.splice(1, 0, row)\n  sizeMatrix.splice(1, 0, sizes)\n\n  rowIndex = -1\n  rowLength = cellMatrix.length\n  lines = []\n\n  while (++rowIndex < rowLength) {\n    row = cellMatrix[rowIndex]\n    sizes = sizeMatrix[rowIndex]\n    columnIndex = -1\n    columnLength = mostCellsPerRow\n    line = []\n\n    while (++columnIndex < columnLength) {\n      cell = row[columnIndex] || ''\n      before = ''\n      after = ''\n\n      if (alignDelimiters === true) {\n        size = longestCellByColumn[columnIndex] - (sizes[columnIndex] || 0)\n        code = alignments[columnIndex]\n\n        if (code === r) {\n          before = repeat(space, size)\n        } else if (code === c) {\n          if (size % 2 === 0) {\n            before = repeat(space, size / 2)\n            after = before\n          } else {\n            before = repeat(space, size / 2 + 0.5)\n            after = repeat(space, size / 2 - 0.5)\n          }\n        } else {\n          after = repeat(space, size)\n        }\n      }\n\n      if (start === true && columnIndex === 0) {\n        line.push(verticalBar)\n      }\n\n      if (\n        padding === true &&\n        // Don’t add the opening space if we’re not aligning and the cell is\n        // empty: there will be a closing space.\n        !(alignDelimiters === false && cell === '') &&\n        (start === true || columnIndex !== 0)\n      ) {\n        line.push(space)\n      }\n\n      if (alignDelimiters === true) {\n        line.push(before)\n      }\n\n      line.push(cell)\n\n      if (alignDelimiters === true) {\n        line.push(after)\n      }\n\n      if (padding === true) {\n        line.push(space)\n      }\n\n      if (end === true || columnIndex !== columnLength - 1) {\n        line.push(verticalBar)\n      }\n    }\n\n    line = line.join('')\n\n    if (end === false) {\n      line = line.replace(trailingWhitespace, '')\n    }\n\n    lines.push(line)\n  }\n\n  return lines.join(lineFeed)\n}\n\nfunction serialize(value) {\n  return value === null || value === undefined ? '' : String(value)\n}\n\nfunction defaultStringLength(value) {\n  return value.length\n}\n\nfunction toAlignment(value) {\n  var code = typeof value === 'string' ? value.charCodeAt(0) : x\n\n  return code === L || code === l\n    ? l\n    : code === R || code === r\n    ? r\n    : code === C || code === c\n    ? c\n    : x\n}\n","var defaultListItem = require('mdast-util-to-markdown/lib/handle/list-item')\n\nexports.unsafe = [{atBreak: true, character: '-', after: '[:|-]'}]\n\nexports.handlers = {\n  listItem: listItemWithTaskListItem\n}\n\nfunction listItemWithTaskListItem(node, parent, context) {\n  var value = defaultListItem(node, parent, context)\n  var head = node.children[0]\n\n  if (typeof node.checked === 'boolean' && head && head.type === 'paragraph') {\n    value = value.replace(/^(?:[*+-]|\\d+\\.)([\\r\\n]| {1,3})/, check)\n  }\n\n  return value\n\n  function check($0) {\n    return $0 + '[' + (node.checked ? 'x' : ' ') + '] '\n  }\n}\n","module.exports = listItem\n\nvar repeat = require('repeat-string')\nvar checkBullet = require('../util/check-bullet')\nvar checkListItemIndent = require('../util/check-list-item-indent')\nvar flow = require('../util/container-flow')\nvar indentLines = require('../util/indent-lines')\n\nfunction listItem(node, parent, context) {\n  var bullet = checkBullet(context)\n  var listItemIndent = checkListItemIndent(context)\n  var size\n  var value\n  var exit\n\n  if (parent && parent.ordered) {\n    bullet =\n      (parent.start > -1 ? parent.start : 1) +\n      (context.options.incrementListMarker === false\n        ? 0\n        : parent.children.indexOf(node)) +\n      '.'\n  }\n\n  size = bullet.length + 1\n\n  if (\n    listItemIndent === 'tab' ||\n    (listItemIndent === 'mixed' && ((parent && parent.spread) || node.spread))\n  ) {\n    size = Math.ceil(size / 4) * 4\n  }\n\n  exit = context.enter('listItem')\n  value = indentLines(flow(node, context), map)\n  exit()\n\n  return value\n\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : repeat(' ', size)) + line\n    }\n\n    return (blank ? bullet : bullet + repeat(' ', size - bullet.length)) + line\n  }\n}\n","module.exports = checkBullet\n\nfunction checkBullet(context) {\n  var marker = context.options.bullet || '*'\n\n  if (marker !== '*' && marker !== '+' && marker !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bullet`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  return marker\n}\n","module.exports = checkListItemIndent\n\nfunction checkListItemIndent(context) {\n  var style = context.options.listItemIndent || 'tab'\n\n  if (style === 1 || style === '1') {\n    return 'one'\n  }\n\n  if (style !== 'tab' && style !== 'one' && style !== 'mixed') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        style +\n        '` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`'\n    )\n  }\n\n  return style\n}\n","module.exports = flow\n\nvar repeat = require('repeat-string')\n\nfunction flow(parent, context) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    results.push(\n      context.handle(child, parent, context, {before: '\\n', after: '\\n'})\n    )\n\n    if (index + 1 < children.length) {\n      results.push(between(child, children[index + 1]))\n    }\n  }\n\n  return results.join('')\n\n  function between(left, right) {\n    var index = -1\n    var result\n\n    while (++index < context.join.length) {\n      result = context.join[index](left, right, parent, context)\n\n      if (result === true || result === 1) {\n        break\n      }\n\n      if (typeof result === 'number') {\n        return repeat('\\n', 1 + Number(result))\n      }\n\n      if (result === false) {\n        return '\\n\\n<!---->\\n\\n'\n      }\n    }\n\n    return '\\n\\n'\n  }\n}\n","module.exports = indentLines\n\nvar eol = /\\r?\\n|\\r/g\n\nfunction indentLines(value, map) {\n  var result = []\n  var start = 0\n  var line = 0\n  var match\n\n  while ((match = eol.exec(value))) {\n    one(value.slice(start, match.index))\n    result.push(match[0])\n    start = match.index + match[0].length\n    line++\n  }\n\n  one(value.slice(start))\n\n  return result.join('')\n\n  function one(value) {\n    result.push(map(value, line, !value))\n  }\n}\n","module.exports = configure\n\nfunction configure(base, extension) {\n  var index = -1\n  var key\n\n  // First do subextensions.\n  if (extension.extensions) {\n    while (++index < extension.extensions.length) {\n      configure(base, extension.extensions[index])\n    }\n  }\n\n  for (key in extension) {\n    if (key === 'extensions') {\n      // Empty.\n    } else if (key === 'unsafe' || key === 'join') {\n      base[key] = base[key].concat(extension[key] || [])\n    } else if (key === 'handlers') {\n      base[key] = Object.assign(base[key], extension[key] || {})\n    } else {\n      base.options[key] = extension[key]\n    }\n  }\n\n  return base\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\t/**\n\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t * additional languages or plugins yourself.\n\t *\n\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t *\n\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t * empty Prism object into the global scope before loading the Prism script like this:\n\t *\n\t * ```js\n\t * window.Prism = window.Prism || {};\n\t * Prism.manual = true;\n\t * // add a new <script> to load Prism's script\n\t * ```\n\t *\n\t * @default false\n\t * @type {boolean}\n\t * @memberof Prism\n\t * @public\n\t */\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t/**\n\t * A namespace for utility methods.\n\t *\n\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t * change or disappear at any time.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t */\n\tutil: {\n\t\tencode: function encode(tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the name of the type of the given value.\n\t\t *\n\t\t * @param {any} o\n\t\t * @returns {string}\n\t\t * @example\n\t\t * type(null)      === 'Null'\n\t\t * type(undefined) === 'Undefined'\n\t\t * type(123)       === 'Number'\n\t\t * type('foo')     === 'String'\n\t\t * type(true)      === 'Boolean'\n\t\t * type([1, 2])    === 'Array'\n\t\t * type({})        === 'Object'\n\t\t * type(String)    === 'Function'\n\t\t * type(/abc+/)    === 'RegExp'\n\t\t */\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\t/**\n\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t *\n\t\t * @param {Object} obj\n\t\t * @returns {number}\n\t\t */\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t/**\n\t\t * Creates a deep clone of the given object.\n\t\t *\n\t\t * The main intended use of this function is to clone language definitions.\n\t\t *\n\t\t * @param {T} o\n\t\t * @param {Record<number, any>} [visited]\n\t\t * @returns {T}\n\t\t * @template T\n\t\t */\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar clone, id;\n\t\t\tswitch (_.util.type(o)) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns whether a given class is active for `element`.\n\t\t *\n\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t * given class is just the given class with a `no-` prefix.\n\t\t *\n\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t *\n\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t * version of it, the class is considered active.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @param {string} className\n\t\t * @param {boolean} [defaultActivation=false]\n\t\t * @returns {boolean}\n\t\t */\n\t\tisActive: function (element, className, defaultActivation) {\n\t\t\tvar no = 'no-' + className;\n\n\t\t\twhile (element) {\n\t\t\t\tvar classList = element.classList;\n\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\treturn !!defaultActivation;\n\t\t}\n\t},\n\n\t/**\n\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\tlanguages: {\n\t\t/**\n\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t *\n\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t * will be overwritten at its original position.\n\t\t *\n\t\t * ## Best practices\n\t\t *\n\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t *\n\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t *\n\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t * @param {Grammar} redef The new tokens to append.\n\t\t * @returns {Grammar} The new language created.\n\t\t * @public\n\t\t * @example\n\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t *     // at its original position\n\t\t *     'comment': { ... },\n\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t * });\n\t\t */\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t *\n\t\t * ## Usage\n\t\t *\n\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t * this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.markup.style = {\n\t\t *     // token\n\t\t * };\n\t\t * ```\n\t\t *\n\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t *     'style': {\n\t\t *         // token\n\t\t *     }\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Special cases\n\t\t *\n\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t * will be ignored.\n\t\t *\n\t\t * This behavior can be used to insert tokens after `before`:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t *     'comment': Prism.languages.markup.comment,\n\t\t *     // tokens after 'comment'\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Limitations\n\t\t *\n\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t *\n\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t *\n\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t *\n\t\t * ```js\n\t\t * var oldMarkup = Prism.languages.markup;\n\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t *\n\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t * ```\n\t\t *\n\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t * object to be modified.\n\t\t * @param {string} before The key to insert before.\n\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t * object to be modified.\n\t\t *\n\t\t * Defaults to `Prism.languages`.\n\t\t * @returns {Grammar} The new grammar object.\n\t\t * @public\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\tvar grammar = root[inside];\n\t\t\t/** @type {Grammar} */\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tplugins: {},\n\n\t/**\n\t * This is the most high-level function in Prism’s API.\n\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t * each one of them.\n\t *\n\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t *\n\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\t/**\n\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t * {@link Prism.highlightElement} on each one of them.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-highlightall`\n\t * 2. `before-all-elements-highlight`\n\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t *\n\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\t/**\n\t * Highlights the code inside a single element.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-sanity-check`\n\t * 2. `before-highlight`\n\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t * 4. `before-insert`\n\t * 5. `after-highlight`\n\t * 6. `complete`\n\t *\n\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t * the element's language.\n\t *\n\t * @param {Element} element The element containing the code.\n\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t *\n\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t * asynchronous highlighting to work. You can build your own bundle on the\n\t * [Download page](https://prismjs.com/download.html).\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentElement;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\t/**\n\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t * and the language definitions to use, and returns a string with the HTML produced.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-tokenize`\n\t * 2. `after-tokenize`\n\t * 3. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @param {string} language The name of the language definition passed to `grammar`.\n\t * @returns {string} The highlighted HTML.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t */\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\t/**\n\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t * and the language definitions to use, and returns an array with the tokenized code.\n\t *\n\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t *\n\t * This method could be useful in other contexts as well, as a very crude parser.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * let code = `var foo = 0;`;\n\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t * tokens.forEach(token => {\n\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t *         console.log(`Found numeric literal: ${token.content}`);\n\t *     }\n\t * });\n\t */\n\ttokenize: function(text, grammar) {\n\t\tvar rest = grammar.rest;\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\tvar tokenList = new LinkedList();\n\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\treturn toArray(tokenList);\n\t},\n\n\t/**\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\thooks: {\n\t\tall: {},\n\n\t\t/**\n\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t *\n\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t *\n\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t * @public\n\t\t */\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\t/**\n\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t *\n\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t * @public\n\t\t */\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n_self.Prism = _;\n\n\n// Typescript note:\n// The following can be used to import the Token type in JSDoc:\n//\n//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n/**\n * Creates a new token.\n *\n * @param {string} type See {@link Token#type type}\n * @param {string | TokenStream} content See {@link Token#content content}\n * @param {string|string[]} [alias] The alias(es) of the token.\n * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n * @class\n * @global\n * @public\n */\nfunction Token(type, content, alias, matchedStr) {\n\t/**\n\t * The type of the token.\n\t *\n\t * This is usually the key of a pattern in a {@link Grammar}.\n\t *\n\t * @type {string}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.type = type;\n\t/**\n\t * The strings or tokens contained by this token.\n\t *\n\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t *\n\t * @type {string | TokenStream}\n\t * @public\n\t */\n\tthis.content = content;\n\t/**\n\t * The alias(es) of the token.\n\t *\n\t * @type {string|string[]}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length | 0;\n}\n\n/**\n * A token stream is an array of strings and {@link Token Token} objects.\n *\n * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n * them.\n *\n * 1. No adjacent strings.\n * 2. No empty strings.\n *\n *    The only exception here is the token stream that only contains the empty string and nothing else.\n *\n * @typedef {Array<string | Token>} TokenStream\n * @global\n * @public\n */\n\n/**\n * Converts the given token or token stream to an HTML representation.\n *\n * The following hooks will be run:\n * 1. `wrap`: On each {@link Token}.\n *\n * @param {string | Token | TokenStream} o The token or token stream to be converted.\n * @param {string} language The name of current language.\n * @returns {string} The HTML representation of the token or token stream.\n * @memberof Token\n * @static\n */\nToken.stringify = function stringify(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\tif (Array.isArray(o)) {\n\t\tvar s = '';\n\t\to.forEach(function (e) {\n\t\t\ts += stringify(e, language);\n\t\t});\n\t\treturn s;\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tvar aliases = o.alias;\n\tif (aliases) {\n\t\tif (Array.isArray(aliases)) {\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t} else {\n\t\t\tenv.classes.push(aliases);\n\t\t}\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = '';\n\tfor (var name in env.attributes) {\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n};\n\n/**\n * @param {string} text\n * @param {LinkedList<string | Token>} tokenList\n * @param {any} grammar\n * @param {LinkedListNode<string | Token>} startNode\n * @param {number} startPos\n * @param {RematchOptions} [rematch]\n * @returns {void}\n * @private\n *\n * @typedef RematchOptions\n * @property {string} cause\n * @property {number} reach\n */\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\tfor (var token in grammar) {\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar patterns = grammar[token];\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patternObj = patterns[j],\n\t\t\t\tinside = patternObj.inside,\n\t\t\t\tlookbehind = !!patternObj.lookbehind,\n\t\t\t\tgreedy = !!patternObj.greedy,\n\t\t\t\tlookbehindLength = 0,\n\t\t\t\talias = patternObj.alias;\n\n\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t}\n\n\t\t\t/** @type {RegExp} */\n\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t) {\n\n\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\n\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t}\n\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\tpos = p;\n\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\tfor (\n\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\tk = k.next\n\t\t\t\t\t) {\n\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t}\n\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t// replace with the new match\n\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t} else {\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str);\n\t\t\t\t}\n\n\t\t\t\tif (!match) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (lookbehind) {\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t}\n\n\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\tmatchStr = match[0].slice(lookbehindLength),\n\t\t\t\t\tto = from + matchStr.length,\n\t\t\t\t\tbefore = str.slice(0, from),\n\t\t\t\t\tafter = str.slice(to);\n\n\t\t\t\tvar reach = pos + str.length;\n\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\trematch.reach = reach;\n\t\t\t\t}\n\n\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\tif (before) {\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\tpos += before.length;\n\t\t\t\t}\n\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\tif (after) {\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t}\n\n\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t// this can only happen if the current pattern is greedy\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\treach: reach\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @typedef LinkedListNode\n * @property {T} value\n * @property {LinkedListNode<T> | null} prev The previous node.\n * @property {LinkedListNode<T> | null} next The next node.\n * @template T\n * @private\n */\n\n/**\n * @template T\n * @private\n */\nfunction LinkedList() {\n\t/** @type {LinkedListNode<T>} */\n\tvar head = { value: null, prev: null, next: null };\n\t/** @type {LinkedListNode<T>} */\n\tvar tail = { value: null, prev: head, next: null };\n\thead.next = tail;\n\n\t/** @type {LinkedListNode<T>} */\n\tthis.head = head;\n\t/** @type {LinkedListNode<T>} */\n\tthis.tail = tail;\n\tthis.length = 0;\n}\n\n/**\n * Adds a new node with the given value to the list.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {T} value\n * @returns {LinkedListNode<T>} The added node.\n * @template T\n */\nfunction addAfter(list, node, value) {\n\t// assumes that node != list.tail && values.length >= 0\n\tvar next = node.next;\n\n\tvar newNode = { value: value, prev: node, next: next };\n\tnode.next = newNode;\n\tnext.prev = newNode;\n\tlist.length++;\n\n\treturn newNode;\n}\n/**\n * Removes `count` nodes after the given node. The given node will not be removed.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {number} count\n * @template T\n */\nfunction removeRange(list, node, count) {\n\tvar next = node.next;\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\tnext = next.next;\n\t}\n\tnode.next = next;\n\tnext.prev = node;\n\tlist.length -= i;\n}\n/**\n * @param {LinkedList<T>} list\n * @returns {T[]}\n * @template T\n */\nfunction toArray(list) {\n\tvar array = [];\n\tvar node = list.head.next;\n\twhile (node !== list.tail) {\n\t\tarray.push(node.value);\n\t\tnode = node.next;\n\t}\n\treturn array;\n}\n\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n// Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nfunction highlightAutomaticallyCallback() {\n\tif (!_.manual) {\n\t\t_.highlightAll();\n\t}\n}\n\nif (!_.manual) {\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-flags': /[a-z]+$/,\n\t\t\t'regex-delimiter': /^\\/|\\/$/\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\tvar Prism = window.Prism;\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\n\t/**\n\t * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} language\n\t * @returns {void}\n\t */\n\tfunction setLanguageClass(element, language) {\n\t\tvar className = element.className;\n\t\tclassName = className.replace(lang, ' ') + ' language-' + language;\n\t\telement.className = className.replace(/\\s+/g, ' ').trim();\n\t}\n\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tsetLanguageClass(code, language);\n\t\t\tsetLanguageClass(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', src, true);\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t\t// highlight code\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\t\t\t\t\t\tPrism.highlightElement(code);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// mark as failed\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_EMPTY_MESSAGE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send(null);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; element = elements[i++];) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t}\n\n})();\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CheckableTag = function CheckableTag(_a) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      checked = _a.checked,\n      onChange = _a.onChange,\n      onClick = _a.onClick,\n      restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var handleClick = function handleClick(e) {\n    if (onChange) {\n      onChange(!checked);\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var cls = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  }));\n};\n\nvar _default = CheckableTag;\nexports[\"default\"] = _default;","'use strict'\n\nfunction markdownLineEnding(code) {\n  return code < -2\n}\n\nmodule.exports = markdownLineEnding\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\n\nfunction spaceFactory(effects, ok, type, max) {\n  var limit = max ? max - 1 : Infinity\n  var size = 0\n  return start\n\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type)\n      return prefix(code)\n    }\n\n    return ok(code)\n  }\n\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code)\n      return prefix\n    }\n\n    effects.exit(type)\n    return ok(code)\n  }\n}\n\nmodule.exports = spaceFactory\n","'use strict'\n\nfunction markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32\n}\n\nmodule.exports = markdownSpace\n","'use strict'\n\nvar splice = require('../constant/splice.js')\n\n// causes a stack overflow in V8 when trying to insert 100k items for instance.\n\nfunction chunkedSplice(list, start, remove, items) {\n  var end = list.length\n  var chunkStart = 0\n  var parameters // Make start between zero and `end` (included).\n\n  if (start < 0) {\n    start = -start > end ? 0 : end + start\n  } else {\n    start = start > end ? end : start\n  }\n\n  remove = remove > 0 ? remove : 0 // No need to chunk the items if there’s only a couple (10k) items.\n\n  if (items.length < 10000) {\n    parameters = Array.from(items)\n    parameters.unshift(start, remove)\n    splice.apply(list, parameters)\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) splice.apply(list, [start, remove]) // Insert the items in chunks to not cause stack overflows.\n\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000)\n      parameters.unshift(start, 0)\n      splice.apply(list, parameters)\n      chunkStart += 10000\n      start += 10000\n    }\n  }\n}\n\nmodule.exports = chunkedSplice\n","'use strict'\n\nfunction markdownLineEndingOrSpace(code) {\n  return code < 0 || code === 32\n}\n\nmodule.exports = markdownLineEndingOrSpace\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction regexCheck(regex) {\n  return check\n\n  function check(code) {\n    return regex.test(fromCharCode(code))\n  }\n}\n\nmodule.exports = regexCheck\n","'use strict'\n\nvar assign = require('../constant/assign.js')\n\nfunction shallow(object) {\n  return assign({}, object)\n}\n\nmodule.exports = shallow\n","'use strict'\n\nvar assign = Object.assign\n\nmodule.exports = assign\n","'use strict'\n\nvar sizeChunks = require('./size-chunks.js')\n\nfunction prefixSize(events, type) {\n  var tail = events[events.length - 1]\n  if (!tail || tail[1].type !== type) return 0\n  return sizeChunks(tail[2].sliceStream(tail[1]))\n}\n\nmodule.exports = prefixSize\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/)\n\nmodule.exports = asciiAlphanumeric\n","Prism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, …*/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.60.0\";\n\n  return CodeMirror;\n\n})));\n","'use strict'\n\nvar fromCharCode = String.fromCharCode\n\nmodule.exports = fromCharCode\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nvar partialBlankLine = {\n  tokenize: tokenizePartialBlankLine,\n  partial: true\n}\n\nfunction tokenizePartialBlankLine(effects, ok, nok) {\n  return factorySpace(effects, afterWhitespace, 'linePrefix')\n\n  function afterWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = partialBlankLine\n","'use strict'\n\nfunction resolveAll(constructs, events, context) {\n  var called = []\n  var index = -1\n  var resolve\n\n  while (++index < constructs.length) {\n    resolve = constructs[index].resolveAll\n\n    if (resolve && called.indexOf(resolve) < 0) {\n      events = resolve(events, context)\n      called.push(resolve)\n    }\n  }\n\n  return events\n}\n\nmodule.exports = resolveAll\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlpha = regexCheck(/[A-Za-z]/)\n\nmodule.exports = asciiAlpha\n","'use strict'\n\nmodule.exports = visit\n\nvar visitParents = require('unist-util-visit-parents')\n\nvar CONTINUE = visitParents.CONTINUE\nvar SKIP = visitParents.SKIP\nvar EXIT = visitParents.EXIT\n\nvisit.CONTINUE = CONTINUE\nvisit.SKIP = SKIP\nvisit.EXIT = EXIT\n\nfunction visit(tree, test, visitor, reverse) {\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  function overload(node, parents) {\n    var parent = parents[parents.length - 1]\n    var index = parent ? parent.children.indexOf(node) : null\n    return visitor(node, index, parent)\n  }\n}\n"],"sourceRoot":""}