{"version":3,"sources":["../node_modules/rc-picker/es/PanelContext.js","../node_modules/rc-picker/es/panels/Header.js","../node_modules/rc-picker/es/panels/DecadePanel/DecadeHeader.js","../node_modules/rc-picker/es/utils/timeUtil.js","../node_modules/rc-picker/es/panels/PanelBody.js","../node_modules/rc-picker/es/panels/DecadePanel/DecadeBody.js","../node_modules/rc-picker/es/utils/uiUtil.js","../node_modules/rc-picker/es/panels/DecadePanel/index.js","../node_modules/rc-picker/es/utils/dateUtil.js","../node_modules/rc-picker/es/panels/TimePanel/TimeHeader.js","../node_modules/rc-picker/es/panels/TimePanel/TimeUnitColumn.js","../node_modules/rc-picker/es/utils/miscUtil.js","../node_modules/rc-picker/es/panels/TimePanel/TimeBody.js","../node_modules/rc-picker/es/panels/TimePanel/index.js","../node_modules/rc-picker/es/RangeContext.js","../node_modules/rc-picker/es/hooks/useCellClassName.js","../node_modules/rc-picker/es/panels/DatePanel/DateBody.js","../node_modules/rc-picker/es/panels/DatePanel/DateHeader.js","../node_modules/rc-picker/es/panels/DatePanel/index.js","../node_modules/rc-picker/es/panels/DatetimePanel/index.js","../node_modules/rc-picker/es/panels/WeekPanel/index.js","../node_modules/rc-picker/es/panels/MonthPanel/MonthHeader.js","../node_modules/rc-picker/es/panels/MonthPanel/MonthBody.js","../node_modules/rc-picker/es/panels/MonthPanel/index.js","../node_modules/rc-picker/es/panels/QuarterPanel/QuarterHeader.js","../node_modules/rc-picker/es/panels/QuarterPanel/QuarterBody.js","../node_modules/rc-picker/es/panels/QuarterPanel/index.js","../node_modules/rc-picker/es/panels/YearPanel/YearHeader.js","../node_modules/rc-picker/es/panels/YearPanel/YearBody.js","../node_modules/rc-picker/es/panels/YearPanel/index.js","../node_modules/rc-picker/es/utils/getExtraFooter.js","../node_modules/rc-picker/es/utils/getRanges.js","../node_modules/rc-picker/es/PickerPanel.js","../node_modules/rc-picker/es/PickerTrigger.js","../node_modules/rc-picker/es/hooks/usePickerInput.js","../node_modules/rc-picker/es/hooks/useTextValueMapping.js","../node_modules/rc-picker/es/hooks/useValueTexts.js","../node_modules/rc-picker/es/hooks/useHoverValue.js","../node_modules/rc-picker/es/Picker.js","../node_modules/rc-picker/es/hooks/useRangeViewDates.js","../node_modules/rc-picker/es/RangePicker.js","../node_modules/rc-picker/es/hooks/useRangeDisabled.js","../node_modules/rc-picker/es/index.js","../node_modules/antd/lib/date-picker/style/index.js","../node_modules/antd/lib/tag/style/index.js","../ReactCountdownClock/webpack/universalModuleDefinition","../ReactCountdownClock/react-countdown-clock.coffee","../ReactCountdownClock/node_modules/create-react-class/factory.js","../ReactCountdownClock/node_modules/create-react-class/index.js","../ReactCountdownClock/node_modules/object-assign/index.js","../ReactCountdownClock/node_modules/prop-types/factoryWithThrowingShims.js","../ReactCountdownClock/node_modules/prop-types/index.js","../ReactCountdownClock/node_modules/prop-types/lib/ReactPropTypesSecret.js","../webpack:/ReactCountdownClock/external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","../ReactCountdownClock/webpack/bootstrap","../ReactCountdownClock/webpack/startup","../../../../../src/components/CodeMirror/index.tsx","../node_modules/codemirror/mode/markdown/markdown.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/meta.js","../node_modules/react-markdown/lib/react-markdown.js","../node_modules/react-markdown/node_modules/unified/index.js","../node_modules/bail/index.js","../node_modules/extend/index.js","../node_modules/react-markdown/node_modules/is-plain-obj/index.js","../node_modules/trough/index.js","../node_modules/trough/wrap.js","../node_modules/vfile/index.js","../node_modules/vfile/lib/index.js","../node_modules/vfile/node_modules/vfile-message/index.js","../node_modules/vfile/node_modules/unist-util-stringify-position/index.js","../node_modules/vfile/lib/core.js","../node_modules/vfile/lib/minpath.browser.js","../node_modules/vfile/lib/minproc.browser.js","../node_modules/remark-parse/index.js","../node_modules/mdast-util-from-markdown/index.js","../node_modules/mdast-util-from-markdown/dist/index.js","../node_modules/mdast-util-to-string/index.js","../node_modules/micromark/dist/util/safe-from-int.js","../node_modules/micromark/dist/parse.js","../node_modules/micromark/dist/initialize/content.js","../node_modules/micromark/dist/initialize/document.js","../node_modules/micromark/dist/initialize/flow.js","../node_modules/micromark/dist/tokenize/content.js","../node_modules/micromark/dist/constant/splice.js","../node_modules/micromark/dist/util/create-tokenizer.js","../node_modules/micromark/dist/util/serialize-chunks.js","../node_modules/micromark/dist/util/slice-chunks.js","../node_modules/micromark/dist/constructs.js","../node_modules/micromark/dist/tokenize/attention.js","../node_modules/micromark/dist/constant/unicode-punctuation-regex.js","../node_modules/micromark/dist/util/move-point.js","../node_modules/micromark/dist/tokenize/autolink.js","../node_modules/micromark/dist/character/ascii-atext.js","../node_modules/micromark/dist/tokenize/block-quote.js","../node_modules/micromark/dist/tokenize/character-escape.js","../node_modules/micromark/dist/character/ascii-punctuation.js","../node_modules/micromark/dist/tokenize/character-reference.js","../node_modules/micromark/node_modules/parse-entities/decode-entity.browser.js","../node_modules/micromark/dist/character/ascii-hex-digit.js","../node_modules/micromark/dist/tokenize/code-fenced.js","../node_modules/micromark/dist/tokenize/code-indented.js","../node_modules/micromark/dist/tokenize/code-text.js","../node_modules/micromark/dist/tokenize/definition.js","../node_modules/micromark/dist/tokenize/hard-break-escape.js","../node_modules/micromark/dist/tokenize/heading-atx.js","../node_modules/micromark/dist/tokenize/html-flow.js","../node_modules/micromark/dist/constant/html-block-names.js","../node_modules/micromark/dist/constant/html-raw-names.js","../node_modules/micromark/dist/tokenize/html-text.js","../node_modules/micromark/dist/tokenize/label-start-image.js","../node_modules/micromark/dist/tokenize/label-start-link.js","../node_modules/micromark/dist/tokenize/line-ending.js","../node_modules/micromark/dist/tokenize/list.js","../node_modules/micromark/dist/tokenize/setext-underline.js","../node_modules/micromark/dist/preprocess.js","../node_modules/micromark/dist/postprocess.js","../node_modules/mdast-util-from-markdown/node_modules/parse-entities/decode-entity.browser.js","../node_modules/mdast-util-from-markdown/node_modules/unist-util-stringify-position/index.js","../node_modules/mdast-add-list-metadata/index.js","../node_modules/mdast-add-list-metadata/node_modules/unist-util-visit-parents/index.js","../node_modules/react-markdown/lib/plugins/naive-html.js","../node_modules/unist-util-visit-parents/color.browser.js","../node_modules/react-markdown/lib/plugins/disallow-node.js","../node_modules/react-markdown/lib/ast-to-react.js","../node_modules/react-markdown/lib/wrap-table-rows.js","../node_modules/react-markdown/lib/get-definitions.js","../node_modules/react-markdown/lib/uri-transformer.js","../node_modules/react-markdown/lib/renderers.js","../node_modules/react-markdown/lib/symbols.js","../node_modules/remark-gfm/index.js","../node_modules/micromark-extension-gfm/index.js","../node_modules/micromark-extension-gfm/syntax.js","../node_modules/micromark-extension-gfm-autolink-literal/index.js","../node_modules/micromark-extension-gfm-autolink-literal/syntax.js","../node_modules/micromark-extension-gfm-strikethrough/index.js","../node_modules/micromark-extension-gfm-table/index.js","../node_modules/micromark-extension-gfm-table/syntax.js","../node_modules/micromark-extension-gfm-task-list-item/index.js","../node_modules/micromark-extension-gfm-task-list-item/syntax.js","../node_modules/mdast-util-gfm/from-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/from-markdown.js","../node_modules/ccount/index.js","../node_modules/mdast-util-find-and-replace/index.js","../node_modules/mdast-util-find-and-replace/node_modules/escape-string-regexp/index.js","../node_modules/mdast-util-gfm-strikethrough/from-markdown.js","../node_modules/mdast-util-gfm-table/from-markdown.js","../node_modules/mdast-util-gfm-task-list-item/from-markdown.js","../node_modules/mdast-util-gfm/to-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/to-markdown.js","../node_modules/mdast-util-gfm-strikethrough/to-markdown.js","../node_modules/mdast-util-gfm-table/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/inline-code.js","../node_modules/mdast-util-to-markdown/lib/util/pattern-compile.js","../node_modules/markdown-table/index.js","../node_modules/mdast-util-gfm-task-list-item/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/list-item.js","../node_modules/mdast-util-to-markdown/lib/util/check-bullet.js","../node_modules/mdast-util-to-markdown/lib/util/check-list-item-indent.js","../node_modules/mdast-util-to-markdown/lib/util/container-flow.js","../node_modules/mdast-util-to-markdown/lib/util/indent-lines.js","../node_modules/mdast-util-to-markdown/lib/configure.js","../node_modules/prismjs/prism.js","../node_modules/antd/lib/date-picker/index.js","../node_modules/rc-picker/lib/generate/moment.js","../node_modules/antd/lib/date-picker/PickerButton.js","../node_modules/antd/lib/date-picker/PickerTag.js","../node_modules/antd/lib/tag/index.js","../node_modules/antd/lib/tag/CheckableTag.js","../node_modules/antd/lib/date-picker/generatePicker/generateSinglePicker.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/CalendarOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/CalendarOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/ClockCircleOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/ClockCircleOutlined.js","../node_modules/antd/lib/date-picker/generatePicker/generateRangePicker.js","../node_modules/antd/node_modules/@ant-design/icons/SwapRightOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/SwapRightOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/SwapRightOutlined.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../src/langs.ts","../../../src/index.tsx","../../../../src/commands/bold.tsx","../../../../src/commands/italic.tsx","../../../../src/commands/header.tsx","../../../../src/commands/strike.tsx","../../../../src/commands/underline.tsx","../../../../src/commands/olist.tsx","../../../../src/commands/ulist.tsx","../../../../src/commands/link.tsx","../../../../src/commands/todo.tsx","../../../../src/commands/image.tsx","../../../../src/commands/fullscreen.tsx","../../../../src/commands/preview.tsx","../../../../src/commands/index.tsx","../../../../../src/components/ToolBar/index.tsx","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/UpOutlined.js","../node_modules/@ant-design/icons/es/icons/UpOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/HeartTwoTone.js","../node_modules/@ant-design/icons/es/icons/HeartTwoTone.js","../node_modules/@ant-design/icons-svg/es/asn/FormOutlined.js","../node_modules/@ant-design/icons/es/icons/FormOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/PlayCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js","../node_modules/micromark/dist/character/markdown-line-ending.js","../node_modules/micromark/dist/tokenize/factory-space.js","../node_modules/micromark/dist/character/markdown-space.js","../node_modules/micromark/dist/util/chunked-splice.js","../node_modules/micromark/dist/character/markdown-line-ending-or-space.js","../node_modules/micromark/dist/util/regex-check.js","../node_modules/micromark/dist/util/shallow.js","../node_modules/micromark/dist/constant/assign.js","../node_modules/micromark/dist/util/prefix-size.js","../node_modules/micromark/dist/character/ascii-alphanumeric.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/micromark/dist/constant/from-char-code.js","../node_modules/micromark/dist/tokenize/partial-blank-line.js","../node_modules/micromark/dist/util/resolve-all.js","../node_modules/micromark/dist/character/ascii-alpha.js","../node_modules/react-markdown/node_modules/unist-util-visit/index.js","../node_modules/xtend/immutable.js","../node_modules/micromark/dist/util/normalize-identifier.js","../node_modules/micromark/dist/util/miniflat.js","../node_modules/micromark/dist/util/chunked-push.js","../node_modules/micromark/dist/character/unicode-punctuation.js","../node_modules/micromark/dist/character/unicode-whitespace.js","../node_modules/micromark/dist/character/ascii-control.js","../node_modules/micromark/dist/tokenize/label-end.js","../node_modules/repeat-string/index.js","../node_modules/prismjs/components/prism-markup.js","../node_modules/antd/lib/date-picker/generatePicker/index.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/regenerator/index.js","../node_modules/is-buffer/index.js","../node_modules/micromark/dist/constant/has-own-property.js","../node_modules/micromark/dist/util/size-chunks.js","../node_modules/micromark/dist/util/subtokenize.js","../node_modules/micromark/dist/initialize/text.js","../node_modules/micromark/dist/util/combine-extensions.js","../node_modules/micromark/dist/util/classify-character.js","../node_modules/micromark/dist/character/ascii-digit.js","../node_modules/micromark/dist/tokenize/factory-destination.js","../node_modules/micromark/dist/tokenize/factory-label.js","../node_modules/micromark/dist/tokenize/factory-whitespace.js","../node_modules/micromark/dist/tokenize/factory-title.js","../node_modules/micromark/dist/tokenize/thematic-break.js","../node_modules/unist-util-visit-parents/index.js","../node_modules/unist-util-is/convert.js","../node_modules/mdast-util-to-markdown/lib/util/container-phrasing.js","../node_modules/antd/node_modules/@ant-design/icons/CalendarOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/ClockCircleOutlined.js","../node_modules/antd/lib/date-picker/util.js"],"names":["PanelContext","React","HIDDEN_STYLE","visibility","Header","_ref","prefixCls","_ref$prevIcon","prevIcon","_ref$nextIcon","nextIcon","_ref$superPrevIcon","superPrevIcon","_ref$superNextIcon","superNextIcon","onSuperPrev","onSuperNext","onPrev","onNext","children","_React$useContext","hideNextBtn","hidePrevBtn","className","type","onClick","tabIndex","concat","style","DecadeHeader","props","generateConfig","viewDate","onPrevDecades","onNextDecades","hideHeader","headerPrefixCls","yearNumber","getYear","startYear","Math","floor","DECADE_DISTANCE_COUNT","endYear","_extends","setTime","date","hour","minute","second","nextTime","setHour","setMinute","setSecond","getLastDay","year","month","getMonth","endDate","getEndDate","getFixedDate","lastDay","getDate","monthShow","PanelBody","disabledDate","onSelect","picker","rowNum","colNum","prefixColumn","rowClassName","baseDate","getCellClassName","getCellText","getCellNode","getCellDate","titleCell","headerCells","onDateMouseEnter","onDateMouseLeave","mode","cellPrefixCls","rows","i","row","rowStartDate","_loop","j","_objectSpread2","currentDate","disabled","getCellDateDisabled","cellDate","push","title","key","classNames","_objectSpread","_defineProperty","Number","onMouseEnter","onMouseLeave","DecadeBody","DECADE_UNIT_DIFF_DES","DECADE_UNIT_DIFF","decadeYearNumber","startDecadeYear","endDecadeYear","baseDecadeYear","setYear","ceil","DECADE_COL_COUNT","startDecadeNumber","endDecadeNumber","offset","addYear","scrollIds","Map","scrollTo","element","to","duration","get","cancelAnimationFrame","set","requestAnimationFrame","scrollTop","perTick","createKeyDownHandler","event","onLeftRight","onCtrlLeftRight","onUpDown","onPageUpDown","onEnter","which","ctrlKey","metaKey","KeyCode","LEFT","RIGHT","UP","DOWN","PAGE_UP","PAGE_DOWN","ENTER","getDefaultFormat","format","showTime","use12Hours","mergedFormat","getInputSize","defaultSize","length","getNow","max","globalClickFunc","clickCallbacks","Set","PickerModeMap","next","quarter","week","time","elementsContains","elements","target","some","ele","contains","DecadePanel","onViewDateChange","operationRef","onPanelChange","panelPrefixCls","current","onKeyDown","diff","onDecadesChange","newDate","isNullEqual","value1","value2","isSameYear","year1","year2","equal","getQuarter","isSameQuarter","quarter1","quarter2","isSameMonth","month1","month2","isSameDate","date1","date2","isSameWeek","locale","getWeek","isEqual","time1","time2","getHour","getMinute","getSecond","isSameTime","isInRange","startDate","isAfter","getClosingViewDate","arguments","undefined","addMonth","formatValue","value","parseValue","_ref2","formatList","parse","_ref3","getDisabledFromRange","currentMode","start","end","setDate","setMonth","startMonth","TimeHeader","TimeUnitColumn","units","active","hideDisabledOptions","open","ulRef","useRef","liRefs","scrollRef","useLayoutEffect","li","offsetTop","callback","id","tryOrNextFrame","isVisible","raf","cancel","waitElementReady","_scrollRef$current","call","ref","position","map","unit","_classNames2","label","leftPad","str","fill","String","toArray","val","Array","isArray","getDataOrAriaProps","retProps","Object","keys","forEach","substr","getValue","values","index","updateValues","newValues","shouldUnitsUpdate","prevUnits","nextUnits","generateUnits","step","disabledUnits","includes","TimeBody","isPM","activeColumnIndex","showHour","showMinute","showSecond","_props$hourStep","hourStep","_props$minuteStep","minuteStep","_props$secondStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","columns","contentPrefixCls","columnPrefixCls","originHour","isNewPM","newHour","newMinute","newSecond","mergedHour","mergedMinute","mergedSecond","utilSetTime","rawHours","memorizedRawHours","useMemo","_React$useMemo","AMPMDisabled","hourValue","_React$useMemo2","_slicedToArray","AMDisabled","PMDisabled","hours","filter","hourMeta","hourLabel","minutes","seconds","addColumnNode","condition","node","columnValue","onColumnSelect","column","valueIndex","findIndex","unitLen","nextUnit","num","PMIndex","TimePanel","_props$format","_props$use12Hours","bodyOperationRef","_React$useState","_React$useState2","setActiveColumnIndex","columnsCount","bool","onBlur","RangeContext","useCellClassName","rangedValue","hoverRangedValue","isInView","isSameCell","offsetCell","today","prevDate","nextDate","rangeStart","rangeEnd","hoverStart","hoverEnd","isRangeHovered","isRangeStart","isRangeEnd","isHoverStart","isHoverEnd","isHoverEdgeStart","isHoverEdgeEnd","DateBody","rowCount","dateRender","weekFirstDay","getWeekFirstDay","monthStartDate","startDateWeekDay","getWeekDay","alignStartDate","addDate","getWeekStartDate","weekDaysLocale","shortWeekDays","getShortWeekDays","DateHeader","onNextMonth","onPrevMonth","onNextYear","onPrevYear","onYearClick","onMonthClick","monthsLocale","shortMonths","getShortMonths","yearNode","yearFormat","monthNode","monthFormat","monthYearNodes","monthBeforeYear","DatePanel","_props$panelName","panelName","keyboardConfig","_onSelect","onYearChange","onMonthChange","ACTIVE_PANEL","_len","args","_key","tuple","DatetimePanel","defaultValue","disabledTime","activePanel","setActivePanel","dateOperationRef","timeOperationRef","timeProps","_typeof","e","TAB","nextActivePanel","activeIndex","indexOf","getNextActive","shiftKey","preventDefault","onClose","onInternalSelect","source","selectedDate","disabledTimes","defaultDate","WeekPanel","rowPrefixCls","MonthHeader","MonthBody","monthCellRender","baseMonth","MonthPanel","QuarterHeader","QuarterBody","baseQuarter","quarterFormat","QuarterPanel","YearHeader","onPrevDecade","onNextDecade","onDecadeClick","YEAR_DECADE_COUNT","YearBody","yearPrefixCls","baseYear","YEAR_COL_COUNT","currentYearNumber","YearPanel","sourceMode","onDecadeChange","getExtraFooter","renderExtraFooter","getRanges","presetNode","okNode","_ref$rangeList","rangeList","_ref$components","components","needConfirmButton","onNow","onOk","okDisabled","showNow","Item","rangeItem","Button","button","now","ok","PickerPanel","_classNames","_props$prefixCls","pickerValue","defaultPickerValue","_props$picker","_props$tabIndex","showToday","onChange","onMouseDown","onPickerValueChange","_onOk","direction","isHourStepValid","isMinuteStepValid","isSecondStepValid","panelContext","panelDivRef","panelRef","onContextSelect","hideRanges","defaultOpenValue","inRange","panelPosition","initRef","_useMergedState","useMergedState","postState","_useMergedState2","mergedValue","setInnerValue","_useMergedState3","_useMergedState4","setInnerViewDate","setViewDate","getInternalNextMode","nextMode","getNextMode","_useMergedState5","_useMergedState6","mergedMode","setInnerMode","panelNode","setSourceMode","triggerSelect","forceTriggerSelect","onInternalKeyDown","warning","extraFooter","rangesNode","todayNode","pickerProps","newMode","viewValue","lowerBoundTime","lowerBoundHour","lowerBoundMinute","getLowerBoundTime","adjustedNow","todayCls","Provider","BUILT_IN_PLACEMENTS","bottomLeft","points","overflow","adjustX","adjustY","bottomRight","topLeft","topRight","PickerTrigger","popupElement","popupStyle","visible","dropdownClassName","dropdownAlign","transitionName","getPopupContainer","range","popupPlacement","dropdownPrefixCls","Trigger","showAction","hideAction","builtinPlacements","popupTransitionName","popup","popupAlign","popupVisible","popupClassName","usePickerInput","isClickOutside","triggerOpen","forwardKeyDown","_onKeyDown","blurToCancel","onSubmit","onCancel","_onFocus","onFocus","_onBlur","_useState","useState","_useState2","typing","setTyping","_useState3","_useState4","focused","setFocused","preventBlurRef","valueChangedRef","preventDefaultRef","inputProps","ESC","SHIFT","document","activeElement","setTimeout","useEffect","window","addEventListener","_toConsumableArray","queueFunc","add","delete","size","removeEventListener","useTextValueMapping","valueTexts","onTextChange","text","setInnerText","valueTextsRef","resetText","every","valText","join","useValueTexts","firstValueText","fullValueTexts","formatStr","prev","shallowEqual","useHoverValue","valueText","internalSetValue","setValue","immediately","_useValueTexts","firstText","onLeave","InnerPicker","inputReadOnly","allowClear","autoFocus","defaultOpen","suffixIcon","clearIcon","placeholder","pickerRef","panelRender","onOpenChange","onMouseUp","onContextMenu","_props$autoComplete","autoComplete","inputRef","inputDivRef","selectedValue","setSelectedValue","postOpen","newOpen","mergedOpen","triggerInnerOpen","_useValueTexts2","_useTextValueMapping","newText","inputDate","_useTextValueMapping2","triggerTextChange","triggerChange","newValue","_usePickerInput","_usePickerInput2","_usePickerInput2$","focus","blur","_useHoverValue","_useHoverValue2","hoverValue","panelProps","suffixNode","clearNode","panel","stopPropagation","apply","readOnly","Picker","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","_createClass","getStartEndDistance","startNext","getDistance","compareFunc","decade1","decade2","isSameDecade","useRangeViewDates","defaultDates","defaultViewDates","setDefaultViewDates","_React$useState3","_React$useState4","viewDates","setInternalViewDates","getRangeViewDate","newViewDates","anotherIndex","reorderValues","canValueTrigger","allowEmpty","InnerRangePicker","_classNames3","_classNames4","_props$separator","separator","_disabledTime","ranges","onCalendarChange","order","activePickerIndex","openRecordsRef","containerRef","startInputDivRef","endInputDivRef","separatorRef","startInputRef","endInputRef","mergedActivePickerIndex","setMergedActivePickerIndex","mergedDisabled","_useRangeViewDates","_useRangeViewDates2","getViewDate","postValues","_useMergedState7","_useMergedState8","mergedModes","setInnerModes","triggerModesChange","modes","_useRangeDisabled","disabledStart","disabledEnd","weekFirstDate","getWeekFirstDate","monthNumber","quarterNumber","useRangeDisabled","_useRangeDisabled2","disabledStartDate","disabledEndDate","_useMergedState9","_useMergedState10","startOpen","endOpen","popupMinWidth","setPopupMinWidth","offsetWidth","triggerRef","_triggerOpen","clearTimeout","openRecords","triggerOpenAndFocus","sourceIndex","startValue","endValue","startStr","endStr","canStartValueTrigger","canEndValueTrigger","nextOpenIndex","sharedTextHooksProps","startValueTexts","firstStartValueText","_useValueTexts3","_useValueTexts4","endValueTexts","firstEndValueText","_onTextChange","startText","triggerStartTextChange","resetStartText","_useTextValueMapping3","_useTextValueMapping4","endText","triggerEndTextChange","resetEndText","rangeHoverValue","setRangeHoverValue","_useState5","_useState6","setHoverRangedValue","startHoverValue","onStartEnter","onStartLeave","_useHoverValue3","_useHoverValue4","endHoverValue","onEndEnter","onEndLeave","getSharedInputHookProps","startInputProps","startFocused","startTyping","_usePickerInput3","_usePickerInput4","endInputProps","_usePickerInput4$","endFocused","endTyping","renderPanel","panelHoverRangedValue","panelShowTime","timeDefaultValues","panelDateRender","arrowLeft","panelLeft","arrowPositionStyle","right","left","rangePanel","minWidth","panels","extraNode","nextViewDate","showDoublePanel","leftPanel","newViewDate","rightPanel","mergedNodes","marginLeft","renderPanels","inputSharedProps","activeBarLeft","activeBarWidth","activeBarPositionStyle","width","RangePicker","require","self","module","exports","__WEBPACK_EXTERNAL_MODULE__427__","PropTypes","ReactCountdownClock","_seconds","_radius","_fraction","_content","_canvas","_timeoutIds","_scale","devicePixelRatio","displayName","componentDidUpdate","prevProps","_startSeconds","_stopTimer","_setupTimer","color","_drawBackground","_updateCanvas","paused","_startTimer","_pauseTimer","componentDidMount","componentWillUnmount","_cancelTimer","_setScale","_setupCanvases","_drawTimer","_clearTimer","_tickPeriod","_calculateTick","_innerRadius","weight","tick","_background","_timer","refs","background","getContext","scale","timer","textAlign","textBaseline","component","_tick","timeout","Date","_handleComplete","onComplete","_clearBackground","clearRect","height","beginPath","globalAlpha","alpha","fillStyle","arc","PI","closePath","_formattedTime","1","timeFormat","hoursStr","parseInt","minutesStr","secondsStr","decimals","toFixed","timeParts","_fontSize","timeString","fontSize","formattedTime","pausedText","font","fillText","percent","render","canvasProps","createElement","assign","propTypes","number","string","func","showMilliseconds","defaultProps","_assign","emptyObject","_invariant","a","b","c","d","f","error","Error","argIndex","replace","name","framesToPop","MIXINS_KEY","ReactComponent","isValidElement","ReactNoopUpdateQueue","injectedMixins","ReactClassInterface","mixins","statics","contextTypes","childContextTypes","getDefaultProps","getInitialState","getChildContext","componentWillMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","updateComponent","ReactClassStaticInterface","getDerivedStateFromProps","RESERVED_SPEC_KEYS","Constructor","mixSpecIntoComponent","createMergedResultFunction","property","hasOwnProperty","autobind","validateMethodOverride","isAlreadyDefined","specPolicy","ReactClassMixin","spec","proto","prototype","autoBindPairs","__reactAutoBindPairs","isReactClassMethod","createChainedFunction","mergeIntoWithNoDuplicateKeys","one","two","bindAutoBindMethod","method","bind","IsMountedPreMixin","__isMounted","IsMountedPostMixin","replaceState","newState","updater","enqueueReplaceState","isMounted","ReactClassComponent","context","pairs","autoBindKey","state","initialState","methodName","constructor","factory","Component","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","TypeError","test1","getOwnPropertyNames","test2","fromCharCode","n","test3","split","letter","err","from","symbols","s","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","array","object","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","SERVER_RENDERED","navigator","global","cm","ReactCodeMirror","textarea","editor","options","defineMode","editorOption","tabSize","lineNumbers","nextProps","eventHandle","test","eventDict","handle","CodeMirror","cmCfg","modeCfg","htmlMode","getMode","htmlModeMissing","findModeByName","found","mime","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","code","quote","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","stream","inline","switchBlock","block","lineIsEmpty","line","blankLine","linkTitle","indentedCode","htmlBlock","exit","inner","innerMode","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","indentation","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","list","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","pop","allowsInlineContinuation","fencedCodeEnd","isHr","match","skipToEnd","eatSpace","getType","eat","setext","listType","taskList","fencedEndRE","RegExp","localMode","localState","startState","local","lookAhead","charAt","peek","footnoteLink","token","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","ch","matchCh","regex","previousFormatting","eatWhile","count","t","formattingEscape","pos","atts","substring","backUp","len","before","after","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","copyState","slice","indent","textAfter","Pass","blockCommentStart","blockCommentEnd","closeBrackets","fold","defineMIME","mod","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","indentUnit","config","defaults","prop","inText","chain","parser","inBlock","doctype","inTag","baseState","tagName","inAttribute","stringStartCol","closure","eol","isInAttribute","terminator","depth","Context","startOfLine","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","sol","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","configuration","helperType","skipAttribute","xmlCurrentTag","close","xmlCurrentContext","cx","reverse","mimeModes","modeInfo","ext","file","alias","info","findModeByMIME","toLowerCase","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","xtend","unified","addListMetadata","naiveHtml","disallowNode","astToReact","wrapTableRows","getDefinitions","uriTransformer","defaultRenderers","allTypes","ReactMarkdown","src","allowedTypes","disallowedTypes","renderers","processor","use","plugins","tree","runSync","renderProps","definitions","transforms","removalMethod","unwrapDisallowed","ofType","allowNode","ifNotMatch","renderHtml","allowDangerousHtml","escapeHtml","skipHtml","hasHtmlParser","astPlugins","transform","identity","HtmlParser","determineAstToReactTransforms","transformLinkUri","sourcePos","rawSourcePos","linkTarget","transformImageUri","types","bail","buffer","extend","plain","trough","vfile","frozen","attachers","transformers","namespace","freezeIndex","data","assertUnfrozen","own","freeze","settings","addPlugin","addList","addPreset","result","plugin","entry","find","doc","Parser","assertParser","newable","stringify","Compiler","assertCompiler","assertNode","compile","run","complete","done","assertDone","process","processSync","destination","transformer","Infinity","cb","Promise","executor","resolve","reject","pipeline","p","ctx","contents","asyncName","hasOwn","toStr","toString","defineProperty","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","setProperty","enumerable","configurable","writable","getProperty","copy","copyIsArray","clone","deep","getPrototypeOf","wrap","fns","middleware","input","fn","params","invoked","then","VMessage","VFile","message","reason","origin","path","fatal","messages","fail","VMessagePrototype","parts","parseOrigin","stack","ruleId","point","proc","history","cwd","assertPart","part","sep","assertNonEmpty","assertPath","encoding","dirname","basename","extname","charCodeAt","stem","normalize","absolute","allowAboveRoot","lastSlashIndex","lastSegmentLength","lastSlash","dots","normalizeString","JSON","firstNonSlashEnd","seenNonSlash","extIndex","unmatchedSlash","startDot","startPart","preDotState","joined","fromMarkdown","extensions","mdastExtensions","extension","configure","canContainEols","enter","autolink","opener","link","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","heading","blockQuote","characterEscape","characterReference","codeFenced","codeFlow","codeFencedFenceInfo","codeFencedFenceMeta","codeIndented","codeText","codeTextData","codeFlowValue","definition","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreakEscape","hardBreak","hardBreakTrailing","htmlFlow","html","htmlFlowData","htmlText","htmlTextData","listItem","listItemValue","onenterlistitemvalue","listOrdered","onenterlistordered","listUnordered","paragraph","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","thematicBreak","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","lineEnding","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","resource","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","events","handler","tokenStack","resume","setData","getData","prepareList","sliceSerialize","stringifyPosition","tailIndex","lineIndex","tailEvent","firstBlankLineIndex","atMarker","containerBalance","listSpread","_spread","splice","create","and","lang","meta","identifier","normalizeIdentifier","url","siblings","tail","referenceType","fragment","alt","safeFromInt","decode","ordered","spread","checked","compiler","postprocess","write","preprocessor","all","base","content","flow","combineExtensions","createTokenizer","miniflat","constructs","defined","initializer","markdownLineEnding","factorySpace","effects","previous","contentStart","attempt","contentInitial","consume","lineStart","contentType","partialBlankLine","inspectResult","childFlow","childToken","continued","inspectConstruct","subcontinued","inspectStart","containerState","continuation","inspectContinue","inspectLess","currentConstruct","concrete","flowContinue","inspectDone","interrupt","interruptible","containerConstruct","inspectFlowEnd","_closeFlow","lazy","lazyFlowConstruct","check","inspectLazy","flowEnd","partial","documentContinue","documentContinued","flowStart","containerContinue","exitContainers","_tokenizer","continueFlow","documentAfterPeek","defineSkip","sliceStream","nok","disable","null","initial","flowInitial","afterConstruct","prefixSize","subtokenize","contentEnd","continuationConstruct","contentContinue","prefixed","chunkedPush","chunkedSplice","resolveAll","serializeChunks","shallow","sliceChunks","initialize","columnStart","resolveAllConstructs","chunks","accountForPotentialSkip","_bufferIndex","_index","fields","constructFactory","construct","addResult","onsuccessfulcheck","main","chunkIndex","chunk","go","restore","onreturn","bogusState","listOfConstructs","constructIndex","handleListOfConstructs","handleConstruct","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","store","resolveTo","atTab","view","startIndex","startBufferIndex","endIndex","endBufferIndex","text$1","attention","headingAtx","labelEnd","labelStartImage","labelStartLink","setextUnderline","42","43","45","48","49","50","51","52","53","54","55","56","57","62","91","32","35","60","61","95","96","126","38","92","33","93","insideSpan","resolver","classifyCharacter","movePoint","marker","sequence","_open","_close","group","openingSequence","closingSequence","nextEvents","asciiAlpha","asciiAlphanumeric","asciiAtext","asciiControl","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","regexCheck","markdownSpace","_container","asciiPunctuation","decodeEntity","asciiDigit","asciiHexDigit","_interopDefaultLegacy","default","decodeEntity__default","numeric","el","characters","char","entity","innerHTML","textContent","markdownLineEndingOrSpace","closingFenceConstruct","closingSequenceStart","sizeOpen","closingSequenceEnd","initialPrefix","sequenceOpen","infoOpen","openAfter","infoAfter","indentedContentConstruct","afterPrefix","gap","tailExitIndex","headEnterIndex","factoryDestination","factoryLabel","factoryWhitespace","factoryTitle","labelAfter","titleConstruct","fenceOpenInside","headingBreak","htmlBlockNames","htmlRawNames","kind","startTag","declarationStart","tagCloseStart","continuationDeclarationInside","commentOpenInside","cdataOpenInside","basicSelfClosing","completeAttributeNameBefore","completeClosingTagAfter","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCharacterDataInside","continuationAtLineEnding","nextBlankConstruct","htmlContinueStart","continuationRawEndTag","declarationOpen","instruction","tagOpen","commentOpen","cdataOpen","declaration","commentStart","commentStartDash","comment","commentClose","atLineEnding","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","sizeChunks","initialSize","inside","onBlank","listItemPrefixWhitespaceConstruct","endOfPrefix","otherPrefix","initialBlankLine","furtherBlankLines","notInCurrentItem","indentConstruct","search","atCarriageReturn","startPosition","endPosition","lastIndex","visitWithParents","ast","listNode","parents","child","visitor","parent","visit","selfClosingRe","simpleTagRe","currentParent","selfClosing","getSelfClosing","tag","opening","getSimpleTag","matching","matchingTag","findAndPull","fromNode","toNode","fromIndex","toIndex","virtual","allow","parameters","ReactIs","renderer","isValidElementType","nodeProps","getNodeProps","resolveChildren","childNode","opts","isSimpleRenderer","Fragment","sourcePosition","includeNodeIndex","parentChildCount","toUpperCase","assignDefined","nodeKey","level","loose","listItemLoose","listLoose","reduce","unwrapParagraphs","getListItemChildren","language","href","columnAlignment","align","isHeader","isBlock","parsedChildren","Children","cloneElement","mergeNodeChildren","attrs","table","protocols","uri","trim","first","colon","protocol","supportsStringRender","version","SimpleRenderer","getCoreProps","break","blockquote","linkReference","imageReference","tableHead","tableBody","tableRow","tableCell","coreProps","root","checkbox","inlineCode","dangerous","dangerouslySetInnerHTML","__html","virtualHtml","parsedHtml","Symbol","warningIssued","syntax","toMarkdown","blockTokenizers","visitors","console","warn","field","combine","tasklist","unicodePunctuation","unicodeWhitespace","www","w2","w3","domain","hasUnderscoreInLastSegment","hasUnderscoreInLastLastSegment","namedCharacterReference","punctuationContinuation","balance","inPath","continuedPunctuation","parenAtPathEnd","pathEnd","trailingPunctuation","wwwAutolink","previousWww","httpAutolink","previousHttp","t1","t2","slash1","slash2","emailAutolink","hasDot","gfmAtext","previousEmail","atext","dotContinuation","dashOrUnderscoreContinuation","afterDashOrUnderscore","_balanced","single","singleTilde","tokenizer","more","removeRemainingSequences","seenDelimiter","hasDash","tableHeaderCount","_align","cellDividerHead","inCellContentHead","cellBreakHead","setextUnderlineMini","createSpace","rowStartDelimiter","atRowEndHead","inWhitespaceHead","inCellContentEscapeHead","atDelimiterRowBreak","rowEndDelimiter","inWhitespaceDelimiter","inFillerDelimiter","afterLeftAlignment","afterRightAlignment","tableClose","nextPrefixedOrBlank","tableContinue","bodyStart","rowStartBody","cellDividerBody","inCellContentBody","cellBreakBody","tableBodyClose","tableBodyContinue","atRowEndBody","inWhitespaceBody","inCellContentEscapeBody","inHead","inDelimiterRow","inRow","cell","cellStart","whitespace","spaceFactory","tasklistCheck","_gfmTasklistFirstContentOfListItem","spaceThenNonSpace","autolinkLiteral","taskListItem","ccount","findAndReplace","enterLiteralAutolinkValue","findUrl","$0","prefix","isCorrectDomain","closingParenIndex","openingParens","closingParens","trail","splitUrl","findEmail","email","ignore","literalAutolink","literalAutolinkEmail","literalAutolinkHttp","literalAutolinkWww","character","schema","handlerFactory","pair","subhandler","nodes","unshift","toExpression","toFunction","toPairs","convert","escape","ignored","grandparent","enterCell","$1","tableData","tableHeader","exitCheck","taskListCheckValueChecked","taskListCheckValueUnchecked","firstParaghraph","head","shift","handlers","unsafe","inConstruct","notInConstruct","phrasing","handleDelete","_","defaultInlineCode","markdownTable","padding","tableCellPadding","alignDelimiters","tablePipeAlign","stringLength","around","atBreak","serializeData","subexit","handleTableRowAsData","handleTableAsData","handleTableCell","matrix","patternCompile","pattern","expression","_compiled","repeat","cells","columnIndex","columnLength","largest","lines","delimiterStart","delimiterEnd","alignments","defaultStringLength","rowIndex","rowLength","cellMatrix","sizeMatrix","sizes","longestCellByColumn","mostCellsPerRow","toAlignment","r","space","trailingWhitespace","defaultListItem","bullet","checkBullet","listItemIndent","checkListItemIndent","incrementListMarker","indentLines","blank","results","between","Prism","_self","uniqueId","manual","disableWorkerMessageHandler","util","encode","tokens","Token","o","objId","deepClone","visited","v","getLanguage","parentElement","currentScript","scripts","getElementsByTagName","isActive","defaultActivation","no","classList","languages","redef","insertBefore","insert","grammar","ret","newToken","old","DFS","propertyType","highlightAll","async","highlightAllUnder","container","env","selector","hooks","querySelectorAll","highlightElement","nodeName","insertHighlightedCode","highlightedCode","Worker","worker","onmessage","evt","postMessage","immediateClose","highlight","rest","tokenList","LinkedList","addAfter","matchGrammar","callbacks","matchedStr","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","flags","currentNode","reach","removeCount","k","matchStr","removeFrom","removeRange","newNode","classes","attributes","aliases","script","highlightAutomaticallyCallback","hasAttribute","readyState","defer","WorkerGlobalScope","markup","includedCdataInside","def","mathml","svg","ssml","atom","rss","css","addInlined","clike","javascript","js","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","matches","setAttribute","appendChild","getAttribute","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","_interopRequireDefault","_moment","_default","_warning","endOf","weekday","localeData","firstDayOfWeek","isValidate","isValid","weekdaysMin","monthsShort","_format","formats","fallbackFormatList","formatText","matchFormat","matchText","_i","_date","noteOnce","_interopRequireWildcard","_button","_extends2","_tag","_defineProperty2","_slicedToArray2","_classnames","_omit","_CloseOutlined","_CheckableTag","_configProvider","_colors","_wave","__rest","PresetColorRegex","PresetColorTypes","PresetStatusColorRegex","PresetStatusColorTypes","InternalTag","_a","customizePrefixCls","icon","closeIcon","_a$closable","closable","useContext","ConfigContext","getPrefixCls","setVisible","isPresetColor","tagStyle","backgroundColor","presetColor","tagClassName","handleCloseClick","defaultPrevented","isNeedWave","tagProps","iconNode","kids","tagNode","Tag","forwardRef","CheckableTag","restProps","cls","getPicker","_inherits2","_createSuper2","_classCallCheck2","createRef","getDefaultLocale","_en_US","renderPicker","_this$context","customizeGetPopupContainer","customizeSize","_a$bordered","bordered","_this$props","additionalProps","additionalOverrideProps","mergedPicker","getTimeProps","_SizeContext","Consumer","mergedSize","_rcPicker","_util","getPlaceholder","_ClockCircleOutlined","_CalendarOutlined","_CloseCircleFilled","Components","_devWarning","_createClass2","_LocaleReceiver","defaultLocale","contextType","DatePicker","WeekPicker","MonthPicker","YearPicker","TimePicker","QuarterPicker","_AntdIcon","CalendarOutlined","ClockCircleOutlined","customGetPopupContainer","_SwapRightOutlined","getRangePlaceholder","__esModule","SwapRightOutlined","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","_createForOfIteratorHelper","allowArrayLike","it","iterator","F","_e","normalCompletion","didErr","_e2","iter","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptors","defineProperties","asyncGeneratorStep","gen","_next","_throw","arg","_asyncToGenerator","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","langData","abap","abnf","actionscript","ada","apacheconf","apl","applescript","arduino","arff","asciidoc","asm6502","aspnet","autohotkey","autoit","bash","basic","batch","bison","bnf","brainfuck","bro","csharp","cpp","cil","coffeescript","cmake","clojure","crystal","csp","dart","django","docker","ebnf","eiffel","ejs","elixir","elm","erb","erlang","fsharp","fortran","gcode","gedcom","gherkin","git","glsl","gml","graphql","groovy","haml","handlebars","haskell","haxe","hcl","http","hpkp","hsts","ichigojam","inform7","ini","io","java","javadoc","javadoclike","javastacktrace","jolie","jq","jsdoc","json","jsonp","json5","julia","keyman","kotlin","latex","less","lilypond","liquid","lisp","livescript","lolcode","lua","makefile","markdown","matlab","mel","mizar","monkey","n1ql","n4js","nasm","nginx","nim","nix","nsis","objectivec","ocaml","opencl","oz","parigp","pascal","pascaligo","pcaxis","perl","php","phpdoc","plsql","powershell","processing","prolog","properties","protobuf","pug","puppet","pure","python","q","qore","jsx","tsx","renpy","rip","roboconf","ruby","rust","sas","sass","scss","scala","scheme","smalltalk","smarty","soy","sql","stylus","swift","tap","tcl","textile","toml","tt2","twig","typescript","vala","vbnet","velocity","verilog","vhdl","vim","wasm","wiki","xeora","xojo","xquery","yaml","langs","onScroll","onMouseOver","other","mdp","loadedLang","codes","loadLang","useImperativeHandle","reactMarkdownProps","bold","keyCommand","viewBox","execute","selection","italic","strike","underline","olist","ulist","todo","Fullscreen","preview","full","setFull","initEditorHeight","editorRef","clientHeight","fullscreen","command","editorProps","Preview","containerEditor","defaultCommands","toolbars","htmlProps","buttonProps","btn","MarkdownEditor","toolbarsMode","visibleEditor","previewProps","codemirrorProps","codeMirror","previewContainer","setEditor","toolBarProps","codeEditor","data-visible","instance","RightOutlined","AntdIcon","RightOutlinedSvg","UpOutlined","UpOutlinedSvg","HeartTwoTone","primaryColor","secondaryColor","HeartTwoToneSvg","FormOutlined","FormOutlinedSvg","PlayCircleOutlined","PlayCircleOutlinedSvg","limit","remove","items","chunkStart","userAgent","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","rmClass","removeChildren","childNodes","removeChild","firstChild","removeChildrenAndAdd","elt","cssText","createTextNode","eltP","nodeType","parentNode","host","activeElt","body","shadowRoot","addClass","joinClasses","as","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","copyObj","overwrite","countColumn","nextTab","selectionStart","selectionEnd","Delayed","onTimeout","ms","scrollerGap","sel_dontScroll","scroll","sel_mouse","sel_move","findColumn","goal","col","skipped","min","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","dir","findFirst","pred","midF","mid","iterateBidiSections","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","getOrder","noHandlers","on","emitter","attachEvent","_handlers","getHandlers","off","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","splitLinesAuto","l","nl","rt","hasSelection","getSelection","te","ownerDocument","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","dependencies","resolveMode","mfactory","modeObj","modeExtensions","exts","modeProps","prop$1","extendMode","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","getLine","sz","chunkSize","getBetween","getLines","updateLineHeight","lineNo","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","skipTo","caseInsensitive","cased","hideFirstChars","oracle","baseToken","SavedContext","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","takeToken","asArray","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","getLineContent","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","sizer","mover","paddingTop","lineSpace","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","clearInterval","blinker","cursorDiv","cursorBlinkRate","setInterval","hasFocus","ensureFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","editorIsHidden","wrapperHeight","oldDisplayWidth","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","allowDropFileTypes","reader","onerror","onload","readAsText","selected","onDragStart","effectAllowed","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","34","36","37","39","40","44","46","59","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","keyMap","normalizeKeyName","ctrl","cmd","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","supportsTouch","clickInGutter","selectingText","handleMappedButton","leftButtonDown","configureMouse","option","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","copyableRanges","lineRange","disableBrowserMagic","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","dontDelegate","defineExtension","defineDocExtension","called","visitParents","CONTINUE","SKIP","EXIT","unicodePunctuationRegex","labelStart","_inactive","balanced","afterLabelEnd","resourceConstruct","fullReferenceConstruct","collapsedReferenceConstruct","media","_used","destinationAfter","afterLabel","firstFormat","showTimeObj","_PickerButton","_PickerTag","_generateSinglePicker2","_generateRangePicker","_generateSinglePicker","MergedDatePicker","isBuffer","subcontent","eventIndex","entered","adjust","startPositions","childEvents","jumps","gaps","isInFirstContentOfListItem","otherIndex","otherEvent","subevents","_movePreviousLineEndings","initializeFactory","createResolver","notText","resolveAllLineSuffixes","extraResolver","bufferIndex","tabs","hook","literalType","literalMarkerType","rawType","stringType","destinationEnclosedBefore","destinationRaw","destinationEnclosed","destinationEnclosedEscape","destinationRawEscape","markerType","labelEscape","seen","atFirstTitleBreak","atTitleBreak","titleEscape","is","subresult","grandparents","toResult","Boolean","typeFactory","tests","checks","anyFactory","allFactory","safeOptions","customizePlaceholder","yearPlaceholder","quarterPlaceholder","monthPlaceholder","weekPlaceholder","timePickerLocale","rangeYearPlaceholder","rangeMonthPlaceholder","rangeWeekPlaceholder","rangePlaceholder"],"mappings":"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","file":"static/js/477.c3eee554.chunk.js","sourcesContent":["import * as React from 'react';\nvar PanelContext = /*#__PURE__*/React.createContext({});\nexport default PanelContext;","import * as React from 'react';\nimport PanelContext from '../PanelContext';\nvar HIDDEN_STYLE = {\n  visibility: 'hidden'\n};\n\nfunction Header(_ref) {\n  var prefixCls = _ref.prefixCls,\n      _ref$prevIcon = _ref.prevIcon,\n      prevIcon = _ref$prevIcon === void 0 ? \"\\u2039\" : _ref$prevIcon,\n      _ref$nextIcon = _ref.nextIcon,\n      nextIcon = _ref$nextIcon === void 0 ? \"\\u203A\" : _ref$nextIcon,\n      _ref$superPrevIcon = _ref.superPrevIcon,\n      superPrevIcon = _ref$superPrevIcon === void 0 ? \"\\xAB\" : _ref$superPrevIcon,\n      _ref$superNextIcon = _ref.superNextIcon,\n      superNextIcon = _ref$superNextIcon === void 0 ? \"\\xBB\" : _ref$superNextIcon,\n      onSuperPrev = _ref.onSuperPrev,\n      onSuperNext = _ref.onSuperNext,\n      onPrev = _ref.onPrev,\n      onNext = _ref.onNext,\n      children = _ref.children;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideNextBtn = _React$useContext.hideNextBtn,\n      hidePrevBtn = _React$useContext.hidePrevBtn;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: prefixCls\n  }, onSuperPrev && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSuperPrev,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-super-prev-btn\"),\n    style: hidePrevBtn ? HIDDEN_STYLE : {}\n  }, superPrevIcon), onPrev && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onPrev,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-prev-btn\"),\n    style: hidePrevBtn ? HIDDEN_STYLE : {}\n  }, prevIcon), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-view\")\n  }, children), onNext && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onNext,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-next-btn\"),\n    style: hideNextBtn ? HIDDEN_STYLE : {}\n  }, nextIcon), onSuperNext && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSuperNext,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-super-next-btn\"),\n    style: hideNextBtn ? HIDDEN_STYLE : {}\n  }, superNextIcon));\n}\n\nexport default Header;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport { DECADE_DISTANCE_COUNT } from '.';\nimport PanelContext from '../../PanelContext';\n\nfunction DecadeHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      onPrevDecades = props.onPrevDecades,\n      onNextDecades = props.onNextDecades;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / DECADE_DISTANCE_COUNT) * DECADE_DISTANCE_COUNT;\n  var endYear = startYear + DECADE_DISTANCE_COUNT - 1;\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevDecades,\n    onSuperNext: onNextDecades\n  }), startYear, \"-\", endYear);\n}\n\nexport default DecadeHeader;","export function setTime(generateConfig, date, hour, minute, second) {\n  var nextTime = generateConfig.setHour(date, hour);\n  nextTime = generateConfig.setMinute(nextTime, minute);\n  nextTime = generateConfig.setSecond(nextTime, second);\n  return nextTime;\n}\nexport function getLowerBoundTime(hour, minute, second, hourStep, minuteStep, secondStep) {\n  var lowerBoundHour = Math.floor(hour / hourStep) * hourStep;\n\n  if (lowerBoundHour < hour) {\n    return [lowerBoundHour, 60 - minuteStep, 60 - secondStep];\n  }\n\n  var lowerBoundMinute = Math.floor(minute / minuteStep) * minuteStep;\n\n  if (lowerBoundMinute < minute) {\n    return [lowerBoundHour, lowerBoundMinute, 60 - secondStep];\n  }\n\n  var lowerBoundSecond = Math.floor(second / secondStep) * secondStep;\n  return [lowerBoundHour, lowerBoundMinute, lowerBoundSecond];\n}\nexport function getLastDay(generateConfig, date) {\n  var year = generateConfig.getYear(date);\n  var month = generateConfig.getMonth(date) + 1;\n  var endDate = generateConfig.getEndDate(generateConfig.getFixedDate(\"\".concat(year, \"-\").concat(month, \"-01\")));\n  var lastDay = generateConfig.getDate(endDate);\n  var monthShow = month < 10 ? \"0\".concat(month) : \"\".concat(month);\n  return \"\".concat(year, \"-\").concat(monthShow, \"-\").concat(lastDay);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PanelContext from '../PanelContext';\nimport { getLastDay } from '../utils/timeUtil';\nimport { getCellDateDisabled } from '../utils/dateUtil';\nexport default function PanelBody(_ref) {\n  var prefixCls = _ref.prefixCls,\n      disabledDate = _ref.disabledDate,\n      onSelect = _ref.onSelect,\n      picker = _ref.picker,\n      rowNum = _ref.rowNum,\n      colNum = _ref.colNum,\n      prefixColumn = _ref.prefixColumn,\n      rowClassName = _ref.rowClassName,\n      baseDate = _ref.baseDate,\n      getCellClassName = _ref.getCellClassName,\n      getCellText = _ref.getCellText,\n      getCellNode = _ref.getCellNode,\n      getCellDate = _ref.getCellDate,\n      generateConfig = _ref.generateConfig,\n      titleCell = _ref.titleCell,\n      headerCells = _ref.headerCells;\n\n  var _React$useContext = React.useContext(PanelContext),\n      onDateMouseEnter = _React$useContext.onDateMouseEnter,\n      onDateMouseLeave = _React$useContext.onDateMouseLeave,\n      mode = _React$useContext.mode;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\"); // =============================== Body ===============================\n\n  var rows = [];\n\n  for (var i = 0; i < rowNum; i += 1) {\n    var row = [];\n    var rowStartDate = void 0;\n\n    var _loop = function _loop(j) {\n      var _objectSpread2;\n\n      var offset = i * colNum + j;\n      var currentDate = getCellDate(baseDate, offset);\n      var disabled = getCellDateDisabled({\n        cellDate: currentDate,\n        mode: mode,\n        disabledDate: disabledDate,\n        generateConfig: generateConfig\n      });\n\n      if (j === 0) {\n        rowStartDate = currentDate;\n\n        if (prefixColumn) {\n          row.push(prefixColumn(rowStartDate));\n        }\n      }\n\n      var title = titleCell && titleCell(currentDate);\n      row.push( /*#__PURE__*/React.createElement(\"td\", {\n        key: j,\n        title: title,\n        className: classNames(cellPrefixCls, _objectSpread((_objectSpread2 = {}, _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-disabled\"), disabled), _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-start\"), getCellText(currentDate) === 1 || picker === 'year' && Number(title) % 10 === 0), _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-end\"), title === getLastDay(generateConfig, currentDate) || picker === 'year' && Number(title) % 10 === 9), _objectSpread2), getCellClassName(currentDate))),\n        onClick: function onClick() {\n          if (!disabled) {\n            onSelect(currentDate);\n          }\n        },\n        onMouseEnter: function onMouseEnter() {\n          if (!disabled && onDateMouseEnter) {\n            onDateMouseEnter(currentDate);\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          if (!disabled && onDateMouseLeave) {\n            onDateMouseLeave(currentDate);\n          }\n        }\n      }, getCellNode ? getCellNode(currentDate) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(cellPrefixCls, \"-inner\")\n      }, getCellText(currentDate))));\n    };\n\n    for (var j = 0; j < colNum; j += 1) {\n      _loop(j);\n    }\n\n    rows.push( /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      className: rowClassName && rowClassName(rowStartDate)\n    }, row));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\")\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"\".concat(prefixCls, \"-content\")\n  }, headerCells && /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, headerCells)), /*#__PURE__*/React.createElement(\"tbody\", null, rows)));\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { DECADE_DISTANCE_COUNT, DECADE_UNIT_DIFF } from '.';\nimport PanelBody from '../PanelBody';\nexport var DECADE_COL_COUNT = 3;\nvar DECADE_ROW_COUNT = 4;\n\nfunction DecadeBody(props) {\n  var DECADE_UNIT_DIFF_DES = DECADE_UNIT_DIFF - 1;\n  var prefixCls = props.prefixCls,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig;\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var decadeYearNumber = Math.floor(yearNumber / DECADE_UNIT_DIFF) * DECADE_UNIT_DIFF;\n  var startDecadeYear = Math.floor(yearNumber / DECADE_DISTANCE_COUNT) * DECADE_DISTANCE_COUNT;\n  var endDecadeYear = startDecadeYear + DECADE_DISTANCE_COUNT - 1;\n  var baseDecadeYear = generateConfig.setYear(viewDate, startDecadeYear - Math.ceil((DECADE_COL_COUNT * DECADE_ROW_COUNT * DECADE_UNIT_DIFF - DECADE_DISTANCE_COUNT) / 2));\n\n  var getCellClassName = function getCellClassName(date) {\n    var _ref;\n\n    var startDecadeNumber = generateConfig.getYear(date);\n    var endDecadeNumber = startDecadeNumber + DECADE_UNIT_DIFF_DES;\n    return _ref = {}, _defineProperty(_ref, \"\".concat(cellPrefixCls, \"-in-view\"), startDecadeYear <= startDecadeNumber && endDecadeNumber <= endDecadeYear), _defineProperty(_ref, \"\".concat(cellPrefixCls, \"-selected\"), startDecadeNumber === decadeYearNumber), _ref;\n  };\n\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: DECADE_ROW_COUNT,\n    colNum: DECADE_COL_COUNT,\n    baseDate: baseDecadeYear,\n    getCellText: function getCellText(date) {\n      var startDecadeNumber = generateConfig.getYear(date);\n      return \"\".concat(startDecadeNumber, \"-\").concat(startDecadeNumber + DECADE_UNIT_DIFF_DES);\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: function getCellDate(date, offset) {\n      return generateConfig.addYear(date, offset * DECADE_UNIT_DIFF);\n    }\n  }));\n}\n\nexport default DecadeBody;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nvar scrollIds = new Map();\n/** Trigger when element is visible in view */\n\nexport function waitElementReady(element, callback) {\n  var id;\n\n  function tryOrNextFrame() {\n    if (isVisible(element)) {\n      callback();\n    } else {\n      id = raf(function () {\n        tryOrNextFrame();\n      });\n    }\n  }\n\n  tryOrNextFrame();\n  return function () {\n    raf.cancel(id);\n  };\n}\n/* eslint-disable no-param-reassign */\n\nexport function scrollTo(element, to, duration) {\n  if (scrollIds.get(element)) {\n    cancelAnimationFrame(scrollIds.get(element));\n  } // jump to target if duration zero\n\n\n  if (duration <= 0) {\n    scrollIds.set(element, requestAnimationFrame(function () {\n      element.scrollTop = to;\n    }));\n    return;\n  }\n\n  var difference = to - element.scrollTop;\n  var perTick = difference / duration * 10;\n  scrollIds.set(element, requestAnimationFrame(function () {\n    element.scrollTop += perTick;\n\n    if (element.scrollTop !== to) {\n      scrollTo(element, to, duration - 10);\n    }\n  }));\n}\nexport function createKeyDownHandler(event, _ref) {\n  var onLeftRight = _ref.onLeftRight,\n      onCtrlLeftRight = _ref.onCtrlLeftRight,\n      onUpDown = _ref.onUpDown,\n      onPageUpDown = _ref.onPageUpDown,\n      onEnter = _ref.onEnter;\n  var which = event.which,\n      ctrlKey = event.ctrlKey,\n      metaKey = event.metaKey;\n\n  switch (which) {\n    case KeyCode.LEFT:\n      if (ctrlKey || metaKey) {\n        if (onCtrlLeftRight) {\n          onCtrlLeftRight(-1);\n          return true;\n        }\n      } else if (onLeftRight) {\n        onLeftRight(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.RIGHT:\n      if (ctrlKey || metaKey) {\n        if (onCtrlLeftRight) {\n          onCtrlLeftRight(1);\n          return true;\n        }\n      } else if (onLeftRight) {\n        onLeftRight(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.UP:\n      if (onUpDown) {\n        onUpDown(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.DOWN:\n      if (onUpDown) {\n        onUpDown(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.PAGE_UP:\n      if (onPageUpDown) {\n        onPageUpDown(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.PAGE_DOWN:\n      if (onPageUpDown) {\n        onPageUpDown(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.ENTER:\n      if (onEnter) {\n        onEnter();\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n  }\n\n  return false;\n} // ===================== Format =====================\n\nexport function getDefaultFormat(format, picker, showTime, use12Hours) {\n  var mergedFormat = format;\n\n  if (!mergedFormat) {\n    switch (picker) {\n      case 'time':\n        mergedFormat = use12Hours ? 'hh:mm:ss a' : 'HH:mm:ss';\n        break;\n\n      case 'week':\n        mergedFormat = 'gggg-wo';\n        break;\n\n      case 'month':\n        mergedFormat = 'YYYY-MM';\n        break;\n\n      case 'quarter':\n        mergedFormat = 'YYYY-[Q]Q';\n        break;\n\n      case 'year':\n        mergedFormat = 'YYYY';\n        break;\n\n      default:\n        mergedFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n    }\n  }\n\n  return mergedFormat;\n}\nexport function getInputSize(picker, format, generateConfig) {\n  var defaultSize = picker === 'time' ? 8 : 10;\n  var length = typeof format === 'function' ? format(generateConfig.getNow()).length : format.length;\n  return Math.max(defaultSize, length) + 2;\n}\nvar globalClickFunc = null;\nvar clickCallbacks = new Set();\nexport function addGlobalMouseDownEvent(callback) {\n  if (!globalClickFunc && typeof window !== 'undefined' && window.addEventListener) {\n    globalClickFunc = function globalClickFunc(e) {\n      // Clone a new list to avoid repeat trigger events\n      _toConsumableArray(clickCallbacks).forEach(function (queueFunc) {\n        queueFunc(e);\n      });\n    };\n\n    window.addEventListener('mousedown', globalClickFunc);\n  }\n\n  clickCallbacks.add(callback);\n  return function () {\n    clickCallbacks.delete(callback);\n\n    if (clickCallbacks.size === 0) {\n      window.removeEventListener('mousedown', globalClickFunc);\n      globalClickFunc = null;\n    }\n  };\n} // ====================== Mode ======================\n\nvar getYearNextMode = function getYearNextMode(next) {\n  if (next === 'month' || next === 'date') {\n    return 'year';\n  }\n\n  return next;\n};\n\nvar getMonthNextMode = function getMonthNextMode(next) {\n  if (next === 'date') {\n    return 'month';\n  }\n\n  return next;\n};\n\nvar getQuarterNextMode = function getQuarterNextMode(next) {\n  if (next === 'month' || next === 'date') {\n    return 'quarter';\n  }\n\n  return next;\n};\n\nvar getWeekNextMode = function getWeekNextMode(next) {\n  if (next === 'date') {\n    return 'week';\n  }\n\n  return next;\n};\n\nexport var PickerModeMap = {\n  year: getYearNextMode,\n  month: getMonthNextMode,\n  quarter: getQuarterNextMode,\n  week: getWeekNextMode,\n  time: null,\n  date: null\n};\nexport function elementsContains(elements, target) {\n  return elements.some(function (ele) {\n    return ele && ele.contains(target);\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport DecadeHeader from './DecadeHeader';\nimport DecadeBody, { DECADE_COL_COUNT } from './DecadeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nexport var DECADE_UNIT_DIFF = 10;\nexport var DECADE_DISTANCE_COUNT = DECADE_UNIT_DIFF * 10;\n\nfunction DecadePanel(props) {\n  var prefixCls = props.prefixCls,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      operationRef = props.operationRef,\n      onSelect = props.onSelect,\n      onPanelChange = props.onPanelChange;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-decade-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_UNIT_DIFF), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_DISTANCE_COUNT), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_UNIT_DIFF * DECADE_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange('year', viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onDecadesChange = function onDecadesChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff * DECADE_DISTANCE_COUNT);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  var onInternalSelect = function onInternalSelect(date) {\n    onSelect(date, 'mouse');\n    onPanelChange('year', date);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(DecadeHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevDecades: function onPrevDecades() {\n      onDecadesChange(-1);\n    },\n    onNextDecades: function onNextDecades() {\n      onDecadesChange(1);\n    }\n  })), /*#__PURE__*/React.createElement(DecadeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: onInternalSelect\n  })));\n}\n\nexport default DecadePanel;","import { DECADE_UNIT_DIFF } from '../panels/DecadePanel/index';\nexport var WEEK_DAY_COUNT = 7;\nexport function isNullEqual(value1, value2) {\n  if (!value1 && !value2) {\n    return true;\n  }\n\n  if (!value1 || !value2) {\n    return false;\n  }\n\n  return undefined;\n}\nexport function isSameDecade(generateConfig, decade1, decade2) {\n  var equal = isNullEqual(decade1, decade2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  var num1 = Math.floor(generateConfig.getYear(decade1) / 10);\n  var num2 = Math.floor(generateConfig.getYear(decade2) / 10);\n  return num1 === num2;\n}\nexport function isSameYear(generateConfig, year1, year2) {\n  var equal = isNullEqual(year1, year2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getYear(year1) === generateConfig.getYear(year2);\n}\nexport function getQuarter(generateConfig, date) {\n  var quota = Math.floor(generateConfig.getMonth(date) / 3);\n  return quota + 1;\n}\nexport function isSameQuarter(generateConfig, quarter1, quarter2) {\n  var equal = isNullEqual(quarter1, quarter2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return isSameYear(generateConfig, quarter1, quarter2) && getQuarter(generateConfig, quarter1) === getQuarter(generateConfig, quarter2);\n}\nexport function isSameMonth(generateConfig, month1, month2) {\n  var equal = isNullEqual(month1, month2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return isSameYear(generateConfig, month1, month2) && generateConfig.getMonth(month1) === generateConfig.getMonth(month2);\n}\nexport function isSameDate(generateConfig, date1, date2) {\n  var equal = isNullEqual(date1, date2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getYear(date1) === generateConfig.getYear(date2) && generateConfig.getMonth(date1) === generateConfig.getMonth(date2) && generateConfig.getDate(date1) === generateConfig.getDate(date2);\n}\nexport function isSameTime(generateConfig, time1, time2) {\n  var equal = isNullEqual(time1, time2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getHour(time1) === generateConfig.getHour(time2) && generateConfig.getMinute(time1) === generateConfig.getMinute(time2) && generateConfig.getSecond(time1) === generateConfig.getSecond(time2);\n}\nexport function isSameWeek(generateConfig, locale, date1, date2) {\n  var equal = isNullEqual(date1, date2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.locale.getWeek(locale, date1) === generateConfig.locale.getWeek(locale, date2);\n}\nexport function isEqual(generateConfig, value1, value2) {\n  return isSameDate(generateConfig, value1, value2) && isSameTime(generateConfig, value1, value2);\n}\n/** Between in date but not equal of date */\n\nexport function isInRange(generateConfig, startDate, endDate, current) {\n  if (!startDate || !endDate || !current) {\n    return false;\n  }\n\n  return !isSameDate(generateConfig, startDate, current) && !isSameDate(generateConfig, endDate, current) && generateConfig.isAfter(current, startDate) && generateConfig.isAfter(endDate, current);\n}\nexport function getWeekStartDate(locale, generateConfig, value) {\n  var weekFirstDay = generateConfig.locale.getWeekFirstDay(locale);\n  var monthStartDate = generateConfig.setDate(value, 1);\n  var startDateWeekDay = generateConfig.getWeekDay(monthStartDate);\n  var alignStartDate = generateConfig.addDate(monthStartDate, weekFirstDay - startDateWeekDay);\n\n  if (generateConfig.getMonth(alignStartDate) === generateConfig.getMonth(value) && generateConfig.getDate(alignStartDate) > 1) {\n    alignStartDate = generateConfig.addDate(alignStartDate, -7);\n  }\n\n  return alignStartDate;\n}\nexport function getClosingViewDate(viewDate, picker, generateConfig) {\n  var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n  switch (picker) {\n    case 'year':\n      return generateConfig.addYear(viewDate, offset * 10);\n\n    case 'quarter':\n    case 'month':\n      return generateConfig.addYear(viewDate, offset);\n\n    default:\n      return generateConfig.addMonth(viewDate, offset);\n  }\n}\nexport function formatValue(value, _ref) {\n  var generateConfig = _ref.generateConfig,\n      locale = _ref.locale,\n      format = _ref.format;\n  return typeof format === 'function' ? format(value) : generateConfig.locale.format(locale.locale, value, format);\n}\nexport function parseValue(value, _ref2) {\n  var generateConfig = _ref2.generateConfig,\n      locale = _ref2.locale,\n      formatList = _ref2.formatList;\n\n  if (!value || typeof formatList[0] === 'function') {\n    return null;\n  }\n\n  return generateConfig.locale.parse(locale.locale, value, formatList);\n} // eslint-disable-next-line consistent-return\n\nexport function getCellDateDisabled(_ref3) {\n  var cellDate = _ref3.cellDate,\n      mode = _ref3.mode,\n      disabledDate = _ref3.disabledDate,\n      generateConfig = _ref3.generateConfig;\n  if (!disabledDate) return false; // Whether cellDate is disabled in range\n\n  var getDisabledFromRange = function getDisabledFromRange(currentMode, start, end) {\n    var current = start;\n\n    while (current <= end) {\n      var date = void 0;\n\n      switch (currentMode) {\n        case 'date':\n          {\n            date = generateConfig.setDate(cellDate, current);\n\n            if (!disabledDate(date)) {\n              return false;\n            }\n\n            break;\n          }\n\n        case 'month':\n          {\n            date = generateConfig.setMonth(cellDate, current);\n\n            if (!getCellDateDisabled({\n              cellDate: date,\n              mode: 'month',\n              generateConfig: generateConfig,\n              disabledDate: disabledDate\n            })) {\n              return false;\n            }\n\n            break;\n          }\n\n        case 'year':\n          {\n            date = generateConfig.setYear(cellDate, current);\n\n            if (!getCellDateDisabled({\n              cellDate: date,\n              mode: 'year',\n              generateConfig: generateConfig,\n              disabledDate: disabledDate\n            })) {\n              return false;\n            }\n\n            break;\n          }\n      }\n\n      current += 1;\n    }\n\n    return true;\n  };\n\n  switch (mode) {\n    case 'date':\n    case 'week':\n      {\n        return disabledDate(cellDate);\n      }\n\n    case 'month':\n      {\n        var startDate = 1;\n        var endDate = generateConfig.getDate(generateConfig.getEndDate(cellDate));\n        return getDisabledFromRange('date', startDate, endDate);\n      }\n\n    case 'quarter':\n      {\n        var startMonth = Math.floor(generateConfig.getMonth(cellDate) / 3) * 3;\n        var endMonth = startMonth + 2;\n        return getDisabledFromRange('month', startMonth, endMonth);\n      }\n\n    case 'year':\n      {\n        return getDisabledFromRange('month', 0, 11);\n      }\n\n    case 'decade':\n      {\n        var year = generateConfig.getYear(cellDate);\n        var startYear = Math.floor(year / DECADE_UNIT_DIFF) * DECADE_UNIT_DIFF;\n        var endYear = startYear + DECADE_UNIT_DIFF - 1;\n        return getDisabledFromRange('year', startYear, endYear);\n      }\n  }\n}","import * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction TimeHeader(props) {\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      value = props.value,\n      format = props.format;\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, {\n    prefixCls: headerPrefixCls\n  }, value ? formatValue(value, {\n    locale: locale,\n    format: format,\n    generateConfig: generateConfig\n  }) : \"\\xA0\");\n}\n\nexport default TimeHeader;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { useRef, useLayoutEffect } from 'react';\nimport classNames from 'classnames';\nimport { scrollTo, waitElementReady } from '../../utils/uiUtil';\nimport PanelContext from '../../PanelContext';\n\nfunction TimeUnitColumn(props) {\n  var prefixCls = props.prefixCls,\n      units = props.units,\n      onSelect = props.onSelect,\n      value = props.value,\n      active = props.active,\n      hideDisabledOptions = props.hideDisabledOptions;\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n\n  var _React$useContext = React.useContext(PanelContext),\n      open = _React$useContext.open;\n\n  var ulRef = useRef(null);\n  var liRefs = useRef(new Map());\n  var scrollRef = useRef(); // `useLayoutEffect` here to avoid blink by duration is 0\n\n  useLayoutEffect(function () {\n    var li = liRefs.current.get(value);\n\n    if (li && open !== false) {\n      scrollTo(ulRef.current, li.offsetTop, 120);\n    }\n  }, [value]);\n  useLayoutEffect(function () {\n    if (open) {\n      var li = liRefs.current.get(value);\n\n      if (li) {\n        scrollRef.current = waitElementReady(li, function () {\n          scrollTo(ulRef.current, li.offsetTop, 0);\n        });\n      }\n    }\n\n    return function () {\n      var _scrollRef$current;\n\n      (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.call(scrollRef);\n    };\n  }, [open]);\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: classNames(\"\".concat(prefixCls, \"-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-active\"), active)),\n    ref: ulRef,\n    style: {\n      position: 'relative'\n    }\n  }, units.map(function (unit) {\n    var _classNames2;\n\n    if (hideDisabledOptions && unit.disabled) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: unit.value,\n      ref: function ref(element) {\n        liRefs.current.set(unit.value, element);\n      },\n      className: classNames(cellPrefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-disabled\"), unit.disabled), _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-selected\"), value === unit.value), _classNames2)),\n      onClick: function onClick() {\n        if (unit.disabled) {\n          return;\n        }\n\n        onSelect(unit.value);\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(cellPrefixCls, \"-inner\")\n    }, unit.label));\n  }));\n}\n\nexport default TimeUnitColumn;","export function leftPad(str, length) {\n  var fill = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n  var current = String(str);\n\n  while (current.length < length) {\n    current = \"\".concat(fill).concat(str);\n  }\n\n  return current;\n}\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport function toArray(val) {\n  if (val === null || val === undefined) {\n    return [];\n  }\n\n  return Array.isArray(val) ? val : [val];\n}\nexport default function getDataOrAriaProps(props) {\n  var retProps = {};\n  Object.keys(props).forEach(function (key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role' || key === 'name') && key.substr(0, 7) !== 'data-__') {\n      retProps[key] = props[key];\n    }\n  });\n  return retProps;\n}\nexport function getValue(values, index) {\n  return values ? values[index] : null;\n}\nexport function updateValues(values, value, index) {\n  var newValues = [getValue(values, 0), getValue(values, 1)];\n  newValues[index] = typeof value === 'function' ? value(newValues[index]) : value;\n\n  if (!newValues[0] && !newValues[1]) {\n    return null;\n  }\n\n  return newValues;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport TimeUnitColumn from './TimeUnitColumn';\nimport { leftPad } from '../../utils/miscUtil';\nimport { setTime as utilSetTime } from '../../utils/timeUtil';\n\nfunction shouldUnitsUpdate(prevUnits, nextUnits) {\n  if (prevUnits.length !== nextUnits.length) return true; // if any unit's disabled status is different, the units should be re-evaluted\n\n  for (var i = 0; i < prevUnits.length; i += 1) {\n    if (prevUnits[i].disabled !== nextUnits[i].disabled) return true;\n  }\n\n  return false;\n}\n\nfunction generateUnits(start, end, step, disabledUnits) {\n  var units = [];\n\n  for (var i = start; i <= end; i += step) {\n    units.push({\n      label: leftPad(i, 2),\n      value: i,\n      disabled: (disabledUnits || []).includes(i)\n    });\n  }\n\n  return units;\n}\n\nfunction TimeBody(props) {\n  var generateConfig = props.generateConfig,\n      prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      activeColumnIndex = props.activeColumnIndex,\n      value = props.value,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      use12Hours = props.use12Hours,\n      _props$hourStep = props.hourStep,\n      hourStep = _props$hourStep === void 0 ? 1 : _props$hourStep,\n      _props$minuteStep = props.minuteStep,\n      minuteStep = _props$minuteStep === void 0 ? 1 : _props$minuteStep,\n      _props$secondStep = props.secondStep,\n      secondStep = _props$secondStep === void 0 ? 1 : _props$secondStep,\n      disabledHours = props.disabledHours,\n      disabledMinutes = props.disabledMinutes,\n      disabledSeconds = props.disabledSeconds,\n      hideDisabledOptions = props.hideDisabledOptions,\n      onSelect = props.onSelect;\n  var columns = [];\n  var contentPrefixCls = \"\".concat(prefixCls, \"-content\");\n  var columnPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var isPM;\n  var originHour = value ? generateConfig.getHour(value) : -1;\n  var hour = originHour;\n  var minute = value ? generateConfig.getMinute(value) : -1;\n  var second = value ? generateConfig.getSecond(value) : -1;\n\n  var setTime = function setTime(isNewPM, newHour, newMinute, newSecond) {\n    var newDate = value || generateConfig.getNow();\n    var mergedHour = Math.max(0, newHour);\n    var mergedMinute = Math.max(0, newMinute);\n    var mergedSecond = Math.max(0, newSecond);\n    newDate = utilSetTime(generateConfig, newDate, !use12Hours || !isNewPM ? mergedHour : mergedHour + 12, mergedMinute, mergedSecond);\n    return newDate;\n  }; // ========================= Unit =========================\n\n\n  var rawHours = generateUnits(0, 23, hourStep, disabledHours && disabledHours());\n  var memorizedRawHours = useMemo(function () {\n    return rawHours;\n  }, rawHours, shouldUnitsUpdate); // Should additional logic to handle 12 hours\n\n  if (use12Hours) {\n    isPM = hour >= 12; // -1 means should display AM\n\n    hour %= 12;\n  }\n\n  var _React$useMemo = React.useMemo(function () {\n    if (!use12Hours) {\n      return [false, false];\n    }\n\n    var AMPMDisabled = [true, true];\n    memorizedRawHours.forEach(function (_ref) {\n      var disabled = _ref.disabled,\n          hourValue = _ref.value;\n      if (disabled) return;\n\n      if (hourValue >= 12) {\n        AMPMDisabled[1] = false;\n      } else {\n        AMPMDisabled[0] = false;\n      }\n    });\n    return AMPMDisabled;\n  }, [use12Hours, memorizedRawHours]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      AMDisabled = _React$useMemo2[0],\n      PMDisabled = _React$useMemo2[1];\n\n  var hours = React.useMemo(function () {\n    if (!use12Hours) return memorizedRawHours;\n    return memorizedRawHours.filter(isPM ? function (hourMeta) {\n      return hourMeta.value >= 12;\n    } : function (hourMeta) {\n      return hourMeta.value < 12;\n    }).map(function (hourMeta) {\n      var hourValue = hourMeta.value % 12;\n      var hourLabel = hourValue === 0 ? '12' : leftPad(hourValue, 2);\n      return _objectSpread(_objectSpread({}, hourMeta), {}, {\n        label: hourLabel,\n        value: hourValue\n      });\n    });\n  }, [use12Hours, isPM, memorizedRawHours]);\n  var minutes = generateUnits(0, 59, minuteStep, disabledMinutes && disabledMinutes(originHour));\n  var seconds = generateUnits(0, 59, secondStep, disabledSeconds && disabledSeconds(originHour, minute)); // ====================== Operations ======================\n\n  operationRef.current = {\n    onUpDown: function onUpDown(diff) {\n      var column = columns[activeColumnIndex];\n\n      if (column) {\n        var valueIndex = column.units.findIndex(function (unit) {\n          return unit.value === column.value;\n        });\n        var unitLen = column.units.length;\n\n        for (var i = 1; i < unitLen; i += 1) {\n          var nextUnit = column.units[(valueIndex + diff * i + unitLen) % unitLen];\n\n          if (nextUnit.disabled !== true) {\n            column.onSelect(nextUnit.value);\n            break;\n          }\n        }\n      }\n    }\n  }; // ======================== Render ========================\n\n  function addColumnNode(condition, node, columnValue, units, onColumnSelect) {\n    if (condition !== false) {\n      columns.push({\n        node: /*#__PURE__*/React.cloneElement(node, {\n          prefixCls: columnPrefixCls,\n          value: columnValue,\n          active: activeColumnIndex === columns.length,\n          onSelect: onColumnSelect,\n          units: units,\n          hideDisabledOptions: hideDisabledOptions\n        }),\n        onSelect: onColumnSelect,\n        value: columnValue,\n        units: units\n      });\n    }\n  } // Hour\n\n\n  addColumnNode(showHour, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"hour\"\n  }), hour, hours, function (num) {\n    onSelect(setTime(isPM, num, minute, second), 'mouse');\n  }); // Minute\n\n  addColumnNode(showMinute, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"minute\"\n  }), minute, minutes, function (num) {\n    onSelect(setTime(isPM, hour, num, second), 'mouse');\n  }); // Second\n\n  addColumnNode(showSecond, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"second\"\n  }), second, seconds, function (num) {\n    onSelect(setTime(isPM, hour, minute, num), 'mouse');\n  }); // 12 Hours\n\n  var PMIndex = -1;\n\n  if (typeof isPM === 'boolean') {\n    PMIndex = isPM ? 1 : 0;\n  }\n\n  addColumnNode(use12Hours === true, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"12hours\"\n  }), PMIndex, [{\n    label: 'AM',\n    value: 0,\n    disabled: AMDisabled\n  }, {\n    label: 'PM',\n    value: 1,\n    disabled: PMDisabled\n  }], function (num) {\n    onSelect(setTime(!!num, hour, minute, second), 'mouse');\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: contentPrefixCls\n  }, columns.map(function (_ref2) {\n    var node = _ref2.node;\n    return node;\n  }));\n}\n\nexport default TimeBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TimeHeader from './TimeHeader';\nimport TimeBody from './TimeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(props) {\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = React.useRef(); // ======================= Keyboard =======================\n\n  var _React$useState = React.useState(-1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeColumnIndex = _React$useState2[0],\n      setActiveColumnIndex = _React$useState2[1];\n\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          setActiveColumnIndex((activeColumnIndex + diff + columnsCount) % columnsCount);\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex === -1) {\n            setActiveColumnIndex(0);\n          } else if (bodyOperationRef.current) {\n            bodyOperationRef.current.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          setActiveColumnIndex(-1);\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      setActiveColumnIndex(-1);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(TimeHeader, _extends({}, props, {\n    format: format,\n    prefixCls: prefixCls\n  })), /*#__PURE__*/React.createElement(TimeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    activeColumnIndex: activeColumnIndex,\n    operationRef: bodyOperationRef\n  })));\n}\n\nexport default TimePanel;","import * as React from 'react';\nvar RangeContext = /*#__PURE__*/React.createContext({});\nexport default RangeContext;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isInRange } from '../utils/dateUtil';\nimport { getValue } from '../utils/miscUtil';\nexport default function useCellClassName(_ref) {\n  var cellPrefixCls = _ref.cellPrefixCls,\n      generateConfig = _ref.generateConfig,\n      rangedValue = _ref.rangedValue,\n      hoverRangedValue = _ref.hoverRangedValue,\n      isInView = _ref.isInView,\n      isSameCell = _ref.isSameCell,\n      offsetCell = _ref.offsetCell,\n      today = _ref.today,\n      value = _ref.value;\n\n  function getClassName(currentDate) {\n    var _ref2;\n\n    var prevDate = offsetCell(currentDate, -1);\n    var nextDate = offsetCell(currentDate, 1);\n    var rangeStart = getValue(rangedValue, 0);\n    var rangeEnd = getValue(rangedValue, 1);\n    var hoverStart = getValue(hoverRangedValue, 0);\n    var hoverEnd = getValue(hoverRangedValue, 1);\n    var isRangeHovered = isInRange(generateConfig, hoverStart, hoverEnd, currentDate);\n\n    function isRangeStart(date) {\n      return isSameCell(rangeStart, date);\n    }\n\n    function isRangeEnd(date) {\n      return isSameCell(rangeEnd, date);\n    }\n\n    var isHoverStart = isSameCell(hoverStart, currentDate);\n    var isHoverEnd = isSameCell(hoverEnd, currentDate);\n    var isHoverEdgeStart = (isRangeHovered || isHoverEnd) && (!isInView(prevDate) || isRangeEnd(prevDate));\n    var isHoverEdgeEnd = (isRangeHovered || isHoverStart) && (!isInView(nextDate) || isRangeStart(nextDate));\n    return _ref2 = {}, _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-in-view\"), isInView(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-in-range\"), isInRange(generateConfig, rangeStart, rangeEnd, currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start\"), isRangeStart(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end\"), isRangeEnd(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start-single\"), isRangeStart(currentDate) && !rangeEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end-single\"), isRangeEnd(currentDate) && !rangeStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start-near-hover\"), isRangeStart(currentDate) && (isSameCell(prevDate, hoverStart) || isInRange(generateConfig, hoverStart, hoverEnd, prevDate))), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end-near-hover\"), isRangeEnd(currentDate) && (isSameCell(nextDate, hoverEnd) || isInRange(generateConfig, hoverStart, hoverEnd, nextDate))), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover\"), isRangeHovered), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-start\"), isHoverStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-end\"), isHoverEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-start\"), isHoverEdgeStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-end\"), isHoverEdgeEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-start-near-range\"), isHoverEdgeStart && isSameCell(prevDate, rangeEnd)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-end-near-range\"), isHoverEdgeEnd && isSameCell(nextDate, rangeStart)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-today\"), isSameCell(today, currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-selected\"), isSameCell(value, currentDate)), _ref2;\n  }\n\n  return getClassName;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { WEEK_DAY_COUNT, getWeekStartDate, isSameDate, isSameMonth, formatValue } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\n\nfunction DateBody(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      prefixColumn = props.prefixColumn,\n      locale = props.locale,\n      rowCount = props.rowCount,\n      viewDate = props.viewDate,\n      value = props.value,\n      dateRender = props.dateRender;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var baseDate = getWeekStartDate(locale.locale, generateConfig, viewDate);\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var weekFirstDay = generateConfig.locale.getWeekFirstDay(locale.locale);\n  var today = generateConfig.getNow(); // ============================== Header ==============================\n\n  var headerCells = [];\n  var weekDaysLocale = locale.shortWeekDays || (generateConfig.locale.getShortWeekDays ? generateConfig.locale.getShortWeekDays(locale.locale) : []);\n\n  if (prefixColumn) {\n    headerCells.push( /*#__PURE__*/React.createElement(\"th\", {\n      key: \"empty\",\n      \"aria-label\": \"empty cell\"\n    }));\n  }\n\n  for (var i = 0; i < WEEK_DAY_COUNT; i += 1) {\n    headerCells.push( /*#__PURE__*/React.createElement(\"th\", {\n      key: i\n    }, weekDaysLocale[(i + weekFirstDay) % WEEK_DAY_COUNT]));\n  } // =============================== Body ===============================\n\n\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    today: today,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: prefixColumn ? null : rangedValue,\n    hoverRangedValue: prefixColumn ? null : hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameDate(generateConfig, current, target);\n    },\n    isInView: function isInView(date) {\n      return isSameMonth(generateConfig, date, viewDate);\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addDate(date, offset);\n    }\n  });\n  var getCellNode = dateRender ? function (date) {\n    return dateRender(date, today);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: rowCount,\n    colNum: WEEK_DAY_COUNT,\n    baseDate: baseDate,\n    getCellNode: getCellNode,\n    getCellText: generateConfig.getDate,\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addDate,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-MM-DD',\n        generateConfig: generateConfig\n      });\n    },\n    headerCells: headerCells\n  }));\n}\n\nexport default DateBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction DateHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextMonth = props.onNextMonth,\n      onPrevMonth = props.onPrevMonth,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick,\n      onMonthClick = props.onMonthClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var monthsLocale = locale.shortMonths || (generateConfig.locale.getShortMonths ? generateConfig.locale.getShortMonths(locale.locale) : []);\n  var month = generateConfig.getMonth(viewDate); // =================== Month & Year ===================\n\n  var yearNode = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    key: \"year\",\n    onClick: onYearClick,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  }));\n  var monthNode = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    key: \"month\",\n    onClick: onMonthClick,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-month-btn\")\n  }, locale.monthFormat ? formatValue(viewDate, {\n    locale: locale,\n    format: locale.monthFormat,\n    generateConfig: generateConfig\n  }) : monthsLocale[month]);\n  var monthYearNodes = locale.monthBeforeYear ? [monthNode, yearNode] : [yearNode, monthNode];\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onPrev: onPrevMonth,\n    onNext: onNextMonth,\n    onSuperNext: onNextYear\n  }), monthYearNodes);\n}\n\nexport default DateHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport DateBody from './DateBody';\nimport DateHeader from './DateHeader';\nimport { WEEK_DAY_COUNT } from '../../utils/dateUtil';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nvar DATE_ROW_COUNT = 6;\n\nfunction DatePanel(props) {\n  var prefixCls = props.prefixCls,\n      _props$panelName = props.panelName,\n      panelName = _props$panelName === void 0 ? 'date' : _props$panelName,\n      keyboardConfig = props.keyboardConfig,\n      active = props.active,\n      operationRef = props.operationRef,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onViewDateChange = props.onViewDateChange,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-\").concat(panelName, \"-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, _objectSpread({\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addDate(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addDate(value || viewDate, diff * WEEK_DAY_COUNT), 'key');\n        },\n        onPageUpDown: function onPageUpDown(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff), 'key');\n        }\n      }, keyboardConfig));\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  var onMonthChange = function onMonthChange(diff) {\n    var newDate = generateConfig.addMonth(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(DateHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    value: value,\n    viewDate: viewDate // View Operation\n    ,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onPrevMonth: function onPrevMonth() {\n      onMonthChange(-1);\n    },\n    onNextMonth: function onNextMonth() {\n      onMonthChange(1);\n    },\n    onMonthClick: function onMonthClick() {\n      onPanelChange('month', viewDate);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(DateBody, _extends({}, props, {\n    onSelect: function onSelect(date) {\n      return _onSelect(date, 'mouse');\n    },\n    prefixCls: prefixCls,\n    value: value,\n    viewDate: viewDate,\n    rowCount: DATE_ROW_COUNT\n  })));\n}\n\nexport default DatePanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport DatePanel from '../DatePanel';\nimport TimePanel from '../TimePanel';\nimport { tuple } from '../../utils/miscUtil';\n\nfunction setTime(generateConfig, date, defaultDate) {\n  if (!defaultDate) {\n    return date;\n  }\n\n  var newDate = date;\n  newDate = generateConfig.setHour(newDate, generateConfig.getHour(defaultDate));\n  newDate = generateConfig.setMinute(newDate, generateConfig.getMinute(defaultDate));\n  newDate = generateConfig.setSecond(newDate, generateConfig.getSecond(defaultDate));\n  return newDate;\n}\n\nvar ACTIVE_PANEL = tuple('date', 'time');\n\nfunction DatetimePanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      disabledTime = props.disabledTime,\n      showTime = props.showTime,\n      onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-datetime-panel\");\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activePanel = _React$useState2[0],\n      setActivePanel = _React$useState2[1];\n\n  var dateOperationRef = React.useRef({});\n  var timeOperationRef = React.useRef({});\n  var timeProps = _typeof(showTime) === 'object' ? _objectSpread({}, showTime) : {}; // ======================= Keyboard =======================\n\n  function getNextActive(offset) {\n    var activeIndex = ACTIVE_PANEL.indexOf(activePanel) + offset;\n    var nextActivePanel = ACTIVE_PANEL[activeIndex] || null;\n    return nextActivePanel;\n  }\n\n  var onBlur = function onBlur(e) {\n    if (timeOperationRef.current.onBlur) {\n      timeOperationRef.current.onBlur(e);\n    }\n\n    setActivePanel(null);\n  };\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      // Switch active panel\n      if (event.which === KeyCode.TAB) {\n        var nextActivePanel = getNextActive(event.shiftKey ? -1 : 1);\n        setActivePanel(nextActivePanel);\n\n        if (nextActivePanel) {\n          event.preventDefault();\n        }\n\n        return true;\n      } // Operate on current active panel\n\n\n      if (activePanel) {\n        var ref = activePanel === 'date' ? dateOperationRef : timeOperationRef;\n\n        if (ref.current && ref.current.onKeyDown) {\n          ref.current.onKeyDown(event);\n        }\n\n        return true;\n      } // Switch first active panel if operate without panel\n\n\n      if ([KeyCode.LEFT, KeyCode.RIGHT, KeyCode.UP, KeyCode.DOWN].includes(event.which)) {\n        setActivePanel('date');\n        return true;\n      }\n\n      return false;\n    },\n    onBlur: onBlur,\n    onClose: onBlur\n  }; // ======================== Events ========================\n\n  var onInternalSelect = function onInternalSelect(date, source) {\n    var selectedDate = date;\n\n    if (source === 'date' && !value && timeProps.defaultValue) {\n      // Date with time defaultValue\n      selectedDate = generateConfig.setHour(selectedDate, generateConfig.getHour(timeProps.defaultValue));\n      selectedDate = generateConfig.setMinute(selectedDate, generateConfig.getMinute(timeProps.defaultValue));\n      selectedDate = generateConfig.setSecond(selectedDate, generateConfig.getSecond(timeProps.defaultValue));\n    } else if (source === 'time' && !value && defaultValue) {\n      selectedDate = generateConfig.setYear(selectedDate, generateConfig.getYear(defaultValue));\n      selectedDate = generateConfig.setMonth(selectedDate, generateConfig.getMonth(defaultValue));\n      selectedDate = generateConfig.setDate(selectedDate, generateConfig.getDate(defaultValue));\n    }\n\n    if (onSelect) {\n      onSelect(selectedDate, 'mouse');\n    }\n  }; // ======================== Render ========================\n\n\n  var disabledTimes = disabledTime ? disabledTime(value || null) : {};\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), activePanel))\n  }, /*#__PURE__*/React.createElement(DatePanel, _extends({}, props, {\n    operationRef: dateOperationRef,\n    active: activePanel === 'date',\n    onSelect: function onSelect(date) {\n      onInternalSelect(setTime(generateConfig, date, showTime && _typeof(showTime) === 'object' ? showTime.defaultValue : null), 'date');\n    }\n  })), /*#__PURE__*/React.createElement(TimePanel, _extends({}, props, {\n    format: undefined\n  }, timeProps, disabledTimes, {\n    defaultValue: undefined,\n    operationRef: timeOperationRef,\n    active: activePanel === 'time',\n    onSelect: function onSelect(date) {\n      onInternalSelect(date, 'time');\n    }\n  })));\n}\n\nexport default DatetimePanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport DatePanel from '../DatePanel';\nimport { isSameWeek } from '../../utils/dateUtil';\n\nfunction WeekPanel(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      value = props.value; // Render additional column\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n\n  var prefixColumn = function prefixColumn(date) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      key: \"week\",\n      className: classNames(cellPrefixCls, \"\".concat(cellPrefixCls, \"-week\"))\n    }, generateConfig.locale.getWeek(locale.locale, date));\n  }; // Add row className\n\n\n  var rowPrefixCls = \"\".concat(prefixCls, \"-week-panel-row\");\n\n  var rowClassName = function rowClassName(date) {\n    return classNames(rowPrefixCls, _defineProperty({}, \"\".concat(rowPrefixCls, \"-selected\"), isSameWeek(generateConfig, locale.locale, value, date)));\n  };\n\n  return /*#__PURE__*/React.createElement(DatePanel, _extends({}, props, {\n    panelName: \"week\",\n    prefixColumn: prefixColumn,\n    rowClassName: rowClassName,\n    keyboardConfig: {\n      onLeftRight: null\n    }\n  }));\n}\n\nexport default WeekPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction MonthHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onSuperNext: onNextYear\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onYearClick,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  })));\n}\n\nexport default MonthHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { formatValue, isSameMonth } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\nexport var MONTH_COL_COUNT = 3;\nvar MONTH_ROW_COUNT = 4;\n\nfunction MonthBody(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      value = props.value,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig,\n      monthCellRender = props.monthCellRender;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameMonth(generateConfig, current, target);\n    },\n    isInView: function isInView() {\n      return true;\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addMonth(date, offset);\n    }\n  });\n  var monthsLocale = locale.shortMonths || (generateConfig.locale.getShortMonths ? generateConfig.locale.getShortMonths(locale.locale) : []);\n  var baseMonth = generateConfig.setMonth(viewDate, 0);\n  var getCellNode = monthCellRender ? function (date) {\n    return monthCellRender(date, locale);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: MONTH_ROW_COUNT,\n    colNum: MONTH_COL_COUNT,\n    baseDate: baseMonth,\n    getCellNode: getCellNode,\n    getCellText: function getCellText(date) {\n      return locale.monthFormat ? formatValue(date, {\n        locale: locale,\n        format: locale.monthFormat,\n        generateConfig: generateConfig\n      }) : monthsLocale[generateConfig.getMonth(date)];\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addMonth,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-MM',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default MonthBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport MonthHeader from './MonthHeader';\nimport MonthBody, { MONTH_COL_COUNT } from './MonthBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nfunction MonthPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-month-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff * MONTH_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange('date', value || viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(MonthHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(MonthBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      _onSelect(date, 'mouse');\n\n      onPanelChange('date', date);\n    }\n  })));\n}\n\nexport default MonthPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction QuarterHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onSuperNext: onNextYear\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onYearClick,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  })));\n}\n\nexport default QuarterHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { formatValue, isSameQuarter } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\nexport var QUARTER_COL_COUNT = 4;\nvar QUARTER_ROW_COUNT = 1;\n\nfunction QuarterBody(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      value = props.value,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameQuarter(generateConfig, current, target);\n    },\n    isInView: function isInView() {\n      return true;\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addMonth(date, offset * 3);\n    }\n  });\n  var baseQuarter = generateConfig.setDate(generateConfig.setMonth(viewDate, 0), 1);\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: QUARTER_ROW_COUNT,\n    colNum: QUARTER_COL_COUNT,\n    baseDate: baseQuarter,\n    getCellText: function getCellText(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: locale.quarterFormat || '[Q]Q',\n        generateConfig: generateConfig\n      });\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: function getCellDate(date, offset) {\n      return generateConfig.addMonth(date, offset * 3);\n    },\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-[Q]Q',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default QuarterBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport QuarterHeader from './QuarterHeader';\nimport QuarterBody from './QuarterBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nfunction QuarterPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-quarter-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff * 3), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(QuarterHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(QuarterBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      _onSelect(date, 'mouse');\n    }\n  })));\n}\n\nexport default QuarterPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport { YEAR_DECADE_COUNT } from '.';\nimport PanelContext from '../../PanelContext';\n\nfunction YearHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      onPrevDecade = props.onPrevDecade,\n      onNextDecade = props.onNextDecade,\n      onDecadeClick = props.onDecadeClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / YEAR_DECADE_COUNT) * YEAR_DECADE_COUNT;\n  var endYear = startYear + YEAR_DECADE_COUNT - 1;\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevDecade,\n    onSuperNext: onNextDecade\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onDecadeClick,\n    className: \"\".concat(prefixCls, \"-decade-btn\")\n  }, startYear, \"-\", endYear));\n}\n\nexport default YearHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { YEAR_DECADE_COUNT } from '.';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport { formatValue, isSameYear } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport PanelBody from '../PanelBody';\nexport var YEAR_COL_COUNT = 3;\nvar YEAR_ROW_COUNT = 4;\n\nfunction YearBody(props) {\n  var prefixCls = props.prefixCls,\n      value = props.value,\n      viewDate = props.viewDate,\n      locale = props.locale,\n      generateConfig = props.generateConfig;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var yearPrefixCls = \"\".concat(prefixCls, \"-cell\"); // =============================== Year ===============================\n\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / YEAR_DECADE_COUNT) * YEAR_DECADE_COUNT;\n  var endYear = startYear + YEAR_DECADE_COUNT - 1;\n  var baseYear = generateConfig.setYear(viewDate, startYear - Math.ceil((YEAR_COL_COUNT * YEAR_ROW_COUNT - YEAR_DECADE_COUNT) / 2));\n\n  var isInView = function isInView(date) {\n    var currentYearNumber = generateConfig.getYear(date);\n    return startYear <= currentYearNumber && currentYearNumber <= endYear;\n  };\n\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: yearPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameYear(generateConfig, current, target);\n    },\n    isInView: isInView,\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addYear(date, offset);\n    }\n  });\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: YEAR_ROW_COUNT,\n    colNum: YEAR_COL_COUNT,\n    baseDate: baseYear,\n    getCellText: generateConfig.getYear,\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addYear,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default YearBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport YearHeader from './YearHeader';\nimport YearBody, { YEAR_COL_COUNT } from './YearBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nexport var YEAR_DECADE_COUNT = 10;\n\nfunction YearPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      sourceMode = props.sourceMode,\n      _onSelect = props.onSelect,\n      onPanelChange = props.onPanelChange;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-year-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff * YEAR_DECADE_COUNT), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff * YEAR_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange(sourceMode === 'date' ? 'date' : 'month', value || viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onDecadeChange = function onDecadeChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff * 10);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(YearHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevDecade: function onPrevDecade() {\n      onDecadeChange(-1);\n    },\n    onNextDecade: function onNextDecade() {\n      onDecadeChange(1);\n    },\n    onDecadeClick: function onDecadeClick() {\n      onPanelChange('decade', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(YearBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      onPanelChange(sourceMode === 'date' ? 'date' : 'month', date);\n\n      _onSelect(date, 'mouse');\n    }\n  })));\n}\n\nexport default YearPanel;","import * as React from 'react';\nexport default function getExtraFooter(prefixCls, mode, renderExtraFooter) {\n  if (!renderExtraFooter) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-footer-extra\")\n  }, renderExtraFooter(mode));\n}","import * as React from 'react';\nexport default function getRanges(_ref) {\n  var prefixCls = _ref.prefixCls,\n      _ref$rangeList = _ref.rangeList,\n      rangeList = _ref$rangeList === void 0 ? [] : _ref$rangeList,\n      _ref$components = _ref.components,\n      components = _ref$components === void 0 ? {} : _ref$components,\n      needConfirmButton = _ref.needConfirmButton,\n      onNow = _ref.onNow,\n      onOk = _ref.onOk,\n      okDisabled = _ref.okDisabled,\n      showNow = _ref.showNow,\n      locale = _ref.locale;\n  var presetNode;\n  var okNode;\n\n  if (rangeList.length) {\n    var Item = components.rangeItem || 'span';\n    presetNode = /*#__PURE__*/React.createElement(React.Fragment, null, rangeList.map(function (_ref2) {\n      var label = _ref2.label,\n          onClick = _ref2.onClick,\n          onMouseEnter = _ref2.onMouseEnter,\n          onMouseLeave = _ref2.onMouseLeave;\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: label,\n        className: \"\".concat(prefixCls, \"-preset\")\n      }, /*#__PURE__*/React.createElement(Item, {\n        onClick: onClick,\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave\n      }, label));\n    }));\n  }\n\n  if (needConfirmButton) {\n    var Button = components.button || 'button';\n\n    if (onNow && !presetNode && showNow !== false) {\n      presetNode = /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(prefixCls, \"-now\")\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"\".concat(prefixCls, \"-now-btn\"),\n        onClick: onNow\n      }, locale.now));\n    }\n\n    okNode = needConfirmButton && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"\".concat(prefixCls, \"-ok\")\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: okDisabled,\n      onClick: onOk\n    }, locale.ok));\n  }\n\n  if (!presetNode && !okNode) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-ranges\")\n  }, presetNode, okNode);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Logic:\n *  When `mode` === `picker`,\n *  click will trigger `onSelect` (if value changed trigger `onChange` also).\n *  Panel change will not trigger `onSelect` but trigger `onPanelChange`\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport TimePanel from './panels/TimePanel';\nimport DatetimePanel from './panels/DatetimePanel';\nimport DatePanel from './panels/DatePanel';\nimport WeekPanel from './panels/WeekPanel';\nimport MonthPanel from './panels/MonthPanel';\nimport QuarterPanel from './panels/QuarterPanel';\nimport YearPanel from './panels/YearPanel';\nimport DecadePanel from './panels/DecadePanel';\nimport { isEqual } from './utils/dateUtil';\nimport PanelContext from './PanelContext';\nimport { PickerModeMap } from './utils/uiUtil';\nimport RangeContext from './RangeContext';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport { getLowerBoundTime, setTime } from './utils/timeUtil';\n\nfunction PickerPanel(props) {\n  var _classNames;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      className = props.className,\n      style = props.style,\n      locale = props.locale,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      pickerValue = props.pickerValue,\n      defaultPickerValue = props.defaultPickerValue,\n      disabledDate = props.disabledDate,\n      mode = props.mode,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      showNow = props.showNow,\n      showTime = props.showTime,\n      showToday = props.showToday,\n      renderExtraFooter = props.renderExtraFooter,\n      hideHeader = props.hideHeader,\n      onSelect = props.onSelect,\n      onChange = props.onChange,\n      onPanelChange = props.onPanelChange,\n      onMouseDown = props.onMouseDown,\n      onPickerValueChange = props.onPickerValueChange,\n      _onOk = props.onOk,\n      components = props.components,\n      direction = props.direction,\n      _props$hourStep = props.hourStep,\n      hourStep = _props$hourStep === void 0 ? 1 : _props$hourStep,\n      _props$minuteStep = props.minuteStep,\n      minuteStep = _props$minuteStep === void 0 ? 1 : _props$minuteStep,\n      _props$secondStep = props.secondStep,\n      secondStep = _props$secondStep === void 0 ? 1 : _props$secondStep;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time';\n  var isHourStepValid = 24 % hourStep === 0;\n  var isMinuteStepValid = 60 % minuteStep === 0;\n  var isSecondStepValid = 60 % secondStep === 0;\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!value || generateConfig.isValidate(value), 'Invalidate date pass to `value`.');\n    warning(!value || generateConfig.isValidate(value), 'Invalidate date pass to `defaultValue`.');\n    warning(isHourStepValid, \"`hourStep` \".concat(hourStep, \" is invalid. It should be a factor of 24.\"));\n    warning(isMinuteStepValid, \"`minuteStep` \".concat(minuteStep, \" is invalid. It should be a factor of 60.\"));\n    warning(isSecondStepValid, \"`secondStep` \".concat(secondStep, \" is invalid. It should be a factor of 60.\"));\n  } // ============================ State =============================\n\n\n  var panelContext = React.useContext(PanelContext);\n  var operationRef = panelContext.operationRef,\n      panelDivRef = panelContext.panelRef,\n      onContextSelect = panelContext.onSelect,\n      hideRanges = panelContext.hideRanges,\n      defaultOpenValue = panelContext.defaultOpenValue;\n\n  var _React$useContext = React.useContext(RangeContext),\n      inRange = _React$useContext.inRange,\n      panelPosition = _React$useContext.panelPosition,\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var panelRef = React.useRef({}); // Handle init logic\n\n  var initRef = React.useRef(true); // Value\n\n  var _useMergedState = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(val) {\n      if (!val && defaultOpenValue && picker === 'time') {\n        return defaultOpenValue;\n      }\n\n      return val;\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setInnerValue = _useMergedState2[1]; // View date control\n\n\n  var _useMergedState3 = useMergedState(null, {\n    value: pickerValue,\n    defaultValue: defaultPickerValue || mergedValue,\n    postState: function postState(date) {\n      return date || generateConfig.getNow();\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      viewDate = _useMergedState4[0],\n      setInnerViewDate = _useMergedState4[1];\n\n  var setViewDate = function setViewDate(date) {\n    setInnerViewDate(date);\n\n    if (onPickerValueChange) {\n      onPickerValueChange(date);\n    }\n  }; // Panel control\n\n\n  var getInternalNextMode = function getInternalNextMode(nextMode) {\n    var getNextMode = PickerModeMap[picker];\n\n    if (getNextMode) {\n      return getNextMode(nextMode);\n    }\n\n    return nextMode;\n  }; // Save panel is changed from which panel\n\n\n  var _useMergedState5 = useMergedState(function () {\n    if (picker === 'time') {\n      return 'time';\n    }\n\n    return getInternalNextMode('date');\n  }, {\n    value: mode\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      mergedMode = _useMergedState6[0],\n      setInnerMode = _useMergedState6[1];\n\n  React.useEffect(function () {\n    setInnerMode(picker);\n  }, [picker]);\n\n  var _React$useState = React.useState(function () {\n    return mergedMode;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sourceMode = _React$useState2[0],\n      setSourceMode = _React$useState2[1];\n\n  var onInternalPanelChange = function onInternalPanelChange(newMode, viewValue) {\n    var nextMode = getInternalNextMode(newMode || mergedMode);\n    setSourceMode(mergedMode);\n    setInnerMode(nextMode);\n\n    if (onPanelChange && (mergedMode !== nextMode || isEqual(generateConfig, viewDate, viewDate))) {\n      onPanelChange(viewValue, nextMode);\n    }\n  };\n\n  var triggerSelect = function triggerSelect(date, type) {\n    var forceTriggerSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (mergedMode === picker || forceTriggerSelect) {\n      setInnerValue(date);\n\n      if (onSelect) {\n        onSelect(date);\n      }\n\n      if (onContextSelect) {\n        onContextSelect(date, type);\n      }\n\n      if (onChange && !isEqual(generateConfig, date, mergedValue) && !(disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate(date))) {\n        onChange(date);\n      }\n    }\n  }; // ========================= Interactive ==========================\n\n\n  var onInternalKeyDown = function onInternalKeyDown(e) {\n    if (panelRef.current && panelRef.current.onKeyDown) {\n      if ([KeyCode.LEFT, KeyCode.RIGHT, KeyCode.UP, KeyCode.DOWN, KeyCode.PAGE_UP, KeyCode.PAGE_DOWN, KeyCode.ENTER].includes(e.which)) {\n        e.preventDefault();\n      }\n\n      return panelRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Panel not correct handle keyDown event. Please help to fire issue about this.');\n      return false;\n    }\n    /* eslint-enable no-lone-blocks */\n  };\n\n  var onInternalBlur = function onInternalBlur(e) {\n    if (panelRef.current && panelRef.current.onBlur) {\n      panelRef.current.onBlur(e);\n    }\n  };\n\n  if (operationRef && panelPosition !== 'right') {\n    operationRef.current = {\n      onKeyDown: onInternalKeyDown,\n      onClose: function onClose() {\n        if (panelRef.current && panelRef.current.onClose) {\n          panelRef.current.onClose();\n        }\n      }\n    };\n  } // ============================ Effect ============================\n\n\n  React.useEffect(function () {\n    if (value && !initRef.current) {\n      setInnerViewDate(value);\n    }\n  }, [value]);\n  React.useEffect(function () {\n    initRef.current = false;\n  }, []); // ============================ Panels ============================\n\n  var panelNode;\n\n  var pickerProps = _objectSpread(_objectSpread({}, props), {}, {\n    operationRef: panelRef,\n    prefixCls: prefixCls,\n    viewDate: viewDate,\n    value: mergedValue,\n    onViewDateChange: setViewDate,\n    sourceMode: sourceMode,\n    onPanelChange: onInternalPanelChange,\n    disabledDate: disabledDate\n  });\n\n  delete pickerProps.onChange;\n  delete pickerProps.onSelect;\n\n  switch (mergedMode) {\n    case 'decade':\n      panelNode = /*#__PURE__*/React.createElement(DecadePanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'year':\n      panelNode = /*#__PURE__*/React.createElement(YearPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'month':\n      panelNode = /*#__PURE__*/React.createElement(MonthPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'quarter':\n      panelNode = /*#__PURE__*/React.createElement(QuarterPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'week':\n      panelNode = /*#__PURE__*/React.createElement(WeekPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'time':\n      delete pickerProps.showTime;\n      panelNode = /*#__PURE__*/React.createElement(TimePanel, _extends({}, pickerProps, _typeof(showTime) === 'object' ? showTime : null, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    default:\n      if (showTime) {\n        panelNode = /*#__PURE__*/React.createElement(DatetimePanel, _extends({}, pickerProps, {\n          onSelect: function onSelect(date, type) {\n            setViewDate(date);\n            triggerSelect(date, type);\n          }\n        }));\n      } else {\n        panelNode = /*#__PURE__*/React.createElement(DatePanel, _extends({}, pickerProps, {\n          onSelect: function onSelect(date, type) {\n            setViewDate(date);\n            triggerSelect(date, type);\n          }\n        }));\n      }\n\n  } // ============================ Footer ============================\n\n\n  var extraFooter;\n  var rangesNode;\n\n  var onNow = function onNow() {\n    var now = generateConfig.getNow();\n    var lowerBoundTime = getLowerBoundTime(generateConfig.getHour(now), generateConfig.getMinute(now), generateConfig.getSecond(now), isHourStepValid ? hourStep : 1, isMinuteStepValid ? minuteStep : 1, isSecondStepValid ? secondStep : 1);\n    var adjustedNow = setTime(generateConfig, now, lowerBoundTime[0], // hour\n    lowerBoundTime[1], // minute\n    lowerBoundTime[2]);\n    triggerSelect(adjustedNow, 'submit');\n  };\n\n  if (!hideRanges) {\n    extraFooter = getExtraFooter(prefixCls, mergedMode, renderExtraFooter);\n    rangesNode = getRanges({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !mergedValue || disabledDate && disabledDate(mergedValue),\n      locale: locale,\n      showNow: showNow,\n      onNow: needConfirmButton && onNow,\n      onOk: function onOk() {\n        if (mergedValue) {\n          triggerSelect(mergedValue, 'submit', true);\n\n          if (_onOk) {\n            _onOk(mergedValue);\n          }\n        }\n      }\n    });\n  }\n\n  var todayNode;\n\n  if (showToday && mergedMode === 'date' && picker === 'date' && !showTime) {\n    var now = generateConfig.getNow();\n    var todayCls = \"\".concat(prefixCls, \"-today-btn\");\n    var disabled = disabledDate && disabledDate(now);\n    todayNode = /*#__PURE__*/React.createElement(\"a\", {\n      className: classNames(todayCls, disabled && \"\".concat(todayCls, \"-disabled\")),\n      \"aria-disabled\": disabled,\n      onClick: function onClick() {\n        if (!disabled) {\n          triggerSelect(now, 'mouse', true);\n        }\n      }\n    }, locale.today);\n  }\n\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: _objectSpread(_objectSpread({}, panelContext), {}, {\n      mode: mergedMode,\n      hideHeader: 'hideHeader' in props ? hideHeader : panelContext.hideHeader,\n      hidePrevBtn: inRange && panelPosition === 'right',\n      hideNextBtn: inRange && panelPosition === 'left'\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: tabIndex,\n    className: classNames(\"\".concat(prefixCls, \"-panel\"), className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-has-range\"), rangedValue && rangedValue[0] && rangedValue[1]), _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-has-range-hover\"), hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1]), _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-rtl\"), direction === 'rtl'), _classNames)),\n    style: style,\n    onKeyDown: onInternalKeyDown,\n    onBlur: onInternalBlur,\n    onMouseDown: onMouseDown,\n    ref: panelDivRef\n  }, panelNode, extraFooter || rangesNode || todayNode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-footer\")\n  }, extraFooter, rangesNode, todayNode) : null));\n}\n\nexport default PickerPanel;\n/* eslint-enable */","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Trigger from 'rc-trigger';\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  }\n};\n\nfunction PickerTrigger(_ref) {\n  var _classNames;\n\n  var prefixCls = _ref.prefixCls,\n      popupElement = _ref.popupElement,\n      popupStyle = _ref.popupStyle,\n      visible = _ref.visible,\n      dropdownClassName = _ref.dropdownClassName,\n      dropdownAlign = _ref.dropdownAlign,\n      transitionName = _ref.transitionName,\n      getPopupContainer = _ref.getPopupContainer,\n      children = _ref.children,\n      range = _ref.range,\n      popupPlacement = _ref.popupPlacement,\n      direction = _ref.direction;\n  var dropdownPrefixCls = \"\".concat(prefixCls, \"-dropdown\");\n\n  var getPopupPlacement = function getPopupPlacement() {\n    if (popupPlacement !== undefined) {\n      return popupPlacement;\n    }\n\n    return direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  };\n\n  return /*#__PURE__*/React.createElement(Trigger, {\n    showAction: [],\n    hideAction: [],\n    popupPlacement: getPopupPlacement(),\n    builtinPlacements: BUILT_IN_PLACEMENTS,\n    prefixCls: dropdownPrefixCls,\n    popupTransitionName: transitionName,\n    popup: popupElement,\n    popupAlign: dropdownAlign,\n    popupVisible: visible,\n    popupClassName: classNames(dropdownClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(dropdownPrefixCls, \"-range\"), range), _defineProperty(_classNames, \"\".concat(dropdownPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames)),\n    popupStyle: popupStyle,\n    getPopupContainer: getPopupContainer\n  }, children);\n}\n\nexport default PickerTrigger;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport { addGlobalMouseDownEvent } from '../utils/uiUtil';\nexport default function usePickerInput(_ref) {\n  var open = _ref.open,\n      value = _ref.value,\n      isClickOutside = _ref.isClickOutside,\n      triggerOpen = _ref.triggerOpen,\n      forwardKeyDown = _ref.forwardKeyDown,\n      _onKeyDown = _ref.onKeyDown,\n      blurToCancel = _ref.blurToCancel,\n      onSubmit = _ref.onSubmit,\n      onCancel = _ref.onCancel,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      typing = _useState2[0],\n      setTyping = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focused = _useState4[0],\n      setFocused = _useState4[1];\n  /**\n   * We will prevent blur to handle open event when user click outside,\n   * since this will repeat trigger `onOpenChange` event.\n   */\n\n\n  var preventBlurRef = useRef(false);\n  var valueChangedRef = useRef(false);\n  var preventDefaultRef = useRef(false);\n  var inputProps = {\n    onMouseDown: function onMouseDown() {\n      setTyping(true);\n      triggerOpen(true);\n    },\n    onKeyDown: function onKeyDown(e) {\n      var preventDefault = function preventDefault() {\n        preventDefaultRef.current = true;\n      };\n\n      _onKeyDown(e, preventDefault);\n\n      if (preventDefaultRef.current) return;\n\n      switch (e.which) {\n        case KeyCode.ENTER:\n          {\n            if (!open) {\n              triggerOpen(true);\n            } else if (onSubmit() !== false) {\n              setTyping(true);\n            }\n\n            e.preventDefault();\n            return;\n          }\n\n        case KeyCode.TAB:\n          {\n            if (typing && open && !e.shiftKey) {\n              setTyping(false);\n              e.preventDefault();\n            } else if (!typing && open) {\n              if (!forwardKeyDown(e) && e.shiftKey) {\n                setTyping(true);\n                e.preventDefault();\n              }\n            }\n\n            return;\n          }\n\n        case KeyCode.ESC:\n          {\n            setTyping(true);\n            onCancel();\n            return;\n          }\n      }\n\n      if (!open && ![KeyCode.SHIFT].includes(e.which)) {\n        triggerOpen(true);\n      } else if (!typing) {\n        // Let popup panel handle keyboard\n        forwardKeyDown(e);\n      }\n    },\n    onFocus: function onFocus(e) {\n      setTyping(true);\n      setFocused(true);\n\n      if (_onFocus) {\n        _onFocus(e);\n      }\n    },\n    onBlur: function onBlur(e) {\n      if (preventBlurRef.current || !isClickOutside(document.activeElement)) {\n        preventBlurRef.current = false;\n        return;\n      }\n\n      if (blurToCancel) {\n        setTimeout(function () {\n          if (isClickOutside(document.activeElement)) {\n            onCancel();\n          }\n        }, 0);\n      } else if (open) {\n        triggerOpen(false);\n\n        if (valueChangedRef.current) {\n          onSubmit();\n        }\n      }\n\n      setFocused(false);\n\n      if (_onBlur) {\n        _onBlur(e);\n      }\n    }\n  }; // check if value changed\n\n  useEffect(function () {\n    valueChangedRef.current = false;\n  }, [open]);\n  useEffect(function () {\n    valueChangedRef.current = true;\n  }, [value]); // Global click handler\n\n  useEffect(function () {\n    return addGlobalMouseDownEvent(function (_ref2) {\n      var target = _ref2.target;\n\n      if (open) {\n        if (!isClickOutside(target)) {\n          preventBlurRef.current = true; // Always set back in case `onBlur` prevented by user\n\n          requestAnimationFrame(function () {\n            preventBlurRef.current = false;\n          });\n        } else if (!focused) {\n          triggerOpen(false);\n        }\n      }\n    });\n  });\n  return [inputProps, {\n    focused: focused,\n    typing: typing\n  }];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useTextValueMapping(_ref) {\n  var valueTexts = _ref.valueTexts,\n      onTextChange = _ref.onTextChange;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      text = _React$useState2[0],\n      setInnerText = _React$useState2[1];\n\n  var valueTextsRef = React.useRef([]);\n  valueTextsRef.current = valueTexts;\n\n  function triggerTextChange(value) {\n    setInnerText(value);\n    onTextChange(value);\n  }\n\n  function resetText() {\n    setInnerText(valueTextsRef.current[0]);\n  }\n\n  React.useEffect(function () {\n    if (valueTexts.every(function (valText) {\n      return valText !== text;\n    })) {\n      resetText();\n    }\n  }, [valueTexts.join('||')]);\n  return [text, triggerTextChange, resetText];\n}","import shallowEqual from 'shallowequal';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport { formatValue } from '../utils/dateUtil';\nexport default function useValueTexts(value, _ref) {\n  var formatList = _ref.formatList,\n      generateConfig = _ref.generateConfig,\n      locale = _ref.locale;\n  return useMemo(function () {\n    if (!value) {\n      return [[''], ''];\n    } // We will convert data format back to first format\n\n\n    var firstValueText = '';\n    var fullValueTexts = [];\n\n    for (var i = 0; i < formatList.length; i += 1) {\n      var format = formatList[i];\n      var formatStr = formatValue(value, {\n        generateConfig: generateConfig,\n        locale: locale,\n        format: format\n      });\n      fullValueTexts.push(formatStr);\n\n      if (i === 0) {\n        firstValueText = formatStr;\n      }\n    }\n\n    return [fullValueTexts, firstValueText];\n  }, [value, formatList], function (prev, next) {\n    return prev[0] !== next[0] || !shallowEqual(prev[1], next[1]);\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport useValueTexts from './useValueTexts';\nexport default function useHoverValue(valueText, _ref) {\n  var formatList = _ref.formatList,\n      generateConfig = _ref.generateConfig,\n      locale = _ref.locale;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      internalSetValue = _useState2[1];\n\n  var raf = useRef(null);\n\n  function setValue(val) {\n    var immediately = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    cancelAnimationFrame(raf.current);\n\n    if (immediately) {\n      internalSetValue(val);\n      return;\n    }\n\n    raf.current = requestAnimationFrame(function () {\n      internalSetValue(val);\n    });\n  }\n\n  var _useValueTexts = useValueTexts(value, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      firstText = _useValueTexts2[1];\n\n  function onEnter(date) {\n    setValue(date);\n  }\n\n  function onLeave() {\n    var immediately = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    setValue(null, immediately);\n  }\n\n  useEffect(function () {\n    onLeave(true);\n  }, [valueText]);\n  useEffect(function () {\n    return function () {\n      return cancelAnimationFrame(raf.current);\n    };\n  }, []);\n  return [firstText, onEnter, onLeave];\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Removed:\n *  - getCalendarContainer: use `getPopupContainer` instead\n *  - onOk\n *\n * New Feature:\n *  - picker\n *  - allowEmpty\n *  - selectable\n *\n * Tips: Should add faq about `datetime` mode with `defaultValue`\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport PickerPanel from './PickerPanel';\nimport PickerTrigger from './PickerTrigger';\nimport { formatValue, isEqual, parseValue } from './utils/dateUtil';\nimport getDataOrAriaProps, { toArray } from './utils/miscUtil';\nimport PanelContext from './PanelContext';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport usePickerInput from './hooks/usePickerInput';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport useValueTexts from './hooks/useValueTexts';\nimport useHoverValue from './hooks/useHoverValue';\n\nfunction InnerPicker(props) {\n  var _classNames2;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      id = props.id,\n      tabIndex = props.tabIndex,\n      style = props.style,\n      className = props.className,\n      dropdownClassName = props.dropdownClassName,\n      dropdownAlign = props.dropdownAlign,\n      popupStyle = props.popupStyle,\n      transitionName = props.transitionName,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      inputReadOnly = props.inputReadOnly,\n      allowClear = props.allowClear,\n      autoFocus = props.autoFocus,\n      showTime = props.showTime,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      format = props.format,\n      use12Hours = props.use12Hours,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      defaultOpenValue = props.defaultOpenValue,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      disabled = props.disabled,\n      disabledDate = props.disabledDate,\n      placeholder = props.placeholder,\n      getPopupContainer = props.getPopupContainer,\n      pickerRef = props.pickerRef,\n      panelRender = props.panelRender,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onMouseDown = props.onMouseDown,\n      onMouseUp = props.onMouseUp,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onContextMenu = props.onContextMenu,\n      onClick = props.onClick,\n      _onKeyDown = props.onKeyDown,\n      _onSelect = props.onSelect,\n      direction = props.direction,\n      _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? 'off' : _props$autoComplete;\n  var inputRef = React.useRef(null);\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time'; // ============================= State =============================\n\n  var formatList = toArray(getDefaultFormat(format, picker, showTime, use12Hours)); // Panel ref\n\n  var panelDivRef = React.useRef(null);\n  var inputDivRef = React.useRef(null); // Real value\n\n  var _useMergedState = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setInnerValue = _useMergedState2[1]; // Selected value\n\n\n  var _React$useState = React.useState(mergedValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      selectedValue = _React$useState2[0],\n      setSelectedValue = _React$useState2[1]; // Operation ref\n\n\n  var operationRef = React.useRef(null); // Open\n\n  var _useMergedState3 = useMergedState(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return disabled ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedOpen = _useMergedState4[0],\n      triggerInnerOpen = _useMergedState4[1]; // ============================= Text ==============================\n\n\n  var _useValueTexts = useValueTexts(selectedValue, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      valueTexts = _useValueTexts2[0],\n      firstValueText = _useValueTexts2[1];\n\n  var _useTextValueMapping = useTextValueMapping({\n    valueTexts: valueTexts,\n    onTextChange: function onTextChange(newText) {\n      var inputDate = parseValue(newText, {\n        locale: locale,\n        formatList: formatList,\n        generateConfig: generateConfig\n      });\n\n      if (inputDate && (!disabledDate || !disabledDate(inputDate))) {\n        setSelectedValue(inputDate);\n      }\n    }\n  }),\n      _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n      text = _useTextValueMapping2[0],\n      triggerTextChange = _useTextValueMapping2[1],\n      resetText = _useTextValueMapping2[2]; // ============================ Trigger ============================\n\n\n  var triggerChange = function triggerChange(newValue) {\n    setSelectedValue(newValue);\n    setInnerValue(newValue);\n\n    if (onChange && !isEqual(generateConfig, mergedValue, newValue)) {\n      onChange(newValue, newValue ? formatValue(newValue, {\n        generateConfig: generateConfig,\n        locale: locale,\n        format: formatList[0]\n      }) : '');\n    }\n  };\n\n  var triggerOpen = function triggerOpen(newOpen) {\n    if (disabled && newOpen) {\n      return;\n    }\n\n    triggerInnerOpen(newOpen);\n  };\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  };\n\n  var onInternalMouseUp = function onInternalMouseUp() {\n    if (onMouseUp) {\n      onMouseUp.apply(void 0, arguments);\n    }\n\n    if (inputRef.current) {\n      inputRef.current.focus();\n      triggerOpen(true);\n    }\n  }; // ============================= Input =============================\n\n\n  var _usePickerInput = usePickerInput({\n    blurToCancel: needConfirmButton,\n    open: mergedOpen,\n    value: text,\n    triggerOpen: triggerOpen,\n    forwardKeyDown: forwardKeyDown,\n    isClickOutside: function isClickOutside(target) {\n      return !elementsContains([panelDivRef.current, inputDivRef.current], target);\n    },\n    onSubmit: function onSubmit() {\n      if (disabledDate && disabledDate(selectedValue)) {\n        return false;\n      }\n\n      triggerChange(selectedValue);\n      triggerOpen(false);\n      resetText();\n      return true;\n    },\n    onCancel: function onCancel() {\n      triggerOpen(false);\n      setSelectedValue(mergedValue);\n      resetText();\n    },\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur\n  }),\n      _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n      inputProps = _usePickerInput2[0],\n      _usePickerInput2$ = _usePickerInput2[1],\n      focused = _usePickerInput2$.focused,\n      typing = _usePickerInput2$.typing; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!valueTexts.length || valueTexts[0] === '') {\n        triggerTextChange('');\n      } else if (firstValueText !== text) {\n        resetText();\n      }\n    }\n  }, [mergedOpen, valueTexts]); // Change picker should sync back with text value\n\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      resetText();\n    }\n  }, [picker]); // Sync innerValue with control mode\n\n  React.useEffect(function () {\n    // Sync select value\n    setSelectedValue(mergedValue);\n  }, [mergedValue]); // ============================ Private ============================\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (inputRef.current) {\n          inputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (inputRef.current) {\n          inputRef.current.blur();\n        }\n      }\n    };\n  }\n\n  var _useHoverValue = useHoverValue(text, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n      hoverValue = _useHoverValue2[0],\n      onEnter = _useHoverValue2[1],\n      onLeave = _useHoverValue2[2]; // ============================= Panel =============================\n\n\n  var panelProps = _objectSpread(_objectSpread({}, props), {}, {\n    className: undefined,\n    style: undefined,\n    pickerValue: undefined,\n    onPickerValueChange: undefined,\n    onChange: null\n  });\n\n  var panelNode = /*#__PURE__*/React.createElement(PickerPanel, _extends({}, panelProps, {\n    generateConfig: generateConfig,\n    className: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), !typing)),\n    value: selectedValue,\n    locale: locale,\n    tabIndex: -1,\n    onSelect: function onSelect(date) {\n      _onSelect === null || _onSelect === void 0 ? void 0 : _onSelect(date);\n      setSelectedValue(date);\n    },\n    direction: direction,\n    onPanelChange: function onPanelChange(viewDate, mode) {\n      var onPanelChange = props.onPanelChange;\n      onLeave(true);\n      onPanelChange === null || onPanelChange === void 0 ? void 0 : onPanelChange(viewDate, mode);\n    }\n  }));\n\n  if (panelRender) {\n    panelNode = panelRender(panelNode);\n  }\n\n  var panel = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-panel-container\"),\n    onMouseDown: function onMouseDown(e) {\n      e.preventDefault();\n    }\n  }, panelNode);\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && mergedValue && !disabled) {\n    clearNode = /*#__PURE__*/React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        triggerChange(null);\n        triggerOpen(false);\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  } // ============================ Warning ============================\n\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!defaultOpenValue, '`defaultOpenValue` may confuse user for the current value status. Please use `defaultValue` instead.');\n  } // ============================ Return =============================\n\n\n  var onContextSelect = function onContextSelect(date, type) {\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(date);\n      triggerOpen(false);\n    }\n  };\n\n  var popupPlacement = direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      panelRef: panelDivRef,\n      onSelect: onContextSelect,\n      open: mergedOpen,\n      defaultOpenValue: defaultOpenValue,\n      onDateMouseEnter: onEnter,\n      onDateMouseLeave: onLeave\n    }\n  }, /*#__PURE__*/React.createElement(PickerTrigger, {\n    visible: mergedOpen,\n    popupElement: panel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    popupPlacement: popupPlacement,\n    direction: direction\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(prefixCls, className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), focused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n    style: style,\n    onMouseDown: onMouseDown,\n    onMouseUp: onInternalMouseUp,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onContextMenu: onContextMenu,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), _defineProperty({}, \"\".concat(prefixCls, \"-input-placeholder\"), !!hoverValue)),\n    ref: inputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    id: id,\n    tabIndex: tabIndex,\n    disabled: disabled,\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !typing,\n    value: hoverValue || text,\n    onChange: function onChange(e) {\n      triggerTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: placeholder,\n    ref: inputRef,\n    title: text\n  }, inputProps, {\n    size: getInputSize(picker, formatList[0], generateConfig)\n  }, getDataOrAriaProps(props), {\n    autoComplete: autoComplete\n  })), suffixNode, clearNode))));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar Picker = /*#__PURE__*/function (_React$Component) {\n  _inherits(Picker, _React$Component);\n\n  var _super = _createSuper(Picker);\n\n  function Picker() {\n    var _this;\n\n    _classCallCheck(this, Picker);\n\n    _this = _super.apply(this, arguments);\n    _this.pickerRef = /*#__PURE__*/React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Picker, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(InnerPicker, _extends({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return Picker;\n}(React.Component);\n\nexport default Picker;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { getValue, updateValues } from '../utils/miscUtil';\nimport { getClosingViewDate, isSameYear, isSameMonth, isSameDecade } from '../utils/dateUtil';\n\nfunction getStartEndDistance(startDate, endDate, picker, generateConfig) {\n  var startNext = getClosingViewDate(startDate, picker, generateConfig, 1);\n\n  function getDistance(compareFunc) {\n    if (compareFunc(startDate, endDate)) {\n      return 'same';\n    }\n\n    if (compareFunc(startNext, endDate)) {\n      return 'closing';\n    }\n\n    return 'far';\n  }\n\n  switch (picker) {\n    case 'year':\n      return getDistance(function (start, end) {\n        return isSameDecade(generateConfig, start, end);\n      });\n\n    case 'quarter':\n    case 'month':\n      return getDistance(function (start, end) {\n        return isSameYear(generateConfig, start, end);\n      });\n\n    default:\n      return getDistance(function (start, end) {\n        return isSameMonth(generateConfig, start, end);\n      });\n  }\n}\n\nfunction getRangeViewDate(values, index, picker, generateConfig) {\n  var startDate = getValue(values, 0);\n  var endDate = getValue(values, 1);\n\n  if (index === 0) {\n    return startDate;\n  }\n\n  if (startDate && endDate) {\n    var distance = getStartEndDistance(startDate, endDate, picker, generateConfig);\n\n    switch (distance) {\n      case 'same':\n        return startDate;\n\n      case 'closing':\n        return startDate;\n\n      default:\n        return getClosingViewDate(endDate, picker, generateConfig, -1);\n    }\n  }\n\n  return startDate;\n}\n\nexport default function useRangeViewDates(_ref) {\n  var values = _ref.values,\n      picker = _ref.picker,\n      defaultDates = _ref.defaultDates,\n      generateConfig = _ref.generateConfig;\n\n  var _React$useState = React.useState(function () {\n    return [getValue(defaultDates, 0), getValue(defaultDates, 1)];\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      defaultViewDates = _React$useState2[0],\n      setDefaultViewDates = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      viewDates = _React$useState4[0],\n      setInternalViewDates = _React$useState4[1];\n\n  var startDate = getValue(values, 0);\n  var endDate = getValue(values, 1);\n\n  function getViewDate(index) {\n    // If set default view date, use it\n    if (defaultViewDates[index]) {\n      return defaultViewDates[index];\n    }\n\n    return getValue(viewDates, index) || getRangeViewDate(values, index, picker, generateConfig) || startDate || endDate || generateConfig.getNow();\n  }\n\n  function setViewDate(viewDate, index) {\n    if (viewDate) {\n      var newViewDates = updateValues(viewDates, viewDate, index); // Set view date will clean up default one\n\n      setDefaultViewDates( // Should always be an array\n      updateValues(defaultViewDates, null, index) || [null, null]); // Reset another one when not have value\n\n      var anotherIndex = (index + 1) % 2;\n\n      if (!getValue(values, anotherIndex)) {\n        newViewDates = updateValues(newViewDates, viewDate, anotherIndex);\n      }\n\n      setInternalViewDates(newViewDates);\n    } else if (startDate || endDate) {\n      // Reset all when has values when `viewDate` is `null` which means from open trigger\n      setInternalViewDates(null);\n    }\n  }\n\n  return [getViewDate, setViewDate];\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport PanelContext from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport RangeContext from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction InnerRangePicker(props) {\n  var _classNames2, _classNames3, _classNames4;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      id = props.id,\n      style = props.style,\n      className = props.className,\n      popupStyle = props.popupStyle,\n      dropdownClassName = props.dropdownClassName,\n      transitionName = props.transitionName,\n      dropdownAlign = props.dropdownAlign,\n      getPopupContainer = props.getPopupContainer,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      placeholder = props.placeholder,\n      autoFocus = props.autoFocus,\n      disabled = props.disabled,\n      format = props.format,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      showTime = props.showTime,\n      use12Hours = props.use12Hours,\n      _props$separator = props.separator,\n      separator = _props$separator === void 0 ? '~' : _props$separator,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      defaultPickerValue = props.defaultPickerValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      disabledDate = props.disabledDate,\n      _disabledTime = props.disabledTime,\n      dateRender = props.dateRender,\n      panelRender = props.panelRender,\n      ranges = props.ranges,\n      allowEmpty = props.allowEmpty,\n      allowClear = props.allowClear,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      pickerRef = props.pickerRef,\n      inputReadOnly = props.inputReadOnly,\n      mode = props.mode,\n      renderExtraFooter = props.renderExtraFooter,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onPanelChange = props.onPanelChange,\n      onCalendarChange = props.onCalendarChange,\n      _onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      _onOk = props.onOk,\n      _onKeyDown = props.onKeyDown,\n      components = props.components,\n      order = props.order,\n      direction = props.direction,\n      activePickerIndex = props.activePickerIndex,\n      _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? 'off' : _props$autoComplete;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time'; // We record opened status here in case repeat open with picker\n\n  var openRecordsRef = useRef({});\n  var containerRef = useRef(null);\n  var panelDivRef = useRef(null);\n  var startInputDivRef = useRef(null);\n  var endInputDivRef = useRef(null);\n  var separatorRef = useRef(null);\n  var startInputRef = useRef(null);\n  var endInputRef = useRef(null); // ============================= Misc ==============================\n\n  var formatList = toArray(getDefaultFormat(format, picker, showTime, use12Hours)); // Active picker\n\n  var _useMergedState = useMergedState(0, {\n    value: activePickerIndex\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedActivePickerIndex = _useMergedState2[0],\n      setMergedActivePickerIndex = _useMergedState2[1]; // Operation ref\n\n\n  var operationRef = useRef(null);\n  var mergedDisabled = React.useMemo(function () {\n    if (Array.isArray(disabled)) {\n      return disabled;\n    }\n\n    return [disabled || false, disabled || false];\n  }, [disabled]); // ============================= Value =============================\n\n  var _useMergedState3 = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(values) {\n      return picker === 'time' && !order ? values : reorderValues(values, generateConfig);\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedValue = _useMergedState4[0],\n      setInnerValue = _useMergedState4[1]; // =========================== View Date ===========================\n  // Config view panel\n\n\n  var _useRangeViewDates = useRangeViewDates({\n    values: mergedValue,\n    picker: picker,\n    defaultDates: defaultPickerValue,\n    generateConfig: generateConfig\n  }),\n      _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 2),\n      getViewDate = _useRangeViewDates2[0],\n      setViewDate = _useRangeViewDates2[1]; // ========================= Select Values =========================\n\n\n  var _useMergedState5 = useMergedState(mergedValue, {\n    postState: function postState(values) {\n      var postValues = values;\n\n      if (mergedDisabled[0] && mergedDisabled[1]) {\n        return postValues;\n      } // Fill disabled unit\n\n\n      for (var i = 0; i < 2; i += 1) {\n        if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(allowEmpty, i)) {\n          postValues = updateValues(postValues, generateConfig.getNow(), i);\n        }\n      }\n\n      return postValues;\n    }\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      selectedValue = _useMergedState6[0],\n      setSelectedValue = _useMergedState6[1]; // ============================= Modes =============================\n\n\n  var _useMergedState7 = useMergedState([picker, picker], {\n    value: mode\n  }),\n      _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n      mergedModes = _useMergedState8[0],\n      setInnerModes = _useMergedState8[1];\n\n  useEffect(function () {\n    setInnerModes([picker, picker]);\n  }, [picker]);\n\n  var triggerModesChange = function triggerModesChange(modes, values) {\n    setInnerModes(modes);\n\n    if (onPanelChange) {\n      onPanelChange(values, modes);\n    }\n  }; // ========================= Disable Date ==========================\n\n\n  var _useRangeDisabled = useRangeDisabled({\n    picker: picker,\n    selectedValue: selectedValue,\n    locale: locale,\n    disabled: mergedDisabled,\n    disabledDate: disabledDate,\n    generateConfig: generateConfig\n  }, openRecordsRef.current[1], openRecordsRef.current[0]),\n      _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n      disabledStartDate = _useRangeDisabled2[0],\n      disabledEndDate = _useRangeDisabled2[1]; // ============================= Open ==============================\n\n\n  var _useMergedState9 = useMergedState(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return mergedDisabled[mergedActivePickerIndex] ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n      mergedOpen = _useMergedState10[0],\n      triggerInnerOpen = _useMergedState10[1];\n\n  var startOpen = mergedOpen && mergedActivePickerIndex === 0;\n  var endOpen = mergedOpen && mergedActivePickerIndex === 1; // ============================= Popup =============================\n  // Popup min width\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      popupMinWidth = _useState2[0],\n      setPopupMinWidth = _useState2[1];\n\n  useEffect(function () {\n    if (!mergedOpen && containerRef.current) {\n      setPopupMinWidth(containerRef.current.offsetWidth);\n    }\n  }, [mergedOpen]); // ============================ Trigger ============================\n\n  var triggerRef = React.useRef();\n\n  function _triggerOpen(newOpen, index) {\n    if (newOpen) {\n      clearTimeout(triggerRef.current);\n      openRecordsRef.current[index] = true;\n      setMergedActivePickerIndex(index);\n      triggerInnerOpen(newOpen); // Open to reset view date\n\n      if (!mergedOpen) {\n        setViewDate(null, index);\n      }\n    } else if (mergedActivePickerIndex === index) {\n      triggerInnerOpen(newOpen); // Clean up async\n      // This makes ref not quick refresh in case user open another input with blur trigger\n\n      var openRecords = openRecordsRef.current;\n      triggerRef.current = setTimeout(function () {\n        if (openRecords === openRecordsRef.current) {\n          openRecordsRef.current = {};\n        }\n      });\n    }\n  }\n\n  function triggerOpenAndFocus(index) {\n    _triggerOpen(true, index); // Use setTimeout to make sure panel DOM exists\n\n\n    setTimeout(function () {\n      var inputRef = [startInputRef, endInputRef][index];\n\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, 0);\n  }\n\n  function triggerChange(newValue, sourceIndex) {\n    var values = newValue;\n    var startValue = getValue(values, 0);\n    var endValue = getValue(values, 1); // >>>>> Format start & end values\n\n    if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n      if ( // WeekPicker only compare week\n      picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) || // QuotaPicker only compare week\n      picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) || // Other non-TimePicker compare date\n      picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !isSameDate(generateConfig, startValue, endValue)) {\n        // Clean up end date when start date is after end date\n        if (sourceIndex === 0) {\n          values = [startValue, null];\n          endValue = null;\n        } else {\n          startValue = null;\n          values = [null, endValue];\n        } // Clean up cache since invalidate\n\n\n        openRecordsRef.current = _defineProperty({}, sourceIndex, true);\n      } else if (picker !== 'time' || order !== false) {\n        // Reorder when in same date\n        values = reorderValues(values, generateConfig);\n      }\n    }\n\n    setSelectedValue(values);\n    var startStr = values && values[0] ? formatValue(values[0], {\n      generateConfig: generateConfig,\n      locale: locale,\n      format: formatList[0]\n    }) : '';\n    var endStr = values && values[1] ? formatValue(values[1], {\n      generateConfig: generateConfig,\n      locale: locale,\n      format: formatList[0]\n    }) : '';\n\n    if (onCalendarChange) {\n      var info = {\n        range: sourceIndex === 0 ? 'start' : 'end'\n      };\n      onCalendarChange(values, [startStr, endStr], info);\n    } // >>>>> Trigger `onChange` event\n\n\n    var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled, allowEmpty);\n    var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled, allowEmpty);\n    var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n    if (canTrigger) {\n      // Trigger onChange only when value is validate\n      setInnerValue(values);\n\n      if (onChange && (!isEqual(generateConfig, getValue(mergedValue, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue, 1), endValue))) {\n        onChange(values, [startStr, endStr]);\n      }\n    } // >>>>> Open picker when\n    // Always open another picker if possible\n\n\n    var nextOpenIndex = null;\n\n    if (sourceIndex === 0 && !mergedDisabled[1]) {\n      nextOpenIndex = 1;\n    } else if (sourceIndex === 1 && !mergedDisabled[0]) {\n      nextOpenIndex = 0;\n    }\n\n    if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex && (!openRecordsRef.current[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n      // Delay to focus to avoid input blur trigger expired selectedValues\n      triggerOpenAndFocus(nextOpenIndex);\n    } else {\n      _triggerOpen(false, sourceIndex);\n    }\n  }\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  }; // ============================= Text ==============================\n\n\n  var sharedTextHooksProps = {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  };\n\n  var _useValueTexts = useValueTexts(getValue(selectedValue, 0), sharedTextHooksProps),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      startValueTexts = _useValueTexts2[0],\n      firstStartValueText = _useValueTexts2[1];\n\n  var _useValueTexts3 = useValueTexts(getValue(selectedValue, 1), sharedTextHooksProps),\n      _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n      endValueTexts = _useValueTexts4[0],\n      firstEndValueText = _useValueTexts4[1];\n\n  var _onTextChange = function onTextChange(newText, index) {\n    var inputDate = parseValue(newText, {\n      locale: locale,\n      formatList: formatList,\n      generateConfig: generateConfig\n    });\n    var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n    if (inputDate && !disabledFunc(inputDate)) {\n      setSelectedValue(updateValues(selectedValue, inputDate, index));\n      setViewDate(inputDate, index);\n    }\n  };\n\n  var _useTextValueMapping = useTextValueMapping({\n    valueTexts: startValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 0);\n    }\n  }),\n      _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n      startText = _useTextValueMapping2[0],\n      triggerStartTextChange = _useTextValueMapping2[1],\n      resetStartText = _useTextValueMapping2[2];\n\n  var _useTextValueMapping3 = useTextValueMapping({\n    valueTexts: endValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 1);\n    }\n  }),\n      _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n      endText = _useTextValueMapping4[0],\n      triggerEndTextChange = _useTextValueMapping4[1],\n      resetEndText = _useTextValueMapping4[2];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rangeHoverValue = _useState4[0],\n      setRangeHoverValue = _useState4[1]; // ========================== Hover Range ==========================\n\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      hoverRangedValue = _useState6[0],\n      setHoverRangedValue = _useState6[1];\n\n  var _useHoverValue = useHoverValue(startText, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n      startHoverValue = _useHoverValue2[0],\n      onStartEnter = _useHoverValue2[1],\n      onStartLeave = _useHoverValue2[2];\n\n  var _useHoverValue3 = useHoverValue(endText, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n      endHoverValue = _useHoverValue4[0],\n      onEndEnter = _useHoverValue4[1],\n      onEndLeave = _useHoverValue4[2];\n\n  var onDateMouseEnter = function onDateMouseEnter(date) {\n    setHoverRangedValue(updateValues(selectedValue, date, mergedActivePickerIndex));\n\n    if (mergedActivePickerIndex === 0) {\n      onStartEnter(date);\n    } else {\n      onEndEnter(date);\n    }\n  };\n\n  var onDateMouseLeave = function onDateMouseLeave() {\n    setHoverRangedValue(updateValues(selectedValue, null, mergedActivePickerIndex));\n\n    if (mergedActivePickerIndex === 0) {\n      onStartLeave();\n    } else {\n      onEndLeave();\n    }\n  }; // ============================= Input =============================\n\n\n  var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n    return {\n      blurToCancel: needConfirmButton,\n      forwardKeyDown: forwardKeyDown,\n      onBlur: onBlur,\n      isClickOutside: function isClickOutside(target) {\n        return !elementsContains([panelDivRef.current, startInputDivRef.current, endInputDivRef.current], target);\n      },\n      onFocus: function onFocus(e) {\n        setMergedActivePickerIndex(index);\n\n        if (_onFocus) {\n          _onFocus(e);\n        }\n      },\n      triggerOpen: function triggerOpen(newOpen) {\n        _triggerOpen(newOpen, index);\n      },\n      onSubmit: function onSubmit() {\n        triggerChange(selectedValue, index);\n        resetText();\n      },\n      onCancel: function onCancel() {\n        _triggerOpen(false, index);\n\n        setSelectedValue(mergedValue);\n        resetText();\n      }\n    };\n  };\n\n  var _usePickerInput = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(0, resetStartText)), {}, {\n    open: startOpen,\n    value: startText,\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    }\n  })),\n      _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n      startInputProps = _usePickerInput2[0],\n      _usePickerInput2$ = _usePickerInput2[1],\n      startFocused = _usePickerInput2$.focused,\n      startTyping = _usePickerInput2$.typing;\n\n  var _usePickerInput3 = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(1, resetEndText)), {}, {\n    open: endOpen,\n    value: endText,\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    }\n  })),\n      _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n      endInputProps = _usePickerInput4[0],\n      _usePickerInput4$ = _usePickerInput4[1],\n      endFocused = _usePickerInput4$.focused,\n      endTyping = _usePickerInput4$.typing; // ========================== Click Picker ==========================\n\n\n  var onPickerClick = function onPickerClick(e) {\n    // When click inside the picker & outside the picker's input elements\n    // the panel should still be opened\n    if (!mergedOpen && !startInputRef.current.contains(e.target) && !endInputRef.current.contains(e.target)) {\n      if (!mergedDisabled[0]) {\n        triggerOpenAndFocus(0);\n      } else if (!mergedDisabled[1]) {\n        triggerOpenAndFocus(1);\n      }\n    }\n  };\n\n  var onPickerMouseDown = function onPickerMouseDown(e) {\n    // shouldn't affect input elements if picker is active\n    if (mergedOpen && (startFocused || endFocused) && !startInputRef.current.contains(e.target) && !endInputRef.current.contains(e.target)) {\n      e.preventDefault();\n    }\n  }; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  var startStr = mergedValue && mergedValue[0] ? formatValue(mergedValue[0], {\n    locale: locale,\n    format: 'YYYYMMDDHHmmss',\n    generateConfig: generateConfig\n  }) : '';\n  var endStr = mergedValue && mergedValue[1] ? formatValue(mergedValue[1], {\n    locale: locale,\n    format: 'YYYYMMDDHHmmss',\n    generateConfig: generateConfig\n  }) : '';\n  useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!startValueTexts.length || startValueTexts[0] === '') {\n        triggerStartTextChange('');\n      } else if (firstStartValueText !== startText) {\n        resetStartText();\n      }\n\n      if (!endValueTexts.length || endValueTexts[0] === '') {\n        triggerEndTextChange('');\n      } else if (firstEndValueText !== endText) {\n        resetEndText();\n      }\n    }\n  }, [mergedOpen, startValueTexts, endValueTexts]); // Sync innerValue with control mode\n\n  useEffect(function () {\n    setSelectedValue(mergedValue);\n  }, [startStr, endStr]); // ============================ Warning ============================\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n      warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n    }\n  } // ============================ Private ============================\n\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (startInputRef.current) {\n          startInputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (startInputRef.current) {\n          startInputRef.current.blur();\n        }\n\n        if (endInputRef.current) {\n          endInputRef.current.blur();\n        }\n      }\n    };\n  } // ============================ Ranges =============================\n\n\n  var rangeLabels = Object.keys(ranges || {});\n  var rangeList = rangeLabels.map(function (label) {\n    var range = ranges[label];\n    var newValues = typeof range === 'function' ? range() : range;\n    return {\n      label: label,\n      onClick: function onClick() {\n        triggerChange(newValues, null);\n\n        _triggerOpen(false, mergedActivePickerIndex);\n      },\n      onMouseEnter: function onMouseEnter() {\n        setRangeHoverValue(newValues);\n      },\n      onMouseLeave: function onMouseLeave() {\n        setRangeHoverValue(null);\n      }\n    };\n  }); // ============================= Panel =============================\n\n  function renderPanel() {\n    var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var panelHoverRangedValue = null;\n\n    if (mergedOpen && hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1] && generateConfig.isAfter(hoverRangedValue[1], hoverRangedValue[0])) {\n      panelHoverRangedValue = hoverRangedValue;\n    }\n\n    var panelShowTime = showTime;\n\n    if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n      var timeDefaultValues = showTime.defaultValue;\n      panelShowTime = _objectSpread(_objectSpread({}, showTime), {}, {\n        defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex) || undefined\n      });\n    }\n\n    var panelDateRender = null;\n\n    if (dateRender) {\n      panelDateRender = function panelDateRender(date, today) {\n        return dateRender(date, today, {\n          range: mergedActivePickerIndex ? 'end' : 'start'\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(RangeContext.Provider, {\n      value: {\n        inRange: true,\n        panelPosition: panelPosition,\n        rangedValue: rangeHoverValue || selectedValue,\n        hoverRangedValue: panelHoverRangedValue\n      }\n    }, /*#__PURE__*/React.createElement(PickerPanel, _extends({}, props, panelProps, {\n      dateRender: panelDateRender,\n      showTime: panelShowTime,\n      mode: mergedModes[mergedActivePickerIndex],\n      generateConfig: generateConfig,\n      style: undefined,\n      direction: direction,\n      disabledDate: mergedActivePickerIndex === 0 ? disabledStartDate : disabledEndDate,\n      disabledTime: function disabledTime(date) {\n        if (_disabledTime) {\n          return _disabledTime(date, mergedActivePickerIndex === 0 ? 'start' : 'end');\n        }\n\n        return false;\n      },\n      className: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex === 0 ? !startTyping : !endTyping)),\n      value: getValue(selectedValue, mergedActivePickerIndex),\n      locale: locale,\n      tabIndex: -1,\n      onPanelChange: function onPanelChange(date, newMode) {\n        // clear hover value when panel change\n        if (mergedActivePickerIndex === 0) {\n          onStartLeave(true);\n        }\n\n        if (mergedActivePickerIndex === 1) {\n          onEndLeave(true);\n        }\n\n        triggerModesChange(updateValues(mergedModes, newMode, mergedActivePickerIndex), updateValues(selectedValue, date, mergedActivePickerIndex));\n        var viewDate = date;\n\n        if (panelPosition === 'right' && mergedModes[mergedActivePickerIndex] === newMode) {\n          viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n        }\n\n        setViewDate(viewDate, mergedActivePickerIndex);\n      },\n      onOk: null,\n      onSelect: undefined,\n      onChange: undefined,\n      defaultValue: mergedActivePickerIndex === 0 ? getValue(selectedValue, 1) : getValue(selectedValue, 0),\n      defaultPickerValue: undefined\n    })));\n  }\n\n  var arrowLeft = 0;\n  var panelLeft = 0;\n\n  if (mergedActivePickerIndex && startInputDivRef.current && separatorRef.current && panelDivRef.current) {\n    // Arrow offset\n    arrowLeft = startInputDivRef.current.offsetWidth + separatorRef.current.offsetWidth;\n\n    if (panelDivRef.current.offsetWidth && arrowLeft > panelDivRef.current.offsetWidth) {\n      panelLeft = arrowLeft;\n    }\n  }\n\n  var arrowPositionStyle = direction === 'rtl' ? {\n    right: arrowLeft\n  } : {\n    left: arrowLeft\n  };\n\n  function renderPanels() {\n    var panels;\n    var extraNode = getExtraFooter(prefixCls, mergedModes[mergedActivePickerIndex], renderExtraFooter);\n    var rangesNode = getRanges({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !getValue(selectedValue, mergedActivePickerIndex) || disabledDate && disabledDate(selectedValue[mergedActivePickerIndex]),\n      locale: locale,\n      rangeList: rangeList,\n      onOk: function onOk() {\n        if (getValue(selectedValue, mergedActivePickerIndex)) {\n          // triggerChangeOld(selectedValue);\n          triggerChange(selectedValue, mergedActivePickerIndex);\n\n          if (_onOk) {\n            _onOk(selectedValue);\n          }\n        }\n      }\n    });\n\n    if (picker !== 'time' && !showTime) {\n      var viewDate = getViewDate(mergedActivePickerIndex);\n      var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n      var currentMode = mergedModes[mergedActivePickerIndex];\n      var showDoublePanel = currentMode === picker;\n      var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n        pickerValue: viewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(newViewDate, mergedActivePickerIndex);\n        }\n      });\n      var rightPanel = renderPanel('right', {\n        pickerValue: nextViewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex);\n        }\n      });\n\n      if (direction === 'rtl') {\n        panels = /*#__PURE__*/React.createElement(React.Fragment, null, rightPanel, showDoublePanel && leftPanel);\n      } else {\n        panels = /*#__PURE__*/React.createElement(React.Fragment, null, leftPanel, showDoublePanel && rightPanel);\n      }\n    } else {\n      panels = renderPanel();\n    }\n\n    var mergedNodes = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panels\")\n    }, panels), (extraNode || rangesNode) && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-footer\")\n    }, extraNode, rangesNode));\n\n    if (panelRender) {\n      mergedNodes = panelRender(mergedNodes);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panel-container\"),\n      style: {\n        marginLeft: panelLeft\n      },\n      ref: panelDivRef,\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n      }\n    }, mergedNodes);\n  }\n\n  var rangePanel = /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n    style: {\n      minWidth: popupMinWidth\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-arrow\"),\n    style: arrowPositionStyle\n  }), renderPanels()); // ============================= Icons =============================\n\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && (getValue(mergedValue, 0) && !mergedDisabled[0] || getValue(mergedValue, 1) && !mergedDisabled[1])) {\n    clearNode = /*#__PURE__*/React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var values = mergedValue;\n\n        if (!mergedDisabled[0]) {\n          values = updateValues(values, null, 0);\n        }\n\n        if (!mergedDisabled[1]) {\n          values = updateValues(values, null, 1);\n        }\n\n        triggerChange(values, null);\n\n        _triggerOpen(false, mergedActivePickerIndex);\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  }\n\n  var inputSharedProps = {\n    size: getInputSize(picker, formatList[0], generateConfig)\n  };\n  var activeBarLeft = 0;\n  var activeBarWidth = 0;\n\n  if (startInputDivRef.current && endInputDivRef.current && separatorRef.current) {\n    if (mergedActivePickerIndex === 0) {\n      activeBarWidth = startInputDivRef.current.offsetWidth;\n    } else {\n      activeBarLeft = arrowLeft;\n      activeBarWidth = endInputDivRef.current.offsetWidth;\n    }\n  }\n\n  var activeBarPositionStyle = direction === 'rtl' ? {\n    right: activeBarLeft\n  } : {\n    left: activeBarLeft\n  }; // ============================ Return =============================\n\n  var onContextSelect = function onContextSelect(date, type) {\n    var values = updateValues(selectedValue, date, mergedActivePickerIndex);\n\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(values, mergedActivePickerIndex); // clear hover value style\n\n      if (mergedActivePickerIndex === 0) {\n        onStartLeave();\n      } else {\n        onEndLeave();\n      }\n    } else {\n      setSelectedValue(values);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      onDateMouseEnter: onDateMouseEnter,\n      onDateMouseLeave: onDateMouseLeave,\n      hideRanges: true,\n      onSelect: onContextSelect,\n      open: mergedOpen\n    }\n  }, /*#__PURE__*/React.createElement(PickerTrigger, {\n    visible: mergedOpen,\n    popupElement: rangePanel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    range: true,\n    direction: direction\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: containerRef,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled[0] && mergedDisabled[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex === 0 ? startFocused : endFocused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n    style: style,\n    onClick: onPickerClick,\n    onMouseDown: onPickerMouseDown\n  }, getDataOrAriaProps(props)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue), _classNames3)),\n    ref: startInputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    id: id,\n    disabled: mergedDisabled[0],\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !startTyping,\n    value: startHoverValue || startText,\n    onChange: function onChange(e) {\n      triggerStartTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: getValue(placeholder, 0) || '',\n    ref: startInputRef\n  }, startInputProps, inputSharedProps, {\n    autoComplete: autoComplete\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-separator\"),\n    ref: separatorRef\n  }, separator), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue), _classNames4)),\n    ref: endInputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    disabled: mergedDisabled[1],\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !endTyping,\n    value: endHoverValue || endText,\n    onChange: function onChange(e) {\n      triggerEndTextChange(e.target.value);\n    },\n    placeholder: getValue(placeholder, 1) || '',\n    ref: endInputRef\n  }, endInputProps, inputSharedProps, {\n    autoComplete: autoComplete\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-active-bar\"),\n    style: _objectSpread(_objectSpread({}, activeBarPositionStyle), {}, {\n      width: activeBarWidth,\n      position: 'absolute'\n    })\n  }), suffixNode, clearNode)));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar RangePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(RangePicker, _React$Component);\n\n  var _super = _createSuper(RangePicker);\n\n  function RangePicker() {\n    var _this;\n\n    _classCallCheck(this, RangePicker);\n\n    _this = _super.apply(this, arguments);\n    _this.pickerRef = /*#__PURE__*/React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RangePicker, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(InnerRangePicker, _extends({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return RangePicker;\n}(React.Component);\n\nexport default RangePicker;","import * as React from 'react';\nimport { getValue } from '../utils/miscUtil';\nimport { isSameDate, getQuarter } from '../utils/dateUtil';\nexport default function useRangeDisabled(_ref, disabledStart, disabledEnd) {\n  var picker = _ref.picker,\n      locale = _ref.locale,\n      selectedValue = _ref.selectedValue,\n      disabledDate = _ref.disabledDate,\n      disabled = _ref.disabled,\n      generateConfig = _ref.generateConfig;\n  var startDate = getValue(selectedValue, 0);\n  var endDate = getValue(selectedValue, 1);\n\n  function weekFirstDate(date) {\n    return generateConfig.locale.getWeekFirstDate(locale.locale, date);\n  }\n\n  function monthNumber(date) {\n    var year = generateConfig.getYear(date);\n    var month = generateConfig.getMonth(date);\n    return year * 100 + month;\n  }\n\n  function quarterNumber(date) {\n    var year = generateConfig.getYear(date);\n    var quarter = getQuarter(generateConfig, date);\n    return year * 10 + quarter;\n  }\n\n  var disabledStartDate = React.useCallback(function (date) {\n    if (disabledDate && disabledDate(date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[1] && endDate) {\n      return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(date, endDate);\n    } // Disabled part\n\n\n    if (disabledStart && endDate) {\n      switch (picker) {\n        case 'quarter':\n          return quarterNumber(date) > quarterNumber(endDate);\n\n        case 'month':\n          return monthNumber(date) > monthNumber(endDate);\n\n        case 'week':\n          return weekFirstDate(date) > weekFirstDate(endDate);\n\n        default:\n          return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(date, endDate);\n      }\n    }\n\n    return false;\n  }, [disabledDate, disabled[1], endDate, disabledStart]);\n  var disabledEndDate = React.useCallback(function (date) {\n    if (disabledDate && disabledDate(date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[0] && startDate) {\n      return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(startDate, date);\n    } // Disabled part\n\n\n    if (disabledEnd && startDate) {\n      switch (picker) {\n        case 'quarter':\n          return quarterNumber(date) < quarterNumber(startDate);\n\n        case 'month':\n          return monthNumber(date) < monthNumber(startDate);\n\n        case 'week':\n          return weekFirstDate(date) < weekFirstDate(startDate);\n\n        default:\n          return !isSameDate(generateConfig, date, startDate) && generateConfig.isAfter(startDate, date);\n      }\n    }\n\n    return false;\n  }, [disabledDate, disabled[0], startDate, disabledEnd]);\n  return [disabledStartDate, disabledEndDate];\n}","import Picker from './Picker';\nimport PickerPanel from './PickerPanel';\nimport RangePicker from './RangePicker';\nexport { PickerPanel, RangePicker };\nexport default Picker;","\"use strict\";\n\nrequire(\"./index.less\");\n\nrequire(\"../../tag/style\");\n\nrequire(\"../../button/style\");","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"./index.less\");","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCountdownClock\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCountdownClock\"] = factory(root[\"React\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__427__) {\nreturn ","React  = require 'react'\nPropTypes = require 'prop-types'\nCreateReactClass = require 'create-react-class'\n\nReactCountdownClock = CreateReactClass\n  _seconds: 0\n  _radius: null\n  _fraction: null\n  _content: null\n  _canvas: null\n  _timeoutIds: []\n  _scale: window?.devicePixelRatio || 1\n\n  displayName: 'ReactCountdownClock'\n\n  componentDidUpdate: (prevProps) ->\n    if prevProps.seconds != @props.seconds\n      @_seconds = @_startSeconds()\n      @_stopTimer()\n      @_setupTimer()\n\n    if prevProps.color != @props.color\n      @_drawBackground()\n      @_updateCanvas()\n\n    if prevProps.paused != @props.paused\n      @_startTimer() if !@props.paused\n      @_pauseTimer() if @props.paused\n\n  componentDidMount: ->\n    @_seconds = @_startSeconds()\n    @_setupTimer()\n\n  componentWillUnmount: ->\n    @_cancelTimer()\n\n  _startSeconds: ->\n    # To prevent a brief flash of the start time when not paused\n    if @props.paused then @props.seconds else @props.seconds - 0.01\n\n  _setupTimer: ->\n    @_setScale()\n    @_setupCanvases()\n    @_drawBackground()\n    @_drawTimer()\n    @_startTimer() unless @props.paused\n\n  _updateCanvas: ->\n    @_clearTimer()\n    @_drawTimer()\n\n  _setScale: ->\n    @_radius      = @props.size / 2\n    @_fraction    = 2 / @_seconds\n    @_tickPeriod  = @_calculateTick()\n    @_innerRadius =\n      if @props.weight\n        @_radius - @props.weight\n      else\n        @_radius / 1.8\n\n  _calculateTick: ->\n    # Tick period (milleseconds) needs to be fast for smaller time periods and slower\n    # for longer ones. This provides smoother rendering. It should never exceed 1 second.\n    tickScale = 1.8\n    tick = @_seconds * tickScale\n    if tick > 1000 then 1000 else tick\n\n  _setupCanvases: ->\n    return if @_background && @_timer\n\n    @_background = @refs.background.getContext '2d'\n    @_background.scale @_scale, @_scale\n\n    @_timer = @refs.timer.getContext '2d'\n    @_timer.textAlign = 'center'\n    @_timer.textBaseline = 'middle'\n    @_timer.scale @_scale, @_scale\n\n    if @props.onClick?\n      @refs.component.addEventListener 'click', @props.onClick\n\n  _startTimer: ->\n    # Give it a moment to collect it's thoughts for smoother render\n    @_timeoutIds.push(setTimeout( => @_tick() ), 200)\n\n  _pauseTimer: ->\n    @_stopTimer()\n    @_updateCanvas()\n\n  _stopTimer: ->\n    for timeout in @_timeoutIds\n      clearTimeout timeout\n\n  _cancelTimer: ->\n    @_stopTimer()\n\n    if @props.onClick?\n      @refs.component.removeEventListener 'click', @props.onClick\n\n  _tick: ->\n    start = Date.now()\n    @_timeoutIds.push(setTimeout ( =>\n      duration = (Date.now() - start) / 1000\n      @_seconds -= duration\n\n      if @_seconds <= 0\n        @_seconds = 0\n        @_handleComplete()\n        @_clearTimer()\n      else\n        @_updateCanvas()\n        @_tick()\n    ), @_tickPeriod)\n\n  _handleComplete: ->\n    if @props.onComplete\n      @props.onComplete()\n\n  _clearBackground: ->\n    @_background.clearRect 0, 0, @refs.timer.width, @refs.timer.height\n\n  _clearTimer: ->\n    if @refs.timer?\n      @_timer.clearRect 0, 0, @refs.timer.width, @refs.timer.height\n\n  _drawBackground: ->\n    @_clearBackground()\n    @_background.beginPath()\n    @_background.globalAlpha = @props.alpha / 3\n    @_background.fillStyle = @props.color\n    @_background.arc @_radius, @_radius,      @_radius,           0, Math.PI * 2, false\n    @_background.arc @_radius, @_radius, @_innerRadius, Math.PI * 2,           0, true\n    @_background.closePath()\n    @_background.fill()\n\n  _formattedTime: ->\n    decimals = (@_seconds < 10 && @props.showMilliseconds) ? 1 : 0\n\n    if @props.timeFormat == 'hms'\n      hours   = parseInt( @_seconds / 3600 ) % 24\n      minutes = parseInt( @_seconds / 60 ) % 60\n\n      if decimals\n        seconds = ((Math.floor(@_seconds * 10) / 10)).toFixed(decimals)\n      else\n        seconds = Math.floor(@_seconds % 60)\n\n      hoursStr = \"#{hours}\"\n      minutesStr = \"#{minutes}\"\n      secondsStr = \"#{seconds}\"\n\n      hoursStr   = \"0#{hours}\" if hours < 10\n      minutesStr = \"0#{minutes}\" if minutes < 10 && hours >= 1\n      secondsStr = \"0#{seconds}\" if seconds < 10 && (minutes >= 1 || hours >= 1)\n\n      timeParts = []\n      timeParts.push hoursStr if hours > 0\n      timeParts.push minutesStr if minutes > 0 || hours > 0\n      timeParts.push secondsStr\n\n      timeParts.join ':'\n    else\n      (Math.floor(@_seconds * 10) / 10).toFixed(decimals)\n\n  _fontSize: (timeString) ->\n    if @props.fontSize == 'auto'\n      scale = switch timeString.length\n        when 8 then 4 # hh:mm:ss\n        when 5 then 3 # mm:ss\n        else 2        # ss or ss.s\n      size = @_radius / scale\n      \"#{size}px\"\n    else\n      @props.fontSize\n\n  _drawTimer: ->\n    percent = @_fraction * @_seconds + 1.5\n    formattedTime = @_formattedTime()\n    text = if (@props.paused && @props.pausedText?) then @props.pausedText else formattedTime\n\n    # Timer\n    @_timer.globalAlpha = @props.alpha\n    @_timer.fillStyle = @props.color\n    @_timer.font = \"bold #{@_fontSize(formattedTime)} #{@props.font}\"\n    @_timer.fillText text, @_radius, @_radius\n    @_timer.beginPath()\n    @_timer.arc @_radius, @_radius, @_radius,      Math.PI * 1.5,     Math.PI * percent, false\n    @_timer.arc @_radius, @_radius, @_innerRadius, Math.PI * percent, Math.PI * 1.5,     true\n    @_timer.closePath()\n    @_timer.fill()\n\n  render: ->\n    canvasStyle = { position: 'absolute', width: @props.size, height: @props.size }\n    canvasProps = { style: canvasStyle, height: @props.size * @_scale, width: @props.size * @_scale }\n\n    React.createElement(\"div\", {\"ref\": 'component', \"className\": \"react-countdown-clock\", \"style\": (width: @props.size, height: @props.size)},\n      React.createElement(\"canvas\", Object.assign({\"ref\": 'background'}, canvasProps)),\n      React.createElement(\"canvas\", Object.assign({\"ref\": 'timer'}, canvasProps))\n    )\n\nReactCountdownClock.propTypes =\n  seconds: PropTypes.number\n  size: PropTypes.number\n  weight: PropTypes.number\n  color: PropTypes.string\n  fontSize: PropTypes.string\n  font: PropTypes.string\n  alpha: PropTypes.number\n  timeFormat: PropTypes.string\n  onComplete: PropTypes.func\n  onClick: PropTypes.func\n  showMilliseconds: PropTypes.bool\n  paused: PropTypes.bool\n  pausedText: PropTypes.string\n\nReactCountdownClock.defaultProps =\n  seconds: 60\n  size: 300\n  color: '#000'\n  alpha: 1\n  timeFormat: 'hms'\n  fontSize: 'auto'\n  font: 'Arial'\n  showMilliseconds: true\n  paused: false\n\nmodule.exports = ReactCountdownClock\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\n// -- Inlined from fbjs --\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction _invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nvar warning = function(){};\n\nif (process.env.NODE_ENV !== 'production') {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\n// /-- Inlined from fbjs --\n\nvar MIXINS_KEY = 'mixins';\n\n// Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\nfunction identity(fn) {\n  return fn;\n}\n\nvar ReactPropTypeLocationNames;\nif (process.env.NODE_ENV !== 'production') {\n  ReactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context'\n  };\n} else {\n  ReactPropTypeLocationNames = {};\n}\n\nfunction factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {\n  /**\n   * Policies that describe methods in `ReactClassInterface`.\n   */\n\n  var injectedMixins = [];\n\n  /**\n   * Composite components are higher-level components that compose other composite\n   * or host components.\n   *\n   * To create a new type of `ReactClass`, pass a specification of\n   * your new class to `React.createClass`. The only requirement of your class\n   * specification is that you implement a `render` method.\n   *\n   *   var MyComponent = React.createClass({\n   *     render: function() {\n   *       return <div>Hello World</div>;\n   *     }\n   *   });\n   *\n   * The class specification supports a specific protocol of methods that have\n   * special meaning (e.g. `render`). See `ReactClassInterface` for\n   * more the comprehensive protocol. Any other properties and methods in the\n   * class specification will be available on the prototype.\n   *\n   * @interface ReactClassInterface\n   * @internal\n   */\n  var ReactClassInterface = {\n    /**\n     * An array of Mixin objects to include when defining your component.\n     *\n     * @type {array}\n     * @optional\n     */\n    mixins: 'DEFINE_MANY',\n\n    /**\n     * An object containing properties and methods that should be defined on\n     * the component's constructor instead of its prototype (static methods).\n     *\n     * @type {object}\n     * @optional\n     */\n    statics: 'DEFINE_MANY',\n\n    /**\n     * Definition of prop types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    propTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    contextTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types this component sets for its children.\n     *\n     * @type {object}\n     * @optional\n     */\n    childContextTypes: 'DEFINE_MANY',\n\n    // ==== Definition methods ====\n\n    /**\n     * Invoked when the component is mounted. Values in the mapping will be set on\n     * `this.props` if that prop is not specified (i.e. using an `in` check).\n     *\n     * This method is invoked before `getInitialState` and therefore cannot rely\n     * on `this.state` or use `this.setState`.\n     *\n     * @return {object}\n     * @optional\n     */\n    getDefaultProps: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Invoked once before the component is mounted. The return value will be used\n     * as the initial value of `this.state`.\n     *\n     *   getInitialState: function() {\n     *     return {\n     *       isOn: false,\n     *       fooBaz: new BazFoo()\n     *     }\n     *   }\n     *\n     * @return {object}\n     * @optional\n     */\n    getInitialState: 'DEFINE_MANY_MERGED',\n\n    /**\n     * @return {object}\n     * @optional\n     */\n    getChildContext: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Uses props from `this.props` and state from `this.state` to render the\n     * structure of the component.\n     *\n     * No guarantees are made about when or how often this method is invoked, so\n     * it must not have side effects.\n     *\n     *   render: function() {\n     *     var name = this.props.name;\n     *     return <div>Hello, {name}!</div>;\n     *   }\n     *\n     * @return {ReactComponent}\n     * @required\n     */\n    render: 'DEFINE_ONCE',\n\n    // ==== Delegate methods ====\n\n    /**\n     * Invoked when the component is initially created and about to be mounted.\n     * This may have side effects, but any external subscriptions or data created\n     * by this method must be cleaned up in `componentWillUnmount`.\n     *\n     * @optional\n     */\n    componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component has been mounted and has a DOM representation.\n     * However, there is no guarantee that the DOM node is in the document.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been mounted (initialized and rendered) for the first time.\n     *\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked before the component receives new props.\n     *\n     * Use this as an opportunity to react to a prop transition by updating the\n     * state using `this.setState`. Current props are accessed via `this.props`.\n     *\n     *   componentWillReceiveProps: function(nextProps, nextContext) {\n     *     this.setState({\n     *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n     *     });\n     *   }\n     *\n     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n     * transition may cause a state change, but the opposite is not true. If you\n     * need it, you are probably looking for `componentWillUpdate`.\n     *\n     * @param {object} nextProps\n     * @optional\n     */\n    componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Invoked while deciding if the component should be updated as a result of\n     * receiving new props, state and/or context.\n     *\n     * Use this as an opportunity to `return false` when you're certain that the\n     * transition to the new props/state/context will not require a component\n     * update.\n     *\n     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n     *     return !equal(nextProps, this.props) ||\n     *       !equal(nextState, this.state) ||\n     *       !equal(nextContext, this.context);\n     *   }\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @return {boolean} True if the component should update.\n     * @optional\n     */\n    shouldComponentUpdate: 'DEFINE_ONCE',\n\n    /**\n     * Invoked when the component is about to update due to a transition from\n     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n     * and `nextContext`.\n     *\n     * Use this as an opportunity to perform preparation before an update occurs.\n     *\n     * NOTE: You **cannot** use `this.setState()` in this method.\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @param {ReactReconcileTransaction} transaction\n     * @optional\n     */\n    componentWillUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component's DOM representation has been updated.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been updated.\n     *\n     * @param {object} prevProps\n     * @param {?object} prevState\n     * @param {?object} prevContext\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component is about to be removed from its parent and have\n     * its DOM representation destroyed.\n     *\n     * Use this as an opportunity to deallocate any external resources.\n     *\n     * NOTE: There is no `componentDidUnmount` since your component will have been\n     * destroyed by that point.\n     *\n     * @optional\n     */\n    componentWillUnmount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillMount`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillReceiveProps`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillUpdate`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillUpdate: 'DEFINE_MANY',\n\n    // ==== Advanced methods ====\n\n    /**\n     * Updates the component's currently mounted DOM representation.\n     *\n     * By default, this implements React's rendering and reconciliation algorithm.\n     * Sophisticated clients may wish to override this.\n     *\n     * @param {ReactReconcileTransaction} transaction\n     * @internal\n     * @overridable\n     */\n    updateComponent: 'OVERRIDE_BASE'\n  };\n\n  /**\n   * Similar to ReactClassInterface but for static methods.\n   */\n  var ReactClassStaticInterface = {\n    /**\n     * This method is invoked after a component is instantiated and when it\n     * receives new props. Return an object to update state in response to\n     * prop changes. Return null to indicate no change to state.\n     *\n     * If an object is returned, its keys will be merged into the existing state.\n     *\n     * @return {object || null}\n     * @optional\n     */\n    getDerivedStateFromProps: 'DEFINE_MANY_MERGED'\n  };\n\n  /**\n   * Mapping from class specification keys to special processing functions.\n   *\n   * Although these are declared like instance properties in the specification\n   * when defining classes using `React.createClass`, they are actually static\n   * and are accessible on the constructor instead of the prototype. Despite\n   * being static, they must be defined outside of the \"statics\" key under\n   * which all other static methods are defined.\n   */\n  var RESERVED_SPEC_KEYS = {\n    displayName: function(Constructor, displayName) {\n      Constructor.displayName = displayName;\n    },\n    mixins: function(Constructor, mixins) {\n      if (mixins) {\n        for (var i = 0; i < mixins.length; i++) {\n          mixSpecIntoComponent(Constructor, mixins[i]);\n        }\n      }\n    },\n    childContextTypes: function(Constructor, childContextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, childContextTypes, 'childContext');\n      }\n      Constructor.childContextTypes = _assign(\n        {},\n        Constructor.childContextTypes,\n        childContextTypes\n      );\n    },\n    contextTypes: function(Constructor, contextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, contextTypes, 'context');\n      }\n      Constructor.contextTypes = _assign(\n        {},\n        Constructor.contextTypes,\n        contextTypes\n      );\n    },\n    /**\n     * Special case getDefaultProps which should move into statics but requires\n     * automatic merging.\n     */\n    getDefaultProps: function(Constructor, getDefaultProps) {\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps = createMergedResultFunction(\n          Constructor.getDefaultProps,\n          getDefaultProps\n        );\n      } else {\n        Constructor.getDefaultProps = getDefaultProps;\n      }\n    },\n    propTypes: function(Constructor, propTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, propTypes, 'prop');\n      }\n      Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);\n    },\n    statics: function(Constructor, statics) {\n      mixStaticSpecIntoComponent(Constructor, statics);\n    },\n    autobind: function() {}\n  };\n\n  function validateTypeDef(Constructor, typeDef, location) {\n    for (var propName in typeDef) {\n      if (typeDef.hasOwnProperty(propName)) {\n        // use a warning instead of an _invariant so components\n        // don't show up in prod but only in __DEV__\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            typeof typeDef[propName] === 'function',\n            '%s: %s type `%s` is invalid; it must be a function, usually from ' +\n              'React.PropTypes.',\n            Constructor.displayName || 'ReactClass',\n            ReactPropTypeLocationNames[location],\n            propName\n          );\n        }\n      }\n    }\n  }\n\n  function validateMethodOverride(isAlreadyDefined, name) {\n    var specPolicy = ReactClassInterface.hasOwnProperty(name)\n      ? ReactClassInterface[name]\n      : null;\n\n    // Disallow overriding of base class methods unless explicitly allowed.\n    if (ReactClassMixin.hasOwnProperty(name)) {\n      _invariant(\n        specPolicy === 'OVERRIDE_BASE',\n        'ReactClassInterface: You are attempting to override ' +\n          '`%s` from your class specification. Ensure that your method names ' +\n          'do not overlap with React methods.',\n        name\n      );\n    }\n\n    // Disallow defining methods more than once unless explicitly allowed.\n    if (isAlreadyDefined) {\n      _invariant(\n        specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED',\n        'ReactClassInterface: You are attempting to define ' +\n          '`%s` on your component more than once. This conflict may be due ' +\n          'to a mixin.',\n        name\n      );\n    }\n  }\n\n  /**\n   * Mixin helper which handles policy validation and reserved\n   * specification keys when building React classes.\n   */\n  function mixSpecIntoComponent(Constructor, spec) {\n    if (!spec) {\n      if (process.env.NODE_ENV !== 'production') {\n        var typeofSpec = typeof spec;\n        var isMixinValid = typeofSpec === 'object' && spec !== null;\n\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            isMixinValid,\n            \"%s: You're attempting to include a mixin that is either null \" +\n              'or not an object. Check the mixins included by the component, ' +\n              'as well as any mixins they include themselves. ' +\n              'Expected object but got %s.',\n            Constructor.displayName || 'ReactClass',\n            spec === null ? null : typeofSpec\n          );\n        }\n      }\n\n      return;\n    }\n\n    _invariant(\n      typeof spec !== 'function',\n      \"ReactClass: You're attempting to \" +\n        'use a component class or function as a mixin. Instead, just use a ' +\n        'regular object.'\n    );\n    _invariant(\n      !isValidElement(spec),\n      \"ReactClass: You're attempting to \" +\n        'use a component as a mixin. Instead, just use a regular object.'\n    );\n\n    var proto = Constructor.prototype;\n    var autoBindPairs = proto.__reactAutoBindPairs;\n\n    // By handling mixins before any other properties, we ensure the same\n    // chaining order is applied to methods with DEFINE_MANY policy, whether\n    // mixins are listed before or after these methods in the spec.\n    if (spec.hasOwnProperty(MIXINS_KEY)) {\n      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n    }\n\n    for (var name in spec) {\n      if (!spec.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (name === MIXINS_KEY) {\n        // We have already handled mixins in a special case above.\n        continue;\n      }\n\n      var property = spec[name];\n      var isAlreadyDefined = proto.hasOwnProperty(name);\n      validateMethodOverride(isAlreadyDefined, name);\n\n      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n        RESERVED_SPEC_KEYS[name](Constructor, property);\n      } else {\n        // Setup methods on prototype:\n        // The following member methods should not be automatically bound:\n        // 1. Expected ReactClass methods (in the \"interface\").\n        // 2. Overridden methods (that were mixed in).\n        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n        var isFunction = typeof property === 'function';\n        var shouldAutoBind =\n          isFunction &&\n          !isReactClassMethod &&\n          !isAlreadyDefined &&\n          spec.autobind !== false;\n\n        if (shouldAutoBind) {\n          autoBindPairs.push(name, property);\n          proto[name] = property;\n        } else {\n          if (isAlreadyDefined) {\n            var specPolicy = ReactClassInterface[name];\n\n            // These cases should already be caught by validateMethodOverride.\n            _invariant(\n              isReactClassMethod &&\n                (specPolicy === 'DEFINE_MANY_MERGED' ||\n                  specPolicy === 'DEFINE_MANY'),\n              'ReactClass: Unexpected spec policy %s for key %s ' +\n                'when mixing in component specs.',\n              specPolicy,\n              name\n            );\n\n            // For methods which are defined more than once, call the existing\n            // methods before calling the new property, merging if appropriate.\n            if (specPolicy === 'DEFINE_MANY_MERGED') {\n              proto[name] = createMergedResultFunction(proto[name], property);\n            } else if (specPolicy === 'DEFINE_MANY') {\n              proto[name] = createChainedFunction(proto[name], property);\n            }\n          } else {\n            proto[name] = property;\n            if (process.env.NODE_ENV !== 'production') {\n              // Add verbose displayName to the function, which helps when looking\n              // at profiling tools.\n              if (typeof property === 'function' && spec.displayName) {\n                proto[name].displayName = spec.displayName + '_' + name;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function mixStaticSpecIntoComponent(Constructor, statics) {\n    if (!statics) {\n      return;\n    }\n\n    for (var name in statics) {\n      var property = statics[name];\n      if (!statics.hasOwnProperty(name)) {\n        continue;\n      }\n\n      var isReserved = name in RESERVED_SPEC_KEYS;\n      _invariant(\n        !isReserved,\n        'ReactClass: You are attempting to define a reserved ' +\n          'property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it ' +\n          'as an instance property instead; it will still be accessible on the ' +\n          'constructor.',\n        name\n      );\n\n      var isAlreadyDefined = name in Constructor;\n      if (isAlreadyDefined) {\n        var specPolicy = ReactClassStaticInterface.hasOwnProperty(name)\n          ? ReactClassStaticInterface[name]\n          : null;\n\n        _invariant(\n          specPolicy === 'DEFINE_MANY_MERGED',\n          'ReactClass: You are attempting to define ' +\n            '`%s` on your component more than once. This conflict may be ' +\n            'due to a mixin.',\n          name\n        );\n\n        Constructor[name] = createMergedResultFunction(Constructor[name], property);\n\n        return;\n      }\n\n      Constructor[name] = property;\n    }\n  }\n\n  /**\n   * Merge two objects, but throw if both contain the same key.\n   *\n   * @param {object} one The first object, which is mutated.\n   * @param {object} two The second object\n   * @return {object} one after it has been mutated to contain everything in two.\n   */\n  function mergeIntoWithNoDuplicateKeys(one, two) {\n    _invariant(\n      one && two && typeof one === 'object' && typeof two === 'object',\n      'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'\n    );\n\n    for (var key in two) {\n      if (two.hasOwnProperty(key)) {\n        _invariant(\n          one[key] === undefined,\n          'mergeIntoWithNoDuplicateKeys(): ' +\n            'Tried to merge two objects with the same key: `%s`. This conflict ' +\n            'may be due to a mixin; in particular, this may be caused by two ' +\n            'getInitialState() or getDefaultProps() methods returning objects ' +\n            'with clashing keys.',\n          key\n        );\n        one[key] = two[key];\n      }\n    }\n    return one;\n  }\n\n  /**\n   * Creates a function that invokes two functions and merges their return values.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createMergedResultFunction(one, two) {\n    return function mergedResult() {\n      var a = one.apply(this, arguments);\n      var b = two.apply(this, arguments);\n      if (a == null) {\n        return b;\n      } else if (b == null) {\n        return a;\n      }\n      var c = {};\n      mergeIntoWithNoDuplicateKeys(c, a);\n      mergeIntoWithNoDuplicateKeys(c, b);\n      return c;\n    };\n  }\n\n  /**\n   * Creates a function that invokes two functions and ignores their return vales.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createChainedFunction(one, two) {\n    return function chainedFunction() {\n      one.apply(this, arguments);\n      two.apply(this, arguments);\n    };\n  }\n\n  /**\n   * Binds a method to the component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   * @param {function} method Method to be bound.\n   * @return {function} The bound method.\n   */\n  function bindAutoBindMethod(component, method) {\n    var boundMethod = method.bind(component);\n    if (process.env.NODE_ENV !== 'production') {\n      boundMethod.__reactBoundContext = component;\n      boundMethod.__reactBoundMethod = method;\n      boundMethod.__reactBoundArguments = null;\n      var componentName = component.constructor.displayName;\n      var _bind = boundMethod.bind;\n      boundMethod.bind = function(newThis) {\n        for (\n          var _len = arguments.length,\n            args = Array(_len > 1 ? _len - 1 : 0),\n            _key = 1;\n          _key < _len;\n          _key++\n        ) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        // User is trying to bind() an autobound method; we effectively will\n        // ignore the value of \"this\" that the user is trying to use, so\n        // let's warn.\n        if (newThis !== component && newThis !== null) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): React component methods may only be bound to the ' +\n                'component instance. See %s',\n              componentName\n            );\n          }\n        } else if (!args.length) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): You are binding a component method to the component. ' +\n                'React does this for you automatically in a high-performance ' +\n                'way, so you can safely remove this call. See %s',\n              componentName\n            );\n          }\n          return boundMethod;\n        }\n        var reboundMethod = _bind.apply(boundMethod, arguments);\n        reboundMethod.__reactBoundContext = component;\n        reboundMethod.__reactBoundMethod = method;\n        reboundMethod.__reactBoundArguments = args;\n        return reboundMethod;\n      };\n    }\n    return boundMethod;\n  }\n\n  /**\n   * Binds all auto-bound methods in a component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   */\n  function bindAutoBindMethods(component) {\n    var pairs = component.__reactAutoBindPairs;\n    for (var i = 0; i < pairs.length; i += 2) {\n      var autoBindKey = pairs[i];\n      var method = pairs[i + 1];\n      component[autoBindKey] = bindAutoBindMethod(component, method);\n    }\n  }\n\n  var IsMountedPreMixin = {\n    componentDidMount: function() {\n      this.__isMounted = true;\n    }\n  };\n\n  var IsMountedPostMixin = {\n    componentWillUnmount: function() {\n      this.__isMounted = false;\n    }\n  };\n\n  /**\n   * Add more to the ReactClass base class. These are all legacy features and\n   * therefore not already part of the modern ReactComponent.\n   */\n  var ReactClassMixin = {\n    /**\n     * TODO: This will be deprecated because state should always keep a consistent\n     * type signature and the only use case for this, is to avoid that.\n     */\n    replaceState: function(newState, callback) {\n      this.updater.enqueueReplaceState(this, newState, callback);\n    },\n\n    /**\n     * Checks whether or not this composite component is mounted.\n     * @return {boolean} True if mounted, false otherwise.\n     * @protected\n     * @final\n     */\n    isMounted: function() {\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this.__didWarnIsMounted,\n          '%s: isMounted is deprecated. Instead, make sure to clean up ' +\n            'subscriptions and pending requests in componentWillUnmount to ' +\n            'prevent memory leaks.',\n          (this.constructor && this.constructor.displayName) ||\n            this.name ||\n            'Component'\n        );\n        this.__didWarnIsMounted = true;\n      }\n      return !!this.__isMounted;\n    }\n  };\n\n  var ReactClassComponent = function() {};\n  _assign(\n    ReactClassComponent.prototype,\n    ReactComponent.prototype,\n    ReactClassMixin\n  );\n\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n  function createClass(spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function(props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this instanceof Constructor,\n          'Something is calling a React component directly. Use a factory or ' +\n            'JSX instead. See: https://fb.me/react-legacyfactory'\n        );\n      }\n\n      // Wire up auto-binding\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n\n      this.state = null;\n\n      // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n      if (process.env.NODE_ENV !== 'production') {\n        // We allow auto-mocks to proceed as if they're returning null.\n        if (\n          initialState === undefined &&\n          this.getInitialState._isMockFunction\n        ) {\n          // This is probably bad practice. Consider warning here and\n          // deprecating this convenience.\n          initialState = null;\n        }\n      }\n      _invariant(\n        typeof initialState === 'object' && !Array.isArray(initialState),\n        '%s.getInitialState(): must return an object or null',\n        Constructor.displayName || 'ReactCompositeComponent'\n      );\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n\n    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));\n\n    mixSpecIntoComponent(Constructor, IsMountedPreMixin);\n    mixSpecIntoComponent(Constructor, spec);\n    mixSpecIntoComponent(Constructor, IsMountedPostMixin);\n\n    // Initialize the defaultProps property after all mixins have been merged.\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This is a tag to indicate that the use of these method names is ok,\n      // since it's used with createClass. If it's not, then it's likely a\n      // mistake so we'll warn you to use the static property, property\n      // initializer or constructor respectively.\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps.isReactClassApproved = {};\n      }\n      if (Constructor.prototype.getInitialState) {\n        Constructor.prototype.getInitialState.isReactClassApproved = {};\n      }\n    }\n\n    _invariant(\n      Constructor.prototype.render,\n      'createClass(...): Class specification must implement a `render` method.'\n    );\n\n    if (process.env.NODE_ENV !== 'production') {\n      warning(\n        !Constructor.prototype.componentShouldUpdate,\n        '%s has a method called ' +\n          'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +\n          'The name is phrased as a question because the function is ' +\n          'expected to return a value.',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.componentWillRecieveProps,\n        '%s has a method called ' +\n          'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.UNSAFE_componentWillRecieveProps,\n        '%s has a method called UNSAFE_componentWillRecieveProps(). ' +\n          'Did you mean UNSAFE_componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n    }\n\n    // Reduce time spent doing lookups by setting these on the prototype.\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  }\n\n  return createClass;\n}\n\nmodule.exports = factory;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar React = require('react');\nvar factory = require('./factory');\n\nif (typeof React === 'undefined') {\n  throw Error(\n    'create-react-class could not find the React object. If you are using script tags, ' +\n      'make sure that React is being loaded before create-react-class.'\n  );\n}\n\n// Hack to grab NoopUpdateQueue from isomorphic React\nvar ReactNoopUpdateQueue = new React.Component().updater;\n\nmodule.exports = factory(\n  React.Component,\n  React.isValidElement,\n  ReactNoopUpdateQueue\n);\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__427__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(632);\n","import * as CodeMirror from 'codemirror';\nimport 'codemirror/mode/markdown/markdown';\nimport React, { Component } from 'react';\nimport { DomEvent, IDefineModeOptions, IEventDict, IGetSelectionOptions, IInstance, ISetScrollOptions, ISetSelectionOptions } from '../../common/codemirror';\nimport './codemirror.less';\nimport './index.less';\n\ndeclare let global: any;\ndeclare let require: any;\n\nconst SERVER_RENDERED = (typeof navigator === 'undefined' || global.PREVENT_CODEMIRROR_RENDER === true);\n\nlet cm: any;\nif (!SERVER_RENDERED) {\n  // tslint:disable-next-line: no-var-requires\n  cm = require('codemirror');\n}\n\nexport interface ICodeMirror {\n  value?: string,\n  width?: number | string,\n  height?: number | string,\n  className?: string;\n  cursor?: CodeMirror.Position;\n  defineMode?: IDefineModeOptions;\n  editorDidConfigure?: (editor: IInstance) => void;\n  editorDidMount?: (editor: IInstance, value: string, cb: () => void) => void;\n  editorWillMount?: () => void;\n  editorWillUnmount?: (lib: any) => void;\n  onClear?: (from: CodeMirror.Position, to: CodeMirror.Position) => void;\n  onBlur?: DomEvent;\n  onChange?: (editor: IInstance, data: CodeMirror.EditorChange, value: string) => void;\n  onContextMenu?: DomEvent;\n  onCopy?: DomEvent;\n  onCursor?: (editor: IInstance, data: CodeMirror.Position) => void;\n  onCut?: DomEvent;\n  onCursorActivity?: (editor: IInstance) => void;\n  onDblClick?: DomEvent;\n  onDragEnter?: DomEvent;\n  onDragLeave?: DomEvent;\n  onDragOver?: DomEvent\n  onDragStart?: DomEvent;\n  onDrop?: DomEvent;\n  onFocus?: DomEvent\n  onGutterClick?: (editor: IInstance, lineNumber: number, gutter: string, event: Event) => void;\n  onKeyDown?: DomEvent;\n  onKeyPress?: DomEvent;\n  onKeyUp?: DomEvent;\n  onMouseDown?: DomEvent;\n  onPaste?: DomEvent;\n  onRenderLine?: (editor: IInstance, line: CodeMirror.LineHandle, element: HTMLElement) => void;\n  onScroll?: (editor: IInstance, data: CodeMirror.ScrollInfo) => void;\n  onSelection?: (editor: IInstance, data: IGetSelectionOptions) => void;\n  onTouchStart?: DomEvent;\n  onUpdate?: (editor: IInstance) => void;\n  onViewportChange?: (editor: IInstance, start: number, end: number) => void;\n  options?: CodeMirror.EditorConfiguration\n  selection?: { ranges: ISetSelectionOptions[], focus?: boolean };\n  scroll?: ISetScrollOptions;\n  [key: string]: any,\n}\n\nexport interface ICodeMirrorState {\n  value: string;\n}\n\nexport default class ReactCodeMirror extends Component<ICodeMirror, ICodeMirrorState> {\n  public static defaultProps: ICodeMirror = {\n    height: '100%',\n    options: {\n      lineNumbers: true,\n      mode: 'markdown',\n      tabSize: 2,\n    },\n    value: '',\n    width: '100%',\n  }\n  public textarea!: HTMLTextAreaElement;\n  public editor!: CodeMirror.Editor;\n  // public editor!: Doc | Editor | EditorFromTextArea | Editor;\n  public constructor(props: Readonly<ICodeMirror>) {\n    super(props);\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    if (this.props.editorWillMount) {\n      this.props.editorWillMount();\n    }\n  }\n  public render() {\n    return (\n      <textarea ref={(instance: HTMLTextAreaElement) => this.textarea = instance} />\n    );\n  }\n\n  public componentDidMount() {\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    const { options } = this.props;\n    if (this.props.defineMode) {\n      if (this.props.defineMode.name && this.props.defineMode.fn) {\n        cm.defineMode(this.props.defineMode.name, this.props.defineMode.fn);\n      }\n    }\n\n    const editorOption = { tabSize: 2, lineNumbers: true, ...options, mode: 'markdown' };\n    // codemirror\n    this.editor = cm.fromTextArea(this.textarea, editorOption) as CodeMirror.EditorFromTextArea;\n    this.renderCodeMirror(this.props);\n  }\n\n  componentDidUpdate(prevProps: ICodeMirror) {\n    const { value, width, height } = this.props;\n    if (this.editor.getValue() !== value && value !== prevProps.value) {\n      this.editor.setValue(value || '');\n    }\n    if (width !== prevProps.width || height !== prevProps.height) {\n      // Setting Size\n      this.editor.setSize(width, height);\n    }\n  }\n\n  public shouldComponentUpdate(nextProps: ICodeMirror, nextState: ICodeMirrorState) {\n    return nextProps.value !== this.props.value \n    || nextProps.options !== this.props.options\n    || nextProps.height !== this.props.height\n    || nextProps.width !== this.props.width;\n  }\n  //  props \n  public getEventHandleFromProps(): IEventDict {\n    const propNames = Object.keys(this.props);\n    const eventHandle = propNames.filter((prop) => {\n      return /^on+/.test(prop);\n    });\n\n    const eventDict: IEventDict = {};\n    eventHandle.forEach((ele) => {\n      eventDict[ele] = ele.replace(/^on[A-Z]/g, s => s.slice(2).toLowerCase()) as string;\n    });\n\n    return eventDict;\n  }\n\n  private renderCodeMirror(props: ICodeMirror) {\n    const { value, width, height } = props;\n    // CodeMirror\n    // \n    const eventDict = this.getEventHandleFromProps();\n    Object.keys(eventDict).forEach((event: string) => {\n      const handle = this.props[event];\n      this.editor.on(eventDict[event], handle);\n    });\n    // Init value\n    this.editor.setValue(value || '');\n    // this.editor.setOption(name, editorOption.mode);\n\n    if (width || height) {\n      // Setting size\n      this.editor.setSize(width, height);\n    }\n  }\n}","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","'use strict';\n\nvar xtend = require('xtend');\n\nvar unified = require('unified');\n\nvar parse = require('remark-parse');\n\nvar PropTypes = require('prop-types');\n\nvar addListMetadata = require('mdast-add-list-metadata');\n\nvar naiveHtml = require('./plugins/naive-html');\n\nvar disallowNode = require('./plugins/disallow-node');\n\nvar astToReact = require('./ast-to-react');\n\nvar wrapTableRows = require('./wrap-table-rows');\n\nvar getDefinitions = require('./get-definitions');\n\nvar uriTransformer = require('./uri-transformer');\n\nvar defaultRenderers = require('./renderers');\n\nvar symbols = require('./symbols');\n\nvar allTypes = Object.keys(defaultRenderers);\n\nvar ReactMarkdown = function ReactMarkdown(props) {\n  // To do in next major: remove `source`.\n  var src = props.source || props.children || '';\n\n  if (props.allowedTypes && props.disallowedTypes) {\n    throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');\n  }\n\n  var renderers = xtend(defaultRenderers, props.renderers);\n  var processor = unified().use(parse).use(props.plugins || []); // eslint-disable-next-line no-sync\n\n  var tree = processor.runSync(processor.parse(src));\n  var renderProps = xtend(props, {\n    renderers: renderers,\n    definitions: getDefinitions(tree)\n  });\n  determineAstToReactTransforms(props).forEach(function (transform) {\n    tree = transform(tree, renderProps);\n  });\n  return tree;\n};\n\nfunction determineAstToReactTransforms(props) {\n  var transforms = [wrapTableRows, addListMetadata()];\n  var disallowedTypes = props.disallowedTypes;\n\n  if (props.allowedTypes) {\n    disallowedTypes = allTypes.filter(function (type) {\n      return type !== 'root' && props.allowedTypes.indexOf(type) === -1;\n    });\n  }\n\n  var removalMethod = props.unwrapDisallowed ? 'unwrap' : 'remove';\n\n  if (disallowedTypes && disallowedTypes.length > 0) {\n    transforms.push(disallowNode.ofType(disallowedTypes, removalMethod));\n  }\n\n  if (props.allowNode) {\n    transforms.push(disallowNode.ifNotMatch(props.allowNode, removalMethod));\n  } // To do in next major: remove `escapeHtml`.\n\n\n  var renderHtml = (props.allowDangerousHtml || props.escapeHtml === false) && !props.skipHtml;\n  var hasHtmlParser = (props.astPlugins || []).some(function (transform) {\n    return transform.identity === symbols.HtmlParser;\n  });\n\n  if (renderHtml && !hasHtmlParser) {\n    transforms.push(naiveHtml);\n  }\n\n  if (props.astPlugins) {\n    transforms = transforms.concat(props.astPlugins);\n  } // Add the final transform to turn everything into React.\n\n\n  transforms.push(astToReact);\n  return transforms;\n}\n\nReactMarkdown.defaultProps = {\n  transformLinkUri: uriTransformer\n};\nReactMarkdown.propTypes = {\n  className: PropTypes.string,\n  source: PropTypes.string,\n  children: PropTypes.string,\n  sourcePos: PropTypes.bool,\n  rawSourcePos: PropTypes.bool,\n  escapeHtml: PropTypes.bool,\n  allowDangerousHtml: PropTypes.bool,\n  skipHtml: PropTypes.bool,\n  allowNode: PropTypes.func,\n  allowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  disallowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  transformLinkUri: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  linkTarget: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transformImageUri: PropTypes.func,\n  astPlugins: PropTypes.arrayOf(PropTypes.func),\n  unwrapDisallowed: PropTypes.bool,\n  renderers: PropTypes.object,\n  plugins: PropTypes.array\n};\nReactMarkdown.types = allTypes;\nReactMarkdown.renderers = defaultRenderers;\nReactMarkdown.uriTransformer = uriTransformer;\nmodule.exports = ReactMarkdown;","'use strict'\n\nvar bail = require('bail')\nvar buffer = require('is-buffer')\nvar extend = require('extend')\nvar plain = require('is-plain-obj')\nvar trough = require('trough')\nvar vfile = require('vfile')\n\n// Expose a frozen processor.\nmodule.exports = unified().freeze()\n\nvar slice = [].slice\nvar own = {}.hasOwnProperty\n\n// Process pipeline.\nvar pipeline = trough()\n  .use(pipelineParse)\n  .use(pipelineRun)\n  .use(pipelineStringify)\n\nfunction pipelineParse(p, ctx) {\n  ctx.tree = p.parse(ctx.file)\n}\n\nfunction pipelineRun(p, ctx, next) {\n  p.run(ctx.tree, ctx.file, done)\n\n  function done(error, tree, file) {\n    if (error) {\n      next(error)\n    } else {\n      ctx.tree = tree\n      ctx.file = file\n      next()\n    }\n  }\n}\n\nfunction pipelineStringify(p, ctx) {\n  var result = p.stringify(ctx.tree, ctx.file)\n\n  if (result === undefined || result === null) {\n    // Empty.\n  } else if (typeof result === 'string' || buffer(result)) {\n    ctx.file.contents = result\n  } else {\n    ctx.file.result = result\n  }\n}\n\n// Function to create the first processor.\nfunction unified() {\n  var attachers = []\n  var transformers = trough()\n  var namespace = {}\n  var freezeIndex = -1\n  var frozen\n\n  // Data management.\n  processor.data = data\n\n  // Lock.\n  processor.freeze = freeze\n\n  // Plugins.\n  processor.attachers = attachers\n  processor.use = use\n\n  // API.\n  processor.parse = parse\n  processor.stringify = stringify\n  processor.run = run\n  processor.runSync = runSync\n  processor.process = process\n  processor.processSync = processSync\n\n  // Expose.\n  return processor\n\n  // Create a new processor based on the processor in the current scope.\n  function processor() {\n    var destination = unified()\n    var index = -1\n\n    while (++index < attachers.length) {\n      destination.use.apply(null, attachers[index])\n    }\n\n    destination.data(extend(true, {}, namespace))\n\n    return destination\n  }\n\n  // Freeze: used to signal a processor that has finished configuration.\n  //\n  // For example, take unified itself: its frozen.\n  // Plugins should not be added to it.\n  // Rather, it should be extended, by invoking it, before modifying it.\n  //\n  // In essence, always invoke this when exporting a processor.\n  function freeze() {\n    var values\n    var transformer\n\n    if (frozen) {\n      return processor\n    }\n\n    while (++freezeIndex < attachers.length) {\n      values = attachers[freezeIndex]\n\n      if (values[1] === false) {\n        continue\n      }\n\n      if (values[1] === true) {\n        values[1] = undefined\n      }\n\n      transformer = values[0].apply(processor, values.slice(1))\n\n      if (typeof transformer === 'function') {\n        transformers.use(transformer)\n      }\n    }\n\n    frozen = true\n    freezeIndex = Infinity\n\n    return processor\n  }\n\n  // Data management.\n  // Getter / setter for processor-specific informtion.\n  function data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', frozen)\n        namespace[key] = value\n        return processor\n      }\n\n      // Get `key`.\n      return (own.call(namespace, key) && namespace[key]) || null\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', frozen)\n      namespace = key\n      return processor\n    }\n\n    // Get space.\n    return namespace\n  }\n\n  // Plugin management.\n  //\n  // Pass it:\n  // *   an attacher and options,\n  // *   a preset,\n  // *   a list of presets, attachers, and arguments (list of attachers and\n  //     options).\n  function use(value) {\n    var settings\n\n    assertUnfrozen('use', frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin.apply(null, arguments)\n    } else if (typeof value === 'object') {\n      if ('length' in value) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new Error('Expected usable value, not `' + value + '`')\n    }\n\n    if (settings) {\n      namespace.settings = extend(namespace.settings || {}, settings)\n    }\n\n    return processor\n\n    function addPreset(result) {\n      addList(result.plugins)\n\n      if (result.settings) {\n        settings = extend(settings || {}, result.settings)\n      }\n    }\n\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value)\n      } else if (typeof value === 'object') {\n        if ('length' in value) {\n          addPlugin.apply(null, value)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new Error('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    function addList(plugins) {\n      var index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (typeof plugins === 'object' && 'length' in plugins) {\n        while (++index < plugins.length) {\n          add(plugins[index])\n        }\n      } else {\n        throw new Error('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    function addPlugin(plugin, value) {\n      var entry = find(plugin)\n\n      if (entry) {\n        if (plain(entry[1]) && plain(value)) {\n          value = extend(true, entry[1], value)\n        }\n\n        entry[1] = value\n      } else {\n        attachers.push(slice.call(arguments))\n      }\n    }\n  }\n\n  function find(plugin) {\n    var index = -1\n\n    while (++index < attachers.length) {\n      if (attachers[index][0] === plugin) {\n        return attachers[index]\n      }\n    }\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor.\n  function parse(doc) {\n    var file = vfile(doc)\n    var Parser\n\n    freeze()\n    Parser = processor.Parser\n    assertParser('parse', Parser)\n\n    if (newable(Parser, 'parse')) {\n      return new Parser(String(file), file).parse()\n    }\n\n    return Parser(String(file), file) // eslint-disable-line new-cap\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), async.\n  function run(node, file, cb) {\n    assertNode(node)\n    freeze()\n\n    if (!cb && typeof file === 'function') {\n      cb = file\n      file = null\n    }\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      transformers.run(node, vfile(file), done)\n\n      function done(error, tree, file) {\n        tree = tree || node\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(tree)\n        } else {\n          cb(null, tree, file)\n        }\n      }\n    }\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), sync.\n  function runSync(node, file) {\n    var result\n    var complete\n\n    run(node, file, done)\n\n    assertDone('runSync', 'run', complete)\n\n    return result\n\n    function done(error, tree) {\n      complete = true\n      result = tree\n      bail(error)\n    }\n  }\n\n  // Stringify a unist node representation of a file (in string or vfile\n  // representation) into a string using the `Compiler` on the processor.\n  function stringify(node, doc) {\n    var file = vfile(doc)\n    var Compiler\n\n    freeze()\n    Compiler = processor.Compiler\n    assertCompiler('stringify', Compiler)\n    assertNode(node)\n\n    if (newable(Compiler, 'compile')) {\n      return new Compiler(node, file).compile()\n    }\n\n    return Compiler(node, file) // eslint-disable-line new-cap\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor, then run transforms on that node, and\n  // compile the resulting node using the `Compiler` on the processor, and\n  // store that result on the vfile.\n  function process(doc, cb) {\n    freeze()\n    assertParser('process', processor.Parser)\n    assertCompiler('process', processor.Compiler)\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      var file = vfile(doc)\n\n      pipeline.run(processor, {file: file}, done)\n\n      function done(error) {\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          cb(null, file)\n        }\n      }\n    }\n  }\n\n  // Process the given document (in string or vfile representation), sync.\n  function processSync(doc) {\n    var file\n    var complete\n\n    freeze()\n    assertParser('processSync', processor.Parser)\n    assertCompiler('processSync', processor.Compiler)\n    file = vfile(doc)\n\n    process(file, done)\n\n    assertDone('processSync', 'process', complete)\n\n    return file\n\n    function done(error) {\n      complete = true\n      bail(error)\n    }\n  }\n}\n\n// Check if `value` is a constructor.\nfunction newable(value, name) {\n  return (\n    typeof value === 'function' &&\n    value.prototype &&\n    // A function with keys in its prototype is probably a constructor.\n    // Classes prototype methods are not enumerable, so we check if some value\n    // exists in the prototype.\n    (keys(value.prototype) || name in value.prototype)\n  )\n}\n\n// Check if `value` is an object with keys.\nfunction keys(value) {\n  var key\n  for (key in value) {\n    return true\n  }\n\n  return false\n}\n\n// Assert a parser is available.\nfunction assertParser(name, Parser) {\n  if (typeof Parser !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Parser`')\n  }\n}\n\n// Assert a compiler is available.\nfunction assertCompiler(name, Compiler) {\n  if (typeof Compiler !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Compiler`')\n  }\n}\n\n// Assert the processor is not frozen.\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot invoke `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n// Assert `node` is a unist node.\nfunction assertNode(node) {\n  if (!node || typeof node.type !== 'string') {\n    throw new Error('Expected node, got `' + node + '`')\n  }\n}\n\n// Assert that `complete` is `true`.\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = bail\n\nfunction bail(err) {\n  if (err) {\n    throw err\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict'\n\nvar wrap = require('./wrap.js')\n\nmodule.exports = trough\n\ntrough.wrap = wrap\n\nvar slice = [].slice\n\n// Create new middleware.\nfunction trough() {\n  var fns = []\n  var middleware = {}\n\n  middleware.run = run\n  middleware.use = use\n\n  return middleware\n\n  // Run `fns`.  Last argument must be a completion handler.\n  function run() {\n    var index = -1\n    var input = slice.call(arguments, 0, -1)\n    var done = arguments[arguments.length - 1]\n\n    if (typeof done !== 'function') {\n      throw new Error('Expected function as last argument, not ' + done)\n    }\n\n    next.apply(null, [null].concat(input))\n\n    // Run the next `fn`, if any.\n    function next(err) {\n      var fn = fns[++index]\n      var params = slice.call(arguments, 0)\n      var values = params.slice(1)\n      var length = input.length\n      var pos = -1\n\n      if (err) {\n        done(err)\n        return\n      }\n\n      // Copy non-nully input into values.\n      while (++pos < length) {\n        if (values[pos] === null || values[pos] === undefined) {\n          values[pos] = input[pos]\n        }\n      }\n\n      input = values\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next).apply(null, input)\n      } else {\n        done.apply(null, [null].concat(input))\n      }\n    }\n  }\n\n  // Add `fn` to the list.\n  function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected `fn` to be a function, not ' + fn)\n    }\n\n    fns.push(fn)\n\n    return middleware\n  }\n}\n","'use strict'\n\nvar slice = [].slice\n\nmodule.exports = wrap\n\n// Wrap `fn`.\n// Can be sync or async; return a promise, receive a completion handler, return\n// new values and errors.\nfunction wrap(fn, callback) {\n  var invoked\n\n  return wrapped\n\n  function wrapped() {\n    var params = slice.call(arguments, 0)\n    var callback = fn.length > params.length\n    var result\n\n    if (callback) {\n      params.push(done)\n    }\n\n    try {\n      result = fn.apply(null, params)\n    } catch (error) {\n      // Well, this is quite the pickle.\n      // `fn` received a callback and invoked it (thus continuing the pipeline),\n      // but later also threw an error.\n      // Were not about to restart the pipeline again, so the only thing left\n      // to do is to throw the thing instead.\n      if (callback && invoked) {\n        throw error\n      }\n\n      return done(error)\n    }\n\n    if (!callback) {\n      if (result && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  // Invoke `next`, only once.\n  function done() {\n    if (!invoked) {\n      invoked = true\n\n      callback.apply(null, arguments)\n    }\n  }\n\n  // Invoke `done` with one value.\n  // Tracks if an error is passed, too.\n  function then(value) {\n    done(null, value)\n  }\n}\n","'use strict'\n\nmodule.exports = require('./lib')\n","'use strict'\n\nvar VMessage = require('vfile-message')\nvar VFile = require('./core.js')\n\nmodule.exports = VFile\n\nVFile.prototype.message = message\nVFile.prototype.info = info\nVFile.prototype.fail = fail\n\n// Create a message with `reason` at `position`.\n// When an error is passed in as `reason`, copies the stack.\nfunction message(reason, position, origin) {\n  var message = new VMessage(reason, position, origin)\n\n  if (this.path) {\n    message.name = this.path + ':' + message.name\n    message.file = this.path\n  }\n\n  message.fatal = false\n\n  this.messages.push(message)\n\n  return message\n}\n\n// Fail: creates a vmessage, associates it with the file, and throws it.\nfunction fail() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = true\n\n  throw message\n}\n\n// Info: creates a vmessage, associates it with the file, and marks the fatality\n// as null.\nfunction info() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = null\n\n  return message\n}\n","'use strict'\n\nvar stringify = require('unist-util-stringify-position')\n\nmodule.exports = VMessage\n\n// Inherit from `Error#`.\nfunction VMessagePrototype() {}\nVMessagePrototype.prototype = Error.prototype\nVMessage.prototype = new VMessagePrototype()\n\n// Message properties.\nvar proto = VMessage.prototype\n\nproto.file = ''\nproto.name = ''\nproto.reason = ''\nproto.message = ''\nproto.stack = ''\nproto.fatal = null\nproto.column = null\nproto.line = null\n\n// Construct a new VMessage.\n//\n// Note: We cannot invoke `Error` on the created context, as that adds readonly\n// `line` and `column` attributes on Safari 9, thus throwing and failing the\n// data.\nfunction VMessage(reason, position, origin) {\n  var parts\n  var range\n  var location\n\n  if (typeof position === 'string') {\n    origin = position\n    position = null\n  }\n\n  parts = parseOrigin(origin)\n  range = stringify(position) || '1:1'\n\n  location = {\n    start: {line: null, column: null},\n    end: {line: null, column: null}\n  }\n\n  // Node.\n  if (position && position.position) {\n    position = position.position\n  }\n\n  if (position) {\n    // Position.\n    if (position.start) {\n      location = position\n      position = position.start\n    } else {\n      // Point.\n      location.start = position\n    }\n  }\n\n  if (reason.stack) {\n    this.stack = reason.stack\n    reason = reason.message\n  }\n\n  this.message = reason\n  this.name = range\n  this.reason = reason\n  this.line = position ? position.line : null\n  this.column = position ? position.column : null\n  this.location = location\n  this.source = parts[0]\n  this.ruleId = parts[1]\n}\n\nfunction parseOrigin(origin) {\n  var result = [null, null]\n  var index\n\n  if (typeof origin === 'string') {\n    index = origin.indexOf(':')\n\n    if (index === -1) {\n      result[1] = origin\n    } else {\n      result[0] = origin.slice(0, index)\n      result[1] = origin.slice(index + 1)\n    }\n  }\n\n  return result\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","'use strict'\n\nvar p = require('./minpath')\nvar proc = require('./minproc')\nvar buffer = require('is-buffer')\n\nmodule.exports = VFile\n\nvar own = {}.hasOwnProperty\n\n// Order of setting (least specific to most), we need this because otherwise\n// `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n// stem can be set.\nvar order = ['history', 'path', 'basename', 'stem', 'extname', 'dirname']\n\nVFile.prototype.toString = toString\n\n// Access full path (`~/index.min.js`).\nObject.defineProperty(VFile.prototype, 'path', {get: getPath, set: setPath})\n\n// Access parent path (`~`).\nObject.defineProperty(VFile.prototype, 'dirname', {\n  get: getDirname,\n  set: setDirname\n})\n\n// Access basename (`index.min.js`).\nObject.defineProperty(VFile.prototype, 'basename', {\n  get: getBasename,\n  set: setBasename\n})\n\n// Access extname (`.js`).\nObject.defineProperty(VFile.prototype, 'extname', {\n  get: getExtname,\n  set: setExtname\n})\n\n// Access stem (`index.min`).\nObject.defineProperty(VFile.prototype, 'stem', {get: getStem, set: setStem})\n\n// Construct a new file.\nfunction VFile(options) {\n  var prop\n  var index\n\n  if (!options) {\n    options = {}\n  } else if (typeof options === 'string' || buffer(options)) {\n    options = {contents: options}\n  } else if ('message' in options && 'messages' in options) {\n    return options\n  }\n\n  if (!(this instanceof VFile)) {\n    return new VFile(options)\n  }\n\n  this.data = {}\n  this.messages = []\n  this.history = []\n  this.cwd = proc.cwd()\n\n  // Set path related properties in the correct order.\n  index = -1\n\n  while (++index < order.length) {\n    prop = order[index]\n\n    if (own.call(options, prop)) {\n      this[prop] = options[prop]\n    }\n  }\n\n  // Set non-path related properties.\n  for (prop in options) {\n    if (order.indexOf(prop) < 0) {\n      this[prop] = options[prop]\n    }\n  }\n}\n\nfunction getPath() {\n  return this.history[this.history.length - 1]\n}\n\nfunction setPath(path) {\n  assertNonEmpty(path, 'path')\n\n  if (this.path !== path) {\n    this.history.push(path)\n  }\n}\n\nfunction getDirname() {\n  return typeof this.path === 'string' ? p.dirname(this.path) : undefined\n}\n\nfunction setDirname(dirname) {\n  assertPath(this.path, 'dirname')\n  this.path = p.join(dirname || '', this.basename)\n}\n\nfunction getBasename() {\n  return typeof this.path === 'string' ? p.basename(this.path) : undefined\n}\n\nfunction setBasename(basename) {\n  assertNonEmpty(basename, 'basename')\n  assertPart(basename, 'basename')\n  this.path = p.join(this.dirname || '', basename)\n}\n\nfunction getExtname() {\n  return typeof this.path === 'string' ? p.extname(this.path) : undefined\n}\n\nfunction setExtname(extname) {\n  assertPart(extname, 'extname')\n  assertPath(this.path, 'extname')\n\n  if (extname) {\n    if (extname.charCodeAt(0) !== 46 /* `.` */) {\n      throw new Error('`extname` must start with `.`')\n    }\n\n    if (extname.indexOf('.', 1) > -1) {\n      throw new Error('`extname` cannot contain multiple dots')\n    }\n  }\n\n  this.path = p.join(this.dirname, this.stem + (extname || ''))\n}\n\nfunction getStem() {\n  return typeof this.path === 'string'\n    ? p.basename(this.path, this.extname)\n    : undefined\n}\n\nfunction setStem(stem) {\n  assertNonEmpty(stem, 'stem')\n  assertPart(stem, 'stem')\n  this.path = p.join(this.dirname || '', stem + (this.extname || ''))\n}\n\n// Get the value of the file.\nfunction toString(encoding) {\n  return (this.contents || '').toString(encoding)\n}\n\n// Assert that `part` is not a path (i.e., does not contain `p.sep`).\nfunction assertPart(part, name) {\n  if (part && part.indexOf(p.sep) > -1) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + p.sep + '`'\n    )\n  }\n}\n\n// Assert that `part` is not empty.\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n// Assert `path` exists.\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n","'use strict'\n\n// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexports.basename = basename\nexports.dirname = dirname\nexports.extname = extname\nexports.join = join\nexports.sep = '/'\n\nfunction basename(path, ext) {\n  var start = 0\n  var end = -1\n  var index\n  var firstNonSlashEnd\n  var seenNonSlash\n  var extIndex\n\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  index = path.length\n\n  if (ext === undefined || !ext.length || ext.length > path.length) {\n    while (index--) {\n      if (path.charCodeAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  firstNonSlashEnd = -1\n  extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.charCodeAt(index) === ext.charCodeAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\nfunction dirname(path) {\n  var end\n  var unmatchedSlash\n  var index\n\n  assertPath(path)\n\n  if (!path.length) {\n    return '.'\n  }\n\n  end = -1\n  index = path.length\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.charCodeAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.charCodeAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\nfunction extname(path) {\n  var startDot = -1\n  var startPart = 0\n  var end = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  var preDotState = 0\n  var unmatchedSlash\n  var code\n  var index\n\n  assertPath(path)\n\n  index = path.length\n\n  while (index--) {\n    code = path.charCodeAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\nfunction join() {\n  var index = -1\n  var joined\n\n  while (++index < arguments.length) {\n    assertPath(arguments[index])\n\n    if (arguments[index]) {\n      joined =\n        joined === undefined\n          ? arguments[index]\n          : joined + '/' + arguments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  var absolute\n  var value\n\n  assertPath(path)\n\n  absolute = path.charCodeAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  value = normalizeString(path, !absolute)\n\n  if (!value.length && !absolute) {\n    value = '.'\n  }\n\n  if (value.length && path.charCodeAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n// Resolve `.` and `..` elements in a path with directory names.\nfunction normalizeString(path, allowAboveRoot) {\n  var result = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var index = -1\n  var code\n  var lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.charCodeAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.charCodeAt(result.length - 1) !== 46 /* `.` */ ||\n          result.charCodeAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            /* istanbul ignore else - No clue how to cover it. */\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n","'use strict'\n\n// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexports.cwd = cwd\n\nfunction cwd() {\n  return '/'\n}\n","'use strict'\n\nmodule.exports = parse\n\nvar fromMarkdown = require('mdast-util-from-markdown')\n\nfunction parse(options) {\n  var self = this\n\n  this.Parser = parse\n\n  function parse(doc) {\n    return fromMarkdown(\n      doc,\n      Object.assign({}, self.data('settings'), options, {\n        // Note: these options are not in the readme.\n        // The goal is for them to be set by plugins on `data` instead of being\n        // passed by users.\n        extensions: self.data('micromarkExtensions') || [],\n        mdastExtensions: self.data('fromMarkdownExtensions') || []\n      })\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = require('./dist')\n","'use strict'\n\nmodule.exports = fromMarkdown\n\n// These three are compiled away in the `dist/`\n\nvar toString = require('mdast-util-to-string')\nvar assign = require('micromark/dist/constant/assign')\nvar own = require('micromark/dist/constant/has-own-property')\nvar normalizeIdentifier = require('micromark/dist/util/normalize-identifier')\nvar safeFromInt = require('micromark/dist/util/safe-from-int')\nvar parser = require('micromark/dist/parse')\nvar preprocessor = require('micromark/dist/preprocess')\nvar postprocess = require('micromark/dist/postprocess')\nvar decode = require('parse-entities/decode-entity')\nvar stringifyPosition = require('unist-util-stringify-position')\n\nfunction fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding\n    encoding = undefined\n  }\n\n  return compiler(options)(\n    postprocess(\n      parser(options).document().write(preprocessor()(value, encoding, true))\n    )\n  )\n}\n\n// Note this compiler only understand complete buffering, not streaming.\nfunction compiler(options) {\n  var settings = options || {}\n  var config = configure(\n    {\n      transforms: [],\n      canContainEols: [\n        'emphasis',\n        'fragment',\n        'heading',\n        'paragraph',\n        'strong'\n      ],\n\n      enter: {\n        autolink: opener(link),\n        autolinkProtocol: onenterdata,\n        autolinkEmail: onenterdata,\n        atxHeading: opener(heading),\n        blockQuote: opener(blockQuote),\n        characterEscape: onenterdata,\n        characterReference: onenterdata,\n        codeFenced: opener(codeFlow),\n        codeFencedFenceInfo: buffer,\n        codeFencedFenceMeta: buffer,\n        codeIndented: opener(codeFlow, buffer),\n        codeText: opener(codeText, buffer),\n        codeTextData: onenterdata,\n        data: onenterdata,\n        codeFlowValue: onenterdata,\n        definition: opener(definition),\n        definitionDestinationString: buffer,\n        definitionLabelString: buffer,\n        definitionTitleString: buffer,\n        emphasis: opener(emphasis),\n        hardBreakEscape: opener(hardBreak),\n        hardBreakTrailing: opener(hardBreak),\n        htmlFlow: opener(html, buffer),\n        htmlFlowData: onenterdata,\n        htmlText: opener(html, buffer),\n        htmlTextData: onenterdata,\n        image: opener(image),\n        label: buffer,\n        link: opener(link),\n        listItem: opener(listItem),\n        listItemValue: onenterlistitemvalue,\n        listOrdered: opener(list, onenterlistordered),\n        listUnordered: opener(list),\n        paragraph: opener(paragraph),\n        reference: onenterreference,\n        referenceString: buffer,\n        resourceDestinationString: buffer,\n        resourceTitleString: buffer,\n        setextHeading: opener(heading),\n        strong: opener(strong),\n        thematicBreak: opener(thematicBreak)\n      },\n\n      exit: {\n        atxHeading: closer(),\n        atxHeadingSequence: onexitatxheadingsequence,\n        autolink: closer(),\n        autolinkEmail: onexitautolinkemail,\n        autolinkProtocol: onexitautolinkprotocol,\n        blockQuote: closer(),\n        characterEscapeValue: onexitdata,\n        characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n        characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n        characterReferenceValue: onexitcharacterreferencevalue,\n        codeFenced: closer(onexitcodefenced),\n        codeFencedFence: onexitcodefencedfence,\n        codeFencedFenceInfo: onexitcodefencedfenceinfo,\n        codeFencedFenceMeta: onexitcodefencedfencemeta,\n        codeFlowValue: onexitdata,\n        codeIndented: closer(onexitcodeindented),\n        codeText: closer(onexitcodetext),\n        codeTextData: onexitdata,\n        data: onexitdata,\n        definition: closer(),\n        definitionDestinationString: onexitdefinitiondestinationstring,\n        definitionLabelString: onexitdefinitionlabelstring,\n        definitionTitleString: onexitdefinitiontitlestring,\n        emphasis: closer(),\n        hardBreakEscape: closer(onexithardbreak),\n        hardBreakTrailing: closer(onexithardbreak),\n        htmlFlow: closer(onexithtmlflow),\n        htmlFlowData: onexitdata,\n        htmlText: closer(onexithtmltext),\n        htmlTextData: onexitdata,\n        image: closer(onexitimage),\n        label: onexitlabel,\n        labelText: onexitlabeltext,\n        lineEnding: onexitlineending,\n        link: closer(onexitlink),\n        listItem: closer(),\n        listOrdered: closer(),\n        listUnordered: closer(),\n        paragraph: closer(),\n        referenceString: onexitreferencestring,\n        resourceDestinationString: onexitresourcedestinationstring,\n        resourceTitleString: onexitresourcetitlestring,\n        resource: onexitresource,\n        setextHeading: closer(onexitsetextheading),\n        setextHeadingLineSequence: onexitsetextheadinglinesequence,\n        setextHeadingText: onexitsetextheadingtext,\n        strong: closer(),\n        thematicBreak: closer()\n      }\n    },\n\n    settings.mdastExtensions || []\n  )\n\n  var data = {}\n\n  return compile\n\n  function compile(events) {\n    var tree = {type: 'root', children: []}\n    var stack = [tree]\n    var tokenStack = []\n    var listStack = []\n    var index = -1\n    var handler\n    var listStart\n\n    var context = {\n      stack: stack,\n      tokenStack: tokenStack,\n      config: config,\n      enter: enter,\n      exit: exit,\n      buffer: buffer,\n      resume: resume,\n      setData: setData,\n      getData: getData\n    }\n\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (\n        events[index][1].type === 'listOrdered' ||\n        events[index][1].type === 'listUnordered'\n      ) {\n        if (events[index][0] === 'enter') {\n          listStack.push(index)\n        } else {\n          listStart = listStack.pop(index)\n          index = prepareList(events, listStart, index)\n        }\n      }\n    }\n\n    index = -1\n\n    while (++index < events.length) {\n      handler = config[events[index][0]]\n\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(\n          assign({sliceSerialize: events[index][2].sliceSerialize}, context),\n          events[index][1]\n        )\n      }\n    }\n\n    if (tokenStack.length) {\n      throw new Error(\n        'Cannot close document, a token (`' +\n          tokenStack[tokenStack.length - 1].type +\n          '`, ' +\n          stringifyPosition({\n            start: tokenStack[tokenStack.length - 1].start,\n            end: tokenStack[tokenStack.length - 1].end\n          }) +\n          ') is still open'\n      )\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(\n        events.length ? events[0][1].start : {line: 1, column: 1, offset: 0}\n      ),\n\n      end: point(\n        events.length\n          ? events[events.length - 2][1].end\n          : {line: 1, column: 1, offset: 0}\n      )\n    }\n\n    index = -1\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree\n    }\n\n    return tree\n  }\n\n  function prepareList(events, start, length) {\n    var index = start - 1\n    var containerBalance = -1\n    var listSpread = false\n    var listItem\n    var tailIndex\n    var lineIndex\n    var tailEvent\n    var event\n    var firstBlankLineIndex\n    var atMarker\n\n    while (++index <= length) {\n      event = events[index]\n\n      if (\n        event[1].type === 'listUnordered' ||\n        event[1].type === 'listOrdered' ||\n        event[1].type === 'blockQuote'\n      ) {\n        if (event[0] === 'enter') {\n          containerBalance++\n        } else {\n          containerBalance--\n        }\n\n        atMarker = undefined\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (\n            listItem &&\n            !atMarker &&\n            !containerBalance &&\n            !firstBlankLineIndex\n          ) {\n            firstBlankLineIndex = index\n          }\n\n          atMarker = undefined\n        }\n      } else if (\n        event[1].type === 'linePrefix' ||\n        event[1].type === 'listItemValue' ||\n        event[1].type === 'listItemMarker' ||\n        event[1].type === 'listItemPrefix' ||\n        event[1].type === 'listItemPrefixWhitespace'\n      ) {\n        // Empty.\n      } else {\n        atMarker = undefined\n      }\n\n      if (\n        (!containerBalance &&\n          event[0] === 'enter' &&\n          event[1].type === 'listItemPrefix') ||\n        (containerBalance === -1 &&\n          event[0] === 'exit' &&\n          (event[1].type === 'listUnordered' ||\n            event[1].type === 'listOrdered'))\n      ) {\n        if (listItem) {\n          tailIndex = index\n          lineIndex = undefined\n\n          while (tailIndex--) {\n            tailEvent = events[tailIndex]\n\n            if (\n              tailEvent[1].type === 'lineEnding' ||\n              tailEvent[1].type === 'lineEndingBlank'\n            ) {\n              if (tailEvent[0] === 'exit') continue\n\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank'\n                listSpread = true\n              }\n\n              tailEvent[1].type = 'lineEnding'\n              lineIndex = tailIndex\n            } else if (\n              tailEvent[1].type === 'linePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefixWhitespace' ||\n              tailEvent[1].type === 'blockQuoteMarker' ||\n              tailEvent[1].type === 'listItemIndent'\n            ) {\n              // Empty\n            } else {\n              break\n            }\n          }\n\n          if (\n            firstBlankLineIndex &&\n            (!lineIndex || firstBlankLineIndex < lineIndex)\n          ) {\n            listItem._spread = true\n          }\n\n          // Fix position.\n          listItem.end = point(\n            lineIndex ? events[lineIndex][1].start : event[1].end\n          )\n\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]])\n          index++\n          length++\n        }\n\n        // Create a new list item.\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: point(event[1].start)\n          }\n\n          events.splice(index, 0, ['enter', listItem, event[2]])\n          index++\n          length++\n          firstBlankLineIndex = undefined\n          atMarker = true\n        }\n      }\n    }\n\n    events[start][1]._spread = listSpread\n    return length\n  }\n\n  function setData(key, value) {\n    data[key] = value\n  }\n\n  function getData(key) {\n    return data[key]\n  }\n\n  function point(d) {\n    return {line: d.line, column: d.column, offset: d.offset}\n  }\n\n  function opener(create, and) {\n    return open\n\n    function open(token) {\n      enter.call(this, create(token), token)\n      if (and) and.call(this, token)\n    }\n  }\n\n  function buffer() {\n    this.stack.push({type: 'fragment', children: []})\n  }\n\n  function enter(node, token) {\n    this.stack[this.stack.length - 1].children.push(node)\n    this.stack.push(node)\n    this.tokenStack.push(token)\n    node.position = {start: point(token.start)}\n    return node\n  }\n\n  function closer(and) {\n    return close\n\n    function close(token) {\n      if (and) and.call(this, token)\n      exit.call(this, token)\n    }\n  }\n\n  function exit(token) {\n    var node = this.stack.pop()\n    var open = this.tokenStack.pop()\n\n    if (!open) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): its not open'\n      )\n    } else if (open.type !== token.type) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): a different token (`' +\n          open.type +\n          '`, ' +\n          stringifyPosition({start: open.start, end: open.end}) +\n          ') is open'\n      )\n    }\n\n    node.position.end = point(token.end)\n    return node\n  }\n\n  function resume() {\n    return toString(this.stack.pop())\n  }\n\n  //\n  // Handlers.\n  //\n\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true)\n  }\n\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      this.stack[this.stack.length - 2].start = parseInt(\n        this.sliceSerialize(token),\n        10\n      )\n\n      setData('expectingFirstListItemValue')\n    }\n  }\n\n  function onexitcodefencedfenceinfo() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].lang = data\n  }\n\n  function onexitcodefencedfencemeta() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].meta = data\n  }\n\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return\n    this.buffer()\n    setData('flowCodeInside', true)\n  }\n\n  function onexitcodefenced() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data.replace(\n      /^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g,\n      ''\n    )\n\n    setData('flowCodeInside')\n  }\n\n  function onexitcodeindented() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitdefinitionlabelstring(token) {\n    // Discard label, use the source content instead.\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitdefinitiontitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitdefinitiondestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitatxheadingsequence(token) {\n    if (!this.stack[this.stack.length - 1].depth) {\n      this.stack[this.stack.length - 1].depth = this.sliceSerialize(\n        token\n      ).length\n    }\n  }\n\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true)\n  }\n\n  function onexitsetextheadinglinesequence(token) {\n    this.stack[this.stack.length - 1].depth =\n      this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2\n  }\n\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding')\n  }\n\n  function onenterdata(token) {\n    var siblings = this.stack[this.stack.length - 1].children\n    var tail = siblings[siblings.length - 1]\n\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text()\n      tail.position = {start: point(token.start)}\n      this.stack[this.stack.length - 1].children.push(tail)\n    }\n\n    this.stack.push(tail)\n  }\n\n  function onexitdata(token) {\n    var tail = this.stack.pop()\n    tail.value += this.sliceSerialize(token)\n    tail.position.end = point(token.end)\n  }\n\n  function onexitlineending(token) {\n    var context = this.stack[this.stack.length - 1]\n\n    // If were at a hard break, include the line ending in there.\n    if (getData('atHardBreak')) {\n      context.children[context.children.length - 1].position.end = point(\n        token.end\n      )\n\n      setData('atHardBreak')\n      return\n    }\n\n    if (\n      !getData('setextHeadingSlurpLineEnding') &&\n      config.canContainEols.indexOf(context.type) > -1\n    ) {\n      onenterdata.call(this, token)\n      onexitdata.call(this, token)\n    }\n  }\n\n  function onexithardbreak() {\n    setData('atHardBreak', true)\n  }\n\n  function onexithtmlflow() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexithtmltext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitcodetext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitlink() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitimage() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitlabeltext(token) {\n    this.stack[this.stack.length - 2].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitlabel() {\n    var fragment = this.stack[this.stack.length - 1]\n    var value = this.resume()\n\n    this.stack[this.stack.length - 1].label = value\n\n    // Assume a reference.\n    setData('inReference', true)\n\n    if (this.stack[this.stack.length - 1].type === 'link') {\n      this.stack[this.stack.length - 1].children = fragment.children\n    } else {\n      this.stack[this.stack.length - 1].alt = value\n    }\n  }\n\n  function onexitresourcedestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitresourcetitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitresource() {\n    setData('inReference')\n  }\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed')\n  }\n\n  function onexitreferencestring(token) {\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n    setData('referenceType', 'full')\n  }\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type)\n  }\n\n  function onexitcharacterreferencevalue(token) {\n    var data = this.sliceSerialize(token)\n    var type = getData('characterReferenceType')\n    var value\n    var tail\n\n    if (type) {\n      value = safeFromInt(\n        data,\n        type === 'characterReferenceMarkerNumeric' ? 10 : 16\n      )\n\n      setData('characterReferenceType')\n    } else {\n      value = decode(data)\n    }\n\n    tail = this.stack.pop()\n    tail.value += value\n    tail.position.end = point(token.end)\n  }\n\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url = this.sliceSerialize(token)\n  }\n\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url =\n      'mailto:' + this.sliceSerialize(token)\n  }\n\n  //\n  // Creaters.\n  //\n\n  function blockQuote() {\n    return {type: 'blockquote', children: []}\n  }\n\n  function codeFlow() {\n    return {type: 'code', lang: null, meta: null, value: ''}\n  }\n\n  function codeText() {\n    return {type: 'inlineCode', value: ''}\n  }\n\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    }\n  }\n\n  function emphasis() {\n    return {type: 'emphasis', children: []}\n  }\n\n  function heading() {\n    return {type: 'heading', depth: undefined, children: []}\n  }\n\n  function hardBreak() {\n    return {type: 'break'}\n  }\n\n  function html() {\n    return {type: 'html', value: ''}\n  }\n\n  function image() {\n    return {type: 'image', title: null, url: '', alt: null}\n  }\n\n  function link() {\n    return {type: 'link', title: null, url: '', children: []}\n  }\n\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    }\n  }\n\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    }\n  }\n\n  function paragraph() {\n    return {type: 'paragraph', children: []}\n  }\n\n  function strong() {\n    return {type: 'strong', children: []}\n  }\n\n  function text() {\n    return {type: 'text', value: ''}\n  }\n\n  function thematicBreak() {\n    return {type: 'thematicBreak'}\n  }\n}\n\nfunction configure(config, extensions) {\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, extension[key])\n    } else {\n      Object.assign(left, extension[key])\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = toString\n\n// Get the text content of a node.\n// Prefer the nodes plain-text fields, otherwise serialize its children,\n// and if the given value is an array, serialize the nodes in it.\nfunction toString(node) {\n  return (\n    (node &&\n      (node.value ||\n        node.alt ||\n        node.title ||\n        ('children' in node && all(node.children)) ||\n        ('length' in node && all(node)))) ||\n    ''\n  )\n}\n\nfunction all(values) {\n  var result = []\n  var index = -1\n\n  while (++index < values.length) {\n    result[index] = toString(values[index])\n  }\n\n  return result.join('')\n}\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction safeFromInt(value, base) {\n  var code = parseInt(value, base)\n\n  if (\n    // C0 except for HT, LF, FF, CR, space\n    code < 9 ||\n    code === 11 ||\n    (code > 13 && code < 32) || // Control character (DEL) of the basic block and C1 controls.\n    (code > 126 && code < 160) || // Lone high surrogates and low surrogates.\n    (code > 55295 && code < 57344) || // Noncharacters.\n    (code > 64975 && code < 65008) ||\n    (code & 65535) === 65535 ||\n    (code & 65535) === 65534 || // Out of range\n    code > 1114111\n  ) {\n    return '\\uFFFD'\n  }\n\n  return fromCharCode(code)\n}\n\nmodule.exports = safeFromInt\n","'use strict'\n\nvar content = require('./initialize/content.js')\nvar document = require('./initialize/document.js')\nvar flow = require('./initialize/flow.js')\nvar text = require('./initialize/text.js')\nvar combineExtensions = require('./util/combine-extensions.js')\nvar createTokenizer = require('./util/create-tokenizer.js')\nvar miniflat = require('./util/miniflat.js')\nvar constructs = require('./constructs.js')\n\nfunction parse(options) {\n  var settings = options || {}\n  var parser = {\n    defined: [],\n    constructs: combineExtensions(\n      [constructs].concat(miniflat(settings.extensions))\n    ),\n    content: create(content),\n    document: create(document),\n    flow: create(flow),\n    string: create(text.string),\n    text: create(text.text)\n  }\n  return parser\n\n  function create(initializer) {\n    return creator\n\n    function creator(from) {\n      return createTokenizer(parser, initializer, from)\n    }\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\n\nvar tokenize = initializeContent\n\nfunction initializeContent(effects) {\n  var contentStart = effects.attempt(\n    this.parser.constructs.contentInitial,\n    afterContentStartConstruct,\n    paragraphInitial\n  )\n  var previous\n  return contentStart\n\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, contentStart, 'linePrefix')\n  }\n\n  function paragraphInitial(code) {\n    effects.enter('paragraph')\n    return lineStart(code)\n  }\n\n  function lineStart(code) {\n    var token = effects.enter('chunkText', {\n      contentType: 'text',\n      previous: previous\n    })\n\n    if (previous) {\n      previous.next = token\n    }\n\n    previous = token\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      effects.exit('chunkText')\n      effects.exit('paragraph')\n      effects.consume(code)\n      return\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      effects.exit('chunkText')\n      return lineStart\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeDocument\nvar containerConstruct = {\n  tokenize: tokenizeContainer\n}\nvar lazyFlowConstruct = {\n  tokenize: tokenizeLazyFlow\n}\n\nfunction initializeDocument(effects) {\n  var self = this\n  var stack = []\n  var continued = 0\n  var inspectConstruct = {\n    tokenize: tokenizeInspect,\n    partial: true\n  }\n  var inspectResult\n  var childFlow\n  var childToken\n  return start\n\n  function start(code) {\n    if (continued < stack.length) {\n      self.containerState = stack[continued][1]\n      return effects.attempt(\n        stack[continued][0].continuation,\n        documentContinue,\n        documentContinued\n      )(code)\n    }\n\n    return documentContinued(code)\n  }\n\n  function documentContinue(code) {\n    continued++\n    return start(code)\n  }\n\n  function documentContinued(code) {\n    // If were in a concrete construct (such as when expecting another line of\n    // HTML, or we resulted in lazy content), we can immediately start flow.\n    if (inspectResult && inspectResult.flowContinue) {\n      return flowStart(code)\n    }\n\n    self.interrupt =\n      childFlow &&\n      childFlow.currentConstruct &&\n      childFlow.currentConstruct.interruptible\n    self.containerState = {}\n    return effects.attempt(\n      containerConstruct,\n      containerContinue,\n      flowStart\n    )(code)\n  }\n\n  function containerContinue(code) {\n    stack.push([self.currentConstruct, self.containerState])\n    self.containerState = undefined\n    return documentContinued(code)\n  }\n\n  function flowStart(code) {\n    if (code === null) {\n      exitContainers(0, true)\n      effects.consume(code)\n      return\n    }\n\n    childFlow = childFlow || self.parser.flow(self.now())\n    effects.enter('chunkFlow', {\n      contentType: 'flow',\n      previous: childToken,\n      _tokenizer: childFlow\n    })\n    return flowContinue(code)\n  }\n\n  function flowContinue(code) {\n    if (code === null) {\n      continueFlow(effects.exit('chunkFlow'))\n      return flowStart(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      continueFlow(effects.exit('chunkFlow'))\n      return effects.check(inspectConstruct, documentAfterPeek)\n    }\n\n    effects.consume(code)\n    return flowContinue\n  }\n\n  function documentAfterPeek(code) {\n    exitContainers(\n      inspectResult.continued,\n      inspectResult && inspectResult.flowEnd\n    )\n    continued = 0\n    return start(code)\n  }\n\n  function continueFlow(token) {\n    if (childToken) childToken.next = token\n    childToken = token\n    childFlow.lazy = inspectResult && inspectResult.lazy\n    childFlow.defineSkip(token.start)\n    childFlow.write(self.sliceStream(token))\n  }\n\n  function exitContainers(size, end) {\n    var index = stack.length // Close the flow.\n\n    if (childFlow && end) {\n      childFlow.write([null])\n      childToken = childFlow = undefined\n    } // Exit open containers.\n\n    while (index-- > size) {\n      self.containerState = stack[index][1]\n      stack[index][0].exit.call(self, effects)\n    }\n\n    stack.length = size\n  }\n\n  function tokenizeInspect(effects, ok) {\n    var subcontinued = 0\n    inspectResult = {}\n    return inspectStart\n\n    function inspectStart(code) {\n      if (subcontinued < stack.length) {\n        self.containerState = stack[subcontinued][1]\n        return effects.attempt(\n          stack[subcontinued][0].continuation,\n          inspectContinue,\n          inspectLess\n        )(code)\n      } // If were continued but in a concrete flow, we cant have more\n      // containers.\n\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        inspectResult.flowContinue = true\n        return inspectDone(code)\n      }\n\n      self.interrupt =\n        childFlow.currentConstruct && childFlow.currentConstruct.interruptible\n      self.containerState = {}\n      return effects.attempt(\n        containerConstruct,\n        inspectFlowEnd,\n        inspectDone\n      )(code)\n    }\n\n    function inspectContinue(code) {\n      subcontinued++\n      return self.containerState._closeFlow\n        ? inspectFlowEnd(code)\n        : inspectStart(code)\n    }\n\n    function inspectLess(code) {\n      if (childFlow.currentConstruct && childFlow.currentConstruct.lazy) {\n        // Maybe another container?\n        self.containerState = {}\n        return effects.attempt(\n          containerConstruct,\n          inspectFlowEnd, // Maybe flow, or a blank line?\n          effects.attempt(\n            lazyFlowConstruct,\n            inspectFlowEnd,\n            effects.check(partialBlankLine, inspectFlowEnd, inspectLazy)\n          )\n        )(code)\n      } // Otherwise were interrupting.\n\n      return inspectFlowEnd(code)\n    }\n\n    function inspectLazy(code) {\n      // Act as if all containers are continued.\n      subcontinued = stack.length\n      inspectResult.lazy = true\n      inspectResult.flowContinue = true\n      return inspectDone(code)\n    } // Were done with flow if we have more containers, or an interruption.\n\n    function inspectFlowEnd(code) {\n      inspectResult.flowEnd = true\n      return inspectDone(code)\n    }\n\n    function inspectDone(code) {\n      inspectResult.continued = subcontinued\n      self.interrupt = self.containerState = undefined\n      return ok(code)\n    }\n  }\n}\n\nfunction tokenizeContainer(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(this.parser.constructs.document, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction tokenizeLazyFlow(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.lazy(this.parser.constructs.flow, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar content = require('../tokenize/content.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeFlow\n\nfunction initializeFlow(effects) {\n  var self = this\n  var initial = effects.attempt(\n    // Try to parse a blank line.\n    partialBlankLine,\n    atBlankEnding, // Try to parse initial flow (essentially, only code).\n    effects.attempt(\n      this.parser.constructs.flowInitial,\n      afterConstruct,\n      factorySpace(\n        effects,\n        effects.attempt(\n          this.parser.constructs.flow,\n          afterConstruct,\n          effects.attempt(content, afterConstruct)\n        ),\n        'linePrefix'\n      )\n    )\n  )\n  return initial\n\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    self.currentConstruct = undefined\n    return initial\n  }\n\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    self.currentConstruct = undefined\n    return initial\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar subtokenize = require('../util/subtokenize.js')\nvar factorySpace = require('./factory-space.js')\n\n// No name because it must not be turned off.\nvar content = {\n  tokenize: tokenizeContent,\n  resolve: resolveContent,\n  interruptible: true,\n  lazy: true\n}\nvar continuationConstruct = {\n  tokenize: tokenizeContinuation,\n  partial: true\n} // Content is transparent: its parsed right now. That way, definitions are also\n// parsed right now: before text in paragraphs (specifically, media) are parsed.\n\nfunction resolveContent(events) {\n  subtokenize(events)\n  return events\n}\n\nfunction tokenizeContent(effects, ok) {\n  var previous\n  return start\n\n  function start(code) {\n    effects.enter('content')\n    previous = effects.enter('chunkContent', {\n      contentType: 'content'\n    })\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      return contentEnd(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.check(\n        continuationConstruct,\n        contentContinue,\n        contentEnd\n      )(code)\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n\n  function contentEnd(code) {\n    effects.exit('chunkContent')\n    effects.exit('content')\n    return ok(code)\n  }\n\n  function contentContinue(code) {\n    effects.consume(code)\n    effects.exit('chunkContent')\n    previous = previous.next = effects.enter('chunkContent', {\n      contentType: 'content',\n      previous: previous\n    })\n    return data\n  }\n}\n\nfunction tokenizeContinuation(effects, ok, nok) {\n  var self = this\n  return startLookahead\n\n  function startLookahead(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, prefixed, 'linePrefix')\n  }\n\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    if (\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1 ||\n      prefixSize(self.events, 'linePrefix') < 4\n    ) {\n      return effects.interrupt(self.parser.constructs.flow, nok, ok)(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = content\n","'use strict'\n\nvar splice = [].splice\n\nmodule.exports = splice\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedPush = require('./chunked-push.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\nvar resolveAll = require('./resolve-all.js')\nvar serializeChunks = require('./serialize-chunks.js')\nvar shallow = require('./shallow.js')\nvar sliceChunks = require('./slice-chunks.js')\n\n// Create a tokenizer.\n// Tokenizers deal with one type of data (e.g., containers, flow, text).\n// The parser is the object dealing with it all.\n// `initialize` works like other constructs, except that only its `tokenize`\n// function is used, in which case it doesnt receive an `ok` or `nok`.\n// `from` can be given to set the point before the first character, although\n// when further lines are indented, they must be set with `defineSkip`.\nfunction createTokenizer(parser, initialize, from) {\n  var point = from\n    ? shallow(from)\n    : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }\n  var columnStart = {}\n  var resolveAllConstructs = []\n  var chunks = []\n  var stack = []\n\n  var effects = {\n    consume: consume,\n    enter: enter,\n    exit: exit,\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    }),\n    lazy: constructFactory(onsuccessfulcheck, {\n      lazy: true\n    })\n  } // State and tools for resolving and serializing.\n\n  var context = {\n    previous: null,\n    events: [],\n    parser: parser,\n    sliceStream: sliceStream,\n    sliceSerialize: sliceSerialize,\n    now: now,\n    defineSkip: skip,\n    write: write\n  } // The state function.\n\n  var state = initialize.tokenize.call(context, effects) // Track which character we expect to be consumed, to catch bugs.\n\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize)\n  } // Store where we are in the input stream.\n\n  point._index = 0\n  point._bufferIndex = -1\n  return context\n\n  function write(slice) {\n    chunks = chunkedPush(chunks, slice)\n    main() // Exit if were not done, resolve might change stuff.\n\n    if (chunks[chunks.length - 1] !== null) {\n      return []\n    }\n\n    addResult(initialize, 0) // Otherwise, resolve, and exit.\n\n    context.events = resolveAll(resolveAllConstructs, context.events, context)\n    return context.events\n  } //\n  // Tools.\n  //\n\n  function sliceSerialize(token) {\n    return serializeChunks(sliceStream(token))\n  }\n\n  function sliceStream(token) {\n    return sliceChunks(chunks, token)\n  }\n\n  function now() {\n    return shallow(point)\n  }\n\n  function skip(value) {\n    columnStart[value.line] = value.column\n    accountForPotentialSkip()\n  } //\n  // State management.\n  //\n  // Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n  // `consume`).\n  // Here is where we walk through the chunks, which either include strings of\n  // several characters, or numerical character codes.\n  // The reason to do this in a loop instead of a call is so the stack can\n  // drain.\n\n  function main() {\n    var chunkIndex\n    var chunk\n\n    while (point._index < chunks.length) {\n      chunk = chunks[point._index] // If were in a buffer chunk, loop through it.\n\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index\n\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0\n        }\n\n        while (\n          point._index === chunkIndex &&\n          point._bufferIndex < chunk.length\n        ) {\n          go(chunk.charCodeAt(point._bufferIndex))\n        }\n      } else {\n        go(chunk)\n      }\n    }\n  } // Deal with one code.\n\n  function go(code) {\n    state = state(code)\n  } // Move a character forward.\n\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++\n      point.column = 1\n      point.offset += code === -3 ? 2 : 1\n      accountForPotentialSkip()\n    } else if (code !== -1) {\n      point.column++\n      point.offset++\n    } // Not in a string chunk.\n\n    if (point._bufferIndex < 0) {\n      point._index++\n    } else {\n      point._bufferIndex++ // At end of string chunk.\n\n      if (point._bufferIndex === chunks[point._index].length) {\n        point._bufferIndex = -1\n        point._index++\n      }\n    } // Expose the previous character.\n\n    context.previous = code // Mark as consumed.\n  } // Start a token.\n\n  function enter(type, fields) {\n    var token = fields || {}\n    token.type = type\n    token.start = now()\n    context.events.push(['enter', token, context])\n    stack.push(token)\n    return token\n  } // Stop a token.\n\n  function exit(type) {\n    var token = stack.pop()\n    token.end = now()\n    context.events.push(['exit', token, context])\n    return token\n  } // Use results.\n\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from)\n  } // Discard results.\n\n  function onsuccessfulcheck(construct, info) {\n    info.restore()\n  } // Factory to attempt/check/interrupt.\n\n  function constructFactory(onreturn, fields) {\n    return hook // Handle either an object mapping codes to constructs, a list of\n    // constructs, or a single construct.\n\n    function hook(constructs, returnState, bogusState) {\n      var listOfConstructs\n      var constructIndex\n      var currentConstruct\n      var info\n      return constructs.tokenize || 'length' in constructs\n        ? handleListOfConstructs(miniflat(constructs))\n        : handleMapOfConstructs\n\n      function handleMapOfConstructs(code) {\n        if (code in constructs || null in constructs) {\n          return handleListOfConstructs(\n            constructs.null\n              ? /* c8 ignore next */\n                miniflat(constructs[code]).concat(miniflat(constructs.null))\n              : constructs[code]\n          )(code)\n        }\n\n        return bogusState(code)\n      }\n\n      function handleListOfConstructs(list) {\n        listOfConstructs = list\n        constructIndex = 0\n        return handleConstruct(list[constructIndex])\n      }\n\n      function handleConstruct(construct) {\n        return start\n\n        function start(code) {\n          // To do: not nede to store if there is no bogus state, probably?\n          // Currently doesnt work because `inspect` in document does a check\n          // w/o a bogus, which doesnt make sense. But it does seem to help perf\n          // by not storing.\n          info = store()\n          currentConstruct = construct\n\n          if (!construct.partial) {\n            context.currentConstruct = construct\n          }\n\n          if (\n            construct.name &&\n            context.parser.constructs.disable.null.indexOf(construct.name) > -1\n          ) {\n            return nok()\n          }\n\n          return construct.tokenize.call(\n            fields ? assign({}, context, fields) : context,\n            effects,\n            ok,\n            nok\n          )(code)\n        }\n      }\n\n      function ok(code) {\n        onreturn(currentConstruct, info)\n        return returnState\n      }\n\n      function nok(code) {\n        info.restore()\n\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex])\n        }\n\n        return bogusState\n      }\n    }\n  }\n\n  function addResult(construct, from) {\n    if (construct.resolveAll && resolveAllConstructs.indexOf(construct) < 0) {\n      resolveAllConstructs.push(construct)\n    }\n\n    if (construct.resolve) {\n      chunkedSplice(\n        context.events,\n        from,\n        context.events.length - from,\n        construct.resolve(context.events.slice(from), context)\n      )\n    }\n\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context)\n    }\n  }\n\n  function store() {\n    var startPoint = now()\n    var startPrevious = context.previous\n    var startCurrentConstruct = context.currentConstruct\n    var startEventsIndex = context.events.length\n    var startStack = Array.from(stack)\n    return {\n      restore: restore,\n      from: startEventsIndex\n    }\n\n    function restore() {\n      point = startPoint\n      context.previous = startPrevious\n      context.currentConstruct = startCurrentConstruct\n      context.events.length = startEventsIndex\n      stack = startStack\n      accountForPotentialSkip()\n    }\n  }\n\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line]\n      point.offset += columnStart[point.line] - 1\n    }\n  }\n}\n\nmodule.exports = createTokenizer\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction serializeChunks(chunks) {\n  var index = -1\n  var result = []\n  var chunk\n  var value\n  var atTab\n\n  while (++index < chunks.length) {\n    chunk = chunks[index]\n\n    if (typeof chunk === 'string') {\n      value = chunk\n    } else if (chunk === -5) {\n      value = '\\r'\n    } else if (chunk === -4) {\n      value = '\\n'\n    } else if (chunk === -3) {\n      value = '\\r' + '\\n'\n    } else if (chunk === -2) {\n      value = '\\t'\n    } else if (chunk === -1) {\n      if (atTab) continue\n      value = ' '\n    } else {\n      // Currently only replacement character.\n      value = fromCharCode(chunk)\n    }\n\n    atTab = chunk === -2\n    result.push(value)\n  }\n\n  return result.join('')\n}\n\nmodule.exports = serializeChunks\n","'use strict'\n\nfunction sliceChunks(chunks, token) {\n  var startIndex = token.start._index\n  var startBufferIndex = token.start._bufferIndex\n  var endIndex = token.end._index\n  var endBufferIndex = token.end._bufferIndex\n  var view\n\n  if (startIndex === endIndex) {\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)]\n  } else {\n    view = chunks.slice(startIndex, endIndex)\n\n    if (startBufferIndex > -1) {\n      view[0] = view[0].slice(startBufferIndex)\n    }\n\n    if (endBufferIndex > 0) {\n      view.push(chunks[endIndex].slice(0, endBufferIndex))\n    }\n  }\n\n  return view\n}\n\nmodule.exports = sliceChunks\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar text$1 = require('./initialize/text.js')\nvar attention = require('./tokenize/attention.js')\nvar autolink = require('./tokenize/autolink.js')\nvar blockQuote = require('./tokenize/block-quote.js')\nvar characterEscape = require('./tokenize/character-escape.js')\nvar characterReference = require('./tokenize/character-reference.js')\nvar codeFenced = require('./tokenize/code-fenced.js')\nvar codeIndented = require('./tokenize/code-indented.js')\nvar codeText = require('./tokenize/code-text.js')\nvar definition = require('./tokenize/definition.js')\nvar hardBreakEscape = require('./tokenize/hard-break-escape.js')\nvar headingAtx = require('./tokenize/heading-atx.js')\nvar htmlFlow = require('./tokenize/html-flow.js')\nvar htmlText = require('./tokenize/html-text.js')\nvar labelEnd = require('./tokenize/label-end.js')\nvar labelStartImage = require('./tokenize/label-start-image.js')\nvar labelStartLink = require('./tokenize/label-start-link.js')\nvar lineEnding = require('./tokenize/line-ending.js')\nvar list = require('./tokenize/list.js')\nvar setextUnderline = require('./tokenize/setext-underline.js')\nvar thematicBreak = require('./tokenize/thematic-break.js')\n\nvar document = {\n  42: list,\n  // Asterisk\n  43: list,\n  // Plus sign\n  45: list,\n  // Dash\n  48: list,\n  // 0\n  49: list,\n  // 1\n  50: list,\n  // 2\n  51: list,\n  // 3\n  52: list,\n  // 4\n  53: list,\n  // 5\n  54: list,\n  // 6\n  55: list,\n  // 7\n  56: list,\n  // 8\n  57: list,\n  // 9\n  62: blockQuote // Greater than\n}\nvar contentInitial = {\n  91: definition // Left square bracket\n}\nvar flowInitial = {\n  '-2': codeIndented,\n  // Horizontal tab\n  '-1': codeIndented,\n  // Virtual space\n  32: codeIndented // Space\n}\nvar flow = {\n  35: headingAtx,\n  // Number sign\n  42: thematicBreak,\n  // Asterisk\n  45: [setextUnderline, thematicBreak],\n  // Dash\n  60: htmlFlow,\n  // Less than\n  61: setextUnderline,\n  // Equals to\n  95: thematicBreak,\n  // Underscore\n  96: codeFenced,\n  // Grave accent\n  126: codeFenced // Tilde\n}\nvar string = {\n  38: characterReference,\n  // Ampersand\n  92: characterEscape // Backslash\n}\nvar text = {\n  '-5': lineEnding,\n  // Carriage return\n  '-4': lineEnding,\n  // Line feed\n  '-3': lineEnding,\n  // Carriage return + line feed\n  33: labelStartImage,\n  // Exclamation mark\n  38: characterReference,\n  // Ampersand\n  42: attention,\n  // Asterisk\n  60: [autolink, htmlText],\n  // Less than\n  91: labelStartLink,\n  // Left square bracket\n  92: [hardBreakEscape, characterEscape],\n  // Backslash\n  93: labelEnd,\n  // Right square bracket\n  95: attention,\n  // Underscore\n  96: codeText // Grave accent\n}\nvar insideSpan = {\n  null: [attention, text$1.resolver]\n}\nvar disable = {\n  null: []\n}\n\nexports.contentInitial = contentInitial\nexports.disable = disable\nexports.document = document\nexports.flow = flow\nexports.flowInitial = flowInitial\nexports.insideSpan = insideSpan\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar classifyCharacter = require('../util/classify-character.js')\nvar movePoint = require('../util/move-point.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\n\nvar attention = {\n  name: 'attention',\n  tokenize: tokenizeAttention,\n  resolveAll: resolveAllAttention\n}\n\nfunction resolveAllAttention(events, context) {\n  var index = -1\n  var open\n  var group\n  var text\n  var openingSequence\n  var closingSequence\n  var use\n  var nextEvents\n  var offset // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but its\n  // a bottleneck for malicious stuff.\n\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (\n      events[index][0] === 'enter' &&\n      events[index][1].type === 'attentionSequence' &&\n      events[index][1]._close\n    ) {\n      open = index // Now walk back to find an opener.\n\n      while (open--) {\n        // Find a token that can open the closer.\n        if (\n          events[open][0] === 'exit' &&\n          events[open][1].type === 'attentionSequence' &&\n          events[open][1]._open && // If the markers are the same:\n          context.sliceSerialize(events[open][1]).charCodeAt(0) ===\n            context.sliceSerialize(events[index][1]).charCodeAt(0)\n        ) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then dont match.\n          if (\n            (events[open][1]._close || events[index][1]._open) &&\n            (events[index][1].end.offset - events[index][1].start.offset) % 3 &&\n            !(\n              (events[open][1].end.offset -\n                events[open][1].start.offset +\n                events[index][1].end.offset -\n                events[index][1].start.offset) %\n              3\n            )\n          ) {\n            continue\n          } // Number of markers to use from the sequence.\n\n          use =\n            events[open][1].end.offset - events[open][1].start.offset > 1 &&\n            events[index][1].end.offset - events[index][1].start.offset > 1\n              ? 2\n              : 1\n          openingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: movePoint(shallow(events[open][1].end), -use),\n            end: shallow(events[open][1].end)\n          }\n          closingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: shallow(events[index][1].start),\n            end: movePoint(shallow(events[index][1].start), use)\n          }\n          text = {\n            type: use > 1 ? 'strongText' : 'emphasisText',\n            start: shallow(events[open][1].end),\n            end: shallow(events[index][1].start)\n          }\n          group = {\n            type: use > 1 ? 'strong' : 'emphasis',\n            start: shallow(openingSequence.start),\n            end: shallow(closingSequence.end)\n          }\n          events[open][1].end = shallow(openingSequence.start)\n          events[index][1].start = shallow(closingSequence.end)\n          nextEvents = [] // If there are more markers in the opening, add them before.\n\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context]\n            ])\n          } // Opening.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['enter', group, context],\n            ['enter', openingSequence, context],\n            ['exit', openingSequence, context],\n            ['enter', text, context]\n          ]) // Between.\n\n          nextEvents = chunkedPush(\n            nextEvents,\n            resolveAll(\n              context.parser.constructs.insideSpan.null,\n              events.slice(open + 1, index),\n              context\n            )\n          ) // Closing.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['exit', text, context],\n            ['enter', closingSequence, context],\n            ['exit', closingSequence, context],\n            ['exit', group, context]\n          ]) // If there are more markers in the closing, add them after.\n\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context]\n            ])\n          } else {\n            offset = 0\n          }\n\n          chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n          index = open + nextEvents.length - offset - 2\n          break\n        }\n      }\n    }\n  } // Remove remaining sequences.\n\n  index = -1\n\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeAttention(effects, ok) {\n  var before = classifyCharacter(this.previous)\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('attentionSequence')\n    marker = code\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    var token\n    var after\n    var open\n    var close\n\n    if (code === marker) {\n      effects.consume(code)\n      return sequence\n    }\n\n    token = effects.exit('attentionSequence')\n    after = classifyCharacter(code)\n    open = !after || (after === 2 && before)\n    close = !before || (before === 2 && after)\n    token._open = marker === 42 ? open : open && (before || !close)\n    token._close = marker === 42 ? close : close && (after || !open)\n    return ok(code)\n  }\n}\n\nmodule.exports = attention\n","'use strict'\n\n// This module is generated by `script/`.\n//\n// CommonMark handles attention (emphasis, strong) markers based on what comes\n// before or after them.\n// One such difference is if those characters are Unicode punctuation.\n// This script is generated from the Unicode data.\nvar unicodePunctuation = /[!-\\/:-@\\[-`\\{-~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\n// chunks (replacement characters, tabs, or line endings).\n\nfunction movePoint(point, offset) {\n  point.column += offset\n  point.offset += offset\n  point._bufferIndex += offset\n  return point\n}\n\nmodule.exports = movePoint\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiAtext = require('../character/ascii-atext.js')\nvar asciiControl = require('../character/ascii-control.js')\n\nvar autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n}\n\nfunction tokenizeAutolink(effects, ok, nok) {\n  var size = 1\n  return start\n\n  function start(code) {\n    effects.enter('autolink')\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.enter('autolinkProtocol')\n    return open\n  }\n\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return schemeOrEmailAtext\n    }\n\n    return asciiAtext(code) ? emailAtext(code) : nok(code)\n  }\n\n  function schemeOrEmailAtext(code) {\n    return code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)\n      ? schemeInsideOrEmailAtext(code)\n      : emailAtext(code)\n  }\n\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code)\n      return urlInside\n    }\n\n    if (\n      (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) &&\n      size++ < 32\n    ) {\n      effects.consume(code)\n      return schemeInsideOrEmailAtext\n    }\n\n    return emailAtext(code)\n  }\n\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol')\n      return end(code)\n    }\n\n    if (code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return urlInside\n  }\n\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (asciiAtext(code)) {\n      effects.consume(code)\n      return emailAtext\n    }\n\n    return nok(code)\n  }\n\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code)\n  }\n\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (code === 62) {\n      // Exit, then change the type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail'\n      return end(code)\n    }\n\n    return emailValue(code)\n  }\n\n  function emailValue(code) {\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      effects.consume(code)\n      return code === 45 ? emailValue : emailLabel\n    }\n\n    return nok(code)\n  }\n\n  function end(code) {\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.exit('autolink')\n    return ok\n  }\n}\n\nmodule.exports = autolink\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/)\n\nmodule.exports = asciiAtext\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar blockQuote = {\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart,\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit: exit\n}\n\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    if (code === 62) {\n      if (!self.containerState.open) {\n        effects.enter('blockQuote', {\n          _container: true\n        })\n        self.containerState.open = true\n      }\n\n      effects.enter('blockQuotePrefix')\n      effects.enter('blockQuoteMarker')\n      effects.consume(code)\n      effects.exit('blockQuoteMarker')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter('blockQuotePrefixWhitespace')\n      effects.consume(code)\n      effects.exit('blockQuotePrefixWhitespace')\n      effects.exit('blockQuotePrefix')\n      return ok\n    }\n\n    effects.exit('blockQuotePrefix')\n    return ok(code)\n  }\n}\n\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(blockQuote, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction exit(effects) {\n  effects.exit('blockQuote')\n}\n\nmodule.exports = blockQuote\n","'use strict'\n\nvar asciiPunctuation = require('../character/ascii-punctuation.js')\n\nvar characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n}\n\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('characterEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    effects.exit('escapeMarker')\n    return open\n  }\n\n  function open(code) {\n    if (asciiPunctuation(code)) {\n      effects.enter('characterEscapeValue')\n      effects.consume(code)\n      effects.exit('characterEscapeValue')\n      effects.exit('characterEscape')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterEscape\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/)\n\nmodule.exports = asciiPunctuation\n","'use strict'\n\nvar decodeEntity = require('parse-entities/decode-entity.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiDigit = require('../character/ascii-digit.js')\nvar asciiHexDigit = require('../character/ascii-hex-digit.js')\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {default: e}\n}\n\nvar decodeEntity__default = /*#__PURE__*/ _interopDefaultLegacy(decodeEntity)\n\nvar characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n}\n\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  var self = this\n  var size = 0\n  var max\n  var test\n  return start\n\n  function start(code) {\n    effects.enter('characterReference')\n    effects.enter('characterReferenceMarker')\n    effects.consume(code)\n    effects.exit('characterReferenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 35) {\n      effects.enter('characterReferenceMarkerNumeric')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerNumeric')\n      return numeric\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 31\n    test = asciiAlphanumeric\n    return value(code)\n  }\n\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter('characterReferenceMarkerHexadecimal')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerHexadecimal')\n      effects.enter('characterReferenceValue')\n      max = 6\n      test = asciiHexDigit\n      return value\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 7\n    test = asciiDigit\n    return value(code)\n  }\n\n  function value(code) {\n    var token\n\n    if (code === 59 && size) {\n      token = effects.exit('characterReferenceValue')\n\n      if (\n        test === asciiAlphanumeric &&\n        !decodeEntity__default['default'](self.sliceSerialize(token))\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('characterReferenceMarker')\n      effects.consume(code)\n      effects.exit('characterReferenceMarker')\n      effects.exit('characterReference')\n      return ok\n    }\n\n    if (test(code) && size++ < max) {\n      effects.consume(code)\n      return value\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterReference\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiHexDigit = regexCheck(/[\\dA-Fa-f]/)\n\nmodule.exports = asciiHexDigit\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeFenced = {\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced,\n  concrete: true\n}\n\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  var self = this\n  var closingFenceConstruct = {\n    tokenize: tokenizeClosingFence,\n    partial: true\n  }\n  var initialPrefix = prefixSize(this.events, 'linePrefix')\n  var sizeOpen = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('codeFenced')\n    effects.enter('codeFencedFence')\n    effects.enter('codeFencedFenceSequence')\n    marker = code\n    return sequenceOpen(code)\n  }\n\n  function sequenceOpen(code) {\n    if (code === marker) {\n      effects.consume(code)\n      sizeOpen++\n      return sequenceOpen\n    }\n\n    effects.exit('codeFencedFenceSequence')\n    return sizeOpen < 3\n      ? nok(code)\n      : factorySpace(effects, infoOpen, 'whitespace')(code)\n  }\n\n  function infoOpen(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceInfo')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return info(code)\n  }\n\n  function info(code) {\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceInfo')\n      return factorySpace(effects, infoAfter, 'whitespace')(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return info\n  }\n\n  function infoAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceMeta')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return meta(code)\n  }\n\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceMeta')\n      return openAfter(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return meta\n  }\n\n  function openAfter(code) {\n    effects.exit('codeFencedFence')\n    return self.interrupt ? ok(code) : content(code)\n  }\n\n  function content(code) {\n    if (code === null) {\n      return after(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return effects.attempt(\n        closingFenceConstruct,\n        after,\n        initialPrefix\n          ? factorySpace(effects, content, 'linePrefix', initialPrefix + 1)\n          : content\n      )\n    }\n\n    effects.enter('codeFlowValue')\n    return contentContinue(code)\n  }\n\n  function contentContinue(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return content(code)\n    }\n\n    effects.consume(code)\n    return contentContinue\n  }\n\n  function after(code) {\n    effects.exit('codeFenced')\n    return ok(code)\n  }\n\n  function tokenizeClosingFence(effects, ok, nok) {\n    var size = 0\n    return factorySpace(\n      effects,\n      closingSequenceStart,\n      'linePrefix',\n      this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n\n    function closingSequenceStart(code) {\n      effects.enter('codeFencedFence')\n      effects.enter('codeFencedFenceSequence')\n      return closingSequence(code)\n    }\n\n    function closingSequence(code) {\n      if (code === marker) {\n        effects.consume(code)\n        size++\n        return closingSequence\n      }\n\n      if (size < sizeOpen) return nok(code)\n      effects.exit('codeFencedFenceSequence')\n      return factorySpace(effects, closingSequenceEnd, 'whitespace')(code)\n    }\n\n    function closingSequenceEnd(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit('codeFencedFence')\n        return ok(code)\n      }\n\n      return nok(code)\n    }\n  }\n}\n\nmodule.exports = codeFenced\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented,\n  resolve: resolveCodeIndented\n}\nvar indentedContentConstruct = {\n  tokenize: tokenizeIndentedContent,\n  partial: true\n}\n\nfunction resolveCodeIndented(events, context) {\n  var code = {\n    type: 'codeIndented',\n    start: events[0][1].start,\n    end: events[events.length - 1][1].end\n  }\n  chunkedSplice(events, 0, 0, [['enter', code, context]])\n  chunkedSplice(events, events.length, 0, [['exit', code, context]])\n  return events\n}\n\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  return effects.attempt(indentedContentConstruct, afterPrefix, nok)\n\n  function afterPrefix(code) {\n    if (code === null) {\n      return ok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.attempt(indentedContentConstruct, afterPrefix, ok)(code)\n    }\n\n    effects.enter('codeFlowValue')\n    return content(code)\n  }\n\n  function content(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return afterPrefix(code)\n    }\n\n    effects.consume(code)\n    return content\n  }\n}\n\nfunction tokenizeIndentedContent(effects, ok, nok) {\n  var self = this\n  return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n\n  function afterPrefix(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n    }\n\n    return prefixSize(self.events, 'linePrefix') < 4 ? nok(code) : ok(code)\n  }\n}\n\nmodule.exports = codeIndented\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar codeText = {\n  name: 'codeText',\n  tokenize: tokenizeCodeText,\n  resolve: resolveCodeText,\n  previous: previous\n}\n\nfunction resolveCodeText(events) {\n  var tailExitIndex = events.length - 4\n  var headEnterIndex = 3\n  var index\n  var enter // If we start and end with an EOL or a space.\n\n  if (\n    (events[headEnterIndex][1].type === 'lineEnding' ||\n      events[headEnterIndex][1].type === 'space') &&\n    (events[tailExitIndex][1].type === 'lineEnding' ||\n      events[tailExitIndex][1].type === 'space')\n  ) {\n    index = headEnterIndex // And we have data.\n\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === 'codeTextData') {\n        // Then we have padding.\n        events[tailExitIndex][1].type = events[headEnterIndex][1].type =\n          'codeTextPadding'\n        headEnterIndex += 2\n        tailExitIndex -= 2\n        break\n      }\n    }\n  } // Merge adjacent spaces and data.\n\n  index = headEnterIndex - 1\n  tailExitIndex++\n\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== 'lineEnding') {\n        enter = index\n      }\n    } else if (\n      index === tailExitIndex ||\n      events[index][1].type === 'lineEnding'\n    ) {\n      events[enter][1].type = 'codeTextData'\n\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end\n        events.splice(enter + 2, index - enter - 2)\n        tailExitIndex -= index - enter - 2\n        index = enter + 2\n      }\n\n      enter = undefined\n    }\n  }\n\n  return events\n}\n\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return (\n    code !== 96 ||\n    this.events[this.events.length - 1][1].type === 'characterEscape'\n  )\n}\n\nfunction tokenizeCodeText(effects, ok, nok) {\n  var sizeOpen = 0\n  var size\n  var token\n  return start\n\n  function start(code) {\n    effects.enter('codeText')\n    effects.enter('codeTextSequence')\n    return openingSequence(code)\n  }\n\n  function openingSequence(code) {\n    if (code === 96) {\n      effects.consume(code)\n      sizeOpen++\n      return openingSequence\n    }\n\n    effects.exit('codeTextSequence')\n    return gap(code)\n  }\n\n  function gap(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code)\n    } // Closing fence?\n    // Could also be data.\n\n    if (code === 96) {\n      token = effects.enter('codeTextSequence')\n      size = 0\n      return closingSequence(code)\n    } // Tabs dont work, and virtual spaces dont make sense.\n\n    if (code === 32) {\n      effects.enter('space')\n      effects.consume(code)\n      effects.exit('space')\n      return gap\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return gap\n    } // Data.\n\n    effects.enter('codeTextData')\n    return data(code)\n  } // In code.\n\n  function data(code) {\n    if (\n      code === null ||\n      code === 32 ||\n      code === 96 ||\n      markdownLineEnding(code)\n    ) {\n      effects.exit('codeTextData')\n      return gap(code)\n    }\n\n    effects.consume(code)\n    return data\n  } // Closing fence.\n\n  function closingSequence(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code)\n      size++\n      return closingSequence\n    } // Done!\n\n    if (size === sizeOpen) {\n      effects.exit('codeTextSequence')\n      effects.exit('codeText')\n      return ok(code)\n    } // More or less accents: mark as data.\n\n    token.type = 'codeTextData'\n    return data(code)\n  }\n}\n\nmodule.exports = codeText\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factorySpace = require('./factory-space.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\nvar factoryTitle = require('./factory-title.js')\n\nvar definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n}\nvar titleConstruct = {\n  tokenize: tokenizeTitle,\n  partial: true\n}\n\nfunction tokenizeDefinition(effects, ok, nok) {\n  var self = this\n  var identifier\n  return start\n\n  function start(code) {\n    effects.enter('definition')\n    return factoryLabel.call(\n      self,\n      effects,\n      labelAfter,\n      nok,\n      'definitionLabel',\n      'definitionLabelMarker',\n      'definitionLabelString'\n    )(code)\n  }\n\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(\n      self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n    )\n\n    if (code === 58) {\n      effects.enter('definitionMarker')\n      effects.consume(code)\n      effects.exit('definitionMarker') // Note: blank lines cant exist in content.\n\n      return factoryWhitespace(\n        effects,\n        factoryDestination(\n          effects,\n          effects.attempt(\n            titleConstruct,\n            factorySpace(effects, after, 'whitespace'),\n            factorySpace(effects, after, 'whitespace')\n          ),\n          nok,\n          'definitionDestination',\n          'definitionDestinationLiteral',\n          'definitionDestinationLiteralMarker',\n          'definitionDestinationRaw',\n          'definitionDestinationString'\n        )\n      )\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('definition')\n\n      if (self.parser.defined.indexOf(identifier) < 0) {\n        self.parser.defined.push(identifier)\n      }\n\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeTitle(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, before)(code)\n      : nok(code)\n  }\n\n  function before(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factorySpace(effects, after, 'whitespace'),\n        nok,\n        'definitionTitle',\n        'definitionTitleMarker',\n        'definitionTitleString'\n      )(code)\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = definition\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n}\n\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('hardBreakEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit('escapeMarker')\n      effects.exit('hardBreakEscape')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = hardBreakEscape\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar factorySpace = require('./factory-space.js')\n\nvar headingAtx = {\n  name: 'headingAtx',\n  tokenize: tokenizeHeadingAtx,\n  resolve: resolveHeadingAtx\n}\n\nfunction resolveHeadingAtx(events, context) {\n  var contentEnd = events.length - 2\n  var contentStart = 3\n  var content\n  var text // Prefix whitespace, part of the opening.\n\n  if (events[contentStart][1].type === 'whitespace') {\n    contentStart += 2\n  } // Suffix whitespace, part of the closing.\n\n  if (\n    contentEnd - 2 > contentStart &&\n    events[contentEnd][1].type === 'whitespace'\n  ) {\n    contentEnd -= 2\n  }\n\n  if (\n    events[contentEnd][1].type === 'atxHeadingSequence' &&\n    (contentStart === contentEnd - 1 ||\n      (contentEnd - 4 > contentStart &&\n        events[contentEnd - 2][1].type === 'whitespace'))\n  ) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4\n  }\n\n  if (contentEnd > contentStart) {\n    content = {\n      type: 'atxHeadingText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    }\n    text = {\n      type: 'chunkText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: 'text'\n    }\n    chunkedSplice(events, contentStart, contentEnd - contentStart + 1, [\n      ['enter', content, context],\n      ['enter', text, context],\n      ['exit', text, context],\n      ['exit', content, context]\n    ])\n  }\n\n  return events\n}\n\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  var self = this\n  var size = 0\n  return start\n\n  function start(code) {\n    effects.enter('atxHeading')\n    effects.enter('atxHeadingSequence')\n    return fenceOpenInside(code)\n  }\n\n  function fenceOpenInside(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code)\n      return fenceOpenInside\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingSequence')\n      return self.interrupt ? ok(code) : headingBreak(code)\n    }\n\n    return nok(code)\n  }\n\n  function headingBreak(code) {\n    if (code === 35) {\n      effects.enter('atxHeadingSequence')\n      return sequence(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('atxHeading')\n      return ok(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headingBreak, 'whitespace')(code)\n    }\n\n    effects.enter('atxHeadingText')\n    return data(code)\n  }\n\n  function sequence(code) {\n    if (code === 35) {\n      effects.consume(code)\n      return sequence\n    }\n\n    effects.exit('atxHeadingSequence')\n    return headingBreak(code)\n  }\n\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingText')\n      return headingBreak(code)\n    }\n\n    effects.consume(code)\n    return data\n  }\n}\n\nmodule.exports = headingAtx\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar fromCharCode = require('../constant/from-char-code.js')\nvar htmlBlockNames = require('../constant/html-block-names.js')\nvar htmlRawNames = require('../constant/html-raw-names.js')\nvar partialBlankLine = require('./partial-blank-line.js')\n\nvar htmlFlow = {\n  name: 'htmlFlow',\n  tokenize: tokenizeHtmlFlow,\n  resolveTo: resolveToHtmlFlow,\n  concrete: true\n}\nvar nextBlankConstruct = {\n  tokenize: tokenizeNextBlank,\n  partial: true\n}\n\nfunction resolveToHtmlFlow(events) {\n  var index = events.length\n\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === 'htmlFlow') {\n      break\n    }\n  }\n\n  if (index > 1 && events[index - 2][1].type === 'linePrefix') {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start // Add the prefix start to the HTML line token.\n\n    events[index + 1][1].start = events[index - 2][1].start // Remove the line prefix.\n\n    events.splice(index - 2, 2)\n  }\n\n  return events\n}\n\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  var self = this\n  var kind\n  var startTag\n  var buffer\n  var index\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('htmlFlow')\n    effects.enter('htmlFlowData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationStart\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      kind = 3 // While were in an instruction instead of a declaration, were on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      startTag = true\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function declarationStart(code) {\n    if (code === 45) {\n      effects.consume(code)\n      kind = 2\n      return commentOpenInside\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      kind = 5\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpenInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      kind = 4\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function cdataOpenInside(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length\n        ? self.interrupt\n          ? ok\n          : continuation\n        : cdataOpenInside\n    }\n\n    return nok(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function tagName(code) {\n    if (\n      code === null ||\n      code === 47 ||\n      code === 62 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      if (\n        code !== 47 &&\n        startTag &&\n        htmlRawNames.indexOf(buffer.toLowerCase()) > -1\n      ) {\n        kind = 1\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      if (htmlBlockNames.indexOf(buffer.toLowerCase()) > -1) {\n        kind = 6\n\n        if (code === 47) {\n          effects.consume(code)\n          return basicSelfClosing\n        }\n\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      kind = 7 // Do not support complete HTML when interrupting.\n\n      return self.interrupt\n        ? nok(code)\n        : startTag\n        ? completeAttributeNameBefore(code)\n        : completeClosingTagAfter(code)\n    }\n\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuation\n    }\n\n    return nok(code)\n  }\n\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeClosingTagAfter\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return completeEnd\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameBefore\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    return completeAttributeNameAfter(code)\n  }\n\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameAfter\n    }\n\n    return completeAttributeNameBefore(code)\n  }\n\n  function completeAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return completeAttributeValueQuoted\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    marker = undefined\n    return completeAttributeValueUnquoted(code)\n  }\n\n  function completeAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return completeAttributeValueQuotedAfter\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueQuoted\n  }\n\n  function completeAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      return completeAttributeNameAfter(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueUnquoted\n  }\n\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code)\n    }\n\n    return nok(code)\n  }\n\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return nok(code)\n  }\n\n  function completeAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return code === null || markdownLineEnding(code)\n      ? continuation(code)\n      : nok(code)\n  }\n\n  function continuation(code) {\n    if (code === 45 && kind === 2) {\n      effects.consume(code)\n      return continuationCommentInside\n    }\n\n    if (code === 60 && kind === 1) {\n      effects.consume(code)\n      return continuationRawTagOpen\n    }\n\n    if (code === 62 && kind === 4) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (code === 63 && kind === 3) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    if (code === 93 && kind === 5) {\n      effects.consume(code)\n      return continuationCharacterDataInside\n    }\n\n    if (markdownLineEnding(code) && (kind === 6 || kind === 7)) {\n      return effects.check(\n        nextBlankConstruct,\n        continuationClose,\n        continuationAtLineEnding\n      )(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return continuationAtLineEnding(code)\n    }\n\n    effects.consume(code)\n    return continuation\n  }\n\n  function continuationAtLineEnding(code) {\n    effects.exit('htmlFlowData')\n    return htmlContinueStart(code)\n  }\n\n  function htmlContinueStart(code) {\n    if (code === null) {\n      return done(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return htmlContinueStart\n    }\n\n    effects.enter('htmlFlowData')\n    return continuation(code)\n  }\n\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code)\n      buffer = ''\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawEndTag(code) {\n    if (code === 62 && htmlRawNames.indexOf(buffer.toLowerCase()) > -1) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (asciiAlpha(code) && buffer.length < 8) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationCharacterDataInside(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    return continuation(code)\n  }\n\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('htmlFlowData')\n      return done(code)\n    }\n\n    effects.consume(code)\n    return continuationClose\n  }\n\n  function done(code) {\n    effects.exit('htmlFlow')\n    return ok(code)\n  }\n}\n\nfunction tokenizeNextBlank(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.exit('htmlFlowData')\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    return effects.attempt(partialBlankLine, ok, nok)\n  }\n}\n\nmodule.exports = htmlFlow\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar basics = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n]\n\nmodule.exports = basics\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar raws = ['pre', 'script', 'style', 'textarea']\n\nmodule.exports = raws\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n}\n\nfunction tokenizeHtmlText(effects, ok, nok) {\n  var self = this\n  var marker\n  var buffer\n  var index\n  var returnState\n  return start\n\n  function start(code) {\n    effects.enter('htmlText')\n    effects.enter('htmlTextData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationOpen\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instruction\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    return nok(code)\n  }\n\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentOpen\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpen\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return declaration\n    }\n\n    return nok(code)\n  }\n\n  function commentOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentStart\n    }\n\n    return nok(code)\n  }\n\n  function commentStart(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentStartDash\n    }\n\n    return comment(code)\n  }\n\n  function commentStartDash(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    return comment(code)\n  }\n\n  function comment(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = comment\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return comment\n  }\n\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return end\n    }\n\n    return comment(code)\n  }\n\n  function cdataOpen(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length ? cdata : cdataOpen\n    }\n\n    return nok(code)\n  }\n\n  function cdata(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = cdata\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return cdata\n  }\n\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = declaration\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return declaration\n  }\n\n  function instruction(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instructionClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = instruction\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return instruction\n  }\n\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return nok(code)\n  }\n\n  function tagClose(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return tagCloseBetween(code)\n  }\n\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagCloseBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpen(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return end\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpenAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    return tagOpenAttributeNameAfter(code)\n  }\n\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeNameAfter\n    }\n\n    return tagOpenBetween(code)\n  }\n\n  function tagOpenAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return tagOpenAttributeValueQuoted\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    effects.consume(code)\n    marker = undefined\n    return tagOpenAttributeValueUnquoted\n  }\n\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return tagOpenAttributeValueQuotedAfter\n    }\n\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueQuoted\n  }\n\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 62 || code === 47 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueUnquoted\n  } // We cant have blank lines in content, so no need to worry about empty\n  // tokens.\n\n  function atLineEnding(code) {\n    effects.exit('htmlTextData')\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(\n      effects,\n      afterPrefix,\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n  }\n\n  function afterPrefix(code) {\n    effects.enter('htmlTextData')\n    return returnState(code)\n  }\n\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code)\n      effects.exit('htmlTextData')\n      effects.exit('htmlText')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = htmlText\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartImage = {\n  name: 'labelStartImage',\n  tokenize: tokenizeLabelStartImage,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelImage')\n    effects.enter('labelImageMarker')\n    effects.consume(code)\n    effects.exit('labelImageMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 91) {\n      effects.enter('labelMarker')\n      effects.consume(code)\n      effects.exit('labelMarker')\n      effects.exit('labelImage')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartImage\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartLink = {\n  name: 'labelStartLink',\n  tokenize: tokenizeLabelStartLink,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelLink')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelLink')\n    return after\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartLink\n","'use strict'\n\nvar factorySpace = require('./factory-space.js')\n\nvar lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n}\n\nfunction tokenizeLineEnding(effects, ok) {\n  return start\n\n  function start(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, ok, 'linePrefix')\n  }\n}\n\nmodule.exports = lineEnding\n","'use strict'\n\nvar asciiDigit = require('../character/ascii-digit.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar sizeChunks = require('../util/size-chunks.js')\nvar factorySpace = require('./factory-space.js')\nvar partialBlankLine = require('./partial-blank-line.js')\nvar thematicBreak = require('./thematic-break.js')\n\nvar list = {\n  name: 'list',\n  tokenize: tokenizeListStart,\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd\n}\nvar listItemPrefixWhitespaceConstruct = {\n  tokenize: tokenizeListItemPrefixWhitespace,\n  partial: true\n}\nvar indentConstruct = {\n  tokenize: tokenizeIndent,\n  partial: true\n}\n\nfunction tokenizeListStart(effects, ok, nok) {\n  var self = this\n  var initialSize = prefixSize(self.events, 'linePrefix')\n  var size = 0\n  return start\n\n  function start(code) {\n    var kind =\n      self.containerState.type ||\n      (code === 42 || code === 43 || code === 45\n        ? 'listUnordered'\n        : 'listOrdered')\n\n    if (\n      kind === 'listUnordered'\n        ? !self.containerState.marker || code === self.containerState.marker\n        : asciiDigit(code)\n    ) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind\n        effects.enter(kind, {\n          _container: true\n        })\n      }\n\n      if (kind === 'listUnordered') {\n        effects.enter('listItemPrefix')\n        return code === 42 || code === 45\n          ? effects.check(thematicBreak, nok, atMarker)(code)\n          : atMarker(code)\n      }\n\n      if (!self.interrupt || code === 49) {\n        effects.enter('listItemPrefix')\n        effects.enter('listItemValue')\n        return inside(code)\n      }\n    }\n\n    return nok(code)\n  }\n\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code)\n      return inside\n    }\n\n    if (\n      (!self.interrupt || size < 2) &&\n      (self.containerState.marker\n        ? code === self.containerState.marker\n        : code === 41 || code === 46)\n    ) {\n      effects.exit('listItemValue')\n      return atMarker(code)\n    }\n\n    return nok(code)\n  }\n\n  function atMarker(code) {\n    effects.enter('listItemMarker')\n    effects.consume(code)\n    effects.exit('listItemMarker')\n    self.containerState.marker = self.containerState.marker || code\n    return effects.check(\n      partialBlankLine, // Cant be empty when interrupting.\n      self.interrupt ? nok : onBlank,\n      effects.attempt(\n        listItemPrefixWhitespaceConstruct,\n        endOfPrefix,\n        otherPrefix\n      )\n    )\n  }\n\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true\n    initialSize++\n    return endOfPrefix(code)\n  }\n\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter('listItemPrefixWhitespace')\n      effects.consume(code)\n      effects.exit('listItemPrefixWhitespace')\n      return endOfPrefix\n    }\n\n    return nok(code)\n  }\n\n  function endOfPrefix(code) {\n    self.containerState.size =\n      initialSize + sizeChunks(self.sliceStream(effects.exit('listItemPrefix')))\n    return ok(code)\n  }\n}\n\nfunction tokenizeListContinuation(effects, ok, nok) {\n  var self = this\n  self.containerState._closeFlow = undefined\n  return effects.check(partialBlankLine, onBlank, notBlank)\n\n  function onBlank(code) {\n    self.containerState.furtherBlankLines =\n      self.containerState.furtherBlankLines ||\n      self.containerState.initialBlankLine // We have a blank line.\n    // Still, try to consume at most the items size.\n\n    return factorySpace(\n      effects,\n      ok,\n      'listItemIndent',\n      self.containerState.size + 1\n    )(code)\n  }\n\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n      return notInCurrentItem(code)\n    }\n\n    self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code)\n  }\n\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true // As were closing flow, were no longer interrupting.\n\n    self.interrupt = undefined\n    return factorySpace(\n      effects,\n      effects.attempt(list, ok, nok),\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )(code)\n  }\n}\n\nfunction tokenizeIndent(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemIndent',\n    self.containerState.size + 1\n  )\n\n  function afterPrefix(code) {\n    return prefixSize(self.events, 'listItemIndent') ===\n      self.containerState.size\n      ? ok(code)\n      : nok(code)\n  }\n}\n\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type)\n}\n\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemPrefixWhitespace',\n    self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4 + 1\n  )\n\n  function afterPrefix(code) {\n    return markdownSpace(code) ||\n      !prefixSize(self.events, 'listItemPrefixWhitespace')\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = list\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar shallow = require('../util/shallow.js')\nvar factorySpace = require('./factory-space.js')\n\nvar setextUnderline = {\n  name: 'setextUnderline',\n  tokenize: tokenizeSetextUnderline,\n  resolveTo: resolveToSetextUnderline\n}\n\nfunction resolveToSetextUnderline(events, context) {\n  var index = events.length\n  var content\n  var text\n  var definition\n  var heading // Find the opening of the content.\n  // Itll always exist: we dont tokenize if it isnt there.\n\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === 'content') {\n        content = index\n        break\n      }\n\n      if (events[index][1].type === 'paragraph') {\n        text = index\n      }\n    } // Exit\n    else {\n      if (events[index][1].type === 'content') {\n        // Remove the content end (if needed well add it later)\n        events.splice(index, 1)\n      }\n\n      if (!definition && events[index][1].type === 'definition') {\n        definition = index\n      }\n    }\n  }\n\n  heading = {\n    type: 'setextHeading',\n    start: shallow(events[text][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  } // Change the paragraph to setext heading text.\n\n  events[text][1].type = 'setextHeadingText' // If we have definitions in the content, well keep on having content,\n  // but we need move it.\n\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context])\n    events.splice(definition + 1, 0, ['exit', events[content][1], context])\n    events[content][1].end = shallow(events[definition][1].end)\n  } else {\n    events[content][1] = heading\n  } // Add the heading exit at the end.\n\n  events.push(['exit', heading, context])\n  return events\n}\n\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var marker\n  var paragraph // Find an opening.\n\n  while (index--) {\n    // Skip enter/exit of line ending, line prefix, and content.\n    // We can now either have a definition or a paragraph.\n    if (\n      self.events[index][1].type !== 'lineEnding' &&\n      self.events[index][1].type !== 'linePrefix' &&\n      self.events[index][1].type !== 'content'\n    ) {\n      paragraph = self.events[index][1].type === 'paragraph'\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!self.lazy && (self.interrupt || paragraph)) {\n      effects.enter('setextHeadingLine')\n      effects.enter('setextHeadingLineSequence')\n      marker = code\n      return closingSequence(code)\n    }\n\n    return nok(code)\n  }\n\n  function closingSequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return closingSequence\n    }\n\n    effects.exit('setextHeadingLineSequence')\n    return factorySpace(effects, closingSequenceEnd, 'lineSuffix')(code)\n  }\n\n  function closingSequenceEnd(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('setextHeadingLine')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = setextUnderline\n","'use strict'\n\nvar search = /[\\0\\t\\n\\r]/g\n\nfunction preprocess() {\n  var start = true\n  var column = 1\n  var buffer = ''\n  var atCarriageReturn\n  return preprocessor\n\n  function preprocessor(value, encoding, end) {\n    var chunks = []\n    var match\n    var next\n    var startPosition\n    var endPosition\n    var code\n    value = buffer + value.toString(encoding)\n    startPosition = 0\n    buffer = ''\n\n    if (start) {\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++\n      }\n\n      start = undefined\n    }\n\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition\n      match = search.exec(value)\n      endPosition = match ? match.index : value.length\n      code = value.charCodeAt(endPosition)\n\n      if (!match) {\n        buffer = value.slice(startPosition)\n        break\n      }\n\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3)\n        atCarriageReturn = undefined\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5)\n          atCarriageReturn = undefined\n        }\n\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition))\n          column += endPosition - startPosition\n        }\n\n        if (code === 0) {\n          chunks.push(65533)\n          column++\n        } else if (code === 9) {\n          next = Math.ceil(column / 4) * 4\n          chunks.push(-2)\n\n          while (column++ < next) chunks.push(-1)\n        } else if (code === 10) {\n          chunks.push(-4)\n          column = 1\n        } // Must be carriage return.\n        else {\n          atCarriageReturn = true\n          column = 1\n        }\n      }\n\n      startPosition = endPosition + 1\n    }\n\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5)\n      if (buffer) chunks.push(buffer)\n      chunks.push(null)\n    }\n\n    return chunks\n  }\n}\n\nmodule.exports = preprocess\n","'use strict'\n\nvar subtokenize = require('./util/subtokenize.js')\n\nfunction postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n\n  return events\n}\n\nmodule.exports = postprocess\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","var visitWithParents = require('unist-util-visit-parents');\n\nfunction addListMetadata() {\n  return function (ast) {\n    visitWithParents(ast, 'list', function (listNode, parents) {\n      var depth = 0, i, n;\n      for (i = 0, n = parents.length; i < n; i++) {\n        if (parents[i].type === 'list') depth += 1;\n      }\n      for (i = 0, n = listNode.children.length; i < n; i++) {\n        var child = listNode.children[i];\n        child.index = i;\n        child.ordered = listNode.ordered;\n      }\n      listNode.depth = depth;\n    });\n    return ast;\n  };\n}\n\nmodule.exports = addListMetadata;\n","'use strict'\n\n/* Expose. */\nmodule.exports = visitParents\n\n/* Visit. */\nfunction visitParents(tree, type, visitor) {\n  var stack = []\n\n  if (typeof type === 'function') {\n    visitor = type\n    type = null\n  }\n\n  one(tree)\n\n  /* Visit a single node. */\n  function one(node) {\n    var result\n\n    if (!type || node.type === type) {\n      result = visitor(node, stack.concat())\n    }\n\n    if (node.children && result !== false) {\n      return all(node.children, node)\n    }\n\n    return result\n  }\n\n  /* Visit children in `parent`. */\n  function all(children, parent) {\n    var length = children.length\n    var index = -1\n    var child\n\n    stack.push(parent)\n\n    while (++index < length) {\n      child = children[index]\n\n      if (child && one(child) === false) {\n        return false\n      }\n    }\n\n    stack.pop()\n\n    return true\n  }\n}\n","\"use strict\";\n\n/**\n * Naive, simple plugin to match inline nodes without attributes\n * This allows say <strong>foo</strong>, but not <strong class=\"very\">foo</strong>\n * For proper HTML support, you'll want a different plugin\n **/\nvar visit = require('unist-util-visit');\n\nvar type = 'virtualHtml';\nvar selfClosingRe = /^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\s*\\/?>$/i;\nvar simpleTagRe = /^<(\\/?)([a-z]+)\\s*>$/;\n\nmodule.exports = function (tree) {\n  var open;\n  var currentParent;\n  visit(tree, 'html', function (node, index, parent) {\n    if (currentParent !== parent) {\n      open = [];\n      currentParent = parent;\n    }\n\n    var selfClosing = getSelfClosing(node);\n\n    if (selfClosing) {\n      parent.children.splice(index, 1, {\n        type: type,\n        tag: selfClosing,\n        position: node.position\n      });\n      return true;\n    }\n\n    var current = getSimpleTag(node, parent);\n\n    if (!current) {\n      return true;\n    }\n\n    var matching = findAndPull(open, current.tag);\n\n    if (matching) {\n      parent.children.splice(index, 0, virtual(current, matching, parent));\n    } else if (!current.opening) {\n      open.push(current);\n    }\n\n    return true;\n  }, true // Iterate in reverse\n  );\n  return tree;\n};\n\nfunction findAndPull(open, matchingTag) {\n  var i = open.length;\n\n  while (i--) {\n    if (open[i].tag === matchingTag) {\n      return open.splice(i, 1)[0];\n    }\n  }\n\n  return false;\n}\n\nfunction getSimpleTag(node, parent) {\n  var match = node.value.match(simpleTagRe);\n  return match ? {\n    tag: match[2],\n    opening: !match[1],\n    node: node\n  } : false;\n}\n\nfunction getSelfClosing(node) {\n  var match = node.value.match(selfClosingRe);\n  return match ? match[1] : false;\n}\n\nfunction virtual(fromNode, toNode, parent) {\n  var fromIndex = parent.children.indexOf(fromNode.node);\n  var toIndex = parent.children.indexOf(toNode.node);\n  var extracted = parent.children.splice(fromIndex, toIndex - fromIndex + 1);\n  var children = extracted.slice(1, -1);\n  return {\n    type: type,\n    children: children,\n    tag: fromNode.tag,\n    position: {\n      start: fromNode.node.position.start,\n      end: toNode.node.position.end,\n      indent: []\n    }\n  };\n}","module.exports = identity\nfunction identity(d) {\n  return d\n}\n","\"use strict\";\n\nvar visit = require('unist-util-visit');\n\nvar splice = [].splice;\n\nexports.ofType = function (types, mode) {\n  return ifNotMatch(allow, mode);\n\n  function allow(node, index, parent) {\n    return !types.includes(node.type);\n  }\n};\n\nexports.ifNotMatch = ifNotMatch;\n\nfunction ifNotMatch(allow, mode) {\n  return transform;\n\n  function transform(tree) {\n    visit(tree, filter);\n    return tree;\n  } // eslint-disable-next-line consistent-return\n\n\n  function filter(node, index, parent) {\n    if (parent && !allow(node, index, parent)) {\n      var parameters = [index, 1];\n\n      if (mode === 'unwrap' && node.children) {\n        parameters = parameters.concat(node.children);\n      }\n\n      splice.apply(parent.children, parameters);\n      return index;\n    }\n  }\n}","'use strict';\n\nvar React = require('react');\n\nvar xtend = require('xtend');\n\nvar ReactIs = require('react-is');\n\nfunction astToReact(node, options) {\n  var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var renderer = options.renderers[node.type]; // Nodes created by plugins do not have positional info, in which case we set\n  // an object that matches the positon interface.\n\n  if (!node.position) {\n    node.position = {\n      start: {\n        line: null,\n        column: null,\n        offset: null\n      },\n      end: {\n        line: null,\n        column: null,\n        offset: null\n      }\n    };\n  }\n\n  var pos = node.position.start;\n  var key = [node.type, pos.line, pos.column, index].join('-');\n\n  if (!ReactIs.isValidElementType(renderer)) {\n    throw new Error(\"Renderer for type `\".concat(node.type, \"` not defined or is not renderable\"));\n  }\n\n  var nodeProps = getNodeProps(node, key, options, renderer, parent, index);\n  return React.createElement(renderer, nodeProps, nodeProps.children || resolveChildren() || undefined);\n\n  function resolveChildren() {\n    return node.children && node.children.map(function (childNode, i) {\n      return astToReact(childNode, options, {\n        node: node,\n        props: nodeProps\n      }, i);\n    });\n  }\n} // eslint-disable-next-line max-params, complexity\n\n\nfunction getNodeProps(node, key, opts, renderer, parent, index) {\n  var props = {\n    key: key\n  };\n  var isSimpleRenderer = typeof renderer === 'string' || renderer === React.Fragment; // `sourcePos` is true if the user wants source information (line/column info from markdown source)\n\n  if (opts.sourcePos && node.position) {\n    props['data-sourcepos'] = flattenPosition(node.position);\n  }\n\n  if (opts.rawSourcePos && !isSimpleRenderer) {\n    props.sourcePosition = node.position;\n  } // If `includeNodeIndex` is true, pass node index info to all non-tag renderers\n\n\n  if (opts.includeNodeIndex && parent.node && parent.node.children && !isSimpleRenderer) {\n    props.index = parent.node.children.indexOf(node);\n    props.parentChildCount = parent.node.children.length;\n  }\n\n  var ref = node.identifier !== null && node.identifier !== undefined ?\n  /* istanbul ignore next - plugins could inject an undefined reference. */\n  opts.definitions[node.identifier.toUpperCase()] || {} : null;\n\n  switch (node.type) {\n    case 'root':\n      assignDefined(props, {\n        className: opts.className\n      });\n      break;\n\n    case 'text':\n      props.nodeKey = key;\n      props.children = node.value;\n      break;\n\n    case 'heading':\n      props.level = node.depth;\n      break;\n\n    case 'list':\n      props.start = node.start;\n      props.ordered = node.ordered;\n      props.spread = node.spread;\n      props.depth = node.depth;\n      break;\n\n    case 'listItem':\n      props.checked = node.checked;\n      props.spread = node.spread;\n      props.ordered = node.ordered;\n      props.index = node.index;\n      props.children = getListItemChildren(node, parent).map(function (childNode, i) {\n        return astToReact(childNode, opts, {\n          node: node,\n          props: props\n        }, i);\n      });\n      break;\n\n    case 'definition':\n      assignDefined(props, {\n        identifier: node.identifier,\n        title: node.title,\n        url: node.url\n      });\n      break;\n\n    case 'code':\n      assignDefined(props, {\n        language: node.lang && node.lang.split(/\\s/, 1)[0]\n      });\n      break;\n\n    case 'inlineCode':\n      props.children = node.value;\n      props.inline = true;\n      break;\n\n    case 'link':\n      assignDefined(props, {\n        title: node.title || undefined,\n        target: typeof opts.linkTarget === 'function' ? opts.linkTarget(node.url, node.children, node.title) : opts.linkTarget,\n        href: opts.transformLinkUri ? opts.transformLinkUri(node.url, node.children, node.title) : node.url\n      });\n      break;\n\n    case 'image':\n      assignDefined(props, {\n        src: opts.transformImageUri ? opts.transformImageUri(node.url, node.children, node.title, node.alt) : node.url,\n        alt: node.alt || '',\n        title: node.title || undefined\n      });\n      break;\n\n    case 'linkReference':\n      assignDefined(props, xtend(ref, {\n        href: opts.transformLinkUri ? opts.transformLinkUri(ref.href) : ref.href\n      }));\n      break;\n\n    case 'imageReference':\n      assignDefined(props, {\n        src: opts.transformImageUri && ref.href ? opts.transformImageUri(ref.href, node.children, ref.title, node.alt) : ref.href,\n        alt: node.alt || '',\n        title: ref.title || undefined\n      });\n      break;\n\n    case 'table':\n    case 'tableHead':\n    case 'tableBody':\n      props.columnAlignment = node.align;\n      break;\n\n    case 'tableRow':\n      props.isHeader = parent.node.type === 'tableHead';\n      props.columnAlignment = parent.props.columnAlignment;\n      break;\n\n    case 'tableCell':\n      assignDefined(props, {\n        isHeader: parent.props.isHeader,\n        align: parent.props.columnAlignment[index]\n      });\n      break;\n\n    case 'virtualHtml':\n      props.tag = node.tag;\n      break;\n\n    case 'html':\n      // @todo find a better way than this\n      props.isBlock = node.position.start.line !== node.position.end.line;\n      props.allowDangerousHtml = opts.allowDangerousHtml;\n      props.escapeHtml = opts.escapeHtml;\n      props.skipHtml = opts.skipHtml;\n      break;\n\n    case 'parsedHtml':\n      {\n        var parsedChildren;\n\n        if (node.children) {\n          parsedChildren = node.children.map(function (child, i) {\n            return astToReact(child, opts, {\n              node: node,\n              props: props\n            }, i);\n          });\n        }\n\n        props.allowDangerousHtml = opts.allowDangerousHtml;\n        props.escapeHtml = opts.escapeHtml;\n        props.skipHtml = opts.skipHtml;\n        props.element = node.element ? mergeNodeChildren(node, parsedChildren) : null;\n        break;\n      }\n\n    default:\n      assignDefined(props, xtend(node, {\n        type: undefined,\n        position: undefined,\n        children: undefined\n      }));\n  }\n\n  if (!isSimpleRenderer && node.value) {\n    props.value = node.value;\n  }\n\n  if (!isSimpleRenderer) {\n    props.node = node;\n  }\n\n  return props;\n}\n\nfunction assignDefined(target, attrs) {\n  for (var key in attrs) {\n    if (typeof attrs[key] !== 'undefined') {\n      target[key] = attrs[key];\n    }\n  }\n}\n\nfunction mergeNodeChildren(node, parsedChildren) {\n  var el = node.element;\n\n  if (Array.isArray(el)) {\n    /* istanbul ignore next - `div` fallback for old React. */\n    var Fragment = React.Fragment || 'div';\n    return React.createElement(Fragment, null, el);\n  }\n\n  if (el.props.children || parsedChildren) {\n    var children = React.Children.toArray(el.props.children).concat(parsedChildren);\n    return React.cloneElement(el, null, children);\n  }\n\n  return React.cloneElement(el, null);\n}\n\nfunction flattenPosition(pos) {\n  return [pos.start.line, ':', pos.start.column, '-', pos.end.line, ':', pos.end.column].map(String).join('');\n}\n\nfunction getListItemChildren(node, parent) {\n  /* istanbul ignore next - list items are always in a list, but best to be sure. */\n  var loose = parent && parent.node ? listLoose(parent.node) : listItemLoose(node);\n  return loose ? node.children : unwrapParagraphs(node);\n}\n\nfunction unwrapParagraphs(node) {\n  return node.children.reduce(function (array, child) {\n    return array.concat(child.type === 'paragraph' ? child.children : [child]);\n  }, []);\n}\n\nfunction listLoose(node) {\n  var children = node.children;\n  var loose = node.spread;\n  var index = -1;\n\n  while (!loose && ++index < children.length) {\n    loose = listItemLoose(children[index]);\n  }\n\n  return loose;\n}\n\nfunction listItemLoose(node) {\n  var spread = node.spread;\n  /* istanbul ignore next - spread is present from remark-parse, but maybe plugins dont set it. */\n\n  return spread === undefined || spread === null ? node.children.length > 1 : spread;\n}\n\nmodule.exports = astToReact;","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function (node) {\n  visit(node, 'table', wrap);\n  return node;\n};\n\nfunction wrap(table) {\n  var children = table.children;\n  table.children = [{\n    type: 'tableHead',\n    align: table.align,\n    children: [children[0]],\n    position: children[0].position\n  }];\n\n  if (children.length > 1) {\n    table.children.push({\n      type: 'tableBody',\n      align: table.align,\n      children: children.slice(1),\n      position: {\n        start: children[1].position.start,\n        end: children[children.length - 1].position.end\n      }\n    });\n  }\n}","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function getDefinitions(tree) {\n  var definitions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  visit(tree, 'definition', function (node) {\n    var identifier = node.identifier.toUpperCase();\n    if (identifier in definitions) return;\n    definitions[identifier] = {\n      href: node.url,\n      title: node.title\n    };\n  });\n  return definitions;\n};","\"use strict\";\n\nvar protocols = ['http', 'https', 'mailto', 'tel'];\n\nmodule.exports = function uriTransformer(uri) {\n  var url = (uri || '').trim();\n  var first = url.charAt(0);\n\n  if (first === '#' || first === '/') {\n    return url;\n  }\n\n  var colon = url.indexOf(':');\n\n  if (colon === -1) {\n    return url;\n  }\n\n  var length = protocols.length;\n  var index = -1;\n\n  while (++index < length) {\n    var protocol = protocols[index];\n\n    if (colon === protocol.length && url.slice(0, protocol.length).toLowerCase() === protocol) {\n      return url;\n    }\n  }\n\n  index = url.indexOf('?');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  }\n\n  index = url.indexOf('#');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  } // eslint-disable-next-line no-script-url\n\n\n  return 'javascript:void(0)';\n};","/* eslint-disable react/prop-types, react/no-multi-comp */\n'use strict';\n\nvar xtend = require('xtend');\n\nvar React = require('react');\n/* istanbul ignore next - Dont crash on old React. */\n\n\nvar supportsStringRender = parseInt((React.version || '16').slice(0, 2), 10) >= 16;\nvar createElement = React.createElement;\nmodule.exports = {\n  break: 'br',\n  paragraph: 'p',\n  emphasis: 'em',\n  strong: 'strong',\n  thematicBreak: 'hr',\n  blockquote: 'blockquote',\n  delete: 'del',\n  link: 'a',\n  image: 'img',\n  linkReference: 'a',\n  imageReference: 'img',\n  table: SimpleRenderer.bind(null, 'table'),\n  tableHead: SimpleRenderer.bind(null, 'thead'),\n  tableBody: SimpleRenderer.bind(null, 'tbody'),\n  tableRow: SimpleRenderer.bind(null, 'tr'),\n  tableCell: TableCell,\n  root: Root,\n  text: TextRenderer,\n  list: List,\n  listItem: ListItem,\n  definition: NullRenderer,\n  heading: Heading,\n  inlineCode: InlineCode,\n  code: CodeBlock,\n  html: Html,\n  virtualHtml: VirtualHtml,\n  parsedHtml: ParsedHtml\n};\n\nfunction TextRenderer(props) {\n  /* istanbul ignore next - a text node w/o a value could be injected by plugins */\n  var children = props.children || '';\n  /* istanbul ignore next - `span` is a fallback for old React. */\n\n  return supportsStringRender ? children : createElement('span', null, children);\n}\n\nfunction Root(props) {\n  var className = props.className;\n  var root = !className && React.Fragment || 'div';\n  return createElement(root, className ? {\n    className: className\n  } : null, props.children);\n}\n\nfunction SimpleRenderer(tag, props) {\n  return createElement(tag, getCoreProps(props), props.children);\n}\n\nfunction TableCell(props) {\n  var style = props.align ? {\n    textAlign: props.align\n  } : undefined;\n  var coreProps = getCoreProps(props);\n  return createElement(props.isHeader ? 'th' : 'td', style ? xtend({\n    style: style\n  }, coreProps) : coreProps, props.children);\n}\n\nfunction Heading(props) {\n  return createElement(\"h\".concat(props.level), getCoreProps(props), props.children);\n}\n\nfunction List(props) {\n  var attrs = getCoreProps(props);\n\n  if (props.start !== null && props.start !== 1 && props.start !== undefined) {\n    attrs.start = props.start.toString();\n  }\n\n  return createElement(props.ordered ? 'ol' : 'ul', attrs, props.children);\n}\n\nfunction ListItem(props) {\n  var checkbox = null;\n\n  if (props.checked !== null && props.checked !== undefined) {\n    var checked = props.checked;\n    checkbox = createElement('input', {\n      type: 'checkbox',\n      checked: checked,\n      readOnly: true\n    });\n  }\n\n  return createElement('li', getCoreProps(props), checkbox, props.children);\n}\n\nfunction CodeBlock(props) {\n  var className = props.language && \"language-\".concat(props.language);\n  var code = createElement('code', className ? {\n    className: className\n  } : null, props.value);\n  return createElement('pre', getCoreProps(props), code);\n}\n\nfunction InlineCode(props) {\n  return createElement('code', getCoreProps(props), props.children);\n}\n\nfunction Html(props) {\n  if (props.skipHtml) {\n    return null;\n  }\n\n  var dangerous = props.allowDangerousHtml || props.escapeHtml === false;\n  var tag = props.isBlock ? 'div' : 'span';\n\n  if (!dangerous) {\n    /* istanbul ignore next - `tag` is a fallback for old React. */\n    return createElement(React.Fragment || tag, null, props.value);\n  }\n\n  var nodeProps = {\n    dangerouslySetInnerHTML: {\n      __html: props.value\n    }\n  };\n  return createElement(tag, nodeProps);\n}\n\nfunction ParsedHtml(props) {\n  /* To do: `React.cloneElement` is slow, is it really needed? */\n  return props['data-sourcepos'] ? React.cloneElement(props.element, {\n    'data-sourcepos': props['data-sourcepos']\n  }) : props.element;\n}\n\nfunction VirtualHtml(props) {\n  return createElement(props.tag, getCoreProps(props), props.children);\n}\n\nfunction NullRenderer() {\n  return null;\n}\n\nfunction getCoreProps(props) {\n  var source = props['data-sourcepos'];\n  /* istanbul ignore next - nodes from plugins w/o position */\n\n  return source ? {\n    'data-sourcepos': source\n  } : {};\n}","\"use strict\";\n\nvar HtmlParser = '__RMD_HTML_PARSER__';\n/* istanbul ignore next - Fallback for `Symbol`. */\n\nexports.HtmlParser = typeof Symbol === 'undefined' ? HtmlParser : Symbol(HtmlParser);","'use strict'\n\nvar syntax = require('micromark-extension-gfm')\nvar fromMarkdown = require('mdast-util-gfm/from-markdown')\nvar toMarkdown = require('mdast-util-gfm/to-markdown')\n\nvar warningIssued\n\nmodule.exports = gfm\n\nfunction gfm(options) {\n  var data = this.data()\n\n  /* istanbul ignore next - old remark. */\n  if (\n    !warningIssued &&\n    ((this.Parser &&\n      this.Parser.prototype &&\n      this.Parser.prototype.blockTokenizers) ||\n      (this.Compiler &&\n        this.Compiler.prototype &&\n        this.Compiler.prototype.visitors))\n  ) {\n    warningIssued = true\n    console.warn(\n      '[remark-gfm] Warning: please upgrade to remark 13 to use this plugin'\n    )\n  }\n\n  add('micromarkExtensions', syntax(options))\n  add('fromMarkdownExtensions', fromMarkdown)\n  add('toMarkdownExtensions', toMarkdown(options))\n\n  function add(field, value) {\n    /* istanbul ignore if - other extensions. */\n    if (data[field]) data[field].push(value)\n    else data[field] = [value]\n  }\n}\n","module.exports = require('./syntax')\n","var combine = require('micromark/dist/util/combine-extensions')\nvar autolink = require('micromark-extension-gfm-autolink-literal')\nvar strikethrough = require('micromark-extension-gfm-strikethrough')\nvar table = require('micromark-extension-gfm-table')\nvar tasklist = require('micromark-extension-gfm-task-list-item')\n\nmodule.exports = create\n\nfunction create(options) {\n  return combine([autolink, strikethrough(options), table, tasklist])\n}\n","module.exports = require('./syntax')\n","var asciiAlpha = require('micromark/dist/character/ascii-alpha')\nvar asciiAlphanumeric = require('micromark/dist/character/ascii-alphanumeric')\nvar asciiControl = require('micromark/dist/character/ascii-control')\nvar markdownLineEnding = require('micromark/dist/character/markdown-line-ending')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nvar www = {tokenize: tokenizeWww, partial: true}\nvar domain = {tokenize: tokenizeDomain, partial: true}\nvar path = {tokenize: tokenizePath, partial: true}\nvar punctuation = {tokenize: tokenizePunctuation, partial: true}\nvar namedCharacterReference = {\n  tokenize: tokenizeNamedCharacterReference,\n  partial: true\n}\n\nvar wwwAutolink = {tokenize: tokenizeWwwAutolink, previous: previousWww}\nvar httpAutolink = {tokenize: tokenizeHttpAutolink, previous: previousHttp}\nvar emailAutolink = {tokenize: tokenizeEmailAutolink, previous: previousEmail}\n\nvar text = {}\n\n// Export hooked constructs.\nexports.text = text\n\n// `0`\nvar code = 48\n\n// While the code is smaller than `{`.\nwhile (code < 123) {\n  text[code] = emailAutolink\n  code++\n  // Jump from `:` -> `A`\n  if (code === 58) code = 65\n  // Jump from `[` -> `a`\n  else if (code === 91) code = 97\n}\n\n// `+`\ntext[43] = emailAutolink\n// `-`\ntext[45] = emailAutolink\n// `.`\ntext[46] = emailAutolink\n// `_`\ntext[95] = emailAutolink\n// `h`.\ntext[72] = [emailAutolink, httpAutolink]\ntext[104] = [emailAutolink, httpAutolink]\n// `w`.\ntext[87] = [emailAutolink, wwwAutolink]\ntext[119] = [emailAutolink, wwwAutolink]\n\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  var self = this\n  var hasDot\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      !gfmAtext(code) ||\n      !previousEmail(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkEmail')\n    return atext(code)\n  }\n\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code)\n      return atext\n    }\n\n    // `@`\n    if (code === 64) {\n      effects.consume(code)\n      return label\n    }\n\n    return nok(code)\n  }\n\n  function label(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, done, dotContinuation)(code)\n    }\n\n    if (\n      // `-`\n      code === 45 ||\n      // `_`\n      code === 95\n    ) {\n      return effects.check(punctuation, nok, dashOrUnderscoreContinuation)(code)\n    }\n\n    if (asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return label\n    }\n\n    return done(code)\n  }\n\n  function dotContinuation(code) {\n    effects.consume(code)\n    hasDot = true\n    return label\n  }\n\n  function dashOrUnderscoreContinuation(code) {\n    effects.consume(code)\n    return afterDashOrUnderscore\n  }\n\n  function afterDashOrUnderscore(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, nok, dotContinuation)(code)\n    }\n\n    return label(code)\n  }\n\n  function done(code) {\n    if (hasDot) {\n      effects.exit('literalAutolinkEmail')\n      effects.exit('literalAutolink')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 87 && code - 32 !== 87) ||\n      !previousWww(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkWww')\n    // For `www.` we check instead of attempt, because when it matches, GH\n    // treats it as part of a domain (yes, it says a valid domain must come\n    // after `www.`, but thats not how its implemented by them).\n    return effects.check(\n      www,\n      effects.attempt(domain, effects.attempt(path, done), nok),\n      nok\n    )(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkWww')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeHttpAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 72 && code - 32 !== 72) ||\n      !previousHttp(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkHttp')\n    effects.consume(code)\n    return t1\n  }\n\n  function t1(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return t2\n    }\n\n    return nok(code)\n  }\n\n  function t2(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return p\n    }\n\n    return nok(code)\n  }\n\n  function p(code) {\n    // `p`\n    if (code === 80 || code - 32 === 80) {\n      effects.consume(code)\n      return s\n    }\n\n    return nok(code)\n  }\n\n  function s(code) {\n    // `s`\n    if (code === 83 || code - 32 === 83) {\n      effects.consume(code)\n      return colon\n    }\n\n    return colon(code)\n  }\n\n  function colon(code) {\n    // `:`\n    if (code === 58) {\n      effects.consume(code)\n      return slash1\n    }\n\n    return nok(code)\n  }\n\n  function slash1(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return slash2\n    }\n\n    return nok(code)\n  }\n\n  function slash2(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      unicodePunctuation(code)\n      ? nok(code)\n      : effects.attempt(domain, effects.attempt(path, done), nok)(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkHttp')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeWww(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume a `w`.\n    effects.consume(code)\n    return w2\n  }\n\n  function w2(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return w3\n    }\n\n    return nok(code)\n  }\n\n  function w3(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return dot\n    }\n\n    return nok(code)\n  }\n\n  function dot(code) {\n    // `.`\n    if (code === 46) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? nok(code) : ok(code)\n  }\n}\n\nfunction tokenizeDomain(effects, ok, nok) {\n  var hasUnderscoreInLastSegment\n  var hasUnderscoreInLastLastSegment\n\n  return domain\n\n  function domain(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        done,\n        punctuationContinuation\n      )(code)\n    }\n\n    if (code === 46 /* `.` */ || code === 95 /* `_` */) {\n      return effects.check(punctuation, done, punctuationContinuation)(code)\n    }\n\n    // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www..com`,\n    // so thats Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n    if (\n      asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      (code !== 45 /* `-` */ && unicodePunctuation(code))\n    ) {\n      return done(code)\n    }\n\n    effects.consume(code)\n    return domain\n  }\n\n  function punctuationContinuation(code) {\n    // `.`\n    if (code === 46) {\n      hasUnderscoreInLastLastSegment = hasUnderscoreInLastSegment\n      hasUnderscoreInLastSegment = undefined\n      effects.consume(code)\n      return domain\n    }\n\n    // `_`\n    if (code === 95) hasUnderscoreInLastSegment = true\n\n    effects.consume(code)\n    return domain\n  }\n\n  function done(code) {\n    if (!hasUnderscoreInLastLastSegment && !hasUnderscoreInLastSegment) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizePath(effects, ok) {\n  var balance = 0\n\n  return inPath\n\n  function inPath(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        ok,\n        continuedPunctuation\n      )(code)\n    }\n\n    // `(`\n    if (code === 40) {\n      balance++\n    }\n\n    // `)`\n    if (code === 41) {\n      return effects.check(\n        punctuation,\n        parenAtPathEnd,\n        continuedPunctuation\n      )(code)\n    }\n\n    if (pathEnd(code)) {\n      return ok(code)\n    }\n\n    if (trailingPunctuation(code)) {\n      return effects.check(punctuation, ok, continuedPunctuation)(code)\n    }\n\n    effects.consume(code)\n    return inPath\n  }\n\n  function continuedPunctuation(code) {\n    effects.consume(code)\n    return inPath\n  }\n\n  function parenAtPathEnd(code) {\n    balance--\n    return balance < 0 ? ok(code) : continuedPunctuation(code)\n  }\n}\n\nfunction tokenizeNamedCharacterReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume an ampersand.\n    effects.consume(code)\n    return inside\n  }\n\n  function inside(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return inside\n    }\n\n    // `;`\n    if (code === 59) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    // If the named character reference is followed by the end of the path, its\n    // not continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction tokenizePunctuation(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Always a valid trailing punctuation marker.\n    effects.consume(code)\n    return after\n  }\n\n  function after(code) {\n    // Check the next.\n    if (trailingPunctuation(code)) {\n      effects.consume(code)\n      return after\n    }\n\n    // If the punctuation marker is followed by the end of the path, its not\n    // continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction trailingPunctuation(code) {\n  return (\n    // `!`\n    code === 33 ||\n    // `\"`\n    code === 34 ||\n    // `'`\n    code === 39 ||\n    // `)`\n    code === 41 ||\n    // `*`\n    code === 42 ||\n    // `,`\n    code === 44 ||\n    // `.`\n    code === 46 ||\n    // `:`\n    code === 58 ||\n    // `;`\n    code === 59 ||\n    // `<`\n    code === 60 ||\n    // `?`\n    code === 63 ||\n    // `_`.\n    code === 95 ||\n    // `~`\n    code === 126\n  )\n}\n\nfunction pathEnd(code) {\n  return (\n    // EOF.\n    code === null ||\n    // CR, LF, CRLF, HT, VS.\n    code < 0 ||\n    // Space.\n    code === 32 ||\n    // `<`\n    code === 60\n  )\n}\n\nfunction gfmAtext(code) {\n  return (\n    code === 43 /* `+` */ ||\n    code === 45 /* `-` */ ||\n    code === 46 /* `.` */ ||\n    code === 95 /* `_` */ ||\n    asciiAlphanumeric(code)\n  )\n}\n\nfunction previousWww(code) {\n  return (\n    code === null ||\n    code < 0 ||\n    code === 32 /* ` ` */ ||\n    code === 40 /* `(` */ ||\n    code === 42 /* `*` */ ||\n    code === 95 /* `_` */ ||\n    code === 126 /* `~` */\n  )\n}\n\nfunction previousHttp(code) {\n  return code === null || !asciiAlpha(code)\n}\n\nfunction previousEmail(code) {\n  return code !== 47 /* `/` */ && previousHttp(code)\n}\n\nfunction previous(events) {\n  var index = events.length\n\n  while (index--) {\n    if (\n      (events[index][1].type === 'labelLink' ||\n        events[index][1].type === 'labelImage') &&\n      !events[index][1]._balanced\n    ) {\n      return true\n    }\n  }\n}\n","module.exports = create\n\nvar classifyCharacter = require('micromark/dist/util/classify-character')\nvar chunkedSplice = require('micromark/dist/util/chunked-splice')\nvar resolveAll = require('micromark/dist/util/resolve-all')\nvar shallow = require('micromark/dist/util/shallow')\n\nfunction create(options) {\n  var settings = options || {}\n  var single = settings.singleTilde\n  var tokenizer = {\n    tokenize: tokenizeStrikethrough,\n    resolveAll: resolveAllStrikethrough\n  }\n\n  if (single === null || single === undefined) {\n    single = true\n  }\n\n  return {text: {126: tokenizer}, insideSpan: {null: tokenizer}}\n\n  // Take events and resolve strikethrough.\n  function resolveAllStrikethrough(events, context) {\n    var index = -1\n    var strikethrough\n    var text\n    var open\n    var nextEvents\n\n    // Walk through all events.\n    while (++index < events.length) {\n      // Find a token that can close.\n      if (\n        events[index][0] === 'enter' &&\n        events[index][1].type === 'strikethroughSequenceTemporary' &&\n        events[index][1]._close\n      ) {\n        open = index\n\n        // Now walk back to find an opener.\n        while (open--) {\n          // Find a token that can open the closer.\n          if (\n            events[open][0] === 'exit' &&\n            events[open][1].type === 'strikethroughSequenceTemporary' &&\n            events[open][1]._open &&\n            // If the sizes are the same:\n            events[index][1].end.offset - events[index][1].start.offset ===\n              events[open][1].end.offset - events[open][1].start.offset\n          ) {\n            events[index][1].type = 'strikethroughSequence'\n            events[open][1].type = 'strikethroughSequence'\n\n            strikethrough = {\n              type: 'strikethrough',\n              start: shallow(events[open][1].start),\n              end: shallow(events[index][1].end)\n            }\n\n            text = {\n              type: 'strikethroughText',\n              start: shallow(events[open][1].end),\n              end: shallow(events[index][1].start)\n            }\n\n            // Opening.\n            nextEvents = [\n              ['enter', strikethrough, context],\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context],\n              ['enter', text, context]\n            ]\n\n            // Between.\n            chunkedSplice(\n              nextEvents,\n              nextEvents.length,\n              0,\n              resolveAll(\n                context.parser.constructs.insideSpan.null,\n                events.slice(open + 1, index),\n                context\n              )\n            )\n\n            // Closing.\n            chunkedSplice(nextEvents, nextEvents.length, 0, [\n              ['exit', text, context],\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context],\n              ['exit', strikethrough, context]\n            ])\n\n            chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n\n            index = open + nextEvents.length - 2\n            break\n          }\n        }\n      }\n    }\n\n    return removeRemainingSequences(events)\n  }\n\n  function removeRemainingSequences(events) {\n    var index = -1\n    var length = events.length\n\n    while (++index < length) {\n      if (events[index][1].type === 'strikethroughSequenceTemporary') {\n        events[index][1].type = 'data'\n      }\n    }\n\n    return events\n  }\n\n  function tokenizeStrikethrough(effects, ok, nok) {\n    var previous = this.previous\n    var events = this.events\n    var size = 0\n\n    return start\n\n    function start(code) {\n      if (\n        code !== 126 ||\n        (previous === 126 &&\n          events[events.length - 1][1].type !== 'characterEscape')\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('strikethroughSequenceTemporary')\n      return more(code)\n    }\n\n    function more(code) {\n      var before = classifyCharacter(previous)\n      var token\n      var after\n\n      if (code === 126) {\n        // If this is the third marker, exit.\n        if (size > 1) return nok(code)\n        effects.consume(code)\n        size++\n        return more\n      }\n\n      if (size < 2 && !single) return nok(code)\n      token = effects.exit('strikethroughSequenceTemporary')\n      after = classifyCharacter(code)\n      token._open = !after || (after === 2 && before)\n      token._close = !before || (before === 2 && after)\n      return ok(code)\n    }\n  }\n}\n","module.exports = require('./syntax')\n","exports.flow = {\n  null: {tokenize: tokenizeTable, resolve: resolveTable, interruptible: true}\n}\n\nvar createSpace = require('micromark/dist/tokenize/factory-space')\n\nvar setextUnderlineMini = {tokenize: tokenizeSetextUnderlineMini, partial: true}\nvar nextPrefixedOrBlank = {tokenize: tokenizeNextPrefixedOrBlank, partial: true}\n\nfunction resolveTable(events, context) {\n  var length = events.length\n  var index = -1\n  var token\n  var inHead\n  var inDelimiterRow\n  var inRow\n  var cell\n  var content\n  var text\n  var contentStart\n  var contentEnd\n  var cellStart\n\n  while (++index < length) {\n    token = events[index][1]\n\n    if (inRow) {\n      if (token.type === 'temporaryTableCellContent') {\n        contentStart = contentStart || index\n        contentEnd = index\n      }\n\n      if (\n        // Combine separate content parts into one.\n        (token.type === 'tableCellDivider' || token.type === 'tableRow') &&\n        contentEnd\n      ) {\n        content = {\n          type: 'tableContent',\n          start: events[contentStart][1].start,\n          end: events[contentEnd][1].end\n        }\n        text = {\n          type: 'chunkText',\n          start: content.start,\n          end: content.end,\n          contentType: 'text'\n        }\n\n        events.splice(\n          contentStart,\n          contentEnd - contentStart + 1,\n          ['enter', content, context],\n          ['enter', text, context],\n          ['exit', text, context],\n          ['exit', content, context]\n        )\n        index -= contentEnd - contentStart - 3\n        length = events.length\n        contentStart = undefined\n        contentEnd = undefined\n      }\n    }\n\n    if (\n      events[index][0] === 'exit' &&\n      cellStart &&\n      cellStart + 1 < index &&\n      (token.type === 'tableCellDivider' ||\n        (token.type === 'tableRow' &&\n          (cellStart + 3 < index ||\n            events[cellStart][1].type !== 'whitespace')))\n    ) {\n      cell = {\n        type: inDelimiterRow\n          ? 'tableDelimiter'\n          : inHead\n          ? 'tableHeader'\n          : 'tableData',\n        start: events[cellStart][1].start,\n        end: events[index][1].end\n      }\n      events.splice(index + (token.type === 'tableCellDivider' ? 1 : 0), 0, [\n        'exit',\n        cell,\n        context\n      ])\n      events.splice(cellStart, 0, ['enter', cell, context])\n      index += 2\n      length = events.length\n      cellStart = index + 1\n    }\n\n    if (token.type === 'tableRow') {\n      inRow = events[index][0] === 'enter'\n\n      if (inRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableDelimiterRow') {\n      inDelimiterRow = events[index][0] === 'enter'\n\n      if (inDelimiterRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableHead') {\n      inHead = events[index][0] === 'enter'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeTable(effects, ok, nok) {\n  var align = []\n  var tableHeaderCount = 0\n  var seenDelimiter\n  var hasDash\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore if - used to be passed in beta micromark versions. */\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return nok(code)\n    }\n\n    effects.enter('table')._align = align\n    effects.enter('tableHead')\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    tableHeaderCount++\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentHead(code)\n  }\n\n  function cellDividerHead(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    seenDelimiter = true\n    return cellBreakHead\n  }\n\n  function cellBreakHead(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndHead(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    if (seenDelimiter) {\n      seenDelimiter = undefined\n      tableHeaderCount++\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentHead(code)\n  }\n\n  function inWhitespaceHead(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    effects.exit('whitespace')\n    return cellBreakHead(code)\n  }\n\n  function inCellContentHead(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakHead(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeHead : inCellContentHead\n  }\n\n  function inCellContentEscapeHead(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentHead\n    }\n\n    // Anything else.\n    return inCellContentHead(code)\n  }\n\n  function atRowEndHead(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    effects.exit('tableRow')\n    effects.exit('tableHead')\n\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n\n    // If a setext heading, exit.\n    return effects.check(\n      setextUnderlineMini,\n      nok,\n      // Support an indent before the delimiter row.\n      createSpace(effects, rowStartDelimiter, 'linePrefix', 4)\n    )\n  }\n\n  function rowStartDelimiter(code) {\n    // If theres another space, or were at the EOL/EOF, exit.\n    if (code === null || code < 0 || code === 32) {\n      return nok(code)\n    }\n\n    effects.enter('tableDelimiterRow')\n    return atDelimiterRowBreak(code)\n  }\n\n  function atDelimiterRowBreak(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      align.push(null)\n      return inFillerDelimiter\n    }\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n      align.push('left')\n      return afterLeftAlignment\n    }\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function inWhitespaceDelimiter(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    effects.exit('whitespace')\n    return atDelimiterRowBreak(code)\n  }\n\n  function inFillerDelimiter(code) {\n    // `-`\n    if (code === 45) {\n      effects.consume(code)\n      return inFillerDelimiter\n    }\n\n    effects.exit('tableDelimiterFiller')\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n\n      align[align.length - 1] =\n        align[align.length - 1] === 'left' ? 'center' : 'right'\n\n      return afterRightAlignment\n    }\n\n    return atDelimiterRowBreak(code)\n  }\n\n  function afterLeftAlignment(code) {\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      return inFillerDelimiter\n    }\n\n    // Anything else is not ok.\n    return nok(code)\n  }\n\n  function afterRightAlignment(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `|`\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function rowEndDelimiter(code) {\n    effects.exit('tableDelimiterRow')\n\n    // Exit if there was no dash at all, or if the header cell count is not the\n    // delimiter cell count.\n    if (!hasDash || tableHeaderCount !== align.length) {\n      return nok(code)\n    }\n\n    if (code === null) {\n      return tableClose(code)\n    }\n\n    return effects.check(nextPrefixedOrBlank, tableClose, tableContinue)(code)\n  }\n\n  function tableClose(code) {\n    effects.exit('table')\n    return ok(code)\n  }\n\n  function tableContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // We checked that its not a prefixed or blank line, so were certain a\n    // body is coming, though it may be indented.\n    return createSpace(effects, bodyStart, 'linePrefix', 4)\n  }\n\n  function bodyStart(code) {\n    effects.enter('tableBody')\n    return rowStartBody(code)\n  }\n\n  function rowStartBody(code) {\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentBody(code)\n  }\n\n  function cellDividerBody(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    return cellBreakBody\n  }\n\n  function cellBreakBody(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndBody(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentBody(code)\n  }\n\n  function inWhitespaceBody(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    effects.exit('whitespace')\n    return cellBreakBody(code)\n  }\n\n  function inCellContentBody(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakBody(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeBody : inCellContentBody\n  }\n\n  function inCellContentEscapeBody(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentBody\n    }\n\n    // Anything else.\n    return inCellContentBody(code)\n  }\n\n  function atRowEndBody(code) {\n    effects.exit('tableRow')\n\n    if (code === null) {\n      return tableBodyClose(code)\n    }\n\n    return effects.check(\n      nextPrefixedOrBlank,\n      tableBodyClose,\n      tableBodyContinue\n    )(code)\n  }\n\n  function tableBodyClose(code) {\n    effects.exit('tableBody')\n    return tableClose(code)\n  }\n\n  function tableBodyContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // Support an optional prefix, then start a body row.\n    return createSpace(effects, rowStartBody, 'linePrefix', 4)\n  }\n}\n\n// Based on micromark, but that wont work as were in a table, and that expects\n// content.\n// <https://github.com/micromark/micromark/blob/main/lib/tokenize/setext-underline.js>\nfunction tokenizeSetextUnderlineMini(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // `-`\n    if (code !== 45) {\n      return nok(code)\n    }\n\n    effects.enter('setextUnderline')\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return sequence\n    }\n\n    return whitespace(code)\n  }\n\n  function whitespace(code) {\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return whitespace\n    }\n\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeNextPrefixedOrBlank(effects, ok, nok) {\n  var size = 0\n\n  return start\n\n  function start(code) {\n    // This is a check, so we dont care about tokens, but we open a bogus one\n    // so were valid.\n    effects.enter('check')\n    // EOL.\n    effects.consume(code)\n    return whitespace\n  }\n\n  function whitespace(code) {\n    // VS or SP.\n    if (code === -1 || code === 32) {\n      effects.consume(code)\n      size++\n      return size === 4 ? ok : whitespace\n    }\n\n    // EOF or whitespace\n    if (code === null || code < 0) {\n      return ok(code)\n    }\n\n    // Anything else.\n    return nok(code)\n  }\n}\n","module.exports = require('./syntax')\n","var markdownLineEndingOrSpace = require('micromark/dist/character/markdown-line-ending-or-space')\nvar spaceFactory = require('micromark/dist/tokenize/factory-space')\nvar prefixSize = require('micromark/dist/util/prefix-size')\n\nvar tasklistCheck = {tokenize: tokenizeTasklistCheck}\n\nexports.text = {91: tasklistCheck}\n\nfunction tokenizeTasklistCheck(effects, ok, nok) {\n  var self = this\n\n  return open\n\n  function open(code) {\n    if (\n      // Exit if not `[`.\n      code !== 91 ||\n      // Exit if theres stuff before.\n      self.previous !== null ||\n      // Exit if not in the first content that is the first child of a list\n      // item.\n      !self._gfmTasklistFirstContentOfListItem\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('taskListCheck')\n    effects.enter('taskListCheckMarker')\n    effects.consume(code)\n    effects.exit('taskListCheckMarker')\n    return inside\n  }\n\n  function inside(code) {\n    // Tab or space.\n    if (code === -2 || code === 32) {\n      effects.enter('taskListCheckValueUnchecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueUnchecked')\n      return close\n    }\n\n    // Upper- and lower `x`.\n    if (code === 88 || code === 120) {\n      effects.enter('taskListCheckValueChecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueChecked')\n      return close\n    }\n\n    return nok(code)\n  }\n\n  function close(code) {\n    // `]`\n    if (code === 93) {\n      effects.enter('taskListCheckMarker')\n      effects.consume(code)\n      effects.exit('taskListCheckMarker')\n      effects.exit('taskListCheck')\n      return effects.check({tokenize: spaceThenNonSpace}, ok, nok)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction spaceThenNonSpace(effects, ok, nok) {\n  var self = this\n\n  return spaceFactory(effects, after, 'whitespace')\n\n  function after(code) {\n    return prefixSize(self.events, 'whitespace') &&\n      code !== null &&\n      !markdownLineEndingOrSpace(code)\n      ? ok(code)\n      : nok(code)\n  }\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/from-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/from-markdown')\nvar table = require('mdast-util-gfm-table/from-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/from-markdown')\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = configure([\n  autolinkLiteral,\n  strikethrough,\n  table,\n  taskListItem\n])\n\nfunction configure(extensions) {\n  var config = {transforms: [], canContainEols: []}\n  var length = extensions.length\n  var index = -1\n\n  while (++index < length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n  var right\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n    right = extension[key]\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, right)\n    } else {\n      Object.assign(left, right)\n    }\n  }\n}\n","var ccount = require('ccount')\nvar findAndReplace = require('mdast-util-find-and-replace')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nexports.transforms = [transformGfmAutolinkLiterals]\nexports.enter = {\n  literalAutolink: enterLiteralAutolink,\n  literalAutolinkEmail: enterLiteralAutolinkValue,\n  literalAutolinkHttp: enterLiteralAutolinkValue,\n  literalAutolinkWww: enterLiteralAutolinkValue\n}\nexports.exit = {\n  literalAutolink: exitLiteralAutolink,\n  literalAutolinkEmail: exitLiteralAutolinkEmail,\n  literalAutolinkHttp: exitLiteralAutolinkHttp,\n  literalAutolinkWww: exitLiteralAutolinkWww\n}\n\nfunction enterLiteralAutolink(token) {\n  this.enter({type: 'link', title: null, url: '', children: []}, token)\n}\n\nfunction enterLiteralAutolinkValue(token) {\n  this.config.enter.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkHttp(token) {\n  this.config.exit.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkWww(token) {\n  this.config.exit.data.call(this, token)\n  this.stack[this.stack.length - 1].url = 'http://' + this.sliceSerialize(token)\n}\n\nfunction exitLiteralAutolinkEmail(token) {\n  this.config.exit.autolinkEmail.call(this, token)\n}\n\nfunction exitLiteralAutolink(token) {\n  this.exit(token)\n}\n\nfunction transformGfmAutolinkLiterals(tree) {\n  findAndReplace(\n    tree,\n    [\n      [/(https?:\\/\\/|www(?=\\.))([-.\\w]+)([^ \\t\\r\\n]*)/i, findUrl],\n      [/([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)/, findEmail]\n    ],\n    {ignore: ['link', 'linkReference']}\n  )\n}\n\nfunction findUrl($0, protocol, domain, path, match) {\n  var prefix = ''\n  var parts\n  var result\n\n  // Not an expected previous character.\n  if (!previous(match)) {\n    return false\n  }\n\n  // Treat `www` as part of the domain.\n  if (/^w/i.test(protocol)) {\n    domain = protocol + domain\n    protocol = ''\n    prefix = 'http://'\n  }\n\n  if (!isCorrectDomain(domain)) {\n    return false\n  }\n\n  parts = splitUrl(domain + path)\n\n  if (!parts[0]) return false\n\n  result = {\n    type: 'link',\n    title: null,\n    url: prefix + protocol + parts[0],\n    children: [{type: 'text', value: protocol + parts[0]}]\n  }\n\n  if (parts[1]) {\n    result = [result, {type: 'text', value: parts[1]}]\n  }\n\n  return result\n}\n\nfunction findEmail($0, atext, label, match) {\n  // Not an expected previous character.\n  if (!previous(match, true) || /[_-]$/.test(label)) {\n    return false\n  }\n\n  return {\n    type: 'link',\n    title: null,\n    url: 'mailto:' + atext + '@' + label,\n    children: [{type: 'text', value: atext + '@' + label}]\n  }\n}\n\nfunction isCorrectDomain(domain) {\n  var parts = domain.split('.')\n\n  if (\n    parts.length < 2 ||\n    (parts[parts.length - 1] &&\n      (/_/.test(parts[parts.length - 1]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 1]))) ||\n    (parts[parts.length - 2] &&\n      (/_/.test(parts[parts.length - 2]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 2])))\n  ) {\n    return false\n  }\n\n  return true\n}\n\nfunction splitUrl(url) {\n  var trail = /[!\"&'),.:;<>?\\]}]+$/.exec(url)\n  var closingParenIndex\n  var openingParens\n  var closingParens\n\n  if (trail) {\n    url = url.slice(0, trail.index)\n    trail = trail[0]\n    closingParenIndex = trail.indexOf(')')\n    openingParens = ccount(url, '(')\n    closingParens = ccount(url, ')')\n\n    while (closingParenIndex !== -1 && openingParens > closingParens) {\n      url += trail.slice(0, closingParenIndex + 1)\n      trail = trail.slice(closingParenIndex + 1)\n      closingParenIndex = trail.indexOf(')')\n      closingParens++\n    }\n  }\n\n  return [url, trail]\n}\n\nfunction previous(match, email) {\n  var code = match.input.charCodeAt(match.index - 1)\n  return (\n    (code !== code || unicodeWhitespace(code) || unicodePunctuation(code)) &&\n    (!email || code !== 47)\n  )\n}\n","'use strict'\n\nmodule.exports = ccount\n\nfunction ccount(source, character) {\n  var value = String(source)\n  var count = 0\n  var index\n\n  if (typeof character !== 'string') {\n    throw new Error('Expected character')\n  }\n\n  index = value.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = value.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","'use strict'\n\nmodule.exports = findAndReplace\n\nvar visit = require('unist-util-visit-parents')\nvar convert = require('unist-util-is/convert')\nvar escape = require('escape-string-regexp')\n\nvar splice = [].splice\n\nfunction findAndReplace(tree, find, replace, options) {\n  var settings\n  var schema\n\n  if (typeof find === 'string' || (find && typeof find.exec === 'function')) {\n    schema = [[find, replace]]\n  } else {\n    schema = find\n    options = replace\n  }\n\n  settings = options || {}\n\n  search(tree, settings, handlerFactory(toPairs(schema)))\n\n  return tree\n\n  function handlerFactory(pairs) {\n    var pair = pairs[0]\n\n    return handler\n\n    function handler(node, parent) {\n      var find = pair[0]\n      var replace = pair[1]\n      var nodes = []\n      var start = 0\n      var index = parent.children.indexOf(node)\n      var position\n      var match\n      var subhandler\n      var value\n\n      find.lastIndex = 0\n\n      match = find.exec(node.value)\n\n      while (match) {\n        position = match.index\n        value = replace.apply(\n          null,\n          [].concat(match, {index: match.index, input: match.input})\n        )\n\n        if (value !== false) {\n          if (start !== position) {\n            nodes.push({type: 'text', value: node.value.slice(start, position)})\n          }\n\n          if (typeof value === 'string' && value.length > 0) {\n            value = {type: 'text', value: value}\n          }\n\n          if (value) {\n            nodes = [].concat(nodes, value)\n          }\n\n          start = position + match[0].length\n        }\n\n        if (!find.global) {\n          break\n        }\n\n        match = find.exec(node.value)\n      }\n\n      if (position === undefined) {\n        nodes = [node]\n        index--\n      } else {\n        if (start < node.value.length) {\n          nodes.push({type: 'text', value: node.value.slice(start)})\n        }\n\n        nodes.unshift(index, 1)\n        splice.apply(parent.children, nodes)\n      }\n\n      if (pairs.length > 1) {\n        subhandler = handlerFactory(pairs.slice(1))\n        position = -1\n\n        while (++position < nodes.length) {\n          node = nodes[position]\n\n          if (node.type === 'text') {\n            subhandler(node, parent)\n          } else {\n            search(node, settings, subhandler)\n          }\n        }\n      }\n\n      return index + nodes.length + 1\n    }\n  }\n}\n\nfunction search(tree, settings, handler) {\n  var ignored = convert(settings.ignore || [])\n  var result = []\n\n  visit(tree, 'text', visitor)\n\n  return result\n\n  function visitor(node, parents) {\n    var index = -1\n    var parent\n    var grandparent\n\n    while (++index < parents.length) {\n      parent = parents[index]\n\n      if (\n        ignored(\n          parent,\n          grandparent ? grandparent.children.indexOf(parent) : undefined,\n          grandparent\n        )\n      ) {\n        return\n      }\n\n      grandparent = parent\n    }\n\n    return handler(node, grandparent)\n  }\n}\n\nfunction toPairs(schema) {\n  var result = []\n  var key\n  var index\n\n  if (typeof schema !== 'object') {\n    throw new Error('Expected array or object as schema')\n  }\n\n  if ('length' in schema) {\n    index = -1\n\n    while (++index < schema.length) {\n      result.push([\n        toExpression(schema[index][0]),\n        toFunction(schema[index][1])\n      ])\n    }\n  } else {\n    for (key in schema) {\n      result.push([toExpression(key), toFunction(schema[key])])\n    }\n  }\n\n  return result\n}\n\nfunction toExpression(find) {\n  return typeof find === 'string' ? new RegExp(escape(find), 'g') : find\n}\n\nfunction toFunction(replace) {\n  return typeof replace === 'function' ? replace : returner\n\n  function returner() {\n    return replace\n  }\n}\n","'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when its always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n","exports.canContainEols = ['delete']\nexports.enter = {strikethrough: enterStrikethrough}\nexports.exit = {strikethrough: exitStrikethrough}\n\nfunction enterStrikethrough(token) {\n  this.enter({type: 'delete', children: []}, token)\n}\n\nfunction exitStrikethrough(token) {\n  this.exit(token)\n}\n","exports.enter = {\n  table: enterTable,\n  tableData: enterCell,\n  tableHeader: enterCell,\n  tableRow: enterRow\n}\nexports.exit = {\n  codeText: exitCodeText,\n  table: exitTable,\n  tableData: exit,\n  tableHeader: exit,\n  tableRow: exit\n}\n\nfunction enterTable(token) {\n  this.enter({type: 'table', align: token._align, children: []}, token)\n  this.setData('inTable', true)\n}\n\nfunction exitTable(token) {\n  this.exit(token)\n  this.setData('inTable')\n}\n\nfunction enterRow(token) {\n  this.enter({type: 'tableRow', children: []}, token)\n}\n\nfunction exit(token) {\n  this.exit(token)\n}\n\nfunction enterCell(token) {\n  this.enter({type: 'tableCell', children: []}, token)\n}\n\n// Overwrite the default code text data handler to unescape escaped pipes when\n// they are in tables.\nfunction exitCodeText(token) {\n  var value = this.resume()\n\n  if (this.getData('inTable')) {\n    value = value.replace(/\\\\([\\\\|])/g, replace)\n  }\n\n  this.stack[this.stack.length - 1].value = value\n  this.exit(token)\n}\n\nfunction replace($0, $1) {\n  // Pipes work, backslashes dont (but cant escape pipes).\n  return $1 === '|' ? $1 : $0\n}\n","exports.exit = {\n  taskListCheckValueChecked: exitCheck,\n  taskListCheckValueUnchecked: exitCheck,\n  paragraph: exitParagraphWithTaskListItem\n}\n\nfunction exitCheck(token) {\n  // Were always in a paragraph, in a list item.\n  this.stack[this.stack.length - 2].checked =\n    token.type === 'taskListCheckValueChecked'\n}\n\nfunction exitParagraphWithTaskListItem(token) {\n  var parent = this.stack[this.stack.length - 2]\n  var node = this.stack[this.stack.length - 1]\n  var siblings = parent.children\n  var head = node.children[0]\n  var index = -1\n  var firstParaghraph\n\n  if (\n    parent &&\n    parent.type === 'listItem' &&\n    typeof parent.checked === 'boolean' &&\n    head &&\n    head.type === 'text'\n  ) {\n    while (++index < siblings.length) {\n      if (siblings[index].type === 'paragraph') {\n        firstParaghraph = siblings[index]\n        break\n      }\n    }\n\n    if (firstParaghraph === node) {\n      // Must start with a space or a tab.\n      head.value = head.value.slice(1)\n\n      if (head.value.length === 0) {\n        node.children.shift()\n      } else {\n        head.position.start.column++\n        head.position.start.offset++\n        node.position.start = Object.assign({}, head.position.start)\n      }\n    }\n  }\n\n  this.exit(token)\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/to-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/to-markdown')\nvar table = require('mdast-util-gfm-table/to-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/to-markdown')\nvar configure = require('mdast-util-to-markdown/lib/configure')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var config = configure(\n    {handlers: {}, join: [], unsafe: [], options: {}},\n    {\n      extensions: [autolinkLiteral, strikethrough, table(options), taskListItem]\n    }\n  )\n\n  return Object.assign(config.options, {\n    handlers: config.handlers,\n    join: config.join,\n    unsafe: config.unsafe\n  })\n}\n","var inConstruct = 'phrasing'\nvar notInConstruct = ['autolink', 'link', 'image', 'label']\n\nexports.unsafe = [\n  {\n    character: '@',\n    before: '[+\\\\-.\\\\w]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: '.',\n    before: '[Ww]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: ':',\n    before: '[ps]',\n    after: '\\\\/',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  }\n]\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\n\nexports.unsafe = [{character: '~', inConstruct: 'phrasing'}]\nexports.handlers = {delete: handleDelete}\n\nhandleDelete.peek = peekDelete\n\nfunction handleDelete(node, _, context) {\n  var exit = context.enter('emphasis')\n  var value = phrasing(node, context, {before: '~', after: '~'})\n  exit()\n  return '~~' + value + '~~'\n}\n\nfunction peekDelete() {\n  return '~'\n}\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\nvar defaultInlineCode = require('mdast-util-to-markdown/lib/handle/inline-code')\nvar markdownTable = require('markdown-table')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var settings = options || {}\n  var padding = settings.tableCellPadding\n  var alignDelimiters = settings.tablePipeAlign\n  var stringLength = settings.stringLength\n  var around = padding ? ' ' : '|'\n\n  return {\n    unsafe: [\n      {character: '\\r', inConstruct: 'tableCell'},\n      {character: '\\n', inConstruct: 'tableCell'},\n      // A pipe, when followed by a tab or space (padding), or a dash or colon\n      // (unpadded delimiter row), could result in a table.\n      {atBreak: true, character: '|', after: '[\\t :-]'},\n      // A pipe in a cell must be encoded.\n      {character: '|', inConstruct: 'tableCell'},\n      // A colon must be followed by a dash, in which case it could start a\n      // delimiter row.\n      {atBreak: true, character: ':', after: '-'},\n      // A delimiter row can also start with a dash, when followed by more\n      // dashes, a colon, or a pipe.\n      // This is a stricter version than the built in check for lists, thematic\n      // breaks, and setex heading underlines though:\n      // <https://github.com/syntax-tree/mdast-util-to-markdown/blob/51a2038/lib/unsafe.js#L57>\n      {atBreak: true, character: '-', after: '[:|-]'}\n    ],\n    handlers: {\n      table: handleTable,\n      tableRow: handleTableRow,\n      tableCell: handleTableCell,\n      inlineCode: inlineCodeWithTable\n    }\n  }\n\n  function handleTable(node, _, context) {\n    return serializeData(handleTableAsData(node, context), node.align)\n  }\n\n  // This function isnt really used normally, because we handle rows at the\n  // table level.\n  // But, if someone passes in a table row, this ensures we make somewhat sense.\n  function handleTableRow(node, _, context) {\n    var row = handleTableRowAsData(node, context)\n    // `markdown-table` will always add an align row\n    var value = serializeData([row])\n    return value.slice(0, value.indexOf('\\n'))\n  }\n\n  function handleTableCell(node, _, context) {\n    var exit = context.enter('tableCell')\n    var value = phrasing(node, context, {before: around, after: around})\n    exit()\n    return value\n  }\n\n  function serializeData(matrix, align) {\n    return markdownTable(matrix, {\n      align: align,\n      alignDelimiters: alignDelimiters,\n      padding: padding,\n      stringLength: stringLength\n    })\n  }\n\n  function handleTableAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('table')\n\n    while (++index < length) {\n      result[index] = handleTableRowAsData(children[index], context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function handleTableRowAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('tableRow')\n\n    while (++index < length) {\n      result[index] = handleTableCell(children[index], node, context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function inlineCodeWithTable(node, parent, context) {\n    var value = defaultInlineCode(node, parent, context)\n\n    if (context.stack.indexOf('tableCell') !== -1) {\n      value = value.replace(/\\|/g, '\\\\$&')\n    }\n\n    return value\n  }\n}\n","module.exports = inlineCode\ninlineCode.peek = inlineCodePeek\n\nvar patternCompile = require('../util/pattern-compile')\n\nfunction inlineCode(node, parent, context) {\n  var value = node.value || ''\n  var sequence = '`'\n  var index = -1\n  var pattern\n  var expression\n  var match\n  var position\n\n  // If there is a single grave accent on its own in the code, use a fence of\n  // two.\n  // If there are two in a row, use one.\n  while (new RegExp('(^|[^`])' + sequence + '([^`]|$)').test(value)) {\n    sequence += '`'\n  }\n\n  // If this is not just spaces or eols (tabs dont count), and either the\n  // first or last character are a space, eol, or tick, then pad with spaces.\n  if (\n    /[^ \\r\\n]/.test(value) &&\n    (/[ \\r\\n`]/.test(value.charAt(0)) ||\n      /[ \\r\\n`]/.test(value.charAt(value.length - 1)))\n  ) {\n    value = ' ' + value + ' '\n  }\n\n  // We have a potential problem: certain characters after eols could result in\n  // blocks being seen.\n  // For example, if someone injected the string `'\\n# b'`, then that would\n  // result in an ATX heading.\n  // We cant escape characters in `inlineCode`, but because eols are\n  // transformed to spaces when going from markdown to HTML anyway, we can swap\n  // them out.\n  while (++index < context.unsafe.length) {\n    pattern = context.unsafe[index]\n\n    // Only look for `atBreak`s.\n    // Btw: note that `atBreak` patterns will always start the regex at LF or\n    // CR.\n    if (!pattern.atBreak) continue\n\n    expression = patternCompile(pattern)\n\n    while ((match = expression.exec(value))) {\n      position = match.index\n\n      // Support CRLF (patterns only look for one of the characters).\n      if (\n        value.charCodeAt(position) === 10 /* `\\n` */ &&\n        value.charCodeAt(position - 1) === 13 /* `\\r` */\n      ) {\n        position--\n      }\n\n      value = value.slice(0, position) + ' ' + value.slice(match.index + 1)\n    }\n  }\n\n  return sequence + value + sequence\n}\n\nfunction inlineCodePeek() {\n  return '`'\n}\n","module.exports = patternCompile\n\nfunction patternCompile(pattern) {\n  var before\n  var after\n\n  if (!pattern._compiled) {\n    before = pattern.before ? '(?:' + pattern.before + ')' : ''\n    after = pattern.after ? '(?:' + pattern.after + ')' : ''\n\n    if (pattern.atBreak) {\n      before = '[\\\\r\\\\n][\\\\t ]*' + before\n    }\n\n    pattern._compiled = new RegExp(\n      (before ? '(' + before + ')' : '') +\n        (/[|\\\\{}()[\\]^$+*?.-]/.test(pattern.character) ? '\\\\' : '') +\n        pattern.character +\n        (after || ''),\n      'g'\n    )\n  }\n\n  return pattern._compiled\n}\n","'use strict'\n\nvar repeat = require('repeat-string')\n\nmodule.exports = markdownTable\n\nvar trailingWhitespace = / +$/\n\n// Characters.\nvar space = ' '\nvar lineFeed = '\\n'\nvar dash = '-'\nvar colon = ':'\nvar verticalBar = '|'\n\nvar x = 0\nvar C = 67\nvar L = 76\nvar R = 82\nvar c = 99\nvar l = 108\nvar r = 114\n\n// Create a table from a matrix of strings.\nfunction markdownTable(table, options) {\n  var settings = options || {}\n  var padding = settings.padding !== false\n  var start = settings.delimiterStart !== false\n  var end = settings.delimiterEnd !== false\n  var align = (settings.align || []).concat()\n  var alignDelimiters = settings.alignDelimiters !== false\n  var alignments = []\n  var stringLength = settings.stringLength || defaultStringLength\n  var rowIndex = -1\n  var rowLength = table.length\n  var cellMatrix = []\n  var sizeMatrix = []\n  var row = []\n  var sizes = []\n  var longestCellByColumn = []\n  var mostCellsPerRow = 0\n  var cells\n  var columnIndex\n  var columnLength\n  var largest\n  var size\n  var cell\n  var lines\n  var line\n  var before\n  var after\n  var code\n\n  // This is a superfluous loop if we dont align delimiters, but otherwise wed\n  // do superfluous work when aligning, so optimize for aligning.\n  while (++rowIndex < rowLength) {\n    cells = table[rowIndex]\n    columnIndex = -1\n    columnLength = cells.length\n    row = []\n    sizes = []\n\n    if (columnLength > mostCellsPerRow) {\n      mostCellsPerRow = columnLength\n    }\n\n    while (++columnIndex < columnLength) {\n      cell = serialize(cells[columnIndex])\n\n      if (alignDelimiters === true) {\n        size = stringLength(cell)\n        sizes[columnIndex] = size\n\n        largest = longestCellByColumn[columnIndex]\n\n        if (largest === undefined || size > largest) {\n          longestCellByColumn[columnIndex] = size\n        }\n      }\n\n      row.push(cell)\n    }\n\n    cellMatrix[rowIndex] = row\n    sizeMatrix[rowIndex] = sizes\n  }\n\n  // Figure out which alignments to use.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n\n  if (typeof align === 'object' && 'length' in align) {\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = toAlignment(align[columnIndex])\n    }\n  } else {\n    code = toAlignment(align)\n\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = code\n    }\n  }\n\n  // Inject the alignment row.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n  row = []\n  sizes = []\n\n  while (++columnIndex < columnLength) {\n    code = alignments[columnIndex]\n    before = ''\n    after = ''\n\n    if (code === l) {\n      before = colon\n    } else if (code === r) {\n      after = colon\n    } else if (code === c) {\n      before = colon\n      after = colon\n    }\n\n    // There *must* be at least one hyphen-minus in each alignment cell.\n    size = alignDelimiters\n      ? Math.max(\n          1,\n          longestCellByColumn[columnIndex] - before.length - after.length\n        )\n      : 1\n\n    cell = before + repeat(dash, size) + after\n\n    if (alignDelimiters === true) {\n      size = before.length + size + after.length\n\n      if (size > longestCellByColumn[columnIndex]) {\n        longestCellByColumn[columnIndex] = size\n      }\n\n      sizes[columnIndex] = size\n    }\n\n    row[columnIndex] = cell\n  }\n\n  // Inject the alignment row.\n  cellMatrix.splice(1, 0, row)\n  sizeMatrix.splice(1, 0, sizes)\n\n  rowIndex = -1\n  rowLength = cellMatrix.length\n  lines = []\n\n  while (++rowIndex < rowLength) {\n    row = cellMatrix[rowIndex]\n    sizes = sizeMatrix[rowIndex]\n    columnIndex = -1\n    columnLength = mostCellsPerRow\n    line = []\n\n    while (++columnIndex < columnLength) {\n      cell = row[columnIndex] || ''\n      before = ''\n      after = ''\n\n      if (alignDelimiters === true) {\n        size = longestCellByColumn[columnIndex] - (sizes[columnIndex] || 0)\n        code = alignments[columnIndex]\n\n        if (code === r) {\n          before = repeat(space, size)\n        } else if (code === c) {\n          if (size % 2 === 0) {\n            before = repeat(space, size / 2)\n            after = before\n          } else {\n            before = repeat(space, size / 2 + 0.5)\n            after = repeat(space, size / 2 - 0.5)\n          }\n        } else {\n          after = repeat(space, size)\n        }\n      }\n\n      if (start === true && columnIndex === 0) {\n        line.push(verticalBar)\n      }\n\n      if (\n        padding === true &&\n        // Dont add the opening space if were not aligning and the cell is\n        // empty: there will be a closing space.\n        !(alignDelimiters === false && cell === '') &&\n        (start === true || columnIndex !== 0)\n      ) {\n        line.push(space)\n      }\n\n      if (alignDelimiters === true) {\n        line.push(before)\n      }\n\n      line.push(cell)\n\n      if (alignDelimiters === true) {\n        line.push(after)\n      }\n\n      if (padding === true) {\n        line.push(space)\n      }\n\n      if (end === true || columnIndex !== columnLength - 1) {\n        line.push(verticalBar)\n      }\n    }\n\n    line = line.join('')\n\n    if (end === false) {\n      line = line.replace(trailingWhitespace, '')\n    }\n\n    lines.push(line)\n  }\n\n  return lines.join(lineFeed)\n}\n\nfunction serialize(value) {\n  return value === null || value === undefined ? '' : String(value)\n}\n\nfunction defaultStringLength(value) {\n  return value.length\n}\n\nfunction toAlignment(value) {\n  var code = typeof value === 'string' ? value.charCodeAt(0) : x\n\n  return code === L || code === l\n    ? l\n    : code === R || code === r\n    ? r\n    : code === C || code === c\n    ? c\n    : x\n}\n","var defaultListItem = require('mdast-util-to-markdown/lib/handle/list-item')\n\nexports.unsafe = [{atBreak: true, character: '-', after: '[:|-]'}]\n\nexports.handlers = {\n  listItem: listItemWithTaskListItem\n}\n\nfunction listItemWithTaskListItem(node, parent, context) {\n  var value = defaultListItem(node, parent, context)\n  var head = node.children[0]\n\n  if (typeof node.checked === 'boolean' && head && head.type === 'paragraph') {\n    value = value.replace(/^(?:[*+-]|\\d+\\.)([\\r\\n]| {1,3})/, check)\n  }\n\n  return value\n\n  function check($0) {\n    return $0 + '[' + (node.checked ? 'x' : ' ') + '] '\n  }\n}\n","module.exports = listItem\n\nvar repeat = require('repeat-string')\nvar checkBullet = require('../util/check-bullet')\nvar checkListItemIndent = require('../util/check-list-item-indent')\nvar flow = require('../util/container-flow')\nvar indentLines = require('../util/indent-lines')\n\nfunction listItem(node, parent, context) {\n  var bullet = checkBullet(context)\n  var listItemIndent = checkListItemIndent(context)\n  var size\n  var value\n  var exit\n\n  if (parent && parent.ordered) {\n    bullet =\n      (parent.start > -1 ? parent.start : 1) +\n      (context.options.incrementListMarker === false\n        ? 0\n        : parent.children.indexOf(node)) +\n      '.'\n  }\n\n  size = bullet.length + 1\n\n  if (\n    listItemIndent === 'tab' ||\n    (listItemIndent === 'mixed' && ((parent && parent.spread) || node.spread))\n  ) {\n    size = Math.ceil(size / 4) * 4\n  }\n\n  exit = context.enter('listItem')\n  value = indentLines(flow(node, context), map)\n  exit()\n\n  return value\n\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : repeat(' ', size)) + line\n    }\n\n    return (blank ? bullet : bullet + repeat(' ', size - bullet.length)) + line\n  }\n}\n","module.exports = checkBullet\n\nfunction checkBullet(context) {\n  var marker = context.options.bullet || '*'\n\n  if (marker !== '*' && marker !== '+' && marker !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bullet`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  return marker\n}\n","module.exports = checkListItemIndent\n\nfunction checkListItemIndent(context) {\n  var style = context.options.listItemIndent || 'tab'\n\n  if (style === 1 || style === '1') {\n    return 'one'\n  }\n\n  if (style !== 'tab' && style !== 'one' && style !== 'mixed') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        style +\n        '` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`'\n    )\n  }\n\n  return style\n}\n","module.exports = flow\n\nvar repeat = require('repeat-string')\n\nfunction flow(parent, context) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    results.push(\n      context.handle(child, parent, context, {before: '\\n', after: '\\n'})\n    )\n\n    if (index + 1 < children.length) {\n      results.push(between(child, children[index + 1]))\n    }\n  }\n\n  return results.join('')\n\n  function between(left, right) {\n    var index = -1\n    var result\n\n    while (++index < context.join.length) {\n      result = context.join[index](left, right, parent, context)\n\n      if (result === true || result === 1) {\n        break\n      }\n\n      if (typeof result === 'number') {\n        return repeat('\\n', 1 + Number(result))\n      }\n\n      if (result === false) {\n        return '\\n\\n<!---->\\n\\n'\n      }\n    }\n\n    return '\\n\\n'\n  }\n}\n","module.exports = indentLines\n\nvar eol = /\\r?\\n|\\r/g\n\nfunction indentLines(value, map) {\n  var result = []\n  var start = 0\n  var line = 0\n  var match\n\n  while ((match = eol.exec(value))) {\n    one(value.slice(start, match.index))\n    result.push(match[0])\n    start = match.index + match[0].length\n    line++\n  }\n\n  one(value.slice(start))\n\n  return result.join('')\n\n  function one(value) {\n    result.push(map(value, line, !value))\n  }\n}\n","module.exports = configure\n\nfunction configure(base, extension) {\n  var index = -1\n  var key\n\n  // First do subextensions.\n  if (extension.extensions) {\n    while (++index < extension.extensions.length) {\n      configure(base, extension.extensions[index])\n    }\n  }\n\n  for (key in extension) {\n    if (key === 'extensions') {\n      // Empty.\n    } else if (key === 'unsafe' || key === 'join') {\n      base[key] = base[key].concat(extension[key] || [])\n    } else if (key === 'handlers') {\n      base[key] = Object.assign(base[key], extension[key] || {})\n    } else {\n      base.options[key] = extension[key]\n    }\n  }\n\n  return base\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\t/**\n\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t * additional languages or plugins yourself.\n\t *\n\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t *\n\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t * empty Prism object into the global scope before loading the Prism script like this:\n\t *\n\t * ```js\n\t * window.Prism = window.Prism || {};\n\t * Prism.manual = true;\n\t * // add a new <script> to load Prism's script\n\t * ```\n\t *\n\t * @default false\n\t * @type {boolean}\n\t * @memberof Prism\n\t * @public\n\t */\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t/**\n\t * A namespace for utility methods.\n\t *\n\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t * change or disappear at any time.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t */\n\tutil: {\n\t\tencode: function encode(tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the name of the type of the given value.\n\t\t *\n\t\t * @param {any} o\n\t\t * @returns {string}\n\t\t * @example\n\t\t * type(null)      === 'Null'\n\t\t * type(undefined) === 'Undefined'\n\t\t * type(123)       === 'Number'\n\t\t * type('foo')     === 'String'\n\t\t * type(true)      === 'Boolean'\n\t\t * type([1, 2])    === 'Array'\n\t\t * type({})        === 'Object'\n\t\t * type(String)    === 'Function'\n\t\t * type(/abc+/)    === 'RegExp'\n\t\t */\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\t/**\n\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t *\n\t\t * @param {Object} obj\n\t\t * @returns {number}\n\t\t */\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t/**\n\t\t * Creates a deep clone of the given object.\n\t\t *\n\t\t * The main intended use of this function is to clone language definitions.\n\t\t *\n\t\t * @param {T} o\n\t\t * @param {Record<number, any>} [visited]\n\t\t * @returns {T}\n\t\t * @template T\n\t\t */\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar clone, id;\n\t\t\tswitch (_.util.type(o)) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns whether a given class is active for `element`.\n\t\t *\n\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t * given class is just the given class with a `no-` prefix.\n\t\t *\n\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t *\n\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t * version of it, the class is considered active.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @param {string} className\n\t\t * @param {boolean} [defaultActivation=false]\n\t\t * @returns {boolean}\n\t\t */\n\t\tisActive: function (element, className, defaultActivation) {\n\t\t\tvar no = 'no-' + className;\n\n\t\t\twhile (element) {\n\t\t\t\tvar classList = element.classList;\n\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\treturn !!defaultActivation;\n\t\t}\n\t},\n\n\t/**\n\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\tlanguages: {\n\t\t/**\n\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t *\n\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t * will be overwritten at its original position.\n\t\t *\n\t\t * ## Best practices\n\t\t *\n\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t *\n\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t *\n\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t * @param {Grammar} redef The new tokens to append.\n\t\t * @returns {Grammar} The new language created.\n\t\t * @public\n\t\t * @example\n\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t *     // at its original position\n\t\t *     'comment': { ... },\n\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t * });\n\t\t */\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t *\n\t\t * ## Usage\n\t\t *\n\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t * this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.markup.style = {\n\t\t *     // token\n\t\t * };\n\t\t * ```\n\t\t *\n\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t *     'style': {\n\t\t *         // token\n\t\t *     }\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Special cases\n\t\t *\n\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t * will be ignored.\n\t\t *\n\t\t * This behavior can be used to insert tokens after `before`:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t *     'comment': Prism.languages.markup.comment,\n\t\t *     // tokens after 'comment'\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Limitations\n\t\t *\n\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t *\n\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t *\n\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t *\n\t\t * ```js\n\t\t * var oldMarkup = Prism.languages.markup;\n\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t *\n\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t * ```\n\t\t *\n\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t * object to be modified.\n\t\t * @param {string} before The key to insert before.\n\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t * object to be modified.\n\t\t *\n\t\t * Defaults to `Prism.languages`.\n\t\t * @returns {Grammar} The new grammar object.\n\t\t * @public\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\tvar grammar = root[inside];\n\t\t\t/** @type {Grammar} */\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tplugins: {},\n\n\t/**\n\t * This is the most high-level function in Prisms API.\n\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t * each one of them.\n\t *\n\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t *\n\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\t/**\n\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t * {@link Prism.highlightElement} on each one of them.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-highlightall`\n\t * 2. `before-all-elements-highlight`\n\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t *\n\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\t/**\n\t * Highlights the code inside a single element.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-sanity-check`\n\t * 2. `before-highlight`\n\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t * 4. `before-insert`\n\t * 5. `after-highlight`\n\t * 6. `complete`\n\t *\n\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t * the element's language.\n\t *\n\t * @param {Element} element The element containing the code.\n\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t *\n\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t * asynchronous highlighting to work. You can build your own bundle on the\n\t * [Download page](https://prismjs.com/download.html).\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentElement;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\t/**\n\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t * and the language definitions to use, and returns a string with the HTML produced.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-tokenize`\n\t * 2. `after-tokenize`\n\t * 3. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @param {string} language The name of the language definition passed to `grammar`.\n\t * @returns {string} The highlighted HTML.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t */\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\t/**\n\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t * and the language definitions to use, and returns an array with the tokenized code.\n\t *\n\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t *\n\t * This method could be useful in other contexts as well, as a very crude parser.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * let code = `var foo = 0;`;\n\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t * tokens.forEach(token => {\n\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t *         console.log(`Found numeric literal: ${token.content}`);\n\t *     }\n\t * });\n\t */\n\ttokenize: function(text, grammar) {\n\t\tvar rest = grammar.rest;\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\tvar tokenList = new LinkedList();\n\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\treturn toArray(tokenList);\n\t},\n\n\t/**\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\thooks: {\n\t\tall: {},\n\n\t\t/**\n\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t *\n\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t *\n\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t * @public\n\t\t */\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\t/**\n\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t *\n\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t * @public\n\t\t */\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n_self.Prism = _;\n\n\n// Typescript note:\n// The following can be used to import the Token type in JSDoc:\n//\n//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n/**\n * Creates a new token.\n *\n * @param {string} type See {@link Token#type type}\n * @param {string | TokenStream} content See {@link Token#content content}\n * @param {string|string[]} [alias] The alias(es) of the token.\n * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n * @class\n * @global\n * @public\n */\nfunction Token(type, content, alias, matchedStr) {\n\t/**\n\t * The type of the token.\n\t *\n\t * This is usually the key of a pattern in a {@link Grammar}.\n\t *\n\t * @type {string}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.type = type;\n\t/**\n\t * The strings or tokens contained by this token.\n\t *\n\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t *\n\t * @type {string | TokenStream}\n\t * @public\n\t */\n\tthis.content = content;\n\t/**\n\t * The alias(es) of the token.\n\t *\n\t * @type {string|string[]}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length | 0;\n}\n\n/**\n * A token stream is an array of strings and {@link Token Token} objects.\n *\n * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n * them.\n *\n * 1. No adjacent strings.\n * 2. No empty strings.\n *\n *    The only exception here is the token stream that only contains the empty string and nothing else.\n *\n * @typedef {Array<string | Token>} TokenStream\n * @global\n * @public\n */\n\n/**\n * Converts the given token or token stream to an HTML representation.\n *\n * The following hooks will be run:\n * 1. `wrap`: On each {@link Token}.\n *\n * @param {string | Token | TokenStream} o The token or token stream to be converted.\n * @param {string} language The name of current language.\n * @returns {string} The HTML representation of the token or token stream.\n * @memberof Token\n * @static\n */\nToken.stringify = function stringify(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\tif (Array.isArray(o)) {\n\t\tvar s = '';\n\t\to.forEach(function (e) {\n\t\t\ts += stringify(e, language);\n\t\t});\n\t\treturn s;\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tvar aliases = o.alias;\n\tif (aliases) {\n\t\tif (Array.isArray(aliases)) {\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t} else {\n\t\t\tenv.classes.push(aliases);\n\t\t}\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = '';\n\tfor (var name in env.attributes) {\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n};\n\n/**\n * @param {string} text\n * @param {LinkedList<string | Token>} tokenList\n * @param {any} grammar\n * @param {LinkedListNode<string | Token>} startNode\n * @param {number} startPos\n * @param {RematchOptions} [rematch]\n * @returns {void}\n * @private\n *\n * @typedef RematchOptions\n * @property {string} cause\n * @property {number} reach\n */\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\tfor (var token in grammar) {\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar patterns = grammar[token];\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patternObj = patterns[j],\n\t\t\t\tinside = patternObj.inside,\n\t\t\t\tlookbehind = !!patternObj.lookbehind,\n\t\t\t\tgreedy = !!patternObj.greedy,\n\t\t\t\tlookbehindLength = 0,\n\t\t\t\talias = patternObj.alias;\n\n\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t}\n\n\t\t\t/** @type {RegExp} */\n\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t) {\n\n\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\n\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t}\n\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\tpos = p;\n\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\tfor (\n\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\tk = k.next\n\t\t\t\t\t) {\n\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t}\n\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t// replace with the new match\n\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t} else {\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str);\n\t\t\t\t}\n\n\t\t\t\tif (!match) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (lookbehind) {\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t}\n\n\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\tmatchStr = match[0].slice(lookbehindLength),\n\t\t\t\t\tto = from + matchStr.length,\n\t\t\t\t\tbefore = str.slice(0, from),\n\t\t\t\t\tafter = str.slice(to);\n\n\t\t\t\tvar reach = pos + str.length;\n\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\trematch.reach = reach;\n\t\t\t\t}\n\n\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\tif (before) {\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\tpos += before.length;\n\t\t\t\t}\n\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\tif (after) {\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t}\n\n\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t// this can only happen if the current pattern is greedy\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\treach: reach\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @typedef LinkedListNode\n * @property {T} value\n * @property {LinkedListNode<T> | null} prev The previous node.\n * @property {LinkedListNode<T> | null} next The next node.\n * @template T\n * @private\n */\n\n/**\n * @template T\n * @private\n */\nfunction LinkedList() {\n\t/** @type {LinkedListNode<T>} */\n\tvar head = { value: null, prev: null, next: null };\n\t/** @type {LinkedListNode<T>} */\n\tvar tail = { value: null, prev: head, next: null };\n\thead.next = tail;\n\n\t/** @type {LinkedListNode<T>} */\n\tthis.head = head;\n\t/** @type {LinkedListNode<T>} */\n\tthis.tail = tail;\n\tthis.length = 0;\n}\n\n/**\n * Adds a new node with the given value to the list.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {T} value\n * @returns {LinkedListNode<T>} The added node.\n * @template T\n */\nfunction addAfter(list, node, value) {\n\t// assumes that node != list.tail && values.length >= 0\n\tvar next = node.next;\n\n\tvar newNode = { value: value, prev: node, next: next };\n\tnode.next = newNode;\n\tnext.prev = newNode;\n\tlist.length++;\n\n\treturn newNode;\n}\n/**\n * Removes `count` nodes after the given node. The given node will not be removed.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {number} count\n * @template T\n */\nfunction removeRange(list, node, count) {\n\tvar next = node.next;\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\tnext = next.next;\n\t}\n\tnode.next = next;\n\tnext.prev = node;\n\tlist.length -= i;\n}\n/**\n * @param {LinkedList<T>} list\n * @returns {T[]}\n * @template T\n */\nfunction toArray(list) {\n\tvar array = [];\n\tvar node = list.head.next;\n\twhile (node !== list.tail) {\n\t\tarray.push(node.value);\n\t\tnode = node.next;\n\t}\n\treturn array;\n}\n\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n// Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nfunction highlightAutomaticallyCallback() {\n\tif (!_.manual) {\n\t\t_.highlightAll();\n\t}\n}\n\nif (!_.manual) {\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-flags': /[a-z]+$/,\n\t\t\t'regex-delimiter': /^\\/|\\/$/\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\tvar Prism = window.Prism;\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\n\t/**\n\t * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} language\n\t * @returns {void}\n\t */\n\tfunction setLanguageClass(element, language) {\n\t\tvar className = element.className;\n\t\tclassName = className.replace(lang, ' ') + ' language-' + language;\n\t\telement.className = className.replace(/\\s+/g, ' ').trim();\n\t}\n\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tsetLanguageClass(code, language);\n\t\t\tsetLanguageClass(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', src, true);\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t\t// highlight code\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\t\t\t\t\t\tPrism.highlightElement(code);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// mark as failed\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_EMPTY_MESSAGE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send(null);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; element = elements[i++];) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t}\n\n})();\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _moment = _interopRequireDefault(require(\"rc-picker/lib/generate/moment\"));\n\nvar _generatePicker = _interopRequireDefault(require(\"./generatePicker\"));\n\nvar DatePicker = (0, _generatePicker[\"default\"])(_moment[\"default\"]);\nvar _default = DatePicker;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _warning = require(\"rc-util/lib/warning\");\n\nvar generateConfig = {\n  // get\n  getNow: function getNow() {\n    return (0, _moment.default)();\n  },\n  getFixedDate: function getFixedDate(string) {\n    return (0, _moment.default)(string, 'YYYY-MM-DD');\n  },\n  getEndDate: function getEndDate(date) {\n    var clone = date.clone();\n    return clone.endOf('month');\n  },\n  getWeekDay: function getWeekDay(date) {\n    var clone = date.clone().locale('en_US');\n    return clone.weekday() + clone.localeData().firstDayOfWeek();\n  },\n  getYear: function getYear(date) {\n    return date.year();\n  },\n  getMonth: function getMonth(date) {\n    return date.month();\n  },\n  getDate: function getDate(date) {\n    return date.date();\n  },\n  getHour: function getHour(date) {\n    return date.hour();\n  },\n  getMinute: function getMinute(date) {\n    return date.minute();\n  },\n  getSecond: function getSecond(date) {\n    return date.second();\n  },\n  // set\n  addYear: function addYear(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'year');\n  },\n  addMonth: function addMonth(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'month');\n  },\n  addDate: function addDate(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'day');\n  },\n  setYear: function setYear(date, year) {\n    var clone = date.clone();\n    return clone.year(year);\n  },\n  setMonth: function setMonth(date, month) {\n    var clone = date.clone();\n    return clone.month(month);\n  },\n  setDate: function setDate(date, num) {\n    var clone = date.clone();\n    return clone.date(num);\n  },\n  setHour: function setHour(date, hour) {\n    var clone = date.clone();\n    return clone.hour(hour);\n  },\n  setMinute: function setMinute(date, minute) {\n    var clone = date.clone();\n    return clone.minute(minute);\n  },\n  setSecond: function setSecond(date, second) {\n    var clone = date.clone();\n    return clone.second(second);\n  },\n  // Compare\n  isAfter: function isAfter(date1, date2) {\n    return date1.isAfter(date2);\n  },\n  isValidate: function isValidate(date) {\n    return date.isValid();\n  },\n  locale: {\n    getWeekFirstDay: function getWeekFirstDay(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().firstDayOfWeek();\n    },\n    getWeekFirstDate: function getWeekFirstDate(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.weekday(0);\n    },\n    getWeek: function getWeek(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.week();\n    },\n    getShortWeekDays: function getShortWeekDays(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().weekdaysMin();\n    },\n    getShortMonths: function getShortMonths(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().monthsShort();\n    },\n    format: function format(locale, date, _format) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.format(_format);\n    },\n    parse: function parse(locale, text, formats) {\n      var fallbackFormatList = [];\n\n      for (var i = 0; i < formats.length; i += 1) {\n        var format = formats[i];\n        var formatText = text;\n\n        if (format.includes('wo') || format.includes('Wo')) {\n          format = format.replace(/wo/g, 'w').replace(/Wo/g, 'W');\n          var matchFormat = format.match(/[-YyMmDdHhSsWwGg]+/g);\n          var matchText = formatText.match(/[-\\d]+/g);\n\n          if (matchFormat && matchText) {\n            format = matchFormat.join('');\n            formatText = matchText.join('');\n          } else {\n            fallbackFormatList.push(format.replace(/o/g, ''));\n          }\n        }\n\n        var date = (0, _moment.default)(formatText, format, locale, true);\n\n        if (date.isValid()) {\n          return date;\n        }\n      } // Fallback to fuzzy matching, this should always not reach match or need fire a issue\n\n\n      for (var _i = 0; _i < fallbackFormatList.length; _i += 1) {\n        var _date = (0, _moment.default)(text, fallbackFormatList[_i], locale, false);\n        /* istanbul ignore next */\n\n\n        if (_date.isValid()) {\n          (0, _warning.noteOnce)(false, 'Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this.');\n          return _date;\n        }\n      }\n\n      return null;\n    }\n  }\n};\nvar _default = generateConfig;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PickerButton;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nfunction PickerButton(props) {\n  return /*#__PURE__*/React.createElement(_button[\"default\"], (0, _extends2[\"default\"])({\n    size: \"small\",\n    type: \"primary\"\n  }, props));\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PickerTag;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _tag = _interopRequireDefault(require(\"../tag\"));\n\nfunction PickerTag(props) {\n  return /*#__PURE__*/React.createElement(_tag[\"default\"], (0, _extends2[\"default\"])({\n    color: \"blue\"\n  }, props));\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _omit = _interopRequireDefault(require(\"omit.js\"));\n\nvar _CloseOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseOutlined\"));\n\nvar _CheckableTag = _interopRequireDefault(require(\"./CheckableTag\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _colors = require(\"../_util/colors\");\n\nvar _wave = _interopRequireDefault(require(\"../_util/wave\"));\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar PresetColorRegex = new RegExp(\"^(\".concat(_colors.PresetColorTypes.join('|'), \")(-inverse)?$\"));\nvar PresetStatusColorRegex = new RegExp(\"^(\".concat(_colors.PresetStatusColorTypes.join('|'), \")$\"));\n\nvar InternalTag = function InternalTag(_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      style = _a.style,\n      children = _a.children,\n      icon = _a.icon,\n      color = _a.color,\n      onClose = _a.onClose,\n      closeIcon = _a.closeIcon,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? false : _a$closable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  React.useEffect(function () {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n\n  var isPresetColor = function isPresetColor() {\n    if (!color) {\n      return false;\n    }\n\n    return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n  };\n\n  var tagStyle = (0, _extends2[\"default\"])({\n    backgroundColor: color && !isPresetColor() ? color : undefined\n  }, style);\n  var presetColor = isPresetColor();\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var tagClassName = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(color), presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n\n  var handleCloseClick = function handleCloseClick(e) {\n    e.stopPropagation();\n\n    if (onClose) {\n      onClose(e);\n    }\n\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (!('visible' in props)) {\n      setVisible(false);\n    }\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    if (closable) {\n      return closeIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      }, closeIcon) : /*#__PURE__*/React.createElement(_CloseOutlined[\"default\"], {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      });\n    }\n\n    return null;\n  };\n\n  var isNeedWave = 'onClick' in props || children && children.type === 'a';\n  var tagProps = (0, _omit[\"default\"])(props, ['visible']);\n  var iconNode = icon || null;\n  var kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  var tagNode = /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, tagProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, renderCloseIcon());\n  return isNeedWave ? /*#__PURE__*/React.createElement(_wave[\"default\"], null, tagNode) : tagNode;\n};\n\nvar Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nTag.displayName = 'Tag';\nTag.CheckableTag = _CheckableTag[\"default\"];\nvar _default = Tag;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CheckableTag = function CheckableTag(_a) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      checked = _a.checked,\n      onChange = _a.onChange,\n      onClick = _a.onClick,\n      restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var handleClick = function handleClick(e) {\n    if (onChange) {\n      onChange(!checked);\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var cls = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  }));\n};\n\nvar _default = CheckableTag;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generatePicker;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons/CalendarOutlined\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ClockCircleOutlined\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _rcPicker = _interopRequireDefault(require(\"rc-picker\"));\n\nvar _en_US = _interopRequireDefault(require(\"../locale/en_US\"));\n\nvar _util = require(\"../util\");\n\nvar _devWarning = _interopRequireDefault(require(\"../../_util/devWarning\"));\n\nvar _configProvider = require(\"../../config-provider\");\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../../locale-provider/LocaleReceiver\"));\n\nvar _SizeContext = _interopRequireDefault(require(\"../../config-provider/SizeContext\"));\n\nvar _ = require(\".\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nfunction generatePicker(generateConfig) {\n  function getPicker(picker, displayName) {\n    var Picker = /*#__PURE__*/function (_React$Component) {\n      (0, _inherits2[\"default\"])(Picker, _React$Component);\n\n      var _super = (0, _createSuper2[\"default\"])(Picker);\n\n      function Picker(props) {\n        var _this;\n\n        (0, _classCallCheck2[\"default\"])(this, Picker);\n        _this = _super.call(this, props);\n        _this.pickerRef = /*#__PURE__*/React.createRef();\n\n        _this.focus = function () {\n          if (_this.pickerRef.current) {\n            _this.pickerRef.current.focus();\n          }\n        };\n\n        _this.blur = function () {\n          if (_this.pickerRef.current) {\n            _this.pickerRef.current.blur();\n          }\n        };\n\n        _this.getDefaultLocale = function () {\n          var locale = _this.props.locale;\n          var result = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _en_US[\"default\"]), locale);\n          result.lang = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, result.lang), (locale || {}).lang);\n          return result;\n        };\n\n        _this.renderPicker = function (locale) {\n          var _this$context = _this.context,\n              getPrefixCls = _this$context.getPrefixCls,\n              direction = _this$context.direction,\n              getPopupContainer = _this$context.getPopupContainer;\n\n          var _a = _this.props,\n              customizePrefixCls = _a.prefixCls,\n              customizeGetPopupContainer = _a.getPopupContainer,\n              className = _a.className,\n              customizeSize = _a.size,\n              _a$bordered = _a.bordered,\n              bordered = _a$bordered === void 0 ? true : _a$bordered,\n              placeholder = _a.placeholder,\n              restProps = __rest(_a, [\"prefixCls\", \"getPopupContainer\", \"className\", \"size\", \"bordered\", \"placeholder\"]);\n\n          var _this$props = _this.props,\n              format = _this$props.format,\n              showTime = _this$props.showTime;\n          var prefixCls = getPrefixCls('picker', customizePrefixCls);\n          var additionalProps = {\n            showToday: true\n          };\n          var additionalOverrideProps = {};\n\n          if (picker) {\n            additionalOverrideProps.picker = picker;\n          }\n\n          var mergedPicker = picker || _this.props.picker;\n          additionalOverrideProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, additionalOverrideProps), showTime ? (0, _.getTimeProps)((0, _extends2[\"default\"])({\n            format: format,\n            picker: mergedPicker\n          }, showTime)) : {}), mergedPicker === 'time' ? (0, _.getTimeProps)((0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n            format: format\n          }, _this.props), {\n            picker: mergedPicker\n          })) : {});\n          return /*#__PURE__*/React.createElement(_SizeContext[\"default\"].Consumer, null, function (size) {\n            var _classNames;\n\n            var mergedSize = customizeSize || size;\n            return /*#__PURE__*/React.createElement(_rcPicker[\"default\"], (0, _extends2[\"default\"])({\n              ref: _this.pickerRef,\n              placeholder: (0, _util.getPlaceholder)(mergedPicker, locale, placeholder),\n              suffixIcon: mergedPicker === 'time' ? /*#__PURE__*/React.createElement(_ClockCircleOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_CalendarOutlined[\"default\"], null),\n              clearIcon: /*#__PURE__*/React.createElement(_CloseCircleFilled[\"default\"], null),\n              allowClear: true,\n              transitionName: \"slide-up\"\n            }, additionalProps, restProps, additionalOverrideProps, {\n              locale: locale.lang,\n              className: (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames), className),\n              prefixCls: prefixCls,\n              getPopupContainer: customizeGetPopupContainer || getPopupContainer,\n              generateConfig: generateConfig,\n              prevIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-prev-icon\")\n              }),\n              nextIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-next-icon\")\n              }),\n              superPrevIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-super-prev-icon\")\n              }),\n              superNextIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-super-next-icon\")\n              }),\n              components: _.Components,\n              direction: direction\n            }));\n          });\n        };\n\n        (0, _devWarning[\"default\"])(picker !== 'quarter', displayName, \"DatePicker.\".concat(displayName, \" is legacy usage. Please use DatePicker[picker='\").concat(picker, \"'] directly.\"));\n        return _this;\n      }\n\n      (0, _createClass2[\"default\"])(Picker, [{\n        key: \"render\",\n        value: function render() {\n          return /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n            componentName: \"DatePicker\",\n            defaultLocale: this.getDefaultLocale\n          }, this.renderPicker);\n        }\n      }]);\n      return Picker;\n    }(React.Component);\n\n    Picker.contextType = _configProvider.ConfigContext;\n\n    if (displayName) {\n      Picker.displayName = displayName;\n    }\n\n    return Picker;\n  }\n\n  var DatePicker = getPicker();\n  var WeekPicker = getPicker('week', 'WeekPicker');\n  var MonthPicker = getPicker('month', 'MonthPicker');\n  var YearPicker = getPicker('year', 'YearPicker');\n  var TimePicker = getPicker('time', 'TimePicker');\n  var QuarterPicker = getPicker('quarter', 'QuarterPicker');\n  return {\n    DatePicker: DatePicker,\n    WeekPicker: WeekPicker,\n    MonthPicker: MonthPicker,\n    YearPicker: YearPicker,\n    TimePicker: TimePicker,\n    QuarterPicker: QuarterPicker\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/CalendarOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar CalendarOutlined = function CalendarOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _CalendarOutlined.default\n  }));\n};\n\nCalendarOutlined.displayName = 'CalendarOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(CalendarOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CalendarOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z\" } }] }, \"name\": \"calendar\", \"theme\": \"outlined\" };\nexports.default = CalendarOutlined;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/ClockCircleOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar ClockCircleOutlined = function ClockCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _ClockCircleOutlined.default\n  }));\n};\n\nClockCircleOutlined.displayName = 'ClockCircleOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(ClockCircleOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClockCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z\" } }] }, \"name\": \"clock-circle\", \"theme\": \"outlined\" };\nexports.default = ClockCircleOutlined;\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateRangePicker;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons/CalendarOutlined\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ClockCircleOutlined\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _SwapRightOutlined = _interopRequireDefault(require(\"@ant-design/icons/SwapRightOutlined\"));\n\nvar _rcPicker = require(\"rc-picker\");\n\nvar _en_US = _interopRequireDefault(require(\"../locale/en_US\"));\n\nvar _configProvider = require(\"../../config-provider\");\n\nvar _SizeContext = _interopRequireDefault(require(\"../../config-provider/SizeContext\"));\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../../locale-provider/LocaleReceiver\"));\n\nvar _util = require(\"../util\");\n\nvar _ = require(\".\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nfunction generateRangePicker(generateConfig) {\n  var RangePicker = /*#__PURE__*/function (_React$Component) {\n    (0, _inherits2[\"default\"])(RangePicker, _React$Component);\n\n    var _super = (0, _createSuper2[\"default\"])(RangePicker);\n\n    function RangePicker() {\n      var _this;\n\n      (0, _classCallCheck2[\"default\"])(this, RangePicker);\n      _this = _super.apply(this, arguments);\n      _this.pickerRef = /*#__PURE__*/React.createRef();\n\n      _this.focus = function () {\n        if (_this.pickerRef.current) {\n          _this.pickerRef.current.focus();\n        }\n      };\n\n      _this.blur = function () {\n        if (_this.pickerRef.current) {\n          _this.pickerRef.current.blur();\n        }\n      };\n\n      _this.getDefaultLocale = function () {\n        var locale = _this.props.locale;\n        var result = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _en_US[\"default\"]), locale);\n        result.lang = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, result.lang), (locale || {}).lang);\n        return result;\n      };\n\n      _this.renderPicker = function (locale) {\n        var _this$context = _this.context,\n            getPrefixCls = _this$context.getPrefixCls,\n            direction = _this$context.direction,\n            getPopupContainer = _this$context.getPopupContainer;\n\n        var _a = _this.props,\n            customizePrefixCls = _a.prefixCls,\n            customGetPopupContainer = _a.getPopupContainer,\n            className = _a.className,\n            customizeSize = _a.size,\n            _a$bordered = _a.bordered,\n            bordered = _a$bordered === void 0 ? true : _a$bordered,\n            placeholder = _a.placeholder,\n            restProps = __rest(_a, [\"prefixCls\", \"getPopupContainer\", \"className\", \"size\", \"bordered\", \"placeholder\"]);\n\n        var _this$props = _this.props,\n            format = _this$props.format,\n            showTime = _this$props.showTime,\n            picker = _this$props.picker;\n        var prefixCls = getPrefixCls('picker', customizePrefixCls);\n        var additionalOverrideProps = {};\n        additionalOverrideProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, additionalOverrideProps), showTime ? (0, _.getTimeProps)((0, _extends2[\"default\"])({\n          format: format,\n          picker: picker\n        }, showTime)) : {}), picker === 'time' ? (0, _.getTimeProps)((0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n          format: format\n        }, _this.props), {\n          picker: picker\n        })) : {});\n        return /*#__PURE__*/React.createElement(_SizeContext[\"default\"].Consumer, null, function (size) {\n          var _classNames;\n\n          var mergedSize = customizeSize || size;\n          return /*#__PURE__*/React.createElement(_rcPicker.RangePicker, (0, _extends2[\"default\"])({\n            separator: /*#__PURE__*/React.createElement(\"span\", {\n              \"aria-label\": \"to\",\n              className: \"\".concat(prefixCls, \"-separator\")\n            }, /*#__PURE__*/React.createElement(_SwapRightOutlined[\"default\"], null)),\n            ref: _this.pickerRef,\n            placeholder: (0, _util.getRangePlaceholder)(picker, locale, placeholder),\n            suffixIcon: picker === 'time' ? /*#__PURE__*/React.createElement(_ClockCircleOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_CalendarOutlined[\"default\"], null),\n            clearIcon: /*#__PURE__*/React.createElement(_CloseCircleFilled[\"default\"], null),\n            allowClear: true,\n            transitionName: \"slide-up\"\n          }, restProps, additionalOverrideProps, {\n            className: (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames), className),\n            locale: locale.lang,\n            prefixCls: prefixCls,\n            getPopupContainer: customGetPopupContainer || getPopupContainer,\n            generateConfig: generateConfig,\n            prevIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-prev-icon\")\n            }),\n            nextIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-next-icon\")\n            }),\n            superPrevIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-super-prev-icon\")\n            }),\n            superNextIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-super-next-icon\")\n            }),\n            components: _.Components,\n            direction: direction\n          }));\n        });\n      };\n\n      return _this;\n    }\n\n    (0, _createClass2[\"default\"])(RangePicker, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n          componentName: \"DatePicker\",\n          defaultLocale: this.getDefaultLocale\n        }, this.renderPicker);\n      }\n    }]);\n    return RangePicker;\n  }(React.Component);\n\n  RangePicker.contextType = _configProvider.ConfigContext;\n  return RangePicker;\n}","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _SwapRightOutlined = _interopRequireDefault(require('./lib/icons/SwapRightOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _SwapRightOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _SwapRightOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/SwapRightOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar SwapRightOutlined = function SwapRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _SwapRightOutlined.default\n  }));\n};\n\nSwapRightOutlined.displayName = 'SwapRightOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(SwapRightOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SwapRightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z\" } }] }, \"name\": \"swap-right\", \"theme\": \"outlined\" };\nexports.default = SwapRightOutlined;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","\nexport interface ILangData {\n  [key: string]: {\n    /**\n     * alias\n     */\n    a?: string | string[];\n    /**\n     * require\n     */\n    r?: string | string[];\n    /**\n     * peerDependencies\n     */\n    p?: string | string[];\n    /**\n     * file does not exist\n     */\n    e?: boolean;\n  }\n}\n\nconst langData: ILangData = {\n  meta: {},\n  markup: { a: ['html', 'xml', 'svg', 'mathml'] },\n  css: { p: 'markup' },\n  clike: {},\n  javascript: { p: 'markup', r: 'clike', a: 'js' },\n  abap: {},\n  abnf: {},\n  actionscript: { p: 'markup', r: 'javascript' },\n  ada: {},\n  apacheconf: {},\n  apl: {},\n  applescript: {},\n  arduino: { r: 'cpp' },\n  arff: {},\n  asciidoc: { a: 'adoc' },\n  asm6502: {},\n  aspnet: { r: ['markup', 'csharp'] },\n  autohotkey: {},\n  autoit: {},\n  bash: { a: 'shell' },\n  basic: {},\n  batch: {},\n  bison: { r: 'c' },\n  bnf: { a: 'rbnf' },\n  brainfuck: {},\n  bro: {},\n  c: { r: 'clike' },\n  csharp: { r: 'clike', a: ['cs', 'dotnet'] },\n  cpp: { r: 'c' },\n  cil: {},\n  coffeescript: { r: 'javascript', a: 'coffee' },\n  cmake: {},\n  clojure: {},\n  crystal: { r: 'ruby' },\n  csp: {},\n  'css-extras': { r: 'css' },\n  d: { r: 'clike' },\n  dart: { r: 'clike' },\n  diff: {},\n  django: { r: 'markup-templating', a: 'jinja2' },\n  'dns-zone-file': { a: 'dns-zone' },\n  docker: { a: 'dockerfile' },\n  ebnf: {},\n  eiffel: {},\n  ejs: { r: ['javascript', 'markup-templating'] },\n  elixir: {},\n  elm: {},\n  erb: { r: ['ruby', 'markup-templating'] },\n  erlang: {},\n  fsharp: { r: 'clike' },\n  flow: { r: 'javascript' },\n  fortran: {},\n  gcode: {},\n  gedcom: {},\n  gherkin: {},\n  git: {},\n  glsl: { r: 'clike' },\n  gml: { r: 'clike', a: 'gamemakerlanguage' },\n  go: { r: 'clike' },\n  graphql: {},\n  groovy: { r: 'clike' },\n  haml:\n  {\n    p: ['css', 'coffeescript', 'erb', 'javascript', 'less', 'markdown', 'ruby', 'scss', 'textile'],\n    r: 'ruby'\n  },\n  handlebars: { r: 'markup-templating' },\n  haskell: { a: 'hs' },\n  haxe: { r: 'clike' },\n  hcl: {},\n  http: { p: ['javascript', 'markup'] },\n  hpkp: {},\n  hsts: {},\n  ichigojam: {},\n  icon: {},\n  inform7: {},\n  ini: {},\n  io: {},\n  j: {},\n  java: { r: 'clike' },\n  javadoc: { p: ['scala'], r: ['markup', 'java', 'javadoclike'] },\n  javadoclike: { p: ['java', 'javascript', 'php'] },\n  javastacktrace: {},\n  jolie: { r: 'clike' },\n  jq: {},\n  jsdoc:\n  {\n    p: ['actionscript', 'coffeescript'],\n    r: ['javascript', 'javadoclike']\n  },\n  'js-extras':\n  {\n    p: ['actionscript', 'coffeescript', 'flow', 'n4js', 'typescript'],\n    r: 'javascript'\n  },\n  'js-templates':\n  {\n    p: ['css', 'css-extras', 'graphql', 'markdown', 'markup'],\n    r: 'javascript'\n  },\n  json: {},\n  jsonp: { r: 'json' },\n  json5: { r: 'json' },\n  julia: {},\n  keyman: {},\n  kotlin: { r: 'clike' },\n  latex: { a: ['tex', 'context'] },\n  less: { r: 'css' },\n  lilypond: { r: 'scheme', a: 'ly' },\n  liquid: {},\n  lisp: { a: ['emacs', 'elisp', 'emacs-lisp'] },\n  livescript: {},\n  lolcode: {},\n  lua: {},\n  makefile: {},\n  markdown: { r: 'markup', a: 'md' },\n  'markup-templating': { r: 'markup' },\n  matlab: {},\n  mel: {},\n  mizar: {},\n  monkey: {},\n  n1ql: {},\n  n4js: { p: ['jsdoc'], r: 'javascript', a: 'n4jsd' },\n  'nand2tetris-hdl': {},\n  nasm: {},\n  nginx: { r: 'clike' },\n  nim: {},\n  nix: {},\n  nsis: {},\n  objectivec: { r: 'c' },\n  ocaml: {},\n  opencl: { p: ['c', 'cpp'], r: 'cpp' },\n  oz: {},\n  parigp: {},\n  parser: { r: 'markup' },\n  pascal: { a: 'objectpascal' },\n  pascaligo: {},\n  pcaxis: { a: 'px' },\n  perl: {},\n  php: { r: ['clike', 'markup-templating'] },\n  phpdoc: { r: ['php', 'javadoclike'] },\n  'php-extras': { r: 'php' },\n  plsql: { r: 'sql' },\n  powershell: {},\n  processing: { r: 'clike' },\n  prolog: {},\n  properties: {},\n  protobuf: { r: 'clike' },\n  pug:\n  {\n    p: ['coffeescript', 'ejs', 'handlebars', 'less', 'livescript', 'markdown', 'scss', 'stylus', 'twig'],\n    r: ['markup', 'javascript']\n  },\n  puppet: {},\n  pure: { p: ['c', 'cpp', 'fortran'] },\n  python: { a: 'py' },\n  q: {},\n  qore: { r: 'clike' },\n  r: {},\n  jsx:\n  {\n    p: ['jsdoc', 'js-extras', 'js-templates'],\n    r: ['markup', 'javascript']\n  },\n  tsx: { r: ['jsx', 'typescript'] },\n  renpy: {},\n  reason: { r: 'clike' },\n  regex: { p: ['actionscript', 'coffeescript', 'flow', 'javascript', 'typescript', 'vala'] },\n  rest: {},\n  rip: {},\n  roboconf: {},\n  ruby: { r: 'clike', a: 'rb' },\n  rust: {},\n  sas: {},\n  sass: { r: 'css' },\n  scss: { r: 'css' },\n  scala: { r: 'java' },\n  scheme: {},\n  'shell-session': { r: 'bash' },\n  smalltalk: {},\n  smarty: { r: 'markup-templating' },\n  soy: { r: 'markup-templating' },\n  'splunk-spl': {},\n  sql: {},\n  stylus: {},\n  swift: { r: 'clike' },\n  tap: { r: 'yaml' },\n  tcl: {},\n  textile: { p: 'css', r: 'markup' },\n  toml: {},\n  tt2: { r: ['clike', 'markup-templating'] },\n  twig: { r: 'markup' },\n  typescript: { p: 'js-templates', r: 'javascript', a: 'ts' },\n  't4-cs': { r: ['t4-templating', 'csharp'], a: 't4' },\n  't4-vb': { r: ['t4-templating', 'visual-basic'] },\n  't4-templating': {},\n  vala: { r: 'clike' },\n  vbnet: { r: 'basic' },\n  velocity: { r: 'markup' },\n  verilog: {},\n  vhdl: {},\n  vim: {},\n  'visual-basic': { a: 'vb' },\n  wasm: {},\n  wiki: { r: 'markup' },\n  xeora: { r: 'markup', a: 'xeoracube' },\n  xojo: {},\n  xquery: { r: 'markup' },\n  yaml: { a: 'yml' }\n};\n\nexport async function loadLang(ext: string) {\n  let langs: string[] = [];\n  Object.keys(langData).forEach((item) => {\n    const { a: alias, r: require } = langData[item];\n    if (alias && (Array.isArray(alias) ? alias : [alias]).includes(ext)) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n    }\n    if (ext === item) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n      langs.push(ext);\n    }\n  });\n  try {\n    if (langs.length > 0) {\n      return Promise.all(langs.map((key) => import(`prismjs/components/prism-${key}`)));\n    }\n  } catch (error) { }\n}\n\nexport default langData;\n","import React, { useState, createRef, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\nimport CodeMirror, { ICodeMirror } from './components/CodeMirror';\nimport MarkdownPreview, { MarkdownPreviewProps } from '@uiw/react-markdown-preview';\nimport ToolBar, { IToolBarProps } from './components/ToolBar';\nimport { getCommands, getModeCommands } from './commands';\nimport './index.less';\n\nexport * from './commands';\n\nexport interface IMarkdownEditor extends ICodeMirror {\n  className?: string;\n  prefixCls?: string,\n  value?: string,\n  height?: number,\n  visible?: boolean,\n  visibleEditor?: boolean,\n  toolbars?: IToolBarProps['toolbars'],\n  toolbarsMode?: IToolBarProps['toolbars'],\n  previewProps?: MarkdownPreviewProps;\n  options?: CodeMirror.EditorConfiguration,\n}\n\nexport interface MarkdownEditorRef {\n  editor?: CodeMirror.Editor;\n  preview?: HTMLDivElement | null;\n}\n\nexport default React.forwardRef<MarkdownEditorRef, IMarkdownEditor>(MarkdownEditor);\n\nfunction MarkdownEditor(\n  props: IMarkdownEditor,\n  ref?:\n    | ((instance: MarkdownEditorRef) => void)\n    | React.RefObject<MarkdownEditorRef>\n    | null\n) {\n  const {\n    prefixCls = 'md-editor', className,\n    onChange,\n    toolbars = getCommands(),\n    toolbarsMode = getModeCommands(),\n    visible = true,\n    visibleEditor = true,\n    previewProps = {}, ...codemirrorProps } = props;\n  const [value, setValue] = useState(props.value || '');\n  const codeMirror = createRef<CodeMirror>();\n  const previewContainer = useRef<HTMLDivElement | null>()\n  const [editor, setEditor] = useState<CodeMirror.Editor>();\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst containerEditor = useRef<HTMLDivElement>(null);\n\n  useImperativeHandle(ref, () => ({\n    editor: editor,\n    preview: previewContainer.current,\n  }));\n\n  useEffect(() => {\n    if (codeMirror.current) {\n      setEditor(codeMirror.current.editor);\n    }\n  }, [codeMirror.current]);\n\n  const toolBarProps = {\n    editor,\n    preview: previewContainer.current,\n    container: container.current,\n    containerEditor: containerEditor.current,\n    editorProps: props\n  }\n  const codeEditor = useMemo(() => (\n    <CodeMirror\n      visibleEditor={visibleEditor}\n      {...codemirrorProps}\n      ref={codeMirror}\n      onChange={(editor, data) => {\n        setValue(editor.getValue());\n        onChange && onChange(editor, data, editor.getValue())\n      }}\n    />\n  ), [visibleEditor, codemirrorProps])\n  return (\n    <div ref={container}>\n      <div className={`${prefixCls || ''} ${className || ''}`}>\n        <ToolBar {...toolBarProps} toolbars={toolbarsMode} mode />\n        <ToolBar {...toolBarProps} toolbars={toolbars} />\n        <div className={`${prefixCls}-content`}>\n          <div className={`${prefixCls}-content-editor`} ref={containerEditor}>\n            {visibleEditor && codeEditor}\n          </div>\n          <MarkdownPreview\n            {...previewProps}\n            data-visible={!!visible}\n            className={`${prefixCls}-preview`}\n            ref={(instance) => {\n              if(instance && instance.mdp) {\n                previewContainer.current = instance.mdp.current\n              }\n            }}\n            source={value}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { ICommand } from './'\n\nexport const bold: ICommand = {\n  name: 'bold',\n  keyCommand: 'bold',\n  button: { 'aria-label': 'Add bold text' },\n  icon: (\n    <svg width=\"13\" height=\"13\" viewBox=\"0 0 384 512\">\n      <path fill=\"currentColor\" d=\"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `**${selection}**` : `****`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const italic: ICommand = {\n  name: 'italic',\n  keyCommand: 'italic',\n  button: { 'aria-label': 'Add italic text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 320 512\">\n      <path fill=\"currentColor\" d=\"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `*${selection}*` : `**`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const header: ICommand = {\n  name: 'header',\n  keyCommand: 'header',\n  button: { 'aria-label': 'Add header text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `# ${selection}` : '# ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const strike: ICommand = {\n  name: 'strike',\n  keyCommand: 'strike',\n  button: { 'aria-label': 'Add strike text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `~~${selection}~~` : '~~~~';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const underline: ICommand = {\n  name: 'underline',\n  keyCommand: 'underline',\n  button: { 'aria-label': 'Add underline text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M10 17c3.3 0 6-2.7 6-6V3.5c0-.8-.7-1.5-1.5-1.5S13 2.7 13 3.5V11c0 1.7-1.3 3-3 3s-3-1.3-3-3V3.5C7 2.7 6.3 2 5.5 2S4 2.7 4 3.5V11c0 3.3 2.7 6 6 6zM16.5 19h-13c-.3 0-.5.2-.5.5s.2.5.5.5h13c.3 0 .5-.2.5-.5s-.2-.5-.5-.5z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `<u>${selection}</u>` : '<u></u>';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const olist: ICommand = {\n  name: 'olist',\n  keyCommand: 'olist',\n  button: { 'aria-label': 'Add olist text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M12 2h20v4h-20v-4zM12 14h20v4h-20v-4zM12 26h20v4h-20v-4zM0 4c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 16c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 28c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- ${selection}` : '- ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const ulist: ICommand = {\n  name: 'ulist',\n  keyCommand: 'ulist',\n  button: { 'aria-label': 'Add ulist text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `1. ${selection}` : '1. ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const link: ICommand = {\n  name: 'link',\n  keyCommand: 'link',\n  button: { 'aria-label': 'Add link text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = '[]( \"\")';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const todo: ICommand = {\n  name: 'todo',\n  keyCommand: 'todo',\n  button: { 'aria-label': 'Add todo List' },\n  icon: (\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M224 800.256L223.712 224H320v31.68c0 35.456 28.64 64.32 63.872 64.32h256.256A64.16 64.16 0 0 0 704 255.68V224l96-0.256L800.256 800 224 800.256zM640 192.32L640.128 256 384 255.68V192.32L383.872 192 640 192.32zM799.84 160H695.04c-11.072-19.04-31.424-32-54.912-32h-256.256c-23.488 0-43.808 12.928-54.912 32H223.712A63.776 63.776 0 0 0 160 223.744v576.512C160 835.392 188.608 864 223.744 864h576.512A63.84 63.84 0 0 0 864 800.256V223.744A64 64 0 0 0 799.84 160zM619.072 429.088l-151.744 165.888-62.112-69.6a32 32 0 1 0-47.744 42.624l85.696 96a32 32 0 0 0 23.68 10.688h0.192c8.96 0 17.536-3.776 23.616-10.4l175.648-192a32 32 0 0 0-47.232-43.2\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- [ ] ${selection}` : '- [ ] ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 6;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const image: ICommand = {\n  name: 'image',\n  keyCommand: 'image',\n  button: { 'aria-label': 'Add image text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `${selection} ![]( \"\")` : '![]( \"\")\\n';\n    editor.replaceSelection(value);\n    // position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null | undefined;\n  container?: HTMLDivElement | null | undefined;\n  editor?: CodeMirror.Editor;\n}\n\nconst Fullscreen: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { container, preview, editor } } = props;\n  const [full, setFull] = useState(false);\n  const initEditorHeight = useRef(0);\n  const containerRef = useRef<HTMLDivElement | null>();\n  const editorRef = useRef<CodeMirror.Editor>();\n  function handleResize() {\n    if (containerRef.current && editorRef.current) {\n      editorRef.current.setSize('initial', containerRef.current.clientHeight - 35);\n    }\n  }\n  useEffect(() => {\n    window && window.addEventListener('resize', handleResize, true);\n    return () => {\n      window && window.removeEventListener('resize', handleResize, true);\n    }\n  }, []);\n  useEffect(() => {\n    if (editor) {\n      editorRef.current = editor;\n      const { clientHeight } = editor.getScrollInfo();\n      initEditorHeight.current = clientHeight;\n    }\n  }, [editor]);\n  useEffect(() => {\n    if (!document) return;\n    containerRef.current = container\n    document.body.style.overflow = full ? 'hidden' : 'initial';\n    if (container && full) {\n      container.style.zIndex = '999';\n      container.style.position = 'fixed';\n      container.style.top = '0px';\n      container.style.bottom = '0px';\n      container.style.left = '0px';\n      container.style.right = '0px';\n      editor!.setSize('initial', container.clientHeight - 35);\n    } else if (container) {\n      container.style.position = 'initial';\n      container.style.top = 'initial';\n      container.style.bottom = 'initial';\n      container.style.left = 'initial';\n      container.style.right = 'initial';\n      editor!.setSize('initial', initEditorHeight.current);\n    }\n  }, [full, container, preview]);\n  return (\n    <button\n      onClick={() => setFull(!full)}\n      type=\"button\"\n      className={full ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  );\n}\n\nexport const fullscreen: ICommand = {\n  name: 'fullscreen',\n  keyCommand: 'fullscreen',\n  button: (command, props, opts) => <Fullscreen command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M189.75 428.89a36.87 36.87 0 0 0 36.84-36.85V228.12h164a36.85 36.85 0 1 0 0-73.7H189.75a36.82 36.82 0 0 0-36.8 36.85v200.8a36.83 36.83 0 0 0 36.8 36.82zM834.26 595.06a36.82 36.82 0 0 0-36.8 36.84v164H633.41a36.85 36.85 0 0 0 0 73.7h200.85a36.87 36.87 0 0 0 36.84-36.85V631.9a36.86 36.86 0 0 0-36.84-36.84zM797.46 228.12v179.31a36.82 36.82 0 1 0 73.64 0V191.24a36.86 36.86 0 0 0-36.84-36.85H602.33a36.85 36.85 0 0 0 0 73.7zM421.62 795.9H226.54V616.56a36.82 36.82 0 1 0-73.64 0v216.19a36.83 36.83 0 0 0 36.85 36.85h231.87a36.85 36.85 0 0 0 0-73.7z\" />\n      <path fill=\"currentColor\" d=\"M306.5 307.94m32.95 0l345.1 0q32.95 0 32.95 32.95l0 342.22q0 32.95-32.95 32.95l-345.1 0q-32.95 0-32.95-32.95l0-342.22q0-32.95 32.95-32.95Z\" />\n    </svg>\n  ),\n};","import React, { useEffect, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  editor?: CodeMirror.Editor;\n}\n\nconst Preview: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { preview, containerEditor } } = props;\n  const [visible, setVisible] = useState(props.editorProps.visible);\n  useEffect(() => {\n    setVisible(props.editorProps.visible);\n  }, [props.editorProps.visible]);\n\n  useEffect(() => {\n    if (preview) {\n      preview.style.borderBottomRightRadius = '3px';\n    }\n    if (preview && visible) {\n      preview.style.width = '50%';\n      preview.style.overflow = 'auto';\n      preview.style.borderLeft = '1px solid #dfdfe0';\n      preview.style.padding = '20px';\n      if (containerEditor) {\n        containerEditor.style.width = '50%'\n      }\n    } else if (preview) {\n      preview.style.width = '0%';\n      preview.style.overflow = 'hidden';\n      preview.style.borderLeft = '0px';\n      preview.style.padding = '0';\n      if (containerEditor) {\n        containerEditor.style.width = '100%'\n      }\n    }\n  }, [preview, containerEditor, visible]);\n\n  return (\n    <button\n      onClick={() => setVisible(!visible)}\n      type=\"button\"\n      className={visible ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  )\n}\n\nexport const preview: ICommand = {\n  name: 'preview',\n  keyCommand: 'preview',\n  button: (command, props, opts) => <Preview command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M0 16c3.037-5.864 9.058-9.802 16-9.802s12.963 3.938 15.953 9.703l0.047 0.1c-3.037 5.864-9.058 9.802-16 9.802s-12.963-3.938-15.953-9.703l-0.047-0.1zM16 22.531c3.607 0 6.531-2.924 6.531-6.531s-2.924-6.531-6.531-6.531v0c-3.607 0-6.531 2.924-6.531 6.531s2.924 6.531 6.531 6.531v0zM16 19.265c-1.804 0-3.265-1.461-3.265-3.265s1.461-3.265 3.265-3.265v0c1.804 0 3.265 1.461 3.265 3.265s-1.461 3.265-3.265 3.265v0z\" />\n    </svg>\n  ),\n};","import { Editor, Position } from 'codemirror';\nimport { bold } from './bold';\nimport { italic } from './italic';\nimport { header } from './header';\nimport { strike } from './strike';\nimport { underline } from './underline';\nimport { olist } from './olist';\nimport { ulist } from './ulist';\nimport { link } from './link';\nimport { todo } from './todo';\nimport { image } from './image';\nimport { fullscreen } from './fullscreen';\nimport { preview } from './preview';\nimport { IMarkdownEditor } from '../';\n\nexport type ButtonHandle = (command: ICommand, props: IMarkdownEditor, options: {\n  preview?: HTMLDivElement | null,\n  container?: HTMLDivElement | null,\n  containerEditor?: HTMLDivElement | null;\n  editor?: Editor;\n}) => JSX.Element\n\nexport type ICommand = {\n  icon?: React.ReactElement;\n  name?: string;\n  keyCommand?: string;\n  button?: ButtonHandle | React.ButtonHTMLAttributes<HTMLButtonElement>;\n  execute?: (editor: Editor, selection: string, position: Position, opts: {\n    preview?: HTMLDivElement | null,\n    container?: HTMLDivElement | null,\n  }) => void;\n}\n\nexport const defaultCommands = { bold, italic, header, strike, underline, olist, ulist, link, todo, image, fullscreen, preview }\n\nexport const getCommands: () => ICommand[] = () => \n  Object.keys(defaultCommands).filter(key => !/^(fullscreen|preview)/.test(key))\n    .map((key) => defaultCommands[key as (keyof (typeof defaultCommands))]);\n\nexport const getModeCommands: () => ICommand[] = () => [preview, fullscreen];","import * as React from \"react\";\nimport CodeMirror from 'codemirror';\nimport './index.less';\nimport { ICommand, defaultCommands } from '../../commands';\nimport { IMarkdownEditor } from '../../';\n\nexport type IToolBarProps<T = (keyof (typeof defaultCommands)) | ICommand> = {\n  className?: string;\n  editorProps: IMarkdownEditor;\n  mode?: boolean;\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  prefixCls?: string;\n  editor?: CodeMirror.Editor;\n  toolbars?: T[];\n  onClick?: (type: string) => void;\n}\n\nexport default function ToolBar(props: IToolBarProps) {\n  const { prefixCls = 'md-editor', className, onClick, toolbars = [], editor, mode, preview, container, containerEditor, editorProps = {}, ...htmlProps } = props;\n  if (!toolbars || toolbars.length === 0) return null;\n  function handleClick(execute: ICommand['execute']) {\n    if (execute && editor) {\n      execute(editor, editor.getSelection(), editor.getCursor(), { preview, container });\n    }\n  }\n  return (\n    <div className={`${prefixCls}-toolbar ${className || ''} ${mode ? `${prefixCls}-toolbar-mode` : ''}`} {...htmlProps}>\n      {[...toolbars].map((command, key) => {\n        let buttonProps: React.ButtonHTMLAttributes<HTMLButtonElement> = {\n          type: 'button',\n        }\n        const obj = typeof command === 'string' ? defaultCommands[command] : command;\n        if (!obj) return;\n        buttonProps.children = obj.icon;\n        buttonProps.onClick = () => handleClick(obj.execute);\n        if (obj.button && typeof obj.button === 'object') {\n          const btn: React.ButtonHTMLAttributes<HTMLButtonElement> = obj.button;\n          (Object.keys(btn) as (keyof React.ButtonHTMLAttributes<HTMLButtonElement>)[]).forEach((key) => {\n            buttonProps[key] = btn[key];\n          });\n        } else if (typeof obj.button === 'function') {\n          return React.cloneElement(obj.button(obj, editorProps, { preview, container, containerEditor, editor }), { key });\n        }\n\n        return (\n          <button {...buttonProps} key={key} />\n        );\n      })}\n    </div>\n  );\n\n}\n","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M294.4 76.8a64 64 0 00-82.94 97.28l6.14 5.12L661.31 512 217.6 844.8a64 64 0 00-17.22 82.88l4.48 6.72a64 64 0 0082.82 17.28l6.72-4.48 512-384a64 64 0 006.4-96.96l-6.4-5.44-512-384z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default /*#__PURE__*/React.forwardRef(RightOutlined);","// This icon file is generated automatically.\nvar UpOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M76.8 729.6a64 64 0 0097.28 82.94l5.12-6.14L512 362.69 844.8 806.4a64 64 0 0082.88 17.22l6.72-4.48a64 64 0 0017.28-82.82l-4.48-6.72-384-512a64 64 0 00-96.96-6.4l-5.44 6.4-384 512z\" } }] }, \"name\": \"up\", \"theme\": \"outlined\" };\nexport default UpOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UpOutlinedSvg from \"@ant-design/icons-svg/es/asn/UpOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UpOutlined = function UpOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: UpOutlinedSvg\n  }));\n};\n\nUpOutlined.displayName = 'UpOutlined';\nexport default /*#__PURE__*/React.forwardRef(UpOutlined);","// This icon file is generated automatically.\nvar HeartTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M679.7 201c-73.1 0-136.5 40.8-167.7 100.4C480.8 241.8 417.4 201 344.3 201c-104 0-188.3 82.6-188.3 184.5 0 201.2 356 429.3 356 429.3s356-228.1 356-429.3C868 283.6 783.7 201 679.7 201z\", \"fill\": secondaryColor } }] }; }, \"name\": \"heart\", \"theme\": \"twotone\" };\nexport default HeartTwoTone;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport HeartTwoToneSvg from \"@ant-design/icons-svg/es/asn/HeartTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar HeartTwoTone = function HeartTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: HeartTwoToneSvg\n  }));\n};\n\nHeartTwoTone.displayName = 'HeartTwoTone';\nexport default /*#__PURE__*/React.forwardRef(HeartTwoTone);","// This icon file is generated automatically.\nvar FormOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z\" } }] }, \"name\": \"form\", \"theme\": \"outlined\" };\nexport default FormOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FormOutlinedSvg from \"@ant-design/icons-svg/es/asn/FormOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FormOutlined = function FormOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: FormOutlinedSvg\n  }));\n};\n\nFormOutlined.displayName = 'FormOutlined';\nexport default /*#__PURE__*/React.forwardRef(FormOutlined);","// This icon file is generated automatically.\nvar PlayCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\" } }] }, \"name\": \"play-circle\", \"theme\": \"outlined\" };\nexport default PlayCircleOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlayCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlayCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlayCircleOutlined = function PlayCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: PlayCircleOutlinedSvg\n  }));\n};\n\nPlayCircleOutlined.displayName = 'PlayCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlayCircleOutlined);","'use strict'\n\nfunction markdownLineEnding(code) {\n  return code < -2\n}\n\nmodule.exports = markdownLineEnding\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\n\nfunction spaceFactory(effects, ok, type, max) {\n  var limit = max ? max - 1 : Infinity\n  var size = 0\n  return start\n\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type)\n      return prefix(code)\n    }\n\n    return ok(code)\n  }\n\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code)\n      return prefix\n    }\n\n    effects.exit(type)\n    return ok(code)\n  }\n}\n\nmodule.exports = spaceFactory\n","'use strict'\n\nfunction markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32\n}\n\nmodule.exports = markdownSpace\n","'use strict'\n\nvar splice = require('../constant/splice.js')\n\n// causes a stack overflow in V8 when trying to insert 100k items for instance.\n\nfunction chunkedSplice(list, start, remove, items) {\n  var end = list.length\n  var chunkStart = 0\n  var parameters // Make start between zero and `end` (included).\n\n  if (start < 0) {\n    start = -start > end ? 0 : end + start\n  } else {\n    start = start > end ? end : start\n  }\n\n  remove = remove > 0 ? remove : 0 // No need to chunk the items if theres only a couple (10k) items.\n\n  if (items.length < 10000) {\n    parameters = Array.from(items)\n    parameters.unshift(start, remove)\n    splice.apply(list, parameters)\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) splice.apply(list, [start, remove]) // Insert the items in chunks to not cause stack overflows.\n\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000)\n      parameters.unshift(start, 0)\n      splice.apply(list, parameters)\n      chunkStart += 10000\n      start += 10000\n    }\n  }\n}\n\nmodule.exports = chunkedSplice\n","'use strict'\n\nfunction markdownLineEndingOrSpace(code) {\n  return code < 0 || code === 32\n}\n\nmodule.exports = markdownLineEndingOrSpace\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction regexCheck(regex) {\n  return check\n\n  function check(code) {\n    return regex.test(fromCharCode(code))\n  }\n}\n\nmodule.exports = regexCheck\n","'use strict'\n\nvar assign = require('../constant/assign.js')\n\nfunction shallow(object) {\n  return assign({}, object)\n}\n\nmodule.exports = shallow\n","'use strict'\n\nvar assign = Object.assign\n\nmodule.exports = assign\n","'use strict'\n\nvar sizeChunks = require('./size-chunks.js')\n\nfunction prefixSize(events, type) {\n  var tail = events[events.length - 1]\n  if (!tail || tail[1].type !== type) return 0\n  return sizeChunks(tail[2].sliceStream(tail[1]))\n}\n\nmodule.exports = prefixSize\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/)\n\nmodule.exports = asciiAlphanumeric\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.60.0\";\n\n  return CodeMirror;\n\n})));\n","'use strict'\n\nvar fromCharCode = String.fromCharCode\n\nmodule.exports = fromCharCode\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nvar partialBlankLine = {\n  tokenize: tokenizePartialBlankLine,\n  partial: true\n}\n\nfunction tokenizePartialBlankLine(effects, ok, nok) {\n  return factorySpace(effects, afterWhitespace, 'linePrefix')\n\n  function afterWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = partialBlankLine\n","'use strict'\n\nfunction resolveAll(constructs, events, context) {\n  var called = []\n  var index = -1\n  var resolve\n\n  while (++index < constructs.length) {\n    resolve = constructs[index].resolveAll\n\n    if (resolve && called.indexOf(resolve) < 0) {\n      events = resolve(events, context)\n      called.push(resolve)\n    }\n  }\n\n  return events\n}\n\nmodule.exports = resolveAll\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlpha = regexCheck(/[A-Za-z]/)\n\nmodule.exports = asciiAlpha\n","'use strict'\n\nmodule.exports = visit\n\nvar visitParents = require('unist-util-visit-parents')\n\nvar CONTINUE = visitParents.CONTINUE\nvar SKIP = visitParents.SKIP\nvar EXIT = visitParents.EXIT\n\nvisit.CONTINUE = CONTINUE\nvisit.SKIP = SKIP\nvisit.EXIT = EXIT\n\nfunction visit(tree, test, visitor, reverse) {\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  function overload(node, parents) {\n    var parent = parents[parents.length - 1]\n    var index = parent ? parent.children.indexOf(node) : null\n    return visitor(node, index, parent)\n  }\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nfunction normalizeIdentifier(value) {\n  return (\n    value // Collapse Markdown whitespace.\n      .replace(/[\\t\\n\\r ]+/g, ' ') // Trim.\n      .replace(/^ | $/g, '') // Some characters are considered uppercase, but if their lowercase\n      // counterpart is uppercased will result in a different uppercase\n      // character.\n      // Hence, to get that form, we perform both lower- and uppercase.\n      // Upper case makes sure keys will not interact with default prototypal\n      // methods: no object method is uppercase.\n      .toLowerCase()\n      .toUpperCase()\n  )\n}\n\nmodule.exports = normalizeIdentifier\n","'use strict'\n\nfunction miniflat(value) {\n  return value === null || value === undefined\n    ? []\n    : 'length' in value\n    ? value\n    : [value]\n}\n\nmodule.exports = miniflat\n","'use strict'\n\nvar chunkedSplice = require('./chunked-splice.js')\n\nfunction chunkedPush(list, items) {\n  if (list.length) {\n    chunkedSplice(list, list.length, 0, items)\n    return list\n  }\n\n  return items\n}\n\nmodule.exports = chunkedPush\n","'use strict'\n\nvar unicodePunctuationRegex = require('../constant/unicode-punctuation-regex.js')\nvar regexCheck = require('../util/regex-check.js')\n\n// In fact adds to the bundle size.\n\nvar unicodePunctuation = regexCheck(unicodePunctuationRegex)\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar unicodeWhitespace = regexCheck(/\\s/)\n\nmodule.exports = unicodeWhitespace\n","'use strict'\n\n// Note: EOF is seen as ASCII control here, because `null < 32 == true`.\nfunction asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code < 32 || code === 127\n  )\n}\n\nmodule.exports = asciiControl\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factoryTitle = require('./factory-title.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\n\nvar labelEnd = {\n  name: 'labelEnd',\n  tokenize: tokenizeLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  resolveAll: resolveAllLabelEnd\n}\nvar resourceConstruct = {\n  tokenize: tokenizeResource\n}\nvar fullReferenceConstruct = {\n  tokenize: tokenizeFullReference\n}\nvar collapsedReferenceConstruct = {\n  tokenize: tokenizeCollapsedReference\n}\n\nfunction resolveAllLabelEnd(events) {\n  var index = -1\n  var token\n\n  while (++index < events.length) {\n    token = events[index][1]\n\n    if (\n      !token._used &&\n      (token.type === 'labelImage' ||\n        token.type === 'labelLink' ||\n        token.type === 'labelEnd')\n    ) {\n      // Remove the marker.\n      events.splice(index + 1, token.type === 'labelImage' ? 4 : 2)\n      token.type = 'data'\n      index++\n    }\n  }\n\n  return events\n}\n\nfunction resolveToLabelEnd(events, context) {\n  var index = events.length\n  var offset = 0\n  var group\n  var label\n  var text\n  var token\n  var open\n  var close\n  var media // Find an opening.\n\n  while (index--) {\n    token = events[index][1]\n\n    if (open) {\n      // If we see another link, or inactive link label, weve been here before.\n      if (\n        token.type === 'link' ||\n        (token.type === 'labelLink' && token._inactive)\n      ) {\n        break\n      } // Mark other link openings as inactive, as we cant have links in\n      // links.\n\n      if (events[index][0] === 'enter' && token.type === 'labelLink') {\n        token._inactive = true\n      }\n    } else if (close) {\n      if (\n        events[index][0] === 'enter' &&\n        (token.type === 'labelImage' || token.type === 'labelLink') &&\n        !token._balanced\n      ) {\n        open = index\n\n        if (token.type !== 'labelLink') {\n          offset = 2\n          break\n        }\n      }\n    } else if (token.type === 'labelEnd') {\n      close = index\n    }\n  }\n\n  group = {\n    type: events[open][1].type === 'labelLink' ? 'link' : 'image',\n    start: shallow(events[open][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  }\n  label = {\n    type: 'label',\n    start: shallow(events[open][1].start),\n    end: shallow(events[close][1].end)\n  }\n  text = {\n    type: 'labelText',\n    start: shallow(events[open + offset + 2][1].end),\n    end: shallow(events[close - 2][1].start)\n  }\n  media = [\n    ['enter', group, context],\n    ['enter', label, context]\n  ] // Opening marker.\n\n  media = chunkedPush(media, events.slice(open + 1, open + offset + 3)) // Text open.\n\n  media = chunkedPush(media, [['enter', text, context]]) // Between.\n\n  media = chunkedPush(\n    media,\n    resolveAll(\n      context.parser.constructs.insideSpan.null,\n      events.slice(open + offset + 4, close - 3),\n      context\n    )\n  ) // Text close, marker close, label close.\n\n  media = chunkedPush(media, [\n    ['exit', text, context],\n    events[close - 2],\n    events[close - 1],\n    ['exit', label, context]\n  ]) // Reference, resource, or so.\n\n  media = chunkedPush(media, events.slice(close + 1)) // Media close.\n\n  media = chunkedPush(media, [['exit', group, context]])\n  chunkedSplice(events, open, events.length, media)\n  return events\n}\n\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var labelStart\n  var defined // Find an opening.\n\n  while (index--) {\n    if (\n      (self.events[index][1].type === 'labelImage' ||\n        self.events[index][1].type === 'labelLink') &&\n      !self.events[index][1]._balanced\n    ) {\n      labelStart = self.events[index][1]\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!labelStart) {\n      return nok(code)\n    } // Its a balanced bracket, but contains a link.\n\n    if (labelStart._inactive) return balanced(code)\n    defined =\n      self.parser.defined.indexOf(\n        normalizeIdentifier(\n          self.sliceSerialize({\n            start: labelStart.end,\n            end: self.now()\n          })\n        )\n      ) > -1\n    effects.enter('labelEnd')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelEnd')\n    return afterLabelEnd\n  }\n\n  function afterLabelEnd(code) {\n    // Resource: `[asd](fgh)`.\n    if (code === 40) {\n      return effects.attempt(\n        resourceConstruct,\n        ok,\n        defined ? ok : balanced\n      )(code)\n    } // Collapsed (`[asd][]`) or full (`[asd][fgh]`) reference?\n\n    if (code === 91) {\n      return effects.attempt(\n        fullReferenceConstruct,\n        ok,\n        defined\n          ? effects.attempt(collapsedReferenceConstruct, ok, balanced)\n          : balanced\n      )(code)\n    } // Shortcut reference: `[asd]`?\n\n    return defined ? ok(code) : balanced(code)\n  }\n\n  function balanced(code) {\n    labelStart._balanced = true\n    return nok(code)\n  }\n}\n\nfunction tokenizeResource(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('resource')\n    effects.enter('resourceMarker')\n    effects.consume(code)\n    effects.exit('resourceMarker')\n    return factoryWhitespace(effects, open)\n  }\n\n  function open(code) {\n    if (code === 41) {\n      return end(code)\n    }\n\n    return factoryDestination(\n      effects,\n      destinationAfter,\n      nok,\n      'resourceDestination',\n      'resourceDestinationLiteral',\n      'resourceDestinationLiteralMarker',\n      'resourceDestinationRaw',\n      'resourceDestinationString',\n      3\n    )(code)\n  }\n\n  function destinationAfter(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, between)(code)\n      : end(code)\n  }\n\n  function between(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factoryWhitespace(effects, end),\n        nok,\n        'resourceTitle',\n        'resourceTitleMarker',\n        'resourceTitleString'\n      )(code)\n    }\n\n    return end(code)\n  }\n\n  function end(code) {\n    if (code === 41) {\n      effects.enter('resourceMarker')\n      effects.consume(code)\n      effects.exit('resourceMarker')\n      effects.exit('resource')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeFullReference(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    return factoryLabel.call(\n      self,\n      effects,\n      afterLabel,\n      nok,\n      'reference',\n      'referenceMarker',\n      'referenceString'\n    )(code)\n  }\n\n  function afterLabel(code) {\n    return self.parser.defined.indexOf(\n      normalizeIdentifier(\n        self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n      )\n    ) < 0\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nfunction tokenizeCollapsedReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('reference')\n    effects.enter('referenceMarker')\n    effects.consume(code)\n    effects.exit('referenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 93) {\n      effects.enter('referenceMarker')\n      effects.consume(code)\n      effects.exit('referenceMarker')\n      effects.exit('reference')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = labelEnd\n","/*!\n * repeat-string <https://github.com/jonschlinkert/repeat-string>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\n/**\n * Results cache\n */\n\nvar res = '';\nvar cache;\n\n/**\n * Expose `repeat`\n */\n\nmodule.exports = repeat;\n\n/**\n * Repeat the given `string` the specified `number`\n * of times.\n *\n * **Example:**\n *\n * ```js\n * var repeat = require('repeat-string');\n * repeat('A', 5);\n * //=> AAAAA\n * ```\n *\n * @param {String} `string` The string to repeat\n * @param {Number} `number` The number of times to repeat the string\n * @return {String} Repeated string\n * @api public\n */\n\nfunction repeat(str, num) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  // cover common, quick use cases\n  if (num === 1) return str;\n  if (num === 2) return str + str;\n\n  var max = str.length * num;\n  if (cache !== str || typeof cache === 'undefined') {\n    cache = str;\n    res = '';\n  } else if (res.length >= max) {\n    return res.substr(0, max);\n  }\n\n  while (max > res.length && num > 1) {\n    if (num & 1) {\n      res += str;\n    }\n\n    num >>= 1;\n    str += str;\n  }\n\n  res += str;\n  res = res.substr(0, max);\n  return res;\n}\n","Prism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTimeProps = getTimeProps;\nexports[\"default\"] = exports.Components = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _PickerButton = _interopRequireDefault(require(\"../PickerButton\"));\n\nvar _PickerTag = _interopRequireDefault(require(\"../PickerTag\"));\n\nvar _generateSinglePicker2 = _interopRequireDefault(require(\"./generateSinglePicker\"));\n\nvar _generateRangePicker = _interopRequireDefault(require(\"./generateRangePicker\"));\n\nvar Components = {\n  button: _PickerButton[\"default\"],\n  rangeItem: _PickerTag[\"default\"]\n};\nexports.Components = Components;\n\nfunction toArray(list) {\n  if (!list) {\n    return [];\n  }\n\n  return Array.isArray(list) ? list : [list];\n}\n\nfunction getTimeProps(props) {\n  var format = props.format,\n      picker = props.picker,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      use12Hours = props.use12Hours;\n  var firstFormat = toArray(format)[0];\n  var showTimeObj = (0, _extends2[\"default\"])({}, props);\n\n  if (firstFormat && typeof firstFormat === 'string') {\n    if (!firstFormat.includes('s') && showSecond === undefined) {\n      showTimeObj.showSecond = false;\n    }\n\n    if (!firstFormat.includes('m') && showMinute === undefined) {\n      showTimeObj.showMinute = false;\n    }\n\n    if (!firstFormat.includes('H') && !firstFormat.includes('h') && showHour === undefined) {\n      showTimeObj.showHour = false;\n    }\n\n    if ((firstFormat.includes('a') || firstFormat.includes('A')) && use12Hours === undefined) {\n      showTimeObj.use12Hours = true;\n    }\n  }\n\n  if (picker === 'time') {\n    return showTimeObj;\n  }\n\n  if (typeof firstFormat === 'function') {\n    // format of showTime should use default when format is custom format function\n    delete showTimeObj.format;\n  }\n\n  return {\n    showTime: showTimeObj\n  };\n}\n\nfunction generatePicker(generateConfig) {\n  // =========================== Picker ===========================\n  var _generateSinglePicker = (0, _generateSinglePicker2[\"default\"])(generateConfig),\n      DatePicker = _generateSinglePicker.DatePicker,\n      WeekPicker = _generateSinglePicker.WeekPicker,\n      MonthPicker = _generateSinglePicker.MonthPicker,\n      YearPicker = _generateSinglePicker.YearPicker,\n      TimePicker = _generateSinglePicker.TimePicker,\n      QuarterPicker = _generateSinglePicker.QuarterPicker; // ======================== Range Picker ========================\n\n\n  var RangePicker = (0, _generateRangePicker[\"default\"])(generateConfig);\n  var MergedDatePicker = DatePicker;\n  MergedDatePicker.WeekPicker = WeekPicker;\n  MergedDatePicker.MonthPicker = MonthPicker;\n  MergedDatePicker.YearPicker = YearPicker;\n  MergedDatePicker.RangePicker = RangePicker;\n  MergedDatePicker.TimePicker = TimePicker;\n  MergedDatePicker.QuarterPicker = QuarterPicker;\n  return MergedDatePicker;\n}\n\nvar _default = generatePicker;\nexports[\"default\"] = _default;","module.exports = require(\"regenerator-runtime\");\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = own\n","'use strict'\n\n// Counts tabs based on their expanded size, and CR+LF as one character.\n\nfunction sizeChunks(chunks) {\n  var index = -1\n  var size = 0\n\n  while (++index < chunks.length) {\n    size += typeof chunks[index] === 'string' ? chunks[index].length : 1\n  }\n\n  return size\n}\n\nmodule.exports = sizeChunks\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar shallow = require('./shallow.js')\n\nfunction subtokenize(events) {\n  var jumps = {}\n  var index = -1\n  var event\n  var lineIndex\n  var otherIndex\n  var otherEvent\n  var parameters\n  var subevents\n  var more\n\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index]\n    }\n\n    event = events[index] // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n\n    if (\n      index &&\n      event[1].type === 'chunkFlow' &&\n      events[index - 1][1].type === 'listItemPrefix'\n    ) {\n      subevents = event[1]._tokenizer.events\n      otherIndex = 0\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'lineEndingBlank'\n      ) {\n        otherIndex += 2\n      }\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'content'\n      ) {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === 'content') {\n            break\n          }\n\n          if (subevents[otherIndex][1].type === 'chunkText') {\n            subevents[otherIndex][1].isInFirstContentOfListItem = true\n            otherIndex++\n          }\n        }\n      }\n    } // Enter.\n\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        assign(jumps, subcontent(events, index))\n        index = jumps[index]\n        more = true\n      }\n    } // Exit.\n    else if (event[1]._container || event[1]._movePreviousLineEndings) {\n      otherIndex = index\n      lineIndex = undefined\n\n      while (otherIndex--) {\n        otherEvent = events[otherIndex]\n\n        if (\n          otherEvent[1].type === 'lineEnding' ||\n          otherEvent[1].type === 'lineEndingBlank'\n        ) {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events[lineIndex][1].type = 'lineEndingBlank'\n            }\n\n            otherEvent[1].type = 'lineEnding'\n            lineIndex = otherIndex\n          }\n        } else {\n          break\n        }\n      }\n\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = shallow(events[lineIndex][1].start) // Switch container exit w/ line endings.\n\n        parameters = events.slice(lineIndex, index)\n        parameters.unshift(event)\n        chunkedSplice(events, lineIndex, index - lineIndex + 1, parameters)\n      }\n    }\n  }\n\n  return !more\n}\n\nfunction subcontent(events, eventIndex) {\n  var token = events[eventIndex][1]\n  var context = events[eventIndex][2]\n  var startPosition = eventIndex - 1\n  var startPositions = []\n  var tokenizer =\n    token._tokenizer || context.parser[token.contentType](token.start)\n  var childEvents = tokenizer.events\n  var jumps = []\n  var gaps = {}\n  var stream\n  var previous\n  var index\n  var entered\n  var end\n  var adjust // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n\n  while (token) {\n    // Find the position of the event for this token.\n    while (events[++startPosition][1] !== token) {\n      // Empty.\n    }\n\n    startPositions.push(startPosition)\n\n    if (!token._tokenizer) {\n      stream = context.sliceStream(token)\n\n      if (!token.next) {\n        stream.push(null)\n      }\n\n      if (previous) {\n        tokenizer.defineSkip(token.start)\n      }\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true\n      }\n\n      tokenizer.write(stream)\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined\n      }\n    } // Unravel the next token.\n\n    previous = token\n    token = token.next\n  } // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n\n  token = previous\n  index = childEvents.length\n\n  while (index--) {\n    // Make sure weve at least seen something (final eol is part of the last\n    // token).\n    if (childEvents[index][0] === 'enter') {\n      entered = true\n    } else if (\n      // Find a void token that includes a break.\n      entered &&\n      childEvents[index][1].type === childEvents[index - 1][1].type &&\n      childEvents[index][1].start.line !== childEvents[index][1].end.line\n    ) {\n      add(childEvents.slice(index + 1, end))\n      // Help GC.\n      token._tokenizer = token.next = undefined\n      token = token.previous\n      end = index + 1\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = token._tokenizer = token.next = undefined // Do head:\n\n  add(childEvents.slice(0, end))\n  index = -1\n  adjust = 0\n\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1]\n    adjust += jumps[index][1] - jumps[index][0] - 1\n  }\n\n  return gaps\n\n  function add(slice) {\n    var start = startPositions.pop()\n    jumps.unshift([start, start + slice.length - 1])\n    chunkedSplice(events, start, 2, slice)\n  }\n}\n\nmodule.exports = subtokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar assign = require('../constant/assign.js')\nvar shallow = require('../util/shallow.js')\n\nvar text = initializeFactory('text')\nvar string = initializeFactory('string')\nvar resolver = {\n  resolveAll: createResolver()\n}\n\nfunction initializeFactory(field) {\n  return {\n    tokenize: initializeText,\n    resolveAll: createResolver(\n      field === 'text' ? resolveAllLineSuffixes : undefined\n    )\n  }\n\n  function initializeText(effects) {\n    var self = this\n    var constructs = this.parser.constructs[field]\n    var text = effects.attempt(constructs, start, notText)\n    return start\n\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code)\n    }\n\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code)\n        return\n      }\n\n      effects.enter('data')\n      effects.consume(code)\n      return data\n    }\n\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit('data')\n        return text(code)\n      } // Data.\n\n      effects.consume(code)\n      return data\n    }\n\n    function atBreak(code) {\n      var list = constructs[code]\n      var index = -1\n\n      if (code === null) {\n        return true\n      }\n\n      if (list) {\n        while (++index < list.length) {\n          if (\n            !list[index].previous ||\n            list[index].previous.call(self, self.previous)\n          ) {\n            return true\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction createResolver(extraResolver) {\n  return resolveAllText\n\n  function resolveAllText(events, context) {\n    var index = -1\n    var enter // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === 'data') {\n          enter = index\n          index++\n        }\n      } else if (!events[index] || events[index][1].type !== 'data') {\n        // Dont do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end\n          events.splice(enter + 2, index - enter - 2)\n          index = enter + 2\n        }\n\n        enter = undefined\n      }\n    }\n\n    return extraResolver ? extraResolver(events, context) : events\n  }\n} // A rather ugly set of instructions which again looks at chunks in the input\n// stream.\n// The reason to do this here is that it is *much* faster to parse in reverse.\n// And that we cant hook into `null` to split the line suffix before an EOF.\n// To do: figure out if we can make this into a clean utility, or even in core.\n// As it will be useful for GFMs literal autolink extension (and maybe even\n// tables?)\n\nfunction resolveAllLineSuffixes(events, context) {\n  var eventIndex = -1\n  var chunks\n  var data\n  var chunk\n  var index\n  var bufferIndex\n  var size\n  var tabs\n  var token\n\n  while (++eventIndex <= events.length) {\n    if (\n      (eventIndex === events.length ||\n        events[eventIndex][1].type === 'lineEnding') &&\n      events[eventIndex - 1][1].type === 'data'\n    ) {\n      data = events[eventIndex - 1][1]\n      chunks = context.sliceStream(data)\n      index = chunks.length\n      bufferIndex = -1\n      size = 0\n      tabs = undefined\n\n      while (index--) {\n        chunk = chunks[index]\n\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length\n\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++\n            bufferIndex--\n          }\n\n          if (bufferIndex) break\n          bufferIndex = -1\n        } // Number\n        else if (chunk === -2) {\n          tabs = true\n          size++\n        } else if (chunk === -1);\n        else {\n          // Replacement character, exit.\n          index++\n          break\n        }\n      }\n\n      if (size) {\n        token = {\n          type:\n            eventIndex === events.length || tabs || size < 2\n              ? 'lineSuffix'\n              : 'hardBreakTrailing',\n          start: {\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size,\n            _index: data.start._index + index,\n            _bufferIndex: index\n              ? bufferIndex\n              : data.start._bufferIndex + bufferIndex\n          },\n          end: shallow(data.end)\n        }\n        data.end = shallow(token.start)\n\n        if (data.start.offset === data.end.offset) {\n          assign(data, token)\n        } else {\n          events.splice(\n            eventIndex,\n            0,\n            ['enter', token, context],\n            ['exit', token, context]\n          )\n          eventIndex += 2\n        }\n      }\n\n      eventIndex++\n    }\n  }\n\n  return events\n}\n\nexports.resolver = resolver\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar hasOwnProperty = require('../constant/has-own-property.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\n\nfunction combineExtensions(extensions) {\n  var all = {}\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(all, extensions[index])\n  }\n\n  return all\n}\n\nfunction extension(all, extension) {\n  var hook\n  var left\n  var right\n  var code\n\n  for (hook in extension) {\n    left = hasOwnProperty.call(all, hook) ? all[hook] : (all[hook] = {})\n    right = extension[hook]\n\n    for (code in right) {\n      left[code] = constructs(\n        miniflat(right[code]),\n        hasOwnProperty.call(left, code) ? left[code] : []\n      )\n    }\n  }\n}\n\nfunction constructs(list, existing) {\n  var index = -1\n  var before = []\n\n  while (++index < list.length) {\n    ;(list[index].add === 'after' ? existing : before).push(list[index])\n  }\n\n  chunkedSplice(existing, 0, 0, before)\n  return existing\n}\n\nmodule.exports = combineExtensions\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar unicodePunctuation = require('../character/unicode-punctuation.js')\nvar unicodeWhitespace = require('../character/unicode-whitespace.js')\n\n// Classify whether a character is unicode whitespace, unicode punctuation, or\n// anything else.\n// Used for attention (emphasis, strong), whose sequences can open or close\n// based on the class of surrounding characters.\nfunction classifyCharacter(code) {\n  if (\n    code === null ||\n    markdownLineEndingOrSpace(code) ||\n    unicodeWhitespace(code)\n  ) {\n    return 1\n  }\n\n  if (unicodePunctuation(code)) {\n    return 2\n  }\n}\n\nmodule.exports = classifyCharacter\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiDigit = regexCheck(/\\d/)\n\nmodule.exports = asciiDigit\n","'use strict'\n\nvar asciiControl = require('../character/ascii-control.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\n// eslint-disable-next-line max-params\nfunction destinationFactory(\n  effects,\n  ok,\n  nok,\n  type,\n  literalType,\n  literalMarkerType,\n  rawType,\n  stringType,\n  max\n) {\n  var limit = max || Infinity\n  var balance = 0\n  return start\n\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type)\n      effects.enter(literalType)\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      return destinationEnclosedBefore\n    }\n\n    if (asciiControl(code) || code === 41) {\n      return nok(code)\n    }\n\n    effects.enter(type)\n    effects.enter(rawType)\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationRaw(code)\n  }\n\n  function destinationEnclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      effects.exit(literalType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationEnclosed(code)\n  }\n\n  function destinationEnclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      return destinationEnclosedBefore(code)\n    }\n\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? destinationEnclosedEscape : destinationEnclosed\n  }\n\n  function destinationEnclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code)\n      return destinationEnclosed\n    }\n\n    return destinationEnclosed(code)\n  }\n\n  function destinationRaw(code) {\n    if (code === 40) {\n      if (++balance > limit) return nok(code)\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === 41) {\n      if (!balance--) {\n        effects.exit('chunkString')\n        effects.exit(stringType)\n        effects.exit(rawType)\n        effects.exit(type)\n        return ok(code)\n      }\n\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      if (balance) return nok(code)\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      effects.exit(rawType)\n      effects.exit(type)\n      return ok(code)\n    }\n\n    if (asciiControl(code)) return nok(code)\n    effects.consume(code)\n    return code === 92 ? destinationRawEscape : destinationRaw\n  }\n\n  function destinationRawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    return destinationRaw(code)\n  }\n}\n\nmodule.exports = destinationFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\n\n// eslint-disable-next-line max-params\nfunction labelFactory(effects, ok, nok, type, markerType, stringType) {\n  var self = this\n  var size = 0\n  var data\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    effects.enter(stringType)\n    return atBreak\n  }\n\n  function atBreak(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      (code === 93 && !data) ||\n      /* c8 ignore next */\n      (code === 94 &&\n        /* c8 ignore next */\n        !size &&\n        /* c8 ignore next */\n        '_hiddenFootnoteSupport' in self.parser.constructs) ||\n      size > 999\n    ) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.exit(stringType)\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return atBreak\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return label(code)\n  }\n\n  function label(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      code === 93 ||\n      markdownLineEnding(code) ||\n      size++ > 999\n    ) {\n      effects.exit('chunkString')\n      return atBreak(code)\n    }\n\n    effects.consume(code)\n    data = data || !markdownSpace(code)\n    return code === 92 ? labelEscape : label\n  }\n\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code)\n      size++\n      return label\n    }\n\n    return label(code)\n  }\n}\n\nmodule.exports = labelFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction whitespaceFactory(effects, ok) {\n  var seen\n  return start\n\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      seen = true\n      return start\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(\n        effects,\n        start,\n        seen ? 'linePrefix' : 'lineSuffix'\n      )(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = whitespaceFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction titleFactory(effects, ok, nok, type, markerType, stringType) {\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    marker = code === 40 ? 41 : code\n    return atFirstTitleBreak\n  }\n\n  function atFirstTitleBreak(code) {\n    if (code === marker) {\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    return atTitleBreak(code)\n  }\n\n  function atTitleBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType)\n      return atFirstTitleBreak(marker)\n    }\n\n    if (code === null) {\n      return nok(code)\n    } // Note: blank lines cant exist in content.\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, atTitleBreak, 'linePrefix')\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return title(code)\n  }\n\n  function title(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      return atTitleBreak(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? titleEscape : title\n  }\n\n  function titleEscape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code)\n      return title\n    }\n\n    return title(code)\n  }\n}\n\nmodule.exports = titleFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n}\n\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  var size = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('thematicBreak')\n    marker = code\n    return atBreak(code)\n  }\n\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter('thematicBreakSequence')\n      return sequence(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, 'whitespace')(code)\n    }\n\n    if (size < 3 || (code !== null && !markdownLineEnding(code))) {\n      return nok(code)\n    }\n\n    effects.exit('thematicBreak')\n    return ok(code)\n  }\n\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      size++\n      return sequence\n    }\n\n    effects.exit('thematicBreakSequence')\n    return atBreak(code)\n  }\n}\n\nmodule.exports = thematicBreak\n","'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\nvar color = require('./color')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n  step = reverse ? -1 : 1\n\n  factory(tree, null, [])()\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {}\n    var name\n\n    if (typeof value.type === 'string') {\n      name =\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      visit.displayName =\n        'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')'\n    }\n\n    return visit\n\n    function visit() {\n      var grandparents = parents.concat(node)\n      var result = []\n      var subresult\n      var offset\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)()\n\n          if (subresult[0] === EXIT) {\n            return subresult\n          }\n\n          offset =\n            typeof subresult[1] === 'number' ? subresult[1] : offset + step\n        }\n      }\n\n      return result\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","'use strict'\n\nmodule.exports = convert\n\nfunction convert(test) {\n  if (test == null) {\n    return ok\n  }\n\n  if (typeof test === 'string') {\n    return typeFactory(test)\n  }\n\n  if (typeof test === 'object') {\n    return 'length' in test ? anyFactory(test) : allFactory(test)\n  }\n\n  if (typeof test === 'function') {\n    return test\n  }\n\n  throw new Error('Expected function, string, or object as test')\n}\n\n// Utility assert each property in `test` is represented in `node`, and each\n// values are strictly equal.\nfunction allFactory(test) {\n  return all\n\n  function all(node) {\n    var key\n\n    for (key in test) {\n      if (node[key] !== test[key]) return false\n    }\n\n    return true\n  }\n}\n\nfunction anyFactory(tests) {\n  var checks = []\n  var index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return any\n\n  function any() {\n    var index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, arguments)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n// Utility to convert a string into a function which checks a given nodes type\n// for said string.\nfunction typeFactory(test) {\n  return type\n\n  function type(node) {\n    return Boolean(node && node.type === test)\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","module.exports = phrasing\n\nfunction phrasing(parent, context, safeOptions) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var before = safeOptions.before\n  var after\n  var handle\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    if (index + 1 < children.length) {\n      handle = context.handle.handlers[children[index + 1].type]\n      if (handle && handle.peek) handle = handle.peek\n      after = handle\n        ? handle(children[index + 1], parent, context, {\n            before: '',\n            after: ''\n          }).charAt(0)\n        : ''\n    } else {\n      after = safeOptions.after\n    }\n\n    // In some cases, html (text) can be found in phrasing right after an eol.\n    // When wed serialize that, in most cases that would be seen as html\n    // (flow).\n    // As we cant escape or so to prevent it from happening, we take a somewhat\n    // reasonable approach: replace that eol with a space.\n    // See: <https://github.com/syntax-tree/mdast-util-to-markdown/issues/15>\n    if (\n      results.length > 0 &&\n      (before === '\\r' || before === '\\n') &&\n      child.type === 'html'\n    ) {\n      results[results.length - 1] = results[results.length - 1].replace(\n        /(\\r?\\n|\\r)$/,\n        ' '\n      )\n      before = ' '\n    }\n\n    results.push(\n      context.handle(child, parent, context, {\n        before: before,\n        after: after\n      })\n    )\n\n    before = results[results.length - 1].slice(-1)\n  }\n\n  return results.join('')\n}\n","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _CalendarOutlined = _interopRequireDefault(require('./lib/icons/CalendarOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _CalendarOutlined;\n  exports.default = _default;\n  module.exports = _default;","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _ClockCircleOutlined = _interopRequireDefault(require('./lib/icons/ClockCircleOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _ClockCircleOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPlaceholder = getPlaceholder;\nexports.getRangePlaceholder = getRangePlaceholder;\n\nfunction getPlaceholder(picker, locale, customizePlaceholder) {\n  if (customizePlaceholder !== undefined) {\n    return customizePlaceholder;\n  }\n\n  if (picker === 'year' && locale.lang.yearPlaceholder) {\n    return locale.lang.yearPlaceholder;\n  }\n\n  if (picker === 'quarter' && locale.lang.quarterPlaceholder) {\n    return locale.lang.quarterPlaceholder;\n  }\n\n  if (picker === 'month' && locale.lang.monthPlaceholder) {\n    return locale.lang.monthPlaceholder;\n  }\n\n  if (picker === 'week' && locale.lang.weekPlaceholder) {\n    return locale.lang.weekPlaceholder;\n  }\n\n  if (picker === 'time' && locale.timePickerLocale.placeholder) {\n    return locale.timePickerLocale.placeholder;\n  }\n\n  return locale.lang.placeholder;\n}\n\nfunction getRangePlaceholder(picker, locale, customizePlaceholder) {\n  if (customizePlaceholder !== undefined) {\n    return customizePlaceholder;\n  }\n\n  if (picker === 'year' && locale.lang.yearPlaceholder) {\n    return locale.lang.rangeYearPlaceholder;\n  }\n\n  if (picker === 'month' && locale.lang.monthPlaceholder) {\n    return locale.lang.rangeMonthPlaceholder;\n  }\n\n  if (picker === 'week' && locale.lang.weekPlaceholder) {\n    return locale.lang.rangeWeekPlaceholder;\n  }\n\n  if (picker === 'time' && locale.timePickerLocale.placeholder) {\n    return locale.timePickerLocale.rangePlaceholder;\n  }\n\n  return locale.lang.rangePlaceholder;\n}"],"sourceRoot":""}