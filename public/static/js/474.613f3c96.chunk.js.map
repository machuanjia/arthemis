{"version":3,"sources":["../node_modules/rc-picker/es/PanelContext.js","../node_modules/rc-picker/es/panels/Header.js","../node_modules/rc-picker/es/panels/DecadePanel/DecadeHeader.js","../node_modules/rc-picker/es/utils/timeUtil.js","../node_modules/rc-picker/es/panels/PanelBody.js","../node_modules/rc-picker/es/panels/DecadePanel/DecadeBody.js","../node_modules/rc-picker/es/utils/uiUtil.js","../node_modules/rc-picker/es/panels/DecadePanel/index.js","../node_modules/rc-picker/es/utils/dateUtil.js","../node_modules/rc-picker/es/panels/TimePanel/TimeHeader.js","../node_modules/rc-picker/es/panels/TimePanel/TimeUnitColumn.js","../node_modules/rc-picker/es/utils/miscUtil.js","../node_modules/rc-picker/es/panels/TimePanel/TimeBody.js","../node_modules/rc-picker/es/panels/TimePanel/index.js","../node_modules/rc-picker/es/RangeContext.js","../node_modules/rc-picker/es/hooks/useCellClassName.js","../node_modules/rc-picker/es/panels/DatePanel/DateBody.js","../node_modules/rc-picker/es/panels/DatePanel/DateHeader.js","../node_modules/rc-picker/es/panels/DatePanel/index.js","../node_modules/rc-picker/es/panels/DatetimePanel/index.js","../node_modules/rc-picker/es/panels/WeekPanel/index.js","../node_modules/rc-picker/es/panels/MonthPanel/MonthHeader.js","../node_modules/rc-picker/es/panels/MonthPanel/MonthBody.js","../node_modules/rc-picker/es/panels/MonthPanel/index.js","../node_modules/rc-picker/es/panels/QuarterPanel/QuarterHeader.js","../node_modules/rc-picker/es/panels/QuarterPanel/QuarterBody.js","../node_modules/rc-picker/es/panels/QuarterPanel/index.js","../node_modules/rc-picker/es/panels/YearPanel/YearHeader.js","../node_modules/rc-picker/es/panels/YearPanel/YearBody.js","../node_modules/rc-picker/es/panels/YearPanel/index.js","../node_modules/rc-picker/es/utils/getExtraFooter.js","../node_modules/rc-picker/es/utils/getRanges.js","../node_modules/rc-picker/es/PickerPanel.js","../node_modules/rc-picker/es/PickerTrigger.js","../node_modules/rc-picker/es/hooks/usePickerInput.js","../node_modules/rc-picker/es/hooks/useTextValueMapping.js","../node_modules/rc-picker/es/hooks/useValueTexts.js","../node_modules/rc-picker/es/hooks/useHoverValue.js","../node_modules/rc-picker/es/Picker.js","../node_modules/rc-picker/es/hooks/useRangeViewDates.js","../node_modules/rc-picker/es/RangePicker.js","../node_modules/rc-picker/es/hooks/useRangeDisabled.js","../node_modules/rc-picker/es/index.js","../node_modules/antd/lib/date-picker/style/index.js","../node_modules/antd/lib/tag/style/index.js","../home/runner/work/react-sortablejs/react-sortablejs/node_modules/@parcel/scope-hoisting/lib/helpers.js","util.ts","react-sortable.tsx","../node_modules/sortablejs/modular/sortable.esm.js","../ReactCountdownClock/webpack/universalModuleDefinition","../ReactCountdownClock/react-countdown-clock.coffee","../ReactCountdownClock/node_modules/create-react-class/factory.js","../ReactCountdownClock/node_modules/create-react-class/index.js","../ReactCountdownClock/node_modules/object-assign/index.js","../ReactCountdownClock/node_modules/prop-types/factoryWithThrowingShims.js","../ReactCountdownClock/node_modules/prop-types/index.js","../ReactCountdownClock/node_modules/prop-types/lib/ReactPropTypesSecret.js","../webpack:/ReactCountdownClock/external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","../ReactCountdownClock/webpack/bootstrap","../ReactCountdownClock/webpack/startup","../../../../../src/components/CodeMirror/index.tsx","../node_modules/codemirror/mode/markdown/markdown.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/meta.js","../node_modules/react-markdown/lib/react-markdown.js","../node_modules/react-markdown/node_modules/unified/index.js","../node_modules/bail/index.js","../node_modules/extend/index.js","../node_modules/react-markdown/node_modules/is-plain-obj/index.js","../node_modules/trough/index.js","../node_modules/trough/wrap.js","../node_modules/vfile/index.js","../node_modules/vfile/lib/index.js","../node_modules/vfile/node_modules/vfile-message/index.js","../node_modules/vfile/node_modules/unist-util-stringify-position/index.js","../node_modules/vfile/lib/core.js","../node_modules/vfile/lib/minpath.browser.js","../node_modules/vfile/lib/minproc.browser.js","../node_modules/remark-parse/index.js","../node_modules/mdast-util-from-markdown/index.js","../node_modules/mdast-util-from-markdown/dist/index.js","../node_modules/mdast-util-to-string/index.js","../node_modules/micromark/dist/util/safe-from-int.js","../node_modules/micromark/dist/parse.js","../node_modules/micromark/dist/initialize/content.js","../node_modules/micromark/dist/initialize/document.js","../node_modules/micromark/dist/initialize/flow.js","../node_modules/micromark/dist/tokenize/content.js","../node_modules/micromark/dist/constant/splice.js","../node_modules/micromark/dist/util/create-tokenizer.js","../node_modules/micromark/dist/util/serialize-chunks.js","../node_modules/micromark/dist/util/slice-chunks.js","../node_modules/micromark/dist/constructs.js","../node_modules/micromark/dist/tokenize/attention.js","../node_modules/micromark/dist/constant/unicode-punctuation-regex.js","../node_modules/micromark/dist/util/move-point.js","../node_modules/micromark/dist/tokenize/autolink.js","../node_modules/micromark/dist/character/ascii-atext.js","../node_modules/micromark/dist/tokenize/block-quote.js","../node_modules/micromark/dist/tokenize/character-escape.js","../node_modules/micromark/dist/character/ascii-punctuation.js","../node_modules/micromark/dist/tokenize/character-reference.js","../node_modules/micromark/node_modules/parse-entities/decode-entity.browser.js","../node_modules/micromark/dist/character/ascii-hex-digit.js","../node_modules/micromark/dist/tokenize/code-fenced.js","../node_modules/micromark/dist/tokenize/code-indented.js","../node_modules/micromark/dist/tokenize/code-text.js","../node_modules/micromark/dist/tokenize/definition.js","../node_modules/micromark/dist/tokenize/hard-break-escape.js","../node_modules/micromark/dist/tokenize/heading-atx.js","../node_modules/micromark/dist/tokenize/html-flow.js","../node_modules/micromark/dist/constant/html-block-names.js","../node_modules/micromark/dist/constant/html-raw-names.js","../node_modules/micromark/dist/tokenize/html-text.js","../node_modules/micromark/dist/tokenize/label-start-image.js","../node_modules/micromark/dist/tokenize/label-start-link.js","../node_modules/micromark/dist/tokenize/line-ending.js","../node_modules/micromark/dist/tokenize/list.js","../node_modules/micromark/dist/tokenize/setext-underline.js","../node_modules/micromark/dist/preprocess.js","../node_modules/micromark/dist/postprocess.js","../node_modules/mdast-util-from-markdown/node_modules/parse-entities/decode-entity.browser.js","../node_modules/mdast-util-from-markdown/node_modules/unist-util-stringify-position/index.js","../node_modules/mdast-add-list-metadata/index.js","../node_modules/mdast-add-list-metadata/node_modules/unist-util-visit-parents/index.js","../node_modules/react-markdown/lib/plugins/naive-html.js","../node_modules/unist-util-visit-parents/color.browser.js","../node_modules/react-markdown/lib/plugins/disallow-node.js","../node_modules/react-markdown/lib/ast-to-react.js","../node_modules/react-markdown/lib/wrap-table-rows.js","../node_modules/react-markdown/lib/get-definitions.js","../node_modules/react-markdown/lib/uri-transformer.js","../node_modules/react-markdown/lib/renderers.js","../node_modules/react-markdown/lib/symbols.js","../node_modules/remark-gfm/index.js","../node_modules/micromark-extension-gfm/index.js","../node_modules/micromark-extension-gfm/syntax.js","../node_modules/micromark-extension-gfm-autolink-literal/index.js","../node_modules/micromark-extension-gfm-autolink-literal/syntax.js","../node_modules/micromark-extension-gfm-strikethrough/index.js","../node_modules/micromark-extension-gfm-table/index.js","../node_modules/micromark-extension-gfm-table/syntax.js","../node_modules/micromark-extension-gfm-task-list-item/index.js","../node_modules/micromark-extension-gfm-task-list-item/syntax.js","../node_modules/mdast-util-gfm/from-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/from-markdown.js","../node_modules/ccount/index.js","../node_modules/mdast-util-find-and-replace/index.js","../node_modules/mdast-util-find-and-replace/node_modules/escape-string-regexp/index.js","../node_modules/mdast-util-gfm-strikethrough/from-markdown.js","../node_modules/mdast-util-gfm-table/from-markdown.js","../node_modules/mdast-util-gfm-task-list-item/from-markdown.js","../node_modules/mdast-util-gfm/to-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/to-markdown.js","../node_modules/mdast-util-gfm-strikethrough/to-markdown.js","../node_modules/mdast-util-gfm-table/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/inline-code.js","../node_modules/mdast-util-to-markdown/lib/util/pattern-compile.js","../node_modules/markdown-table/index.js","../node_modules/mdast-util-gfm-task-list-item/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/list-item.js","../node_modules/mdast-util-to-markdown/lib/util/check-bullet.js","../node_modules/mdast-util-to-markdown/lib/util/check-list-item-indent.js","../node_modules/mdast-util-to-markdown/lib/util/container-flow.js","../node_modules/mdast-util-to-markdown/lib/util/indent-lines.js","../node_modules/mdast-util-to-markdown/lib/configure.js","../node_modules/prismjs/prism.js","../node_modules/antd/lib/date-picker/index.js","../node_modules/rc-picker/lib/generate/moment.js","../node_modules/antd/lib/date-picker/PickerButton.js","../node_modules/antd/lib/date-picker/PickerTag.js","../node_modules/antd/lib/tag/index.js","../node_modules/antd/lib/tag/CheckableTag.js","../node_modules/antd/lib/date-picker/generatePicker/generateSinglePicker.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/CalendarOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/CalendarOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/ClockCircleOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/ClockCircleOutlined.js","../node_modules/antd/lib/date-picker/generatePicker/generateRangePicker.js","../node_modules/antd/node_modules/@ant-design/icons/SwapRightOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/SwapRightOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/SwapRightOutlined.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../src/langs.ts","../../../src/index.tsx","../../../../src/commands/bold.tsx","../../../../src/commands/italic.tsx","../../../../src/commands/header.tsx","../../../../src/commands/strike.tsx","../../../../src/commands/underline.tsx","../../../../src/commands/olist.tsx","../../../../src/commands/ulist.tsx","../../../../src/commands/link.tsx","../../../../src/commands/todo.tsx","../../../../src/commands/image.tsx","../../../../src/commands/fullscreen.tsx","../../../../src/commands/preview.tsx","../../../../src/commands/index.tsx","../../../../../src/components/ToolBar/index.tsx","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/UpOutlined.js","../node_modules/@ant-design/icons/es/icons/UpOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/HeartTwoTone.js","../node_modules/@ant-design/icons/es/icons/HeartTwoTone.js","../node_modules/@ant-design/icons-svg/es/asn/FormOutlined.js","../node_modules/@ant-design/icons/es/icons/FormOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/PlayCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js","../node_modules/micromark/dist/character/markdown-line-ending.js","../node_modules/micromark/dist/tokenize/factory-space.js","../node_modules/micromark/dist/character/markdown-space.js","../node_modules/micromark/dist/util/chunked-splice.js","../node_modules/micromark/dist/character/markdown-line-ending-or-space.js","../node_modules/micromark/dist/util/regex-check.js","../node_modules/micromark/dist/util/shallow.js","../node_modules/micromark/dist/constant/assign.js","../node_modules/micromark/dist/util/prefix-size.js","../node_modules/micromark/dist/character/ascii-alphanumeric.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/micromark/dist/constant/from-char-code.js","../node_modules/micromark/dist/tokenize/partial-blank-line.js","../node_modules/micromark/dist/util/resolve-all.js","../node_modules/micromark/dist/character/ascii-alpha.js","../node_modules/react-markdown/node_modules/unist-util-visit/index.js","../node_modules/xtend/immutable.js","../node_modules/micromark/dist/util/normalize-identifier.js","../node_modules/micromark/dist/util/miniflat.js","../node_modules/micromark/dist/util/chunked-push.js","../node_modules/micromark/dist/character/unicode-punctuation.js","../node_modules/micromark/dist/character/unicode-whitespace.js","../node_modules/micromark/dist/character/ascii-control.js","../node_modules/micromark/dist/tokenize/label-end.js","../node_modules/repeat-string/index.js","../node_modules/prismjs/components/prism-markup.js","../node_modules/antd/lib/date-picker/generatePicker/index.js","../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/regenerator/index.js","../node_modules/is-buffer/index.js","../node_modules/micromark/dist/constant/has-own-property.js","../node_modules/micromark/dist/util/size-chunks.js","../node_modules/micromark/dist/util/subtokenize.js","../node_modules/micromark/dist/initialize/text.js","../node_modules/micromark/dist/util/combine-extensions.js","../node_modules/micromark/dist/util/classify-character.js","../node_modules/micromark/dist/character/ascii-digit.js","../node_modules/micromark/dist/tokenize/factory-destination.js","../node_modules/micromark/dist/tokenize/factory-label.js","../node_modules/micromark/dist/tokenize/factory-whitespace.js","../node_modules/micromark/dist/tokenize/factory-title.js","../node_modules/micromark/dist/tokenize/thematic-break.js","../node_modules/unist-util-visit-parents/index.js","../node_modules/unist-util-is/convert.js","../node_modules/mdast-util-to-markdown/lib/util/container-phrasing.js","../node_modules/antd/node_modules/@ant-design/icons/CalendarOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/ClockCircleOutlined.js","../node_modules/antd/lib/date-picker/util.js"],"names":["PanelContext","React","HIDDEN_STYLE","visibility","Header","_ref","prefixCls","_ref$prevIcon","prevIcon","_ref$nextIcon","nextIcon","_ref$superPrevIcon","superPrevIcon","_ref$superNextIcon","superNextIcon","onSuperPrev","onSuperNext","onPrev","onNext","children","_React$useContext","hideNextBtn","hidePrevBtn","className","type","onClick","tabIndex","concat","style","DecadeHeader","props","generateConfig","viewDate","onPrevDecades","onNextDecades","hideHeader","headerPrefixCls","yearNumber","getYear","startYear","Math","floor","DECADE_DISTANCE_COUNT","endYear","_extends","setTime","date","hour","minute","second","nextTime","setHour","setMinute","setSecond","getLastDay","year","month","getMonth","endDate","getEndDate","getFixedDate","lastDay","getDate","monthShow","PanelBody","disabledDate","onSelect","picker","rowNum","colNum","prefixColumn","rowClassName","baseDate","getCellClassName","getCellText","getCellNode","getCellDate","titleCell","headerCells","onDateMouseEnter","onDateMouseLeave","mode","cellPrefixCls","rows","i","row","rowStartDate","_loop","j","_objectSpread2","currentDate","disabled","getCellDateDisabled","cellDate","push","title","key","classNames","_objectSpread","_defineProperty","Number","onMouseEnter","onMouseLeave","DecadeBody","DECADE_UNIT_DIFF_DES","DECADE_UNIT_DIFF","decadeYearNumber","startDecadeYear","endDecadeYear","baseDecadeYear","setYear","ceil","DECADE_COL_COUNT","startDecadeNumber","endDecadeNumber","offset","addYear","scrollIds","Map","scrollTo","element","to","duration","get","cancelAnimationFrame","set","requestAnimationFrame","scrollTop","perTick","createKeyDownHandler","event","onLeftRight","onCtrlLeftRight","onUpDown","onPageUpDown","onEnter","which","ctrlKey","metaKey","KeyCode","LEFT","RIGHT","UP","DOWN","PAGE_UP","PAGE_DOWN","ENTER","getDefaultFormat","format","showTime","use12Hours","mergedFormat","getInputSize","defaultSize","length","getNow","max","globalClickFunc","clickCallbacks","Set","PickerModeMap","next","quarter","week","time","elementsContains","elements","target","some","ele","contains","DecadePanel","onViewDateChange","operationRef","onPanelChange","panelPrefixCls","current","onKeyDown","diff","onDecadesChange","newDate","isNullEqual","value1","value2","isSameYear","year1","year2","equal","getQuarter","isSameQuarter","quarter1","quarter2","isSameMonth","month1","month2","isSameDate","date1","date2","isSameWeek","locale","getWeek","isEqual","time1","time2","getHour","getMinute","getSecond","isSameTime","isInRange","startDate","isAfter","getClosingViewDate","arguments","undefined","addMonth","formatValue","value","parseValue","_ref2","formatList","parse","_ref3","getDisabledFromRange","currentMode","start","end","setDate","setMonth","startMonth","TimeHeader","TimeUnitColumn","units","active","hideDisabledOptions","open","ulRef","useRef","liRefs","scrollRef","useLayoutEffect","li","offsetTop","callback","id","tryOrNextFrame","isVisible","raf","cancel","waitElementReady","_scrollRef$current","call","ref","position","map","unit","_classNames2","label","leftPad","str","fill","String","toArray","val","Array","isArray","getDataOrAriaProps","retProps","Object","keys","forEach","substr","getValue","values","index","updateValues","newValues","shouldUnitsUpdate","prevUnits","nextUnits","generateUnits","step","disabledUnits","includes","TimeBody","isPM","activeColumnIndex","showHour","showMinute","showSecond","_props$hourStep","hourStep","_props$minuteStep","minuteStep","_props$secondStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","columns","contentPrefixCls","columnPrefixCls","originHour","isNewPM","newHour","newMinute","newSecond","mergedHour","mergedMinute","mergedSecond","utilSetTime","rawHours","memorizedRawHours","useMemo","_React$useMemo","AMPMDisabled","hourValue","_React$useMemo2","_slicedToArray","AMDisabled","PMDisabled","hours","filter","hourMeta","hourLabel","minutes","seconds","addColumnNode","condition","node","columnValue","onColumnSelect","column","valueIndex","findIndex","unitLen","nextUnit","num","PMIndex","TimePanel","_props$format","_props$use12Hours","bodyOperationRef","_React$useState","_React$useState2","setActiveColumnIndex","columnsCount","bool","onBlur","RangeContext","useCellClassName","rangedValue","hoverRangedValue","isInView","isSameCell","offsetCell","today","prevDate","nextDate","rangeStart","rangeEnd","hoverStart","hoverEnd","isRangeHovered","isRangeStart","isRangeEnd","isHoverStart","isHoverEnd","isHoverEdgeStart","isHoverEdgeEnd","DateBody","rowCount","dateRender","weekFirstDay","getWeekFirstDay","monthStartDate","startDateWeekDay","getWeekDay","alignStartDate","addDate","getWeekStartDate","weekDaysLocale","shortWeekDays","getShortWeekDays","DateHeader","onNextMonth","onPrevMonth","onNextYear","onPrevYear","onYearClick","onMonthClick","monthsLocale","shortMonths","getShortMonths","yearNode","yearFormat","monthNode","monthFormat","monthYearNodes","monthBeforeYear","DatePanel","_props$panelName","panelName","keyboardConfig","_onSelect","onYearChange","onMonthChange","ACTIVE_PANEL","_len","args","_key","tuple","DatetimePanel","defaultValue","disabledTime","activePanel","setActivePanel","dateOperationRef","timeOperationRef","timeProps","_typeof","e","TAB","nextActivePanel","activeIndex","indexOf","getNextActive","shiftKey","preventDefault","onClose","onInternalSelect","source","selectedDate","disabledTimes","defaultDate","WeekPanel","rowPrefixCls","MonthHeader","MonthBody","monthCellRender","baseMonth","MonthPanel","QuarterHeader","QuarterBody","baseQuarter","quarterFormat","QuarterPanel","YearHeader","onPrevDecade","onNextDecade","onDecadeClick","YEAR_DECADE_COUNT","YearBody","yearPrefixCls","baseYear","YEAR_COL_COUNT","currentYearNumber","YearPanel","sourceMode","onDecadeChange","getExtraFooter","renderExtraFooter","getRanges","presetNode","okNode","_ref$rangeList","rangeList","_ref$components","components","needConfirmButton","onNow","onOk","okDisabled","showNow","Item","rangeItem","Button","button","now","ok","PickerPanel","_classNames","_props$prefixCls","pickerValue","defaultPickerValue","_props$picker","_props$tabIndex","showToday","onChange","onMouseDown","onPickerValueChange","_onOk","direction","isHourStepValid","isMinuteStepValid","isSecondStepValid","panelContext","panelDivRef","panelRef","onContextSelect","hideRanges","defaultOpenValue","inRange","panelPosition","initRef","_useMergedState","useMergedState","postState","_useMergedState2","mergedValue","setInnerValue","_useMergedState3","_useMergedState4","setInnerViewDate","setViewDate","getInternalNextMode","nextMode","getNextMode","_useMergedState5","_useMergedState6","mergedMode","setInnerMode","panelNode","setSourceMode","triggerSelect","forceTriggerSelect","onInternalKeyDown","warning","extraFooter","rangesNode","todayNode","pickerProps","newMode","viewValue","lowerBoundTime","lowerBoundHour","lowerBoundMinute","getLowerBoundTime","adjustedNow","todayCls","Provider","BUILT_IN_PLACEMENTS","bottomLeft","points","overflow","adjustX","adjustY","bottomRight","topLeft","topRight","PickerTrigger","popupElement","popupStyle","visible","dropdownClassName","dropdownAlign","transitionName","getPopupContainer","range","popupPlacement","dropdownPrefixCls","Trigger","showAction","hideAction","builtinPlacements","popupTransitionName","popup","popupAlign","popupVisible","popupClassName","usePickerInput","isClickOutside","triggerOpen","forwardKeyDown","_onKeyDown","blurToCancel","onSubmit","onCancel","_onFocus","onFocus","_onBlur","_useState","useState","_useState2","typing","setTyping","_useState3","_useState4","focused","setFocused","preventBlurRef","valueChangedRef","preventDefaultRef","inputProps","ESC","SHIFT","document","activeElement","setTimeout","useEffect","window","addEventListener","_toConsumableArray","queueFunc","add","delete","size","removeEventListener","useTextValueMapping","valueTexts","onTextChange","text","setInnerText","valueTextsRef","resetText","every","valText","join","useValueTexts","firstValueText","fullValueTexts","formatStr","prev","shallowEqual","useHoverValue","valueText","internalSetValue","setValue","immediately","_useValueTexts","firstText","onLeave","InnerPicker","inputReadOnly","allowClear","autoFocus","defaultOpen","suffixIcon","clearIcon","placeholder","pickerRef","panelRender","onOpenChange","onMouseUp","onContextMenu","_props$autoComplete","autoComplete","inputRef","inputDivRef","selectedValue","setSelectedValue","postOpen","newOpen","mergedOpen","triggerInnerOpen","_useValueTexts2","_useTextValueMapping","newText","inputDate","_useTextValueMapping2","triggerTextChange","triggerChange","newValue","_usePickerInput","_usePickerInput2","_usePickerInput2$","focus","blur","_useHoverValue","_useHoverValue2","hoverValue","panelProps","suffixNode","clearNode","panel","stopPropagation","apply","readOnly","Picker","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","_createClass","getStartEndDistance","startNext","getDistance","compareFunc","decade1","decade2","isSameDecade","useRangeViewDates","defaultDates","defaultViewDates","setDefaultViewDates","_React$useState3","_React$useState4","viewDates","setInternalViewDates","getRangeViewDate","newViewDates","anotherIndex","reorderValues","canValueTrigger","allowEmpty","InnerRangePicker","_classNames3","_classNames4","_props$separator","separator","_disabledTime","ranges","onCalendarChange","order","activePickerIndex","openRecordsRef","containerRef","startInputDivRef","endInputDivRef","separatorRef","startInputRef","endInputRef","mergedActivePickerIndex","setMergedActivePickerIndex","mergedDisabled","_useRangeViewDates","_useRangeViewDates2","getViewDate","postValues","_useMergedState7","_useMergedState8","mergedModes","setInnerModes","triggerModesChange","modes","_useRangeDisabled","disabledStart","disabledEnd","weekFirstDate","getWeekFirstDate","monthNumber","quarterNumber","useRangeDisabled","_useRangeDisabled2","disabledStartDate","disabledEndDate","_useMergedState9","_useMergedState10","startOpen","endOpen","popupMinWidth","setPopupMinWidth","offsetWidth","triggerRef","_triggerOpen","clearTimeout","openRecords","triggerOpenAndFocus","sourceIndex","startValue","endValue","startStr","endStr","canStartValueTrigger","canEndValueTrigger","nextOpenIndex","sharedTextHooksProps","startValueTexts","firstStartValueText","_useValueTexts3","_useValueTexts4","endValueTexts","firstEndValueText","_onTextChange","startText","triggerStartTextChange","resetStartText","_useTextValueMapping3","_useTextValueMapping4","endText","triggerEndTextChange","resetEndText","rangeHoverValue","setRangeHoverValue","_useState5","_useState6","setHoverRangedValue","startHoverValue","onStartEnter","onStartLeave","_useHoverValue3","_useHoverValue4","endHoverValue","onEndEnter","onEndLeave","getSharedInputHookProps","startInputProps","startFocused","startTyping","_usePickerInput3","_usePickerInput4","endInputProps","_usePickerInput4$","endFocused","endTyping","renderPanel","panelHoverRangedValue","panelShowTime","timeDefaultValues","panelDateRender","arrowLeft","panelLeft","arrowPositionStyle","right","left","rangePanel","minWidth","panels","extraNode","nextViewDate","showDoublePanel","leftPanel","newViewDate","rightPanel","mergedNodes","marginLeft","renderPanels","inputSharedProps","activeBarLeft","activeBarWidth","activeBarPositionStyle","width","RangePicker","require","$parcel$interopDefault","a","__esModule","default","removeNode","parentElement","removeChild","removeNodes","customs","curr","insertNodes","parent","newChild","refChild","oldIndex","insertBefore","createCustoms","evt","list","getMode","from","custom","item","newIndex","$bf037e368b3040002dda64d69d3f$var$_objectSpread","swapItem","oldIndicies","multiDragElement","newIndicies","inputs","sort","b","handleStateRemove","normalized","newList","$bf037e368b3040002dda64d69d3f$var$_toConsumableArray","reverse","splice","handleStateAdd","clone","newItem","store","dragging","ReactSortable","Component","createRef","chosen","selected","setList","sortable","invariant","plugins","newOptions","makeOptions","Sortable","create","tag","classicProps","createElement","$ff006f4a88ed11a8119708ec3f19c5db$var$_objectSpread","getChildren","dataIdAttr","selectedClass","chosenClass","dragClass","fallbackClass","ghostClass","swapClass","dataid","Children","child","prevClassName","filtered","$ff006f4a88ed11a8119708ec3f19c5db$var$_defineProperty","replace","cloneElement","onAdd","onChoose","onClone","onEnd","onFilter","onRemove","onSort","onStart","onUnchoose","onUpdate","onMove","onSpill","onDeselect","$bf037e368b3040002dda64d69d3f$var$_objectWithoutProperties","name","_this2","prepareOnHandlerPropAndDOM","prepareOnHandlerProp","originalEvt","willInsertAfter","result","evtName","_this3","callOnHandlerProp","_this4","propEvent","$bf037e368b3040002dda64d69d3f$export$createCustoms","$ff006f4a88ed11a8119708ec3f19c5db$var$_toConsumableArray","$bf037e368b3040002dda64d69d3f$export$removeNodes","$bf037e368b3040002dda64d69d3f$export$handleStateAdd","$bf037e368b3040002dda64d69d3f$export$getMode","$bf037e368b3040002dda64d69d3f$export$insertNodes","pullMode","$bf037e368b3040002dda64d69d3f$export$handleStateRemove","customClones","clones","_this5","removeOnSpill","revertOnSpill","$bf037e368b3040002dda64d69d3f$export$removeNode","console","log","el","find","k","obj","Symbol","iterator","constructor","prototype","defineProperty","enumerable","configurable","writable","assign","hasOwnProperty","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","arr","arr2","_arrayWithoutHoles","iter","toString","_iterableToArray","TypeError","_nonIterableSpread","userAgent","pattern","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","fn","off","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","css","prop","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","tagName","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","bottom","height","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","scaleY","d","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","options","currentChild","display","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","toUpperCase","getRelativeScrollOffset","offsetLeft","winScroller","scrollLeft","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","isRectEqual","rect1","rect2","round","throttle","ms","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","slice","fromRect","thisAnimationDuration","childMatrix","f","addAnimationState","removeAnimationState","indexOfObject","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","translateX","translateY","animatingX","animatingY","forRepaintDummy","repaint","easing","animated","defaults","initializeByDefault","PluginManager","mount","plugin","option","p","pluginName","pluginEvent","eventName","eventCanceled","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","rootEl","targetEl","cloneEl","toEl","fromEl","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","CustomEvent","createEvent","initEvent","bubbles","cancelable","lastPutMode","allEventProperties","data","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","stopImmediatePropagation","nearestEmptyInsertDetectEvent","nearest","ret","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","touches","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_onMove","dragRect","targetRect","retVal","onMoveFn","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","src","href","sum","charCodeAt","_nextTick","_cancelNextTick","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","idx","checked","_saveInputCheckedState","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","c","cssMatrix","appendChild","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","handleEvent","dropEffect","_globalDragOver","getAttribute","useAnimation","items","destroy","querySelectorAll","removeAttribute","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","lastSwapEl","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","Revert","Remove","SwapPlugin","Swap","dragStart","dragOverValid","swap","prevSwapEl","n1","n2","i1","i2","p1","p2","isEqualNode","swapNodes","nulling","startIndex","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","multiDragKey","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","removeMultiDragElements","dragOver","_ref8","_ref9","clonesInserted","insertMultiDragElements","dragOverCompleted","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","toLowerCase","elementsInserted","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverBubble","ogElemScroller","newElem","self","module","exports","__WEBPACK_EXTERNAL_MODULE__427__","PropTypes","ReactCountdownClock","_seconds","_radius","_fraction","_content","_canvas","_timeoutIds","_scale","displayName","componentDidUpdate","prevProps","_startSeconds","_stopTimer","_setupTimer","color","_drawBackground","_updateCanvas","paused","_startTimer","_pauseTimer","componentDidMount","componentWillUnmount","_cancelTimer","_setScale","_setupCanvases","_drawTimer","_clearTimer","_tickPeriod","_calculateTick","_innerRadius","weight","tick","_background","_timer","refs","background","getContext","scale","timer","textAlign","textBaseline","component","_tick","timeout","_handleComplete","onComplete","_clearBackground","clearRect","beginPath","globalAlpha","alpha","fillStyle","arc","PI","closePath","_formattedTime","1","timeFormat","hoursStr","minutesStr","secondsStr","decimals","toFixed","timeParts","_fontSize","timeString","fontSize","formattedTime","pausedText","font","fillText","percent","render","canvasProps","propTypes","number","string","func","showMilliseconds","defaultProps","_assign","emptyObject","_invariant","error","Error","argIndex","framesToPop","MIXINS_KEY","ReactComponent","isValidElement","ReactNoopUpdateQueue","injectedMixins","ReactClassInterface","mixins","statics","contextTypes","childContextTypes","getDefaultProps","getInitialState","getChildContext","componentWillMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","updateComponent","ReactClassStaticInterface","getDerivedStateFromProps","RESERVED_SPEC_KEYS","Constructor","mixSpecIntoComponent","createMergedResultFunction","property","autobind","validateMethodOverride","isAlreadyDefined","specPolicy","ReactClassMixin","spec","proto","autoBindPairs","__reactAutoBindPairs","isReactClassMethod","createChainedFunction","mergeIntoWithNoDuplicateKeys","one","two","bindAutoBindMethod","method","IsMountedPreMixin","__isMounted","IsMountedPostMixin","replaceState","newState","updater","enqueueReplaceState","isMounted","ReactClassComponent","context","pairs","autoBindKey","initialState","methodName","factory","propIsEnumerable","toObject","test1","getOwnPropertyNames","test2","fromCharCode","test3","letter","symbols","s","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","array","object","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","SERVER_RENDERED","global","cm","ReactCodeMirror","textarea","editor","defineMode","editorOption","tabSize","lineNumbers","nextProps","eventHandle","eventDict","CodeMirror","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","found","mime","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","code","quote","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","stream","inline","switchBlock","block","lineIsEmpty","line","blankLine","linkTitle","indentedCode","htmlBlock","exit","inner","innerMode","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","indentation","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","pop","allowsInlineContinuation","fencedCodeEnd","isHr","skipToEnd","eatSpace","getType","eat","setext","listType","taskList","fencedEndRE","RegExp","localMode","localState","startState","local","lookAhead","peek","footnoteLink","token","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","ch","matchCh","regex","previousFormatting","eatWhile","count","t","formattingEscape","pos","atts","backUp","len","before","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","copyState","indent","textAfter","Pass","blockCommentStart","blockCommentEnd","closeBrackets","fold","defineMIME","mod","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","indentUnit","config","inText","chain","parser","inBlock","doctype","inTag","baseState","inAttribute","stringStartCol","closure","eol","isInAttribute","terminator","depth","Context","startOfLine","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","sol","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","configuration","helperType","skipAttribute","xmlCurrentTag","close","xmlCurrentContext","cx","mimeModes","modeInfo","ext","file","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","xtend","unified","addListMetadata","naiveHtml","disallowNode","astToReact","wrapTableRows","getDefinitions","uriTransformer","defaultRenderers","allTypes","ReactMarkdown","allowedTypes","disallowedTypes","renderers","processor","use","tree","runSync","renderProps","definitions","transforms","removalMethod","unwrapDisallowed","ofType","allowNode","ifNotMatch","renderHtml","allowDangerousHtml","escapeHtml","skipHtml","hasHtmlParser","astPlugins","identity","HtmlParser","determineAstToReactTransforms","transformLinkUri","sourcePos","rawSourcePos","linkTarget","transformImageUri","types","bail","buffer","plain","trough","vfile","frozen","attachers","transformers","namespace","freezeIndex","assertUnfrozen","own","freeze","settings","addPlugin","addList","addPreset","entry","doc","Parser","assertParser","newable","stringify","Compiler","assertCompiler","assertNode","compile","run","complete","done","assertDone","process","processSync","destination","transformer","Infinity","cb","Promise","executor","resolve","reject","pipeline","contents","asyncName","hasOwn","toStr","gOPD","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","getProperty","copy","copyIsArray","deep","getPrototypeOf","wrap","fns","middleware","input","params","invoked","then","VMessage","VFile","message","reason","origin","fatal","messages","fail","VMessagePrototype","parts","parseOrigin","stack","ruleId","point","proc","history","cwd","assertPart","part","sep","assertNonEmpty","assertPath","encoding","dirname","basename","extname","stem","normalize","absolute","allowAboveRoot","lastSlashIndex","lastSegmentLength","lastSlash","dots","normalizeString","JSON","firstNonSlashEnd","seenNonSlash","extIndex","unmatchedSlash","startDot","startPart","preDotState","joined","fromMarkdown","extensions","mdastExtensions","extension","configure","canContainEols","enter","autolink","opener","link","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","heading","blockQuote","characterEscape","characterReference","codeFenced","codeFlow","codeFencedFenceInfo","codeFencedFenceMeta","codeIndented","codeText","codeTextData","codeFlowValue","definition","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreakEscape","hardBreak","hardBreakTrailing","htmlFlow","html","htmlFlowData","htmlText","htmlTextData","listItem","listItemValue","onenterlistitemvalue","listOrdered","onenterlistordered","listUnordered","paragraph","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","thematicBreak","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","lineEnding","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","resource","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","events","handler","tokenStack","resume","getData","prepareList","sliceSerialize","stringifyPosition","tailIndex","lineIndex","tailEvent","firstBlankLineIndex","atMarker","containerBalance","listSpread","_spread","and","lang","meta","identifier","normalizeIdentifier","url","siblings","tail","referenceType","fragment","alt","safeFromInt","decode","ordered","spread","compiler","postprocess","write","preprocessor","all","base","content","flow","combineExtensions","createTokenizer","miniflat","constructs","defined","initializer","markdownLineEnding","factorySpace","effects","previous","contentStart","attempt","contentInitial","consume","lineStart","contentType","partialBlankLine","inspectResult","childFlow","childToken","continued","inspectConstruct","subcontinued","inspectStart","containerState","continuation","inspectContinue","inspectLess","currentConstruct","concrete","flowContinue","inspectDone","interrupt","interruptible","containerConstruct","inspectFlowEnd","_closeFlow","lazy","lazyFlowConstruct","check","inspectLazy","flowEnd","partial","documentContinue","documentContinued","flowStart","containerContinue","exitContainers","_tokenizer","continueFlow","documentAfterPeek","defineSkip","sliceStream","nok","disable","null","initial","flowInitial","afterConstruct","prefixSize","subtokenize","contentEnd","continuationConstruct","contentContinue","prefixed","chunkedPush","chunkedSplice","resolveAll","serializeChunks","shallow","sliceChunks","initialize","columnStart","resolveAllConstructs","chunks","accountForPotentialSkip","_bufferIndex","_index","fields","constructFactory","construct","addResult","onsuccessfulcheck","main","chunkIndex","chunk","go","restore","onreturn","bogusState","listOfConstructs","constructIndex","handleListOfConstructs","handleConstruct","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","resolveTo","atTab","view","startBufferIndex","endIndex","endBufferIndex","text$1","attention","headingAtx","labelEnd","labelStartImage","labelStartLink","setextUnderline","42","43","45","48","49","50","51","52","53","54","55","56","57","62","91","32","35","60","61","95","96","126","38","92","33","93","insideSpan","resolver","classifyCharacter","movePoint","marker","sequence","_open","_close","openingSequence","closingSequence","nextEvents","asciiAlpha","asciiAlphanumeric","asciiAtext","asciiControl","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","regexCheck","markdownSpace","_container","asciiPunctuation","decodeEntity","asciiDigit","asciiHexDigit","_interopDefaultLegacy","decodeEntity__default","numeric","characters","char","entity","innerHTML","markdownLineEndingOrSpace","closingFenceConstruct","closingSequenceStart","sizeOpen","closingSequenceEnd","initialPrefix","sequenceOpen","infoOpen","openAfter","infoAfter","indentedContentConstruct","afterPrefix","gap","tailExitIndex","headEnterIndex","factoryDestination","factoryLabel","factoryWhitespace","factoryTitle","labelAfter","titleConstruct","fenceOpenInside","headingBreak","htmlBlockNames","htmlRawNames","kind","startTag","declarationStart","tagCloseStart","continuationDeclarationInside","commentOpenInside","cdataOpenInside","basicSelfClosing","completeAttributeNameBefore","completeClosingTagAfter","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCharacterDataInside","continuationAtLineEnding","nextBlankConstruct","htmlContinueStart","continuationRawEndTag","declarationOpen","instruction","tagOpen","commentOpen","cdataOpen","declaration","commentStart","commentStartDash","comment","commentClose","atLineEnding","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","sizeChunks","initialSize","inside","onBlank","listItemPrefixWhitespaceConstruct","endOfPrefix","otherPrefix","initialBlankLine","furtherBlankLines","notInCurrentItem","indentConstruct","search","atCarriageReturn","startPosition","endPosition","visitWithParents","ast","listNode","parents","visitor","visit","selfClosingRe","simpleTagRe","selfClosing","getSelfClosing","opening","getSimpleTag","matching","matchingTag","findAndPull","fromNode","toNode","fromIndex","toIndex","virtual","allow","parameters","ReactIs","renderer","isValidElementType","nodeProps","getNodeProps","resolveChildren","childNode","opts","isSimpleRenderer","Fragment","sourcePosition","includeNodeIndex","parentChildCount","assignDefined","nodeKey","level","loose","listItemLoose","listLoose","reduce","unwrapParagraphs","getListItemChildren","language","columnAlignment","align","isHeader","isBlock","parsedChildren","mergeNodeChildren","attrs","table","protocols","uri","first","colon","protocol","supportsStringRender","SimpleRenderer","getCoreProps","break","blockquote","linkReference","imageReference","tableHead","tableBody","tableRow","tableCell","coreProps","checkbox","inlineCode","dangerous","dangerouslySetInnerHTML","__html","virtualHtml","parsedHtml","warningIssued","syntax","toMarkdown","blockTokenizers","visitors","warn","field","combine","tasklist","unicodePunctuation","unicodeWhitespace","www","w2","w3","domain","hasUnderscoreInLastSegment","hasUnderscoreInLastLastSegment","namedCharacterReference","punctuationContinuation","balance","inPath","continuedPunctuation","parenAtPathEnd","pathEnd","trailingPunctuation","wwwAutolink","previousWww","httpAutolink","previousHttp","t1","t2","slash1","slash2","emailAutolink","hasDot","gfmAtext","previousEmail","atext","dotContinuation","dashOrUnderscoreContinuation","afterDashOrUnderscore","_balanced","single","singleTilde","tokenizer","more","removeRemainingSequences","seenDelimiter","hasDash","tableHeaderCount","_align","cellDividerHead","inCellContentHead","cellBreakHead","setextUnderlineMini","createSpace","rowStartDelimiter","atRowEndHead","inWhitespaceHead","inCellContentEscapeHead","atDelimiterRowBreak","rowEndDelimiter","inWhitespaceDelimiter","inFillerDelimiter","afterLeftAlignment","afterRightAlignment","tableClose","nextPrefixedOrBlank","tableContinue","bodyStart","rowStartBody","cellDividerBody","inCellContentBody","cellBreakBody","tableBodyClose","tableBodyContinue","atRowEndBody","inWhitespaceBody","inCellContentEscapeBody","inHead","inDelimiterRow","inRow","cell","cellStart","whitespace","spaceFactory","tasklistCheck","_gfmTasklistFirstContentOfListItem","spaceThenNonSpace","autolinkLiteral","taskListItem","ccount","findAndReplace","enterLiteralAutolinkValue","findUrl","$0","prefix","isCorrectDomain","closingParenIndex","openingParens","closingParens","trail","splitUrl","findEmail","email","literalAutolink","literalAutolinkEmail","literalAutolinkHttp","literalAutolinkWww","character","schema","handlerFactory","pair","subhandler","nodes","unshift","toExpression","toFunction","toPairs","convert","escape","ignored","grandparent","enterCell","$1","tableData","tableHeader","exitCheck","taskListCheckValueChecked","taskListCheckValueUnchecked","firstParaghraph","head","handlers","unsafe","inConstruct","notInConstruct","phrasing","handleDelete","defaultInlineCode","markdownTable","padding","tableCellPadding","alignDelimiters","tablePipeAlign","stringLength","around","atBreak","serializeData","subexit","handleTableRowAsData","handleTableAsData","handleTableCell","patternCompile","expression","_compiled","repeat","cells","columnIndex","columnLength","largest","lines","delimiterStart","delimiterEnd","alignments","defaultStringLength","rowIndex","rowLength","cellMatrix","sizeMatrix","sizes","longestCellByColumn","mostCellsPerRow","toAlignment","r","space","trailingWhitespace","defaultListItem","bullet","checkBullet","listItemIndent","checkListItemIndent","incrementListMarker","indentLines","blank","results","between","Prism","_self","uniqueId","manual","disableWorkerMessageHandler","util","encode","tokens","Token","o","objId","deepClone","visited","v","getLanguage","currentScript","scripts","isActive","defaultActivation","no","languages","redef","insert","grammar","newToken","old","DFS","propertyType","highlightAll","async","highlightAllUnder","env","hooks","highlightElement","insertHighlightedCode","highlightedCode","Worker","worker","onmessage","postMessage","immediateClose","highlight","rest","tokenList","LinkedList","addAfter","matchGrammar","callbacks","matchedStr","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","flags","currentNode","reach","removeCount","matchStr","removeFrom","removeRange","newNode","classes","attributes","aliases","script","highlightAutomaticallyCallback","hasAttribute","readyState","defer","WorkerGlobalScope","markup","includedCdataInside","def","mathml","svg","ssml","atom","rss","addInlined","clike","javascript","js","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","setAttribute","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","_interopRequireDefault","_moment","_default","_warning","endOf","weekday","localeData","firstDayOfWeek","isValidate","isValid","weekdaysMin","monthsShort","_format","formats","fallbackFormatList","formatText","matchFormat","matchText","_i","_date","noteOnce","_interopRequireWildcard","_button","_extends2","_tag","_defineProperty2","_slicedToArray2","_classnames","_omit","_CloseOutlined","_CheckableTag","_configProvider","_colors","_wave","__rest","PresetColorRegex","PresetColorTypes","PresetStatusColorRegex","PresetStatusColorTypes","InternalTag","_a","customizePrefixCls","icon","closeIcon","_a$closable","closable","useContext","ConfigContext","getPrefixCls","setVisible","isPresetColor","tagStyle","backgroundColor","presetColor","tagClassName","handleCloseClick","defaultPrevented","isNeedWave","tagProps","iconNode","kids","tagNode","Tag","forwardRef","CheckableTag","restProps","cls","getPicker","_inherits2","_createSuper2","_classCallCheck2","getDefaultLocale","_en_US","renderPicker","_this$context","customizeGetPopupContainer","customizeSize","_a$bordered","bordered","_this$props","additionalProps","additionalOverrideProps","mergedPicker","getTimeProps","_SizeContext","Consumer","mergedSize","_rcPicker","_util","getPlaceholder","_ClockCircleOutlined","_CalendarOutlined","_CloseCircleFilled","Components","_devWarning","_createClass2","_LocaleReceiver","defaultLocale","contextType","DatePicker","WeekPicker","MonthPicker","YearPicker","TimePicker","QuarterPicker","_AntdIcon","CalendarOutlined","ClockCircleOutlined","customGetPopupContainer","_SwapRightOutlined","getRangePlaceholder","SwapRightOutlined","_arrayLikeToArray","_unsupportedIterableToArray","minLen","_createForOfIteratorHelper","allowArrayLike","it","F","_e","normalCompletion","didErr","_e2","enumerableOnly","getOwnPropertyDescriptors","defineProperties","asyncGeneratorStep","gen","_next","_throw","arg","_asyncToGenerator","langData","abap","abnf","actionscript","ada","apacheconf","apl","applescript","arduino","arff","asciidoc","asm6502","aspnet","autohotkey","autoit","bash","basic","batch","bison","bnf","brainfuck","bro","csharp","cpp","cil","coffeescript","cmake","clojure","crystal","csp","dart","django","docker","ebnf","eiffel","ejs","elixir","elm","erb","erlang","fsharp","fortran","gcode","gedcom","gherkin","git","glsl","gml","graphql","groovy","haml","handlebars","haskell","haxe","hcl","http","hpkp","hsts","ichigojam","inform7","ini","io","java","javadoc","javadoclike","javastacktrace","jolie","jq","jsdoc","json","jsonp","json5","julia","keyman","kotlin","latex","less","lilypond","liquid","lisp","livescript","lolcode","lua","makefile","markdown","matlab","mel","mizar","monkey","n1ql","n4js","nasm","nginx","nim","nix","nsis","objectivec","ocaml","opencl","oz","parigp","pascal","pascaligo","pcaxis","perl","php","phpdoc","plsql","powershell","processing","prolog","properties","protobuf","pug","puppet","pure","python","q","qore","jsx","tsx","renpy","rip","roboconf","ruby","rust","sas","sass","scss","scala","scheme","smalltalk","smarty","soy","sql","stylus","swift","tap","tcl","textile","toml","tt2","twig","typescript","vala","vbnet","velocity","verilog","vhdl","vim","wasm","wiki","xeora","xojo","xquery","yaml","langs","onScroll","onMouseOver","other","mdp","loadedLang","codes","loadLang","useImperativeHandle","reactMarkdownProps","bold","keyCommand","viewBox","execute","italic","strike","underline","olist","ulist","todo","Fullscreen","preview","full","setFull","initEditorHeight","editorRef","fullscreen","command","editorProps","Preview","containerEditor","defaultCommands","toolbars","htmlProps","buttonProps","btn","MarkdownEditor","toolbarsMode","visibleEditor","previewProps","codemirrorProps","codeMirror","previewContainer","setEditor","toolBarProps","codeEditor","data-visible","instance","RightOutlined","AntdIcon","RightOutlinedSvg","UpOutlined","UpOutlinedSvg","HeartTwoTone","primaryColor","secondaryColor","HeartTwoToneSvg","FormOutlined","FormOutlinedSvg","PlayCircleOutlined","PlayCircleOutlinedSvg","limit","remove","chunkStart","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","rmClass","removeChildren","childNodes","firstChild","removeChildrenAndAdd","elt","createTextNode","eltP","activeElt","addClass","joinClasses","as","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","copyObj","overwrite","countColumn","nextTab","selectionStart","selectionEnd","Delayed","onTimeout","scrollerGap","sel_dontScroll","sel_mouse","sel_move","findColumn","goal","col","skipped","min","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","dir","findFirst","pred","midF","mid","iterateBidiSections","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","getOrder","noHandlers","emitter","attachEvent","_handlers","getHandlers","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","hasBadBidiRects","txt","r0","r1","splitLinesAuto","l","nl","rt","hasSelection","te","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","dependencies","resolveMode","mfactory","modeObj","modeExtensions","exts","modeProps","prop$1","extendMode","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","getLine","sz","chunkSize","getBetween","getLines","updateLineHeight","lineNo","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","clipToLen","linelen","clipPosArray","skipTo","caseInsensitive","cased","hideFirstChars","oracle","baseToken","SavedContext","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","takeToken","asArray","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","getLineContent","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","isWidget","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","widgetHeight","parentStyle","gutters","wrapper","eventInWidget","sizer","mover","paddingTop","lineSpace","paddingVert","paddingH","cachedPaddingH","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","pageScrollY","marginTop","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","e$1","colDiff","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","blinker","cursorDiv","cursorBlinkRate","hasFocus","ensureFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","scrollNode","scrollIntoView","scrollPosIntoView","margin","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollbars","isScroller","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","bar","maybeDisable","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","nextOpId","startOperation","updateInput","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","editorIsHidden","wrapperHeight","oldDisplayWidth","scrollbarsClipped","marginBottom","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","allowDropFileTypes","reader","onerror","onload","readAsText","onDragStart","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","34","36","37","39","40","44","46","59","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","keyMap","normalizeKeyName","ctrl","cmd","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","supportsTouch","clickInGutter","selectingText","handleMappedButton","leftButtonDown","configureMouse","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","mouseMove","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","over","leave","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","copyableRanges","lineRange","disableBrowserMagic","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","dontDelegate","defineExtension","defineDocExtension","called","visitParents","CONTINUE","SKIP","EXIT","unicodePunctuationRegex","labelStart","_inactive","balanced","afterLabelEnd","resourceConstruct","fullReferenceConstruct","collapsedReferenceConstruct","media","_used","destinationAfter","afterLabel","firstFormat","showTimeObj","_PickerButton","_PickerTag","_generateSinglePicker2","_generateRangePicker","_generateSinglePicker","MergedDatePicker","isBuffer","subcontent","eventIndex","entered","adjust","startPositions","childEvents","jumps","gaps","isInFirstContentOfListItem","otherIndex","otherEvent","subevents","_movePreviousLineEndings","initializeFactory","createResolver","notText","resolveAllLineSuffixes","extraResolver","bufferIndex","tabs","hook","literalType","literalMarkerType","rawType","stringType","destinationEnclosedBefore","destinationRaw","destinationEnclosed","destinationEnclosedEscape","destinationRawEscape","markerType","labelEscape","seen","atFirstTitleBreak","atTitleBreak","titleEscape","subresult","grandparents","toResult","Boolean","typeFactory","tests","checks","anyFactory","allFactory","safeOptions","customizePlaceholder","yearPlaceholder","quarterPlaceholder","monthPlaceholder","weekPlaceholder","timePickerLocale","rangeYearPlaceholder","rangeMonthPlaceholder","rangeWeekPlaceholder","rangePlaceholder"],"mappings":"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","file":"static/js/474.613f3c96.chunk.js","sourcesContent":["import * as React from 'react';\nvar PanelContext = /*#__PURE__*/React.createContext({});\nexport default PanelContext;","import * as React from 'react';\nimport PanelContext from '../PanelContext';\nvar HIDDEN_STYLE = {\n  visibility: 'hidden'\n};\n\nfunction Header(_ref) {\n  var prefixCls = _ref.prefixCls,\n      _ref$prevIcon = _ref.prevIcon,\n      prevIcon = _ref$prevIcon === void 0 ? \"\\u2039\" : _ref$prevIcon,\n      _ref$nextIcon = _ref.nextIcon,\n      nextIcon = _ref$nextIcon === void 0 ? \"\\u203A\" : _ref$nextIcon,\n      _ref$superPrevIcon = _ref.superPrevIcon,\n      superPrevIcon = _ref$superPrevIcon === void 0 ? \"\\xAB\" : _ref$superPrevIcon,\n      _ref$superNextIcon = _ref.superNextIcon,\n      superNextIcon = _ref$superNextIcon === void 0 ? \"\\xBB\" : _ref$superNextIcon,\n      onSuperPrev = _ref.onSuperPrev,\n      onSuperNext = _ref.onSuperNext,\n      onPrev = _ref.onPrev,\n      onNext = _ref.onNext,\n      children = _ref.children;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideNextBtn = _React$useContext.hideNextBtn,\n      hidePrevBtn = _React$useContext.hidePrevBtn;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: prefixCls\n  }, onSuperPrev && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSuperPrev,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-super-prev-btn\"),\n    style: hidePrevBtn ? HIDDEN_STYLE : {}\n  }, superPrevIcon), onPrev && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onPrev,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-prev-btn\"),\n    style: hidePrevBtn ? HIDDEN_STYLE : {}\n  }, prevIcon), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-view\")\n  }, children), onNext && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onNext,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-next-btn\"),\n    style: hideNextBtn ? HIDDEN_STYLE : {}\n  }, nextIcon), onSuperNext && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSuperNext,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-super-next-btn\"),\n    style: hideNextBtn ? HIDDEN_STYLE : {}\n  }, superNextIcon));\n}\n\nexport default Header;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport { DECADE_DISTANCE_COUNT } from '.';\nimport PanelContext from '../../PanelContext';\n\nfunction DecadeHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      onPrevDecades = props.onPrevDecades,\n      onNextDecades = props.onNextDecades;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / DECADE_DISTANCE_COUNT) * DECADE_DISTANCE_COUNT;\n  var endYear = startYear + DECADE_DISTANCE_COUNT - 1;\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevDecades,\n    onSuperNext: onNextDecades\n  }), startYear, \"-\", endYear);\n}\n\nexport default DecadeHeader;","export function setTime(generateConfig, date, hour, minute, second) {\n  var nextTime = generateConfig.setHour(date, hour);\n  nextTime = generateConfig.setMinute(nextTime, minute);\n  nextTime = generateConfig.setSecond(nextTime, second);\n  return nextTime;\n}\nexport function getLowerBoundTime(hour, minute, second, hourStep, minuteStep, secondStep) {\n  var lowerBoundHour = Math.floor(hour / hourStep) * hourStep;\n\n  if (lowerBoundHour < hour) {\n    return [lowerBoundHour, 60 - minuteStep, 60 - secondStep];\n  }\n\n  var lowerBoundMinute = Math.floor(minute / minuteStep) * minuteStep;\n\n  if (lowerBoundMinute < minute) {\n    return [lowerBoundHour, lowerBoundMinute, 60 - secondStep];\n  }\n\n  var lowerBoundSecond = Math.floor(second / secondStep) * secondStep;\n  return [lowerBoundHour, lowerBoundMinute, lowerBoundSecond];\n}\nexport function getLastDay(generateConfig, date) {\n  var year = generateConfig.getYear(date);\n  var month = generateConfig.getMonth(date) + 1;\n  var endDate = generateConfig.getEndDate(generateConfig.getFixedDate(\"\".concat(year, \"-\").concat(month, \"-01\")));\n  var lastDay = generateConfig.getDate(endDate);\n  var monthShow = month < 10 ? \"0\".concat(month) : \"\".concat(month);\n  return \"\".concat(year, \"-\").concat(monthShow, \"-\").concat(lastDay);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PanelContext from '../PanelContext';\nimport { getLastDay } from '../utils/timeUtil';\nimport { getCellDateDisabled } from '../utils/dateUtil';\nexport default function PanelBody(_ref) {\n  var prefixCls = _ref.prefixCls,\n      disabledDate = _ref.disabledDate,\n      onSelect = _ref.onSelect,\n      picker = _ref.picker,\n      rowNum = _ref.rowNum,\n      colNum = _ref.colNum,\n      prefixColumn = _ref.prefixColumn,\n      rowClassName = _ref.rowClassName,\n      baseDate = _ref.baseDate,\n      getCellClassName = _ref.getCellClassName,\n      getCellText = _ref.getCellText,\n      getCellNode = _ref.getCellNode,\n      getCellDate = _ref.getCellDate,\n      generateConfig = _ref.generateConfig,\n      titleCell = _ref.titleCell,\n      headerCells = _ref.headerCells;\n\n  var _React$useContext = React.useContext(PanelContext),\n      onDateMouseEnter = _React$useContext.onDateMouseEnter,\n      onDateMouseLeave = _React$useContext.onDateMouseLeave,\n      mode = _React$useContext.mode;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\"); // =============================== Body ===============================\n\n  var rows = [];\n\n  for (var i = 0; i < rowNum; i += 1) {\n    var row = [];\n    var rowStartDate = void 0;\n\n    var _loop = function _loop(j) {\n      var _objectSpread2;\n\n      var offset = i * colNum + j;\n      var currentDate = getCellDate(baseDate, offset);\n      var disabled = getCellDateDisabled({\n        cellDate: currentDate,\n        mode: mode,\n        disabledDate: disabledDate,\n        generateConfig: generateConfig\n      });\n\n      if (j === 0) {\n        rowStartDate = currentDate;\n\n        if (prefixColumn) {\n          row.push(prefixColumn(rowStartDate));\n        }\n      }\n\n      var title = titleCell && titleCell(currentDate);\n      row.push( /*#__PURE__*/React.createElement(\"td\", {\n        key: j,\n        title: title,\n        className: classNames(cellPrefixCls, _objectSpread((_objectSpread2 = {}, _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-disabled\"), disabled), _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-start\"), getCellText(currentDate) === 1 || picker === 'year' && Number(title) % 10 === 0), _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-end\"), title === getLastDay(generateConfig, currentDate) || picker === 'year' && Number(title) % 10 === 9), _objectSpread2), getCellClassName(currentDate))),\n        onClick: function onClick() {\n          if (!disabled) {\n            onSelect(currentDate);\n          }\n        },\n        onMouseEnter: function onMouseEnter() {\n          if (!disabled && onDateMouseEnter) {\n            onDateMouseEnter(currentDate);\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          if (!disabled && onDateMouseLeave) {\n            onDateMouseLeave(currentDate);\n          }\n        }\n      }, getCellNode ? getCellNode(currentDate) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(cellPrefixCls, \"-inner\")\n      }, getCellText(currentDate))));\n    };\n\n    for (var j = 0; j < colNum; j += 1) {\n      _loop(j);\n    }\n\n    rows.push( /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      className: rowClassName && rowClassName(rowStartDate)\n    }, row));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\")\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"\".concat(prefixCls, \"-content\")\n  }, headerCells && /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, headerCells)), /*#__PURE__*/React.createElement(\"tbody\", null, rows)));\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { DECADE_DISTANCE_COUNT, DECADE_UNIT_DIFF } from '.';\nimport PanelBody from '../PanelBody';\nexport var DECADE_COL_COUNT = 3;\nvar DECADE_ROW_COUNT = 4;\n\nfunction DecadeBody(props) {\n  var DECADE_UNIT_DIFF_DES = DECADE_UNIT_DIFF - 1;\n  var prefixCls = props.prefixCls,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig;\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var decadeYearNumber = Math.floor(yearNumber / DECADE_UNIT_DIFF) * DECADE_UNIT_DIFF;\n  var startDecadeYear = Math.floor(yearNumber / DECADE_DISTANCE_COUNT) * DECADE_DISTANCE_COUNT;\n  var endDecadeYear = startDecadeYear + DECADE_DISTANCE_COUNT - 1;\n  var baseDecadeYear = generateConfig.setYear(viewDate, startDecadeYear - Math.ceil((DECADE_COL_COUNT * DECADE_ROW_COUNT * DECADE_UNIT_DIFF - DECADE_DISTANCE_COUNT) / 2));\n\n  var getCellClassName = function getCellClassName(date) {\n    var _ref;\n\n    var startDecadeNumber = generateConfig.getYear(date);\n    var endDecadeNumber = startDecadeNumber + DECADE_UNIT_DIFF_DES;\n    return _ref = {}, _defineProperty(_ref, \"\".concat(cellPrefixCls, \"-in-view\"), startDecadeYear <= startDecadeNumber && endDecadeNumber <= endDecadeYear), _defineProperty(_ref, \"\".concat(cellPrefixCls, \"-selected\"), startDecadeNumber === decadeYearNumber), _ref;\n  };\n\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: DECADE_ROW_COUNT,\n    colNum: DECADE_COL_COUNT,\n    baseDate: baseDecadeYear,\n    getCellText: function getCellText(date) {\n      var startDecadeNumber = generateConfig.getYear(date);\n      return \"\".concat(startDecadeNumber, \"-\").concat(startDecadeNumber + DECADE_UNIT_DIFF_DES);\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: function getCellDate(date, offset) {\n      return generateConfig.addYear(date, offset * DECADE_UNIT_DIFF);\n    }\n  }));\n}\n\nexport default DecadeBody;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nvar scrollIds = new Map();\n/** Trigger when element is visible in view */\n\nexport function waitElementReady(element, callback) {\n  var id;\n\n  function tryOrNextFrame() {\n    if (isVisible(element)) {\n      callback();\n    } else {\n      id = raf(function () {\n        tryOrNextFrame();\n      });\n    }\n  }\n\n  tryOrNextFrame();\n  return function () {\n    raf.cancel(id);\n  };\n}\n/* eslint-disable no-param-reassign */\n\nexport function scrollTo(element, to, duration) {\n  if (scrollIds.get(element)) {\n    cancelAnimationFrame(scrollIds.get(element));\n  } // jump to target if duration zero\n\n\n  if (duration <= 0) {\n    scrollIds.set(element, requestAnimationFrame(function () {\n      element.scrollTop = to;\n    }));\n    return;\n  }\n\n  var difference = to - element.scrollTop;\n  var perTick = difference / duration * 10;\n  scrollIds.set(element, requestAnimationFrame(function () {\n    element.scrollTop += perTick;\n\n    if (element.scrollTop !== to) {\n      scrollTo(element, to, duration - 10);\n    }\n  }));\n}\nexport function createKeyDownHandler(event, _ref) {\n  var onLeftRight = _ref.onLeftRight,\n      onCtrlLeftRight = _ref.onCtrlLeftRight,\n      onUpDown = _ref.onUpDown,\n      onPageUpDown = _ref.onPageUpDown,\n      onEnter = _ref.onEnter;\n  var which = event.which,\n      ctrlKey = event.ctrlKey,\n      metaKey = event.metaKey;\n\n  switch (which) {\n    case KeyCode.LEFT:\n      if (ctrlKey || metaKey) {\n        if (onCtrlLeftRight) {\n          onCtrlLeftRight(-1);\n          return true;\n        }\n      } else if (onLeftRight) {\n        onLeftRight(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.RIGHT:\n      if (ctrlKey || metaKey) {\n        if (onCtrlLeftRight) {\n          onCtrlLeftRight(1);\n          return true;\n        }\n      } else if (onLeftRight) {\n        onLeftRight(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.UP:\n      if (onUpDown) {\n        onUpDown(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.DOWN:\n      if (onUpDown) {\n        onUpDown(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.PAGE_UP:\n      if (onPageUpDown) {\n        onPageUpDown(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.PAGE_DOWN:\n      if (onPageUpDown) {\n        onPageUpDown(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.ENTER:\n      if (onEnter) {\n        onEnter();\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n  }\n\n  return false;\n} // ===================== Format =====================\n\nexport function getDefaultFormat(format, picker, showTime, use12Hours) {\n  var mergedFormat = format;\n\n  if (!mergedFormat) {\n    switch (picker) {\n      case 'time':\n        mergedFormat = use12Hours ? 'hh:mm:ss a' : 'HH:mm:ss';\n        break;\n\n      case 'week':\n        mergedFormat = 'gggg-wo';\n        break;\n\n      case 'month':\n        mergedFormat = 'YYYY-MM';\n        break;\n\n      case 'quarter':\n        mergedFormat = 'YYYY-[Q]Q';\n        break;\n\n      case 'year':\n        mergedFormat = 'YYYY';\n        break;\n\n      default:\n        mergedFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n    }\n  }\n\n  return mergedFormat;\n}\nexport function getInputSize(picker, format, generateConfig) {\n  var defaultSize = picker === 'time' ? 8 : 10;\n  var length = typeof format === 'function' ? format(generateConfig.getNow()).length : format.length;\n  return Math.max(defaultSize, length) + 2;\n}\nvar globalClickFunc = null;\nvar clickCallbacks = new Set();\nexport function addGlobalMouseDownEvent(callback) {\n  if (!globalClickFunc && typeof window !== 'undefined' && window.addEventListener) {\n    globalClickFunc = function globalClickFunc(e) {\n      // Clone a new list to avoid repeat trigger events\n      _toConsumableArray(clickCallbacks).forEach(function (queueFunc) {\n        queueFunc(e);\n      });\n    };\n\n    window.addEventListener('mousedown', globalClickFunc);\n  }\n\n  clickCallbacks.add(callback);\n  return function () {\n    clickCallbacks.delete(callback);\n\n    if (clickCallbacks.size === 0) {\n      window.removeEventListener('mousedown', globalClickFunc);\n      globalClickFunc = null;\n    }\n  };\n} // ====================== Mode ======================\n\nvar getYearNextMode = function getYearNextMode(next) {\n  if (next === 'month' || next === 'date') {\n    return 'year';\n  }\n\n  return next;\n};\n\nvar getMonthNextMode = function getMonthNextMode(next) {\n  if (next === 'date') {\n    return 'month';\n  }\n\n  return next;\n};\n\nvar getQuarterNextMode = function getQuarterNextMode(next) {\n  if (next === 'month' || next === 'date') {\n    return 'quarter';\n  }\n\n  return next;\n};\n\nvar getWeekNextMode = function getWeekNextMode(next) {\n  if (next === 'date') {\n    return 'week';\n  }\n\n  return next;\n};\n\nexport var PickerModeMap = {\n  year: getYearNextMode,\n  month: getMonthNextMode,\n  quarter: getQuarterNextMode,\n  week: getWeekNextMode,\n  time: null,\n  date: null\n};\nexport function elementsContains(elements, target) {\n  return elements.some(function (ele) {\n    return ele && ele.contains(target);\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport DecadeHeader from './DecadeHeader';\nimport DecadeBody, { DECADE_COL_COUNT } from './DecadeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nexport var DECADE_UNIT_DIFF = 10;\nexport var DECADE_DISTANCE_COUNT = DECADE_UNIT_DIFF * 10;\n\nfunction DecadePanel(props) {\n  var prefixCls = props.prefixCls,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      operationRef = props.operationRef,\n      onSelect = props.onSelect,\n      onPanelChange = props.onPanelChange;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-decade-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_UNIT_DIFF), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_DISTANCE_COUNT), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_UNIT_DIFF * DECADE_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange('year', viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onDecadesChange = function onDecadesChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff * DECADE_DISTANCE_COUNT);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  var onInternalSelect = function onInternalSelect(date) {\n    onSelect(date, 'mouse');\n    onPanelChange('year', date);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(DecadeHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevDecades: function onPrevDecades() {\n      onDecadesChange(-1);\n    },\n    onNextDecades: function onNextDecades() {\n      onDecadesChange(1);\n    }\n  })), /*#__PURE__*/React.createElement(DecadeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: onInternalSelect\n  })));\n}\n\nexport default DecadePanel;","import { DECADE_UNIT_DIFF } from '../panels/DecadePanel/index';\nexport var WEEK_DAY_COUNT = 7;\nexport function isNullEqual(value1, value2) {\n  if (!value1 && !value2) {\n    return true;\n  }\n\n  if (!value1 || !value2) {\n    return false;\n  }\n\n  return undefined;\n}\nexport function isSameDecade(generateConfig, decade1, decade2) {\n  var equal = isNullEqual(decade1, decade2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  var num1 = Math.floor(generateConfig.getYear(decade1) / 10);\n  var num2 = Math.floor(generateConfig.getYear(decade2) / 10);\n  return num1 === num2;\n}\nexport function isSameYear(generateConfig, year1, year2) {\n  var equal = isNullEqual(year1, year2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getYear(year1) === generateConfig.getYear(year2);\n}\nexport function getQuarter(generateConfig, date) {\n  var quota = Math.floor(generateConfig.getMonth(date) / 3);\n  return quota + 1;\n}\nexport function isSameQuarter(generateConfig, quarter1, quarter2) {\n  var equal = isNullEqual(quarter1, quarter2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return isSameYear(generateConfig, quarter1, quarter2) && getQuarter(generateConfig, quarter1) === getQuarter(generateConfig, quarter2);\n}\nexport function isSameMonth(generateConfig, month1, month2) {\n  var equal = isNullEqual(month1, month2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return isSameYear(generateConfig, month1, month2) && generateConfig.getMonth(month1) === generateConfig.getMonth(month2);\n}\nexport function isSameDate(generateConfig, date1, date2) {\n  var equal = isNullEqual(date1, date2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getYear(date1) === generateConfig.getYear(date2) && generateConfig.getMonth(date1) === generateConfig.getMonth(date2) && generateConfig.getDate(date1) === generateConfig.getDate(date2);\n}\nexport function isSameTime(generateConfig, time1, time2) {\n  var equal = isNullEqual(time1, time2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getHour(time1) === generateConfig.getHour(time2) && generateConfig.getMinute(time1) === generateConfig.getMinute(time2) && generateConfig.getSecond(time1) === generateConfig.getSecond(time2);\n}\nexport function isSameWeek(generateConfig, locale, date1, date2) {\n  var equal = isNullEqual(date1, date2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.locale.getWeek(locale, date1) === generateConfig.locale.getWeek(locale, date2);\n}\nexport function isEqual(generateConfig, value1, value2) {\n  return isSameDate(generateConfig, value1, value2) && isSameTime(generateConfig, value1, value2);\n}\n/** Between in date but not equal of date */\n\nexport function isInRange(generateConfig, startDate, endDate, current) {\n  if (!startDate || !endDate || !current) {\n    return false;\n  }\n\n  return !isSameDate(generateConfig, startDate, current) && !isSameDate(generateConfig, endDate, current) && generateConfig.isAfter(current, startDate) && generateConfig.isAfter(endDate, current);\n}\nexport function getWeekStartDate(locale, generateConfig, value) {\n  var weekFirstDay = generateConfig.locale.getWeekFirstDay(locale);\n  var monthStartDate = generateConfig.setDate(value, 1);\n  var startDateWeekDay = generateConfig.getWeekDay(monthStartDate);\n  var alignStartDate = generateConfig.addDate(monthStartDate, weekFirstDay - startDateWeekDay);\n\n  if (generateConfig.getMonth(alignStartDate) === generateConfig.getMonth(value) && generateConfig.getDate(alignStartDate) > 1) {\n    alignStartDate = generateConfig.addDate(alignStartDate, -7);\n  }\n\n  return alignStartDate;\n}\nexport function getClosingViewDate(viewDate, picker, generateConfig) {\n  var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n  switch (picker) {\n    case 'year':\n      return generateConfig.addYear(viewDate, offset * 10);\n\n    case 'quarter':\n    case 'month':\n      return generateConfig.addYear(viewDate, offset);\n\n    default:\n      return generateConfig.addMonth(viewDate, offset);\n  }\n}\nexport function formatValue(value, _ref) {\n  var generateConfig = _ref.generateConfig,\n      locale = _ref.locale,\n      format = _ref.format;\n  return typeof format === 'function' ? format(value) : generateConfig.locale.format(locale.locale, value, format);\n}\nexport function parseValue(value, _ref2) {\n  var generateConfig = _ref2.generateConfig,\n      locale = _ref2.locale,\n      formatList = _ref2.formatList;\n\n  if (!value || typeof formatList[0] === 'function') {\n    return null;\n  }\n\n  return generateConfig.locale.parse(locale.locale, value, formatList);\n} // eslint-disable-next-line consistent-return\n\nexport function getCellDateDisabled(_ref3) {\n  var cellDate = _ref3.cellDate,\n      mode = _ref3.mode,\n      disabledDate = _ref3.disabledDate,\n      generateConfig = _ref3.generateConfig;\n  if (!disabledDate) return false; // Whether cellDate is disabled in range\n\n  var getDisabledFromRange = function getDisabledFromRange(currentMode, start, end) {\n    var current = start;\n\n    while (current <= end) {\n      var date = void 0;\n\n      switch (currentMode) {\n        case 'date':\n          {\n            date = generateConfig.setDate(cellDate, current);\n\n            if (!disabledDate(date)) {\n              return false;\n            }\n\n            break;\n          }\n\n        case 'month':\n          {\n            date = generateConfig.setMonth(cellDate, current);\n\n            if (!getCellDateDisabled({\n              cellDate: date,\n              mode: 'month',\n              generateConfig: generateConfig,\n              disabledDate: disabledDate\n            })) {\n              return false;\n            }\n\n            break;\n          }\n\n        case 'year':\n          {\n            date = generateConfig.setYear(cellDate, current);\n\n            if (!getCellDateDisabled({\n              cellDate: date,\n              mode: 'year',\n              generateConfig: generateConfig,\n              disabledDate: disabledDate\n            })) {\n              return false;\n            }\n\n            break;\n          }\n      }\n\n      current += 1;\n    }\n\n    return true;\n  };\n\n  switch (mode) {\n    case 'date':\n    case 'week':\n      {\n        return disabledDate(cellDate);\n      }\n\n    case 'month':\n      {\n        var startDate = 1;\n        var endDate = generateConfig.getDate(generateConfig.getEndDate(cellDate));\n        return getDisabledFromRange('date', startDate, endDate);\n      }\n\n    case 'quarter':\n      {\n        var startMonth = Math.floor(generateConfig.getMonth(cellDate) / 3) * 3;\n        var endMonth = startMonth + 2;\n        return getDisabledFromRange('month', startMonth, endMonth);\n      }\n\n    case 'year':\n      {\n        return getDisabledFromRange('month', 0, 11);\n      }\n\n    case 'decade':\n      {\n        var year = generateConfig.getYear(cellDate);\n        var startYear = Math.floor(year / DECADE_UNIT_DIFF) * DECADE_UNIT_DIFF;\n        var endYear = startYear + DECADE_UNIT_DIFF - 1;\n        return getDisabledFromRange('year', startYear, endYear);\n      }\n  }\n}","import * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction TimeHeader(props) {\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      value = props.value,\n      format = props.format;\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, {\n    prefixCls: headerPrefixCls\n  }, value ? formatValue(value, {\n    locale: locale,\n    format: format,\n    generateConfig: generateConfig\n  }) : \"\\xA0\");\n}\n\nexport default TimeHeader;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { useRef, useLayoutEffect } from 'react';\nimport classNames from 'classnames';\nimport { scrollTo, waitElementReady } from '../../utils/uiUtil';\nimport PanelContext from '../../PanelContext';\n\nfunction TimeUnitColumn(props) {\n  var prefixCls = props.prefixCls,\n      units = props.units,\n      onSelect = props.onSelect,\n      value = props.value,\n      active = props.active,\n      hideDisabledOptions = props.hideDisabledOptions;\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n\n  var _React$useContext = React.useContext(PanelContext),\n      open = _React$useContext.open;\n\n  var ulRef = useRef(null);\n  var liRefs = useRef(new Map());\n  var scrollRef = useRef(); // `useLayoutEffect` here to avoid blink by duration is 0\n\n  useLayoutEffect(function () {\n    var li = liRefs.current.get(value);\n\n    if (li && open !== false) {\n      scrollTo(ulRef.current, li.offsetTop, 120);\n    }\n  }, [value]);\n  useLayoutEffect(function () {\n    if (open) {\n      var li = liRefs.current.get(value);\n\n      if (li) {\n        scrollRef.current = waitElementReady(li, function () {\n          scrollTo(ulRef.current, li.offsetTop, 0);\n        });\n      }\n    }\n\n    return function () {\n      var _scrollRef$current;\n\n      (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.call(scrollRef);\n    };\n  }, [open]);\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: classNames(\"\".concat(prefixCls, \"-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-active\"), active)),\n    ref: ulRef,\n    style: {\n      position: 'relative'\n    }\n  }, units.map(function (unit) {\n    var _classNames2;\n\n    if (hideDisabledOptions && unit.disabled) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: unit.value,\n      ref: function ref(element) {\n        liRefs.current.set(unit.value, element);\n      },\n      className: classNames(cellPrefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-disabled\"), unit.disabled), _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-selected\"), value === unit.value), _classNames2)),\n      onClick: function onClick() {\n        if (unit.disabled) {\n          return;\n        }\n\n        onSelect(unit.value);\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(cellPrefixCls, \"-inner\")\n    }, unit.label));\n  }));\n}\n\nexport default TimeUnitColumn;","export function leftPad(str, length) {\n  var fill = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n  var current = String(str);\n\n  while (current.length < length) {\n    current = \"\".concat(fill).concat(str);\n  }\n\n  return current;\n}\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport function toArray(val) {\n  if (val === null || val === undefined) {\n    return [];\n  }\n\n  return Array.isArray(val) ? val : [val];\n}\nexport default function getDataOrAriaProps(props) {\n  var retProps = {};\n  Object.keys(props).forEach(function (key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role' || key === 'name') && key.substr(0, 7) !== 'data-__') {\n      retProps[key] = props[key];\n    }\n  });\n  return retProps;\n}\nexport function getValue(values, index) {\n  return values ? values[index] : null;\n}\nexport function updateValues(values, value, index) {\n  var newValues = [getValue(values, 0), getValue(values, 1)];\n  newValues[index] = typeof value === 'function' ? value(newValues[index]) : value;\n\n  if (!newValues[0] && !newValues[1]) {\n    return null;\n  }\n\n  return newValues;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport TimeUnitColumn from './TimeUnitColumn';\nimport { leftPad } from '../../utils/miscUtil';\nimport { setTime as utilSetTime } from '../../utils/timeUtil';\n\nfunction shouldUnitsUpdate(prevUnits, nextUnits) {\n  if (prevUnits.length !== nextUnits.length) return true; // if any unit's disabled status is different, the units should be re-evaluted\n\n  for (var i = 0; i < prevUnits.length; i += 1) {\n    if (prevUnits[i].disabled !== nextUnits[i].disabled) return true;\n  }\n\n  return false;\n}\n\nfunction generateUnits(start, end, step, disabledUnits) {\n  var units = [];\n\n  for (var i = start; i <= end; i += step) {\n    units.push({\n      label: leftPad(i, 2),\n      value: i,\n      disabled: (disabledUnits || []).includes(i)\n    });\n  }\n\n  return units;\n}\n\nfunction TimeBody(props) {\n  var generateConfig = props.generateConfig,\n      prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      activeColumnIndex = props.activeColumnIndex,\n      value = props.value,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      use12Hours = props.use12Hours,\n      _props$hourStep = props.hourStep,\n      hourStep = _props$hourStep === void 0 ? 1 : _props$hourStep,\n      _props$minuteStep = props.minuteStep,\n      minuteStep = _props$minuteStep === void 0 ? 1 : _props$minuteStep,\n      _props$secondStep = props.secondStep,\n      secondStep = _props$secondStep === void 0 ? 1 : _props$secondStep,\n      disabledHours = props.disabledHours,\n      disabledMinutes = props.disabledMinutes,\n      disabledSeconds = props.disabledSeconds,\n      hideDisabledOptions = props.hideDisabledOptions,\n      onSelect = props.onSelect;\n  var columns = [];\n  var contentPrefixCls = \"\".concat(prefixCls, \"-content\");\n  var columnPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var isPM;\n  var originHour = value ? generateConfig.getHour(value) : -1;\n  var hour = originHour;\n  var minute = value ? generateConfig.getMinute(value) : -1;\n  var second = value ? generateConfig.getSecond(value) : -1;\n\n  var setTime = function setTime(isNewPM, newHour, newMinute, newSecond) {\n    var newDate = value || generateConfig.getNow();\n    var mergedHour = Math.max(0, newHour);\n    var mergedMinute = Math.max(0, newMinute);\n    var mergedSecond = Math.max(0, newSecond);\n    newDate = utilSetTime(generateConfig, newDate, !use12Hours || !isNewPM ? mergedHour : mergedHour + 12, mergedMinute, mergedSecond);\n    return newDate;\n  }; // ========================= Unit =========================\n\n\n  var rawHours = generateUnits(0, 23, hourStep, disabledHours && disabledHours());\n  var memorizedRawHours = useMemo(function () {\n    return rawHours;\n  }, rawHours, shouldUnitsUpdate); // Should additional logic to handle 12 hours\n\n  if (use12Hours) {\n    isPM = hour >= 12; // -1 means should display AM\n\n    hour %= 12;\n  }\n\n  var _React$useMemo = React.useMemo(function () {\n    if (!use12Hours) {\n      return [false, false];\n    }\n\n    var AMPMDisabled = [true, true];\n    memorizedRawHours.forEach(function (_ref) {\n      var disabled = _ref.disabled,\n          hourValue = _ref.value;\n      if (disabled) return;\n\n      if (hourValue >= 12) {\n        AMPMDisabled[1] = false;\n      } else {\n        AMPMDisabled[0] = false;\n      }\n    });\n    return AMPMDisabled;\n  }, [use12Hours, memorizedRawHours]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      AMDisabled = _React$useMemo2[0],\n      PMDisabled = _React$useMemo2[1];\n\n  var hours = React.useMemo(function () {\n    if (!use12Hours) return memorizedRawHours;\n    return memorizedRawHours.filter(isPM ? function (hourMeta) {\n      return hourMeta.value >= 12;\n    } : function (hourMeta) {\n      return hourMeta.value < 12;\n    }).map(function (hourMeta) {\n      var hourValue = hourMeta.value % 12;\n      var hourLabel = hourValue === 0 ? '12' : leftPad(hourValue, 2);\n      return _objectSpread(_objectSpread({}, hourMeta), {}, {\n        label: hourLabel,\n        value: hourValue\n      });\n    });\n  }, [use12Hours, isPM, memorizedRawHours]);\n  var minutes = generateUnits(0, 59, minuteStep, disabledMinutes && disabledMinutes(originHour));\n  var seconds = generateUnits(0, 59, secondStep, disabledSeconds && disabledSeconds(originHour, minute)); // ====================== Operations ======================\n\n  operationRef.current = {\n    onUpDown: function onUpDown(diff) {\n      var column = columns[activeColumnIndex];\n\n      if (column) {\n        var valueIndex = column.units.findIndex(function (unit) {\n          return unit.value === column.value;\n        });\n        var unitLen = column.units.length;\n\n        for (var i = 1; i < unitLen; i += 1) {\n          var nextUnit = column.units[(valueIndex + diff * i + unitLen) % unitLen];\n\n          if (nextUnit.disabled !== true) {\n            column.onSelect(nextUnit.value);\n            break;\n          }\n        }\n      }\n    }\n  }; // ======================== Render ========================\n\n  function addColumnNode(condition, node, columnValue, units, onColumnSelect) {\n    if (condition !== false) {\n      columns.push({\n        node: /*#__PURE__*/React.cloneElement(node, {\n          prefixCls: columnPrefixCls,\n          value: columnValue,\n          active: activeColumnIndex === columns.length,\n          onSelect: onColumnSelect,\n          units: units,\n          hideDisabledOptions: hideDisabledOptions\n        }),\n        onSelect: onColumnSelect,\n        value: columnValue,\n        units: units\n      });\n    }\n  } // Hour\n\n\n  addColumnNode(showHour, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"hour\"\n  }), hour, hours, function (num) {\n    onSelect(setTime(isPM, num, minute, second), 'mouse');\n  }); // Minute\n\n  addColumnNode(showMinute, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"minute\"\n  }), minute, minutes, function (num) {\n    onSelect(setTime(isPM, hour, num, second), 'mouse');\n  }); // Second\n\n  addColumnNode(showSecond, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"second\"\n  }), second, seconds, function (num) {\n    onSelect(setTime(isPM, hour, minute, num), 'mouse');\n  }); // 12 Hours\n\n  var PMIndex = -1;\n\n  if (typeof isPM === 'boolean') {\n    PMIndex = isPM ? 1 : 0;\n  }\n\n  addColumnNode(use12Hours === true, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"12hours\"\n  }), PMIndex, [{\n    label: 'AM',\n    value: 0,\n    disabled: AMDisabled\n  }, {\n    label: 'PM',\n    value: 1,\n    disabled: PMDisabled\n  }], function (num) {\n    onSelect(setTime(!!num, hour, minute, second), 'mouse');\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: contentPrefixCls\n  }, columns.map(function (_ref2) {\n    var node = _ref2.node;\n    return node;\n  }));\n}\n\nexport default TimeBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TimeHeader from './TimeHeader';\nimport TimeBody from './TimeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(props) {\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = React.useRef(); // ======================= Keyboard =======================\n\n  var _React$useState = React.useState(-1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeColumnIndex = _React$useState2[0],\n      setActiveColumnIndex = _React$useState2[1];\n\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          setActiveColumnIndex((activeColumnIndex + diff + columnsCount) % columnsCount);\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex === -1) {\n            setActiveColumnIndex(0);\n          } else if (bodyOperationRef.current) {\n            bodyOperationRef.current.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          setActiveColumnIndex(-1);\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      setActiveColumnIndex(-1);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(TimeHeader, _extends({}, props, {\n    format: format,\n    prefixCls: prefixCls\n  })), /*#__PURE__*/React.createElement(TimeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    activeColumnIndex: activeColumnIndex,\n    operationRef: bodyOperationRef\n  })));\n}\n\nexport default TimePanel;","import * as React from 'react';\nvar RangeContext = /*#__PURE__*/React.createContext({});\nexport default RangeContext;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isInRange } from '../utils/dateUtil';\nimport { getValue } from '../utils/miscUtil';\nexport default function useCellClassName(_ref) {\n  var cellPrefixCls = _ref.cellPrefixCls,\n      generateConfig = _ref.generateConfig,\n      rangedValue = _ref.rangedValue,\n      hoverRangedValue = _ref.hoverRangedValue,\n      isInView = _ref.isInView,\n      isSameCell = _ref.isSameCell,\n      offsetCell = _ref.offsetCell,\n      today = _ref.today,\n      value = _ref.value;\n\n  function getClassName(currentDate) {\n    var _ref2;\n\n    var prevDate = offsetCell(currentDate, -1);\n    var nextDate = offsetCell(currentDate, 1);\n    var rangeStart = getValue(rangedValue, 0);\n    var rangeEnd = getValue(rangedValue, 1);\n    var hoverStart = getValue(hoverRangedValue, 0);\n    var hoverEnd = getValue(hoverRangedValue, 1);\n    var isRangeHovered = isInRange(generateConfig, hoverStart, hoverEnd, currentDate);\n\n    function isRangeStart(date) {\n      return isSameCell(rangeStart, date);\n    }\n\n    function isRangeEnd(date) {\n      return isSameCell(rangeEnd, date);\n    }\n\n    var isHoverStart = isSameCell(hoverStart, currentDate);\n    var isHoverEnd = isSameCell(hoverEnd, currentDate);\n    var isHoverEdgeStart = (isRangeHovered || isHoverEnd) && (!isInView(prevDate) || isRangeEnd(prevDate));\n    var isHoverEdgeEnd = (isRangeHovered || isHoverStart) && (!isInView(nextDate) || isRangeStart(nextDate));\n    return _ref2 = {}, _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-in-view\"), isInView(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-in-range\"), isInRange(generateConfig, rangeStart, rangeEnd, currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start\"), isRangeStart(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end\"), isRangeEnd(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start-single\"), isRangeStart(currentDate) && !rangeEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end-single\"), isRangeEnd(currentDate) && !rangeStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start-near-hover\"), isRangeStart(currentDate) && (isSameCell(prevDate, hoverStart) || isInRange(generateConfig, hoverStart, hoverEnd, prevDate))), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end-near-hover\"), isRangeEnd(currentDate) && (isSameCell(nextDate, hoverEnd) || isInRange(generateConfig, hoverStart, hoverEnd, nextDate))), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover\"), isRangeHovered), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-start\"), isHoverStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-end\"), isHoverEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-start\"), isHoverEdgeStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-end\"), isHoverEdgeEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-start-near-range\"), isHoverEdgeStart && isSameCell(prevDate, rangeEnd)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-end-near-range\"), isHoverEdgeEnd && isSameCell(nextDate, rangeStart)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-today\"), isSameCell(today, currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-selected\"), isSameCell(value, currentDate)), _ref2;\n  }\n\n  return getClassName;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { WEEK_DAY_COUNT, getWeekStartDate, isSameDate, isSameMonth, formatValue } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\n\nfunction DateBody(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      prefixColumn = props.prefixColumn,\n      locale = props.locale,\n      rowCount = props.rowCount,\n      viewDate = props.viewDate,\n      value = props.value,\n      dateRender = props.dateRender;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var baseDate = getWeekStartDate(locale.locale, generateConfig, viewDate);\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var weekFirstDay = generateConfig.locale.getWeekFirstDay(locale.locale);\n  var today = generateConfig.getNow(); // ============================== Header ==============================\n\n  var headerCells = [];\n  var weekDaysLocale = locale.shortWeekDays || (generateConfig.locale.getShortWeekDays ? generateConfig.locale.getShortWeekDays(locale.locale) : []);\n\n  if (prefixColumn) {\n    headerCells.push( /*#__PURE__*/React.createElement(\"th\", {\n      key: \"empty\",\n      \"aria-label\": \"empty cell\"\n    }));\n  }\n\n  for (var i = 0; i < WEEK_DAY_COUNT; i += 1) {\n    headerCells.push( /*#__PURE__*/React.createElement(\"th\", {\n      key: i\n    }, weekDaysLocale[(i + weekFirstDay) % WEEK_DAY_COUNT]));\n  } // =============================== Body ===============================\n\n\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    today: today,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: prefixColumn ? null : rangedValue,\n    hoverRangedValue: prefixColumn ? null : hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameDate(generateConfig, current, target);\n    },\n    isInView: function isInView(date) {\n      return isSameMonth(generateConfig, date, viewDate);\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addDate(date, offset);\n    }\n  });\n  var getCellNode = dateRender ? function (date) {\n    return dateRender(date, today);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: rowCount,\n    colNum: WEEK_DAY_COUNT,\n    baseDate: baseDate,\n    getCellNode: getCellNode,\n    getCellText: generateConfig.getDate,\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addDate,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-MM-DD',\n        generateConfig: generateConfig\n      });\n    },\n    headerCells: headerCells\n  }));\n}\n\nexport default DateBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction DateHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextMonth = props.onNextMonth,\n      onPrevMonth = props.onPrevMonth,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick,\n      onMonthClick = props.onMonthClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var monthsLocale = locale.shortMonths || (generateConfig.locale.getShortMonths ? generateConfig.locale.getShortMonths(locale.locale) : []);\n  var month = generateConfig.getMonth(viewDate); // =================== Month & Year ===================\n\n  var yearNode = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    key: \"year\",\n    onClick: onYearClick,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  }));\n  var monthNode = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    key: \"month\",\n    onClick: onMonthClick,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-month-btn\")\n  }, locale.monthFormat ? formatValue(viewDate, {\n    locale: locale,\n    format: locale.monthFormat,\n    generateConfig: generateConfig\n  }) : monthsLocale[month]);\n  var monthYearNodes = locale.monthBeforeYear ? [monthNode, yearNode] : [yearNode, monthNode];\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onPrev: onPrevMonth,\n    onNext: onNextMonth,\n    onSuperNext: onNextYear\n  }), monthYearNodes);\n}\n\nexport default DateHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport DateBody from './DateBody';\nimport DateHeader from './DateHeader';\nimport { WEEK_DAY_COUNT } from '../../utils/dateUtil';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nvar DATE_ROW_COUNT = 6;\n\nfunction DatePanel(props) {\n  var prefixCls = props.prefixCls,\n      _props$panelName = props.panelName,\n      panelName = _props$panelName === void 0 ? 'date' : _props$panelName,\n      keyboardConfig = props.keyboardConfig,\n      active = props.active,\n      operationRef = props.operationRef,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onViewDateChange = props.onViewDateChange,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-\").concat(panelName, \"-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, _objectSpread({\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addDate(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addDate(value || viewDate, diff * WEEK_DAY_COUNT), 'key');\n        },\n        onPageUpDown: function onPageUpDown(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff), 'key');\n        }\n      }, keyboardConfig));\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  var onMonthChange = function onMonthChange(diff) {\n    var newDate = generateConfig.addMonth(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(DateHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    value: value,\n    viewDate: viewDate // View Operation\n    ,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onPrevMonth: function onPrevMonth() {\n      onMonthChange(-1);\n    },\n    onNextMonth: function onNextMonth() {\n      onMonthChange(1);\n    },\n    onMonthClick: function onMonthClick() {\n      onPanelChange('month', viewDate);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(DateBody, _extends({}, props, {\n    onSelect: function onSelect(date) {\n      return _onSelect(date, 'mouse');\n    },\n    prefixCls: prefixCls,\n    value: value,\n    viewDate: viewDate,\n    rowCount: DATE_ROW_COUNT\n  })));\n}\n\nexport default DatePanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport DatePanel from '../DatePanel';\nimport TimePanel from '../TimePanel';\nimport { tuple } from '../../utils/miscUtil';\n\nfunction setTime(generateConfig, date, defaultDate) {\n  if (!defaultDate) {\n    return date;\n  }\n\n  var newDate = date;\n  newDate = generateConfig.setHour(newDate, generateConfig.getHour(defaultDate));\n  newDate = generateConfig.setMinute(newDate, generateConfig.getMinute(defaultDate));\n  newDate = generateConfig.setSecond(newDate, generateConfig.getSecond(defaultDate));\n  return newDate;\n}\n\nvar ACTIVE_PANEL = tuple('date', 'time');\n\nfunction DatetimePanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      disabledTime = props.disabledTime,\n      showTime = props.showTime,\n      onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-datetime-panel\");\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activePanel = _React$useState2[0],\n      setActivePanel = _React$useState2[1];\n\n  var dateOperationRef = React.useRef({});\n  var timeOperationRef = React.useRef({});\n  var timeProps = _typeof(showTime) === 'object' ? _objectSpread({}, showTime) : {}; // ======================= Keyboard =======================\n\n  function getNextActive(offset) {\n    var activeIndex = ACTIVE_PANEL.indexOf(activePanel) + offset;\n    var nextActivePanel = ACTIVE_PANEL[activeIndex] || null;\n    return nextActivePanel;\n  }\n\n  var onBlur = function onBlur(e) {\n    if (timeOperationRef.current.onBlur) {\n      timeOperationRef.current.onBlur(e);\n    }\n\n    setActivePanel(null);\n  };\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      // Switch active panel\n      if (event.which === KeyCode.TAB) {\n        var nextActivePanel = getNextActive(event.shiftKey ? -1 : 1);\n        setActivePanel(nextActivePanel);\n\n        if (nextActivePanel) {\n          event.preventDefault();\n        }\n\n        return true;\n      } // Operate on current active panel\n\n\n      if (activePanel) {\n        var ref = activePanel === 'date' ? dateOperationRef : timeOperationRef;\n\n        if (ref.current && ref.current.onKeyDown) {\n          ref.current.onKeyDown(event);\n        }\n\n        return true;\n      } // Switch first active panel if operate without panel\n\n\n      if ([KeyCode.LEFT, KeyCode.RIGHT, KeyCode.UP, KeyCode.DOWN].includes(event.which)) {\n        setActivePanel('date');\n        return true;\n      }\n\n      return false;\n    },\n    onBlur: onBlur,\n    onClose: onBlur\n  }; // ======================== Events ========================\n\n  var onInternalSelect = function onInternalSelect(date, source) {\n    var selectedDate = date;\n\n    if (source === 'date' && !value && timeProps.defaultValue) {\n      // Date with time defaultValue\n      selectedDate = generateConfig.setHour(selectedDate, generateConfig.getHour(timeProps.defaultValue));\n      selectedDate = generateConfig.setMinute(selectedDate, generateConfig.getMinute(timeProps.defaultValue));\n      selectedDate = generateConfig.setSecond(selectedDate, generateConfig.getSecond(timeProps.defaultValue));\n    } else if (source === 'time' && !value && defaultValue) {\n      selectedDate = generateConfig.setYear(selectedDate, generateConfig.getYear(defaultValue));\n      selectedDate = generateConfig.setMonth(selectedDate, generateConfig.getMonth(defaultValue));\n      selectedDate = generateConfig.setDate(selectedDate, generateConfig.getDate(defaultValue));\n    }\n\n    if (onSelect) {\n      onSelect(selectedDate, 'mouse');\n    }\n  }; // ======================== Render ========================\n\n\n  var disabledTimes = disabledTime ? disabledTime(value || null) : {};\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), activePanel))\n  }, /*#__PURE__*/React.createElement(DatePanel, _extends({}, props, {\n    operationRef: dateOperationRef,\n    active: activePanel === 'date',\n    onSelect: function onSelect(date) {\n      onInternalSelect(setTime(generateConfig, date, showTime && _typeof(showTime) === 'object' ? showTime.defaultValue : null), 'date');\n    }\n  })), /*#__PURE__*/React.createElement(TimePanel, _extends({}, props, {\n    format: undefined\n  }, timeProps, disabledTimes, {\n    defaultValue: undefined,\n    operationRef: timeOperationRef,\n    active: activePanel === 'time',\n    onSelect: function onSelect(date) {\n      onInternalSelect(date, 'time');\n    }\n  })));\n}\n\nexport default DatetimePanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport DatePanel from '../DatePanel';\nimport { isSameWeek } from '../../utils/dateUtil';\n\nfunction WeekPanel(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      value = props.value; // Render additional column\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n\n  var prefixColumn = function prefixColumn(date) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      key: \"week\",\n      className: classNames(cellPrefixCls, \"\".concat(cellPrefixCls, \"-week\"))\n    }, generateConfig.locale.getWeek(locale.locale, date));\n  }; // Add row className\n\n\n  var rowPrefixCls = \"\".concat(prefixCls, \"-week-panel-row\");\n\n  var rowClassName = function rowClassName(date) {\n    return classNames(rowPrefixCls, _defineProperty({}, \"\".concat(rowPrefixCls, \"-selected\"), isSameWeek(generateConfig, locale.locale, value, date)));\n  };\n\n  return /*#__PURE__*/React.createElement(DatePanel, _extends({}, props, {\n    panelName: \"week\",\n    prefixColumn: prefixColumn,\n    rowClassName: rowClassName,\n    keyboardConfig: {\n      onLeftRight: null\n    }\n  }));\n}\n\nexport default WeekPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction MonthHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onSuperNext: onNextYear\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onYearClick,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  })));\n}\n\nexport default MonthHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { formatValue, isSameMonth } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\nexport var MONTH_COL_COUNT = 3;\nvar MONTH_ROW_COUNT = 4;\n\nfunction MonthBody(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      value = props.value,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig,\n      monthCellRender = props.monthCellRender;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameMonth(generateConfig, current, target);\n    },\n    isInView: function isInView() {\n      return true;\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addMonth(date, offset);\n    }\n  });\n  var monthsLocale = locale.shortMonths || (generateConfig.locale.getShortMonths ? generateConfig.locale.getShortMonths(locale.locale) : []);\n  var baseMonth = generateConfig.setMonth(viewDate, 0);\n  var getCellNode = monthCellRender ? function (date) {\n    return monthCellRender(date, locale);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: MONTH_ROW_COUNT,\n    colNum: MONTH_COL_COUNT,\n    baseDate: baseMonth,\n    getCellNode: getCellNode,\n    getCellText: function getCellText(date) {\n      return locale.monthFormat ? formatValue(date, {\n        locale: locale,\n        format: locale.monthFormat,\n        generateConfig: generateConfig\n      }) : monthsLocale[generateConfig.getMonth(date)];\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addMonth,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-MM',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default MonthBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport MonthHeader from './MonthHeader';\nimport MonthBody, { MONTH_COL_COUNT } from './MonthBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nfunction MonthPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-month-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff * MONTH_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange('date', value || viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(MonthHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(MonthBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      _onSelect(date, 'mouse');\n\n      onPanelChange('date', date);\n    }\n  })));\n}\n\nexport default MonthPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction QuarterHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onSuperNext: onNextYear\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onYearClick,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  })));\n}\n\nexport default QuarterHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { formatValue, isSameQuarter } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\nexport var QUARTER_COL_COUNT = 4;\nvar QUARTER_ROW_COUNT = 1;\n\nfunction QuarterBody(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      value = props.value,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameQuarter(generateConfig, current, target);\n    },\n    isInView: function isInView() {\n      return true;\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addMonth(date, offset * 3);\n    }\n  });\n  var baseQuarter = generateConfig.setDate(generateConfig.setMonth(viewDate, 0), 1);\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: QUARTER_ROW_COUNT,\n    colNum: QUARTER_COL_COUNT,\n    baseDate: baseQuarter,\n    getCellText: function getCellText(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: locale.quarterFormat || '[Q]Q',\n        generateConfig: generateConfig\n      });\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: function getCellDate(date, offset) {\n      return generateConfig.addMonth(date, offset * 3);\n    },\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-[Q]Q',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default QuarterBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport QuarterHeader from './QuarterHeader';\nimport QuarterBody from './QuarterBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nfunction QuarterPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-quarter-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff * 3), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(QuarterHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(QuarterBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      _onSelect(date, 'mouse');\n    }\n  })));\n}\n\nexport default QuarterPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport { YEAR_DECADE_COUNT } from '.';\nimport PanelContext from '../../PanelContext';\n\nfunction YearHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      onPrevDecade = props.onPrevDecade,\n      onNextDecade = props.onNextDecade,\n      onDecadeClick = props.onDecadeClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / YEAR_DECADE_COUNT) * YEAR_DECADE_COUNT;\n  var endYear = startYear + YEAR_DECADE_COUNT - 1;\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevDecade,\n    onSuperNext: onNextDecade\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onDecadeClick,\n    className: \"\".concat(prefixCls, \"-decade-btn\")\n  }, startYear, \"-\", endYear));\n}\n\nexport default YearHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { YEAR_DECADE_COUNT } from '.';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport { formatValue, isSameYear } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport PanelBody from '../PanelBody';\nexport var YEAR_COL_COUNT = 3;\nvar YEAR_ROW_COUNT = 4;\n\nfunction YearBody(props) {\n  var prefixCls = props.prefixCls,\n      value = props.value,\n      viewDate = props.viewDate,\n      locale = props.locale,\n      generateConfig = props.generateConfig;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var yearPrefixCls = \"\".concat(prefixCls, \"-cell\"); // =============================== Year ===============================\n\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / YEAR_DECADE_COUNT) * YEAR_DECADE_COUNT;\n  var endYear = startYear + YEAR_DECADE_COUNT - 1;\n  var baseYear = generateConfig.setYear(viewDate, startYear - Math.ceil((YEAR_COL_COUNT * YEAR_ROW_COUNT - YEAR_DECADE_COUNT) / 2));\n\n  var isInView = function isInView(date) {\n    var currentYearNumber = generateConfig.getYear(date);\n    return startYear <= currentYearNumber && currentYearNumber <= endYear;\n  };\n\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: yearPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameYear(generateConfig, current, target);\n    },\n    isInView: isInView,\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addYear(date, offset);\n    }\n  });\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: YEAR_ROW_COUNT,\n    colNum: YEAR_COL_COUNT,\n    baseDate: baseYear,\n    getCellText: generateConfig.getYear,\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addYear,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default YearBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport YearHeader from './YearHeader';\nimport YearBody, { YEAR_COL_COUNT } from './YearBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nexport var YEAR_DECADE_COUNT = 10;\n\nfunction YearPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      sourceMode = props.sourceMode,\n      _onSelect = props.onSelect,\n      onPanelChange = props.onPanelChange;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-year-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff * YEAR_DECADE_COUNT), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff * YEAR_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange(sourceMode === 'date' ? 'date' : 'month', value || viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onDecadeChange = function onDecadeChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff * 10);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(YearHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevDecade: function onPrevDecade() {\n      onDecadeChange(-1);\n    },\n    onNextDecade: function onNextDecade() {\n      onDecadeChange(1);\n    },\n    onDecadeClick: function onDecadeClick() {\n      onPanelChange('decade', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(YearBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      onPanelChange(sourceMode === 'date' ? 'date' : 'month', date);\n\n      _onSelect(date, 'mouse');\n    }\n  })));\n}\n\nexport default YearPanel;","import * as React from 'react';\nexport default function getExtraFooter(prefixCls, mode, renderExtraFooter) {\n  if (!renderExtraFooter) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-footer-extra\")\n  }, renderExtraFooter(mode));\n}","import * as React from 'react';\nexport default function getRanges(_ref) {\n  var prefixCls = _ref.prefixCls,\n      _ref$rangeList = _ref.rangeList,\n      rangeList = _ref$rangeList === void 0 ? [] : _ref$rangeList,\n      _ref$components = _ref.components,\n      components = _ref$components === void 0 ? {} : _ref$components,\n      needConfirmButton = _ref.needConfirmButton,\n      onNow = _ref.onNow,\n      onOk = _ref.onOk,\n      okDisabled = _ref.okDisabled,\n      showNow = _ref.showNow,\n      locale = _ref.locale;\n  var presetNode;\n  var okNode;\n\n  if (rangeList.length) {\n    var Item = components.rangeItem || 'span';\n    presetNode = /*#__PURE__*/React.createElement(React.Fragment, null, rangeList.map(function (_ref2) {\n      var label = _ref2.label,\n          onClick = _ref2.onClick,\n          onMouseEnter = _ref2.onMouseEnter,\n          onMouseLeave = _ref2.onMouseLeave;\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: label,\n        className: \"\".concat(prefixCls, \"-preset\")\n      }, /*#__PURE__*/React.createElement(Item, {\n        onClick: onClick,\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave\n      }, label));\n    }));\n  }\n\n  if (needConfirmButton) {\n    var Button = components.button || 'button';\n\n    if (onNow && !presetNode && showNow !== false) {\n      presetNode = /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(prefixCls, \"-now\")\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"\".concat(prefixCls, \"-now-btn\"),\n        onClick: onNow\n      }, locale.now));\n    }\n\n    okNode = needConfirmButton && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"\".concat(prefixCls, \"-ok\")\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: okDisabled,\n      onClick: onOk\n    }, locale.ok));\n  }\n\n  if (!presetNode && !okNode) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-ranges\")\n  }, presetNode, okNode);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Logic:\n *  When `mode` === `picker`,\n *  click will trigger `onSelect` (if value changed trigger `onChange` also).\n *  Panel change will not trigger `onSelect` but trigger `onPanelChange`\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport TimePanel from './panels/TimePanel';\nimport DatetimePanel from './panels/DatetimePanel';\nimport DatePanel from './panels/DatePanel';\nimport WeekPanel from './panels/WeekPanel';\nimport MonthPanel from './panels/MonthPanel';\nimport QuarterPanel from './panels/QuarterPanel';\nimport YearPanel from './panels/YearPanel';\nimport DecadePanel from './panels/DecadePanel';\nimport { isEqual } from './utils/dateUtil';\nimport PanelContext from './PanelContext';\nimport { PickerModeMap } from './utils/uiUtil';\nimport RangeContext from './RangeContext';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport { getLowerBoundTime, setTime } from './utils/timeUtil';\n\nfunction PickerPanel(props) {\n  var _classNames;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      className = props.className,\n      style = props.style,\n      locale = props.locale,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      pickerValue = props.pickerValue,\n      defaultPickerValue = props.defaultPickerValue,\n      disabledDate = props.disabledDate,\n      mode = props.mode,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      showNow = props.showNow,\n      showTime = props.showTime,\n      showToday = props.showToday,\n      renderExtraFooter = props.renderExtraFooter,\n      hideHeader = props.hideHeader,\n      onSelect = props.onSelect,\n      onChange = props.onChange,\n      onPanelChange = props.onPanelChange,\n      onMouseDown = props.onMouseDown,\n      onPickerValueChange = props.onPickerValueChange,\n      _onOk = props.onOk,\n      components = props.components,\n      direction = props.direction,\n      _props$hourStep = props.hourStep,\n      hourStep = _props$hourStep === void 0 ? 1 : _props$hourStep,\n      _props$minuteStep = props.minuteStep,\n      minuteStep = _props$minuteStep === void 0 ? 1 : _props$minuteStep,\n      _props$secondStep = props.secondStep,\n      secondStep = _props$secondStep === void 0 ? 1 : _props$secondStep;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time';\n  var isHourStepValid = 24 % hourStep === 0;\n  var isMinuteStepValid = 60 % minuteStep === 0;\n  var isSecondStepValid = 60 % secondStep === 0;\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!value || generateConfig.isValidate(value), 'Invalidate date pass to `value`.');\n    warning(!value || generateConfig.isValidate(value), 'Invalidate date pass to `defaultValue`.');\n    warning(isHourStepValid, \"`hourStep` \".concat(hourStep, \" is invalid. It should be a factor of 24.\"));\n    warning(isMinuteStepValid, \"`minuteStep` \".concat(minuteStep, \" is invalid. It should be a factor of 60.\"));\n    warning(isSecondStepValid, \"`secondStep` \".concat(secondStep, \" is invalid. It should be a factor of 60.\"));\n  } // ============================ State =============================\n\n\n  var panelContext = React.useContext(PanelContext);\n  var operationRef = panelContext.operationRef,\n      panelDivRef = panelContext.panelRef,\n      onContextSelect = panelContext.onSelect,\n      hideRanges = panelContext.hideRanges,\n      defaultOpenValue = panelContext.defaultOpenValue;\n\n  var _React$useContext = React.useContext(RangeContext),\n      inRange = _React$useContext.inRange,\n      panelPosition = _React$useContext.panelPosition,\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var panelRef = React.useRef({}); // Handle init logic\n\n  var initRef = React.useRef(true); // Value\n\n  var _useMergedState = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(val) {\n      if (!val && defaultOpenValue && picker === 'time') {\n        return defaultOpenValue;\n      }\n\n      return val;\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setInnerValue = _useMergedState2[1]; // View date control\n\n\n  var _useMergedState3 = useMergedState(null, {\n    value: pickerValue,\n    defaultValue: defaultPickerValue || mergedValue,\n    postState: function postState(date) {\n      return date || generateConfig.getNow();\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      viewDate = _useMergedState4[0],\n      setInnerViewDate = _useMergedState4[1];\n\n  var setViewDate = function setViewDate(date) {\n    setInnerViewDate(date);\n\n    if (onPickerValueChange) {\n      onPickerValueChange(date);\n    }\n  }; // Panel control\n\n\n  var getInternalNextMode = function getInternalNextMode(nextMode) {\n    var getNextMode = PickerModeMap[picker];\n\n    if (getNextMode) {\n      return getNextMode(nextMode);\n    }\n\n    return nextMode;\n  }; // Save panel is changed from which panel\n\n\n  var _useMergedState5 = useMergedState(function () {\n    if (picker === 'time') {\n      return 'time';\n    }\n\n    return getInternalNextMode('date');\n  }, {\n    value: mode\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      mergedMode = _useMergedState6[0],\n      setInnerMode = _useMergedState6[1];\n\n  React.useEffect(function () {\n    setInnerMode(picker);\n  }, [picker]);\n\n  var _React$useState = React.useState(function () {\n    return mergedMode;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sourceMode = _React$useState2[0],\n      setSourceMode = _React$useState2[1];\n\n  var onInternalPanelChange = function onInternalPanelChange(newMode, viewValue) {\n    var nextMode = getInternalNextMode(newMode || mergedMode);\n    setSourceMode(mergedMode);\n    setInnerMode(nextMode);\n\n    if (onPanelChange && (mergedMode !== nextMode || isEqual(generateConfig, viewDate, viewDate))) {\n      onPanelChange(viewValue, nextMode);\n    }\n  };\n\n  var triggerSelect = function triggerSelect(date, type) {\n    var forceTriggerSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (mergedMode === picker || forceTriggerSelect) {\n      setInnerValue(date);\n\n      if (onSelect) {\n        onSelect(date);\n      }\n\n      if (onContextSelect) {\n        onContextSelect(date, type);\n      }\n\n      if (onChange && !isEqual(generateConfig, date, mergedValue) && !(disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate(date))) {\n        onChange(date);\n      }\n    }\n  }; // ========================= Interactive ==========================\n\n\n  var onInternalKeyDown = function onInternalKeyDown(e) {\n    if (panelRef.current && panelRef.current.onKeyDown) {\n      if ([KeyCode.LEFT, KeyCode.RIGHT, KeyCode.UP, KeyCode.DOWN, KeyCode.PAGE_UP, KeyCode.PAGE_DOWN, KeyCode.ENTER].includes(e.which)) {\n        e.preventDefault();\n      }\n\n      return panelRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Panel not correct handle keyDown event. Please help to fire issue about this.');\n      return false;\n    }\n    /* eslint-enable no-lone-blocks */\n  };\n\n  var onInternalBlur = function onInternalBlur(e) {\n    if (panelRef.current && panelRef.current.onBlur) {\n      panelRef.current.onBlur(e);\n    }\n  };\n\n  if (operationRef && panelPosition !== 'right') {\n    operationRef.current = {\n      onKeyDown: onInternalKeyDown,\n      onClose: function onClose() {\n        if (panelRef.current && panelRef.current.onClose) {\n          panelRef.current.onClose();\n        }\n      }\n    };\n  } // ============================ Effect ============================\n\n\n  React.useEffect(function () {\n    if (value && !initRef.current) {\n      setInnerViewDate(value);\n    }\n  }, [value]);\n  React.useEffect(function () {\n    initRef.current = false;\n  }, []); // ============================ Panels ============================\n\n  var panelNode;\n\n  var pickerProps = _objectSpread(_objectSpread({}, props), {}, {\n    operationRef: panelRef,\n    prefixCls: prefixCls,\n    viewDate: viewDate,\n    value: mergedValue,\n    onViewDateChange: setViewDate,\n    sourceMode: sourceMode,\n    onPanelChange: onInternalPanelChange,\n    disabledDate: disabledDate\n  });\n\n  delete pickerProps.onChange;\n  delete pickerProps.onSelect;\n\n  switch (mergedMode) {\n    case 'decade':\n      panelNode = /*#__PURE__*/React.createElement(DecadePanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'year':\n      panelNode = /*#__PURE__*/React.createElement(YearPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'month':\n      panelNode = /*#__PURE__*/React.createElement(MonthPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'quarter':\n      panelNode = /*#__PURE__*/React.createElement(QuarterPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'week':\n      panelNode = /*#__PURE__*/React.createElement(WeekPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'time':\n      delete pickerProps.showTime;\n      panelNode = /*#__PURE__*/React.createElement(TimePanel, _extends({}, pickerProps, _typeof(showTime) === 'object' ? showTime : null, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    default:\n      if (showTime) {\n        panelNode = /*#__PURE__*/React.createElement(DatetimePanel, _extends({}, pickerProps, {\n          onSelect: function onSelect(date, type) {\n            setViewDate(date);\n            triggerSelect(date, type);\n          }\n        }));\n      } else {\n        panelNode = /*#__PURE__*/React.createElement(DatePanel, _extends({}, pickerProps, {\n          onSelect: function onSelect(date, type) {\n            setViewDate(date);\n            triggerSelect(date, type);\n          }\n        }));\n      }\n\n  } // ============================ Footer ============================\n\n\n  var extraFooter;\n  var rangesNode;\n\n  var onNow = function onNow() {\n    var now = generateConfig.getNow();\n    var lowerBoundTime = getLowerBoundTime(generateConfig.getHour(now), generateConfig.getMinute(now), generateConfig.getSecond(now), isHourStepValid ? hourStep : 1, isMinuteStepValid ? minuteStep : 1, isSecondStepValid ? secondStep : 1);\n    var adjustedNow = setTime(generateConfig, now, lowerBoundTime[0], // hour\n    lowerBoundTime[1], // minute\n    lowerBoundTime[2]);\n    triggerSelect(adjustedNow, 'submit');\n  };\n\n  if (!hideRanges) {\n    extraFooter = getExtraFooter(prefixCls, mergedMode, renderExtraFooter);\n    rangesNode = getRanges({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !mergedValue || disabledDate && disabledDate(mergedValue),\n      locale: locale,\n      showNow: showNow,\n      onNow: needConfirmButton && onNow,\n      onOk: function onOk() {\n        if (mergedValue) {\n          triggerSelect(mergedValue, 'submit', true);\n\n          if (_onOk) {\n            _onOk(mergedValue);\n          }\n        }\n      }\n    });\n  }\n\n  var todayNode;\n\n  if (showToday && mergedMode === 'date' && picker === 'date' && !showTime) {\n    var now = generateConfig.getNow();\n    var todayCls = \"\".concat(prefixCls, \"-today-btn\");\n    var disabled = disabledDate && disabledDate(now);\n    todayNode = /*#__PURE__*/React.createElement(\"a\", {\n      className: classNames(todayCls, disabled && \"\".concat(todayCls, \"-disabled\")),\n      \"aria-disabled\": disabled,\n      onClick: function onClick() {\n        if (!disabled) {\n          triggerSelect(now, 'mouse', true);\n        }\n      }\n    }, locale.today);\n  }\n\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: _objectSpread(_objectSpread({}, panelContext), {}, {\n      mode: mergedMode,\n      hideHeader: 'hideHeader' in props ? hideHeader : panelContext.hideHeader,\n      hidePrevBtn: inRange && panelPosition === 'right',\n      hideNextBtn: inRange && panelPosition === 'left'\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: tabIndex,\n    className: classNames(\"\".concat(prefixCls, \"-panel\"), className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-has-range\"), rangedValue && rangedValue[0] && rangedValue[1]), _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-has-range-hover\"), hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1]), _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-rtl\"), direction === 'rtl'), _classNames)),\n    style: style,\n    onKeyDown: onInternalKeyDown,\n    onBlur: onInternalBlur,\n    onMouseDown: onMouseDown,\n    ref: panelDivRef\n  }, panelNode, extraFooter || rangesNode || todayNode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-footer\")\n  }, extraFooter, rangesNode, todayNode) : null));\n}\n\nexport default PickerPanel;\n/* eslint-enable */","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Trigger from 'rc-trigger';\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  }\n};\n\nfunction PickerTrigger(_ref) {\n  var _classNames;\n\n  var prefixCls = _ref.prefixCls,\n      popupElement = _ref.popupElement,\n      popupStyle = _ref.popupStyle,\n      visible = _ref.visible,\n      dropdownClassName = _ref.dropdownClassName,\n      dropdownAlign = _ref.dropdownAlign,\n      transitionName = _ref.transitionName,\n      getPopupContainer = _ref.getPopupContainer,\n      children = _ref.children,\n      range = _ref.range,\n      popupPlacement = _ref.popupPlacement,\n      direction = _ref.direction;\n  var dropdownPrefixCls = \"\".concat(prefixCls, \"-dropdown\");\n\n  var getPopupPlacement = function getPopupPlacement() {\n    if (popupPlacement !== undefined) {\n      return popupPlacement;\n    }\n\n    return direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  };\n\n  return /*#__PURE__*/React.createElement(Trigger, {\n    showAction: [],\n    hideAction: [],\n    popupPlacement: getPopupPlacement(),\n    builtinPlacements: BUILT_IN_PLACEMENTS,\n    prefixCls: dropdownPrefixCls,\n    popupTransitionName: transitionName,\n    popup: popupElement,\n    popupAlign: dropdownAlign,\n    popupVisible: visible,\n    popupClassName: classNames(dropdownClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(dropdownPrefixCls, \"-range\"), range), _defineProperty(_classNames, \"\".concat(dropdownPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames)),\n    popupStyle: popupStyle,\n    getPopupContainer: getPopupContainer\n  }, children);\n}\n\nexport default PickerTrigger;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport { addGlobalMouseDownEvent } from '../utils/uiUtil';\nexport default function usePickerInput(_ref) {\n  var open = _ref.open,\n      value = _ref.value,\n      isClickOutside = _ref.isClickOutside,\n      triggerOpen = _ref.triggerOpen,\n      forwardKeyDown = _ref.forwardKeyDown,\n      _onKeyDown = _ref.onKeyDown,\n      blurToCancel = _ref.blurToCancel,\n      onSubmit = _ref.onSubmit,\n      onCancel = _ref.onCancel,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      typing = _useState2[0],\n      setTyping = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focused = _useState4[0],\n      setFocused = _useState4[1];\n  /**\n   * We will prevent blur to handle open event when user click outside,\n   * since this will repeat trigger `onOpenChange` event.\n   */\n\n\n  var preventBlurRef = useRef(false);\n  var valueChangedRef = useRef(false);\n  var preventDefaultRef = useRef(false);\n  var inputProps = {\n    onMouseDown: function onMouseDown() {\n      setTyping(true);\n      triggerOpen(true);\n    },\n    onKeyDown: function onKeyDown(e) {\n      var preventDefault = function preventDefault() {\n        preventDefaultRef.current = true;\n      };\n\n      _onKeyDown(e, preventDefault);\n\n      if (preventDefaultRef.current) return;\n\n      switch (e.which) {\n        case KeyCode.ENTER:\n          {\n            if (!open) {\n              triggerOpen(true);\n            } else if (onSubmit() !== false) {\n              setTyping(true);\n            }\n\n            e.preventDefault();\n            return;\n          }\n\n        case KeyCode.TAB:\n          {\n            if (typing && open && !e.shiftKey) {\n              setTyping(false);\n              e.preventDefault();\n            } else if (!typing && open) {\n              if (!forwardKeyDown(e) && e.shiftKey) {\n                setTyping(true);\n                e.preventDefault();\n              }\n            }\n\n            return;\n          }\n\n        case KeyCode.ESC:\n          {\n            setTyping(true);\n            onCancel();\n            return;\n          }\n      }\n\n      if (!open && ![KeyCode.SHIFT].includes(e.which)) {\n        triggerOpen(true);\n      } else if (!typing) {\n        // Let popup panel handle keyboard\n        forwardKeyDown(e);\n      }\n    },\n    onFocus: function onFocus(e) {\n      setTyping(true);\n      setFocused(true);\n\n      if (_onFocus) {\n        _onFocus(e);\n      }\n    },\n    onBlur: function onBlur(e) {\n      if (preventBlurRef.current || !isClickOutside(document.activeElement)) {\n        preventBlurRef.current = false;\n        return;\n      }\n\n      if (blurToCancel) {\n        setTimeout(function () {\n          if (isClickOutside(document.activeElement)) {\n            onCancel();\n          }\n        }, 0);\n      } else if (open) {\n        triggerOpen(false);\n\n        if (valueChangedRef.current) {\n          onSubmit();\n        }\n      }\n\n      setFocused(false);\n\n      if (_onBlur) {\n        _onBlur(e);\n      }\n    }\n  }; // check if value changed\n\n  useEffect(function () {\n    valueChangedRef.current = false;\n  }, [open]);\n  useEffect(function () {\n    valueChangedRef.current = true;\n  }, [value]); // Global click handler\n\n  useEffect(function () {\n    return addGlobalMouseDownEvent(function (_ref2) {\n      var target = _ref2.target;\n\n      if (open) {\n        if (!isClickOutside(target)) {\n          preventBlurRef.current = true; // Always set back in case `onBlur` prevented by user\n\n          requestAnimationFrame(function () {\n            preventBlurRef.current = false;\n          });\n        } else if (!focused) {\n          triggerOpen(false);\n        }\n      }\n    });\n  });\n  return [inputProps, {\n    focused: focused,\n    typing: typing\n  }];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useTextValueMapping(_ref) {\n  var valueTexts = _ref.valueTexts,\n      onTextChange = _ref.onTextChange;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      text = _React$useState2[0],\n      setInnerText = _React$useState2[1];\n\n  var valueTextsRef = React.useRef([]);\n  valueTextsRef.current = valueTexts;\n\n  function triggerTextChange(value) {\n    setInnerText(value);\n    onTextChange(value);\n  }\n\n  function resetText() {\n    setInnerText(valueTextsRef.current[0]);\n  }\n\n  React.useEffect(function () {\n    if (valueTexts.every(function (valText) {\n      return valText !== text;\n    })) {\n      resetText();\n    }\n  }, [valueTexts.join('||')]);\n  return [text, triggerTextChange, resetText];\n}","import shallowEqual from 'shallowequal';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport { formatValue } from '../utils/dateUtil';\nexport default function useValueTexts(value, _ref) {\n  var formatList = _ref.formatList,\n      generateConfig = _ref.generateConfig,\n      locale = _ref.locale;\n  return useMemo(function () {\n    if (!value) {\n      return [[''], ''];\n    } // We will convert data format back to first format\n\n\n    var firstValueText = '';\n    var fullValueTexts = [];\n\n    for (var i = 0; i < formatList.length; i += 1) {\n      var format = formatList[i];\n      var formatStr = formatValue(value, {\n        generateConfig: generateConfig,\n        locale: locale,\n        format: format\n      });\n      fullValueTexts.push(formatStr);\n\n      if (i === 0) {\n        firstValueText = formatStr;\n      }\n    }\n\n    return [fullValueTexts, firstValueText];\n  }, [value, formatList], function (prev, next) {\n    return prev[0] !== next[0] || !shallowEqual(prev[1], next[1]);\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport useValueTexts from './useValueTexts';\nexport default function useHoverValue(valueText, _ref) {\n  var formatList = _ref.formatList,\n      generateConfig = _ref.generateConfig,\n      locale = _ref.locale;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      internalSetValue = _useState2[1];\n\n  var raf = useRef(null);\n\n  function setValue(val) {\n    var immediately = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    cancelAnimationFrame(raf.current);\n\n    if (immediately) {\n      internalSetValue(val);\n      return;\n    }\n\n    raf.current = requestAnimationFrame(function () {\n      internalSetValue(val);\n    });\n  }\n\n  var _useValueTexts = useValueTexts(value, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      firstText = _useValueTexts2[1];\n\n  function onEnter(date) {\n    setValue(date);\n  }\n\n  function onLeave() {\n    var immediately = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    setValue(null, immediately);\n  }\n\n  useEffect(function () {\n    onLeave(true);\n  }, [valueText]);\n  useEffect(function () {\n    return function () {\n      return cancelAnimationFrame(raf.current);\n    };\n  }, []);\n  return [firstText, onEnter, onLeave];\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Removed:\n *  - getCalendarContainer: use `getPopupContainer` instead\n *  - onOk\n *\n * New Feature:\n *  - picker\n *  - allowEmpty\n *  - selectable\n *\n * Tips: Should add faq about `datetime` mode with `defaultValue`\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport PickerPanel from './PickerPanel';\nimport PickerTrigger from './PickerTrigger';\nimport { formatValue, isEqual, parseValue } from './utils/dateUtil';\nimport getDataOrAriaProps, { toArray } from './utils/miscUtil';\nimport PanelContext from './PanelContext';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport usePickerInput from './hooks/usePickerInput';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport useValueTexts from './hooks/useValueTexts';\nimport useHoverValue from './hooks/useHoverValue';\n\nfunction InnerPicker(props) {\n  var _classNames2;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      id = props.id,\n      tabIndex = props.tabIndex,\n      style = props.style,\n      className = props.className,\n      dropdownClassName = props.dropdownClassName,\n      dropdownAlign = props.dropdownAlign,\n      popupStyle = props.popupStyle,\n      transitionName = props.transitionName,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      inputReadOnly = props.inputReadOnly,\n      allowClear = props.allowClear,\n      autoFocus = props.autoFocus,\n      showTime = props.showTime,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      format = props.format,\n      use12Hours = props.use12Hours,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      defaultOpenValue = props.defaultOpenValue,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      disabled = props.disabled,\n      disabledDate = props.disabledDate,\n      placeholder = props.placeholder,\n      getPopupContainer = props.getPopupContainer,\n      pickerRef = props.pickerRef,\n      panelRender = props.panelRender,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onMouseDown = props.onMouseDown,\n      onMouseUp = props.onMouseUp,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onContextMenu = props.onContextMenu,\n      onClick = props.onClick,\n      _onKeyDown = props.onKeyDown,\n      _onSelect = props.onSelect,\n      direction = props.direction,\n      _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? 'off' : _props$autoComplete;\n  var inputRef = React.useRef(null);\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time'; // ============================= State =============================\n\n  var formatList = toArray(getDefaultFormat(format, picker, showTime, use12Hours)); // Panel ref\n\n  var panelDivRef = React.useRef(null);\n  var inputDivRef = React.useRef(null); // Real value\n\n  var _useMergedState = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setInnerValue = _useMergedState2[1]; // Selected value\n\n\n  var _React$useState = React.useState(mergedValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      selectedValue = _React$useState2[0],\n      setSelectedValue = _React$useState2[1]; // Operation ref\n\n\n  var operationRef = React.useRef(null); // Open\n\n  var _useMergedState3 = useMergedState(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return disabled ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedOpen = _useMergedState4[0],\n      triggerInnerOpen = _useMergedState4[1]; // ============================= Text ==============================\n\n\n  var _useValueTexts = useValueTexts(selectedValue, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      valueTexts = _useValueTexts2[0],\n      firstValueText = _useValueTexts2[1];\n\n  var _useTextValueMapping = useTextValueMapping({\n    valueTexts: valueTexts,\n    onTextChange: function onTextChange(newText) {\n      var inputDate = parseValue(newText, {\n        locale: locale,\n        formatList: formatList,\n        generateConfig: generateConfig\n      });\n\n      if (inputDate && (!disabledDate || !disabledDate(inputDate))) {\n        setSelectedValue(inputDate);\n      }\n    }\n  }),\n      _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n      text = _useTextValueMapping2[0],\n      triggerTextChange = _useTextValueMapping2[1],\n      resetText = _useTextValueMapping2[2]; // ============================ Trigger ============================\n\n\n  var triggerChange = function triggerChange(newValue) {\n    setSelectedValue(newValue);\n    setInnerValue(newValue);\n\n    if (onChange && !isEqual(generateConfig, mergedValue, newValue)) {\n      onChange(newValue, newValue ? formatValue(newValue, {\n        generateConfig: generateConfig,\n        locale: locale,\n        format: formatList[0]\n      }) : '');\n    }\n  };\n\n  var triggerOpen = function triggerOpen(newOpen) {\n    if (disabled && newOpen) {\n      return;\n    }\n\n    triggerInnerOpen(newOpen);\n  };\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  };\n\n  var onInternalMouseUp = function onInternalMouseUp() {\n    if (onMouseUp) {\n      onMouseUp.apply(void 0, arguments);\n    }\n\n    if (inputRef.current) {\n      inputRef.current.focus();\n      triggerOpen(true);\n    }\n  }; // ============================= Input =============================\n\n\n  var _usePickerInput = usePickerInput({\n    blurToCancel: needConfirmButton,\n    open: mergedOpen,\n    value: text,\n    triggerOpen: triggerOpen,\n    forwardKeyDown: forwardKeyDown,\n    isClickOutside: function isClickOutside(target) {\n      return !elementsContains([panelDivRef.current, inputDivRef.current], target);\n    },\n    onSubmit: function onSubmit() {\n      if (disabledDate && disabledDate(selectedValue)) {\n        return false;\n      }\n\n      triggerChange(selectedValue);\n      triggerOpen(false);\n      resetText();\n      return true;\n    },\n    onCancel: function onCancel() {\n      triggerOpen(false);\n      setSelectedValue(mergedValue);\n      resetText();\n    },\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur\n  }),\n      _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n      inputProps = _usePickerInput2[0],\n      _usePickerInput2$ = _usePickerInput2[1],\n      focused = _usePickerInput2$.focused,\n      typing = _usePickerInput2$.typing; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!valueTexts.length || valueTexts[0] === '') {\n        triggerTextChange('');\n      } else if (firstValueText !== text) {\n        resetText();\n      }\n    }\n  }, [mergedOpen, valueTexts]); // Change picker should sync back with text value\n\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      resetText();\n    }\n  }, [picker]); // Sync innerValue with control mode\n\n  React.useEffect(function () {\n    // Sync select value\n    setSelectedValue(mergedValue);\n  }, [mergedValue]); // ============================ Private ============================\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (inputRef.current) {\n          inputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (inputRef.current) {\n          inputRef.current.blur();\n        }\n      }\n    };\n  }\n\n  var _useHoverValue = useHoverValue(text, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n      hoverValue = _useHoverValue2[0],\n      onEnter = _useHoverValue2[1],\n      onLeave = _useHoverValue2[2]; // ============================= Panel =============================\n\n\n  var panelProps = _objectSpread(_objectSpread({}, props), {}, {\n    className: undefined,\n    style: undefined,\n    pickerValue: undefined,\n    onPickerValueChange: undefined,\n    onChange: null\n  });\n\n  var panelNode = /*#__PURE__*/React.createElement(PickerPanel, _extends({}, panelProps, {\n    generateConfig: generateConfig,\n    className: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), !typing)),\n    value: selectedValue,\n    locale: locale,\n    tabIndex: -1,\n    onSelect: function onSelect(date) {\n      _onSelect === null || _onSelect === void 0 ? void 0 : _onSelect(date);\n      setSelectedValue(date);\n    },\n    direction: direction,\n    onPanelChange: function onPanelChange(viewDate, mode) {\n      var onPanelChange = props.onPanelChange;\n      onLeave(true);\n      onPanelChange === null || onPanelChange === void 0 ? void 0 : onPanelChange(viewDate, mode);\n    }\n  }));\n\n  if (panelRender) {\n    panelNode = panelRender(panelNode);\n  }\n\n  var panel = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-panel-container\"),\n    onMouseDown: function onMouseDown(e) {\n      e.preventDefault();\n    }\n  }, panelNode);\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && mergedValue && !disabled) {\n    clearNode = /*#__PURE__*/React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        triggerChange(null);\n        triggerOpen(false);\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  } // ============================ Warning ============================\n\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!defaultOpenValue, '`defaultOpenValue` may confuse user for the current value status. Please use `defaultValue` instead.');\n  } // ============================ Return =============================\n\n\n  var onContextSelect = function onContextSelect(date, type) {\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(date);\n      triggerOpen(false);\n    }\n  };\n\n  var popupPlacement = direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      panelRef: panelDivRef,\n      onSelect: onContextSelect,\n      open: mergedOpen,\n      defaultOpenValue: defaultOpenValue,\n      onDateMouseEnter: onEnter,\n      onDateMouseLeave: onLeave\n    }\n  }, /*#__PURE__*/React.createElement(PickerTrigger, {\n    visible: mergedOpen,\n    popupElement: panel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    popupPlacement: popupPlacement,\n    direction: direction\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(prefixCls, className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), focused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n    style: style,\n    onMouseDown: onMouseDown,\n    onMouseUp: onInternalMouseUp,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onContextMenu: onContextMenu,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), _defineProperty({}, \"\".concat(prefixCls, \"-input-placeholder\"), !!hoverValue)),\n    ref: inputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    id: id,\n    tabIndex: tabIndex,\n    disabled: disabled,\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !typing,\n    value: hoverValue || text,\n    onChange: function onChange(e) {\n      triggerTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: placeholder,\n    ref: inputRef,\n    title: text\n  }, inputProps, {\n    size: getInputSize(picker, formatList[0], generateConfig)\n  }, getDataOrAriaProps(props), {\n    autoComplete: autoComplete\n  })), suffixNode, clearNode))));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar Picker = /*#__PURE__*/function (_React$Component) {\n  _inherits(Picker, _React$Component);\n\n  var _super = _createSuper(Picker);\n\n  function Picker() {\n    var _this;\n\n    _classCallCheck(this, Picker);\n\n    _this = _super.apply(this, arguments);\n    _this.pickerRef = /*#__PURE__*/React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Picker, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(InnerPicker, _extends({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return Picker;\n}(React.Component);\n\nexport default Picker;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { getValue, updateValues } from '../utils/miscUtil';\nimport { getClosingViewDate, isSameYear, isSameMonth, isSameDecade } from '../utils/dateUtil';\n\nfunction getStartEndDistance(startDate, endDate, picker, generateConfig) {\n  var startNext = getClosingViewDate(startDate, picker, generateConfig, 1);\n\n  function getDistance(compareFunc) {\n    if (compareFunc(startDate, endDate)) {\n      return 'same';\n    }\n\n    if (compareFunc(startNext, endDate)) {\n      return 'closing';\n    }\n\n    return 'far';\n  }\n\n  switch (picker) {\n    case 'year':\n      return getDistance(function (start, end) {\n        return isSameDecade(generateConfig, start, end);\n      });\n\n    case 'quarter':\n    case 'month':\n      return getDistance(function (start, end) {\n        return isSameYear(generateConfig, start, end);\n      });\n\n    default:\n      return getDistance(function (start, end) {\n        return isSameMonth(generateConfig, start, end);\n      });\n  }\n}\n\nfunction getRangeViewDate(values, index, picker, generateConfig) {\n  var startDate = getValue(values, 0);\n  var endDate = getValue(values, 1);\n\n  if (index === 0) {\n    return startDate;\n  }\n\n  if (startDate && endDate) {\n    var distance = getStartEndDistance(startDate, endDate, picker, generateConfig);\n\n    switch (distance) {\n      case 'same':\n        return startDate;\n\n      case 'closing':\n        return startDate;\n\n      default:\n        return getClosingViewDate(endDate, picker, generateConfig, -1);\n    }\n  }\n\n  return startDate;\n}\n\nexport default function useRangeViewDates(_ref) {\n  var values = _ref.values,\n      picker = _ref.picker,\n      defaultDates = _ref.defaultDates,\n      generateConfig = _ref.generateConfig;\n\n  var _React$useState = React.useState(function () {\n    return [getValue(defaultDates, 0), getValue(defaultDates, 1)];\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      defaultViewDates = _React$useState2[0],\n      setDefaultViewDates = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      viewDates = _React$useState4[0],\n      setInternalViewDates = _React$useState4[1];\n\n  var startDate = getValue(values, 0);\n  var endDate = getValue(values, 1);\n\n  function getViewDate(index) {\n    // If set default view date, use it\n    if (defaultViewDates[index]) {\n      return defaultViewDates[index];\n    }\n\n    return getValue(viewDates, index) || getRangeViewDate(values, index, picker, generateConfig) || startDate || endDate || generateConfig.getNow();\n  }\n\n  function setViewDate(viewDate, index) {\n    if (viewDate) {\n      var newViewDates = updateValues(viewDates, viewDate, index); // Set view date will clean up default one\n\n      setDefaultViewDates( // Should always be an array\n      updateValues(defaultViewDates, null, index) || [null, null]); // Reset another one when not have value\n\n      var anotherIndex = (index + 1) % 2;\n\n      if (!getValue(values, anotherIndex)) {\n        newViewDates = updateValues(newViewDates, viewDate, anotherIndex);\n      }\n\n      setInternalViewDates(newViewDates);\n    } else if (startDate || endDate) {\n      // Reset all when has values when `viewDate` is `null` which means from open trigger\n      setInternalViewDates(null);\n    }\n  }\n\n  return [getViewDate, setViewDate];\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport PanelContext from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport RangeContext from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction InnerRangePicker(props) {\n  var _classNames2, _classNames3, _classNames4;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      id = props.id,\n      style = props.style,\n      className = props.className,\n      popupStyle = props.popupStyle,\n      dropdownClassName = props.dropdownClassName,\n      transitionName = props.transitionName,\n      dropdownAlign = props.dropdownAlign,\n      getPopupContainer = props.getPopupContainer,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      placeholder = props.placeholder,\n      autoFocus = props.autoFocus,\n      disabled = props.disabled,\n      format = props.format,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      showTime = props.showTime,\n      use12Hours = props.use12Hours,\n      _props$separator = props.separator,\n      separator = _props$separator === void 0 ? '~' : _props$separator,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      defaultPickerValue = props.defaultPickerValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      disabledDate = props.disabledDate,\n      _disabledTime = props.disabledTime,\n      dateRender = props.dateRender,\n      panelRender = props.panelRender,\n      ranges = props.ranges,\n      allowEmpty = props.allowEmpty,\n      allowClear = props.allowClear,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      pickerRef = props.pickerRef,\n      inputReadOnly = props.inputReadOnly,\n      mode = props.mode,\n      renderExtraFooter = props.renderExtraFooter,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onPanelChange = props.onPanelChange,\n      onCalendarChange = props.onCalendarChange,\n      _onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      _onOk = props.onOk,\n      _onKeyDown = props.onKeyDown,\n      components = props.components,\n      order = props.order,\n      direction = props.direction,\n      activePickerIndex = props.activePickerIndex,\n      _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? 'off' : _props$autoComplete;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time'; // We record opened status here in case repeat open with picker\n\n  var openRecordsRef = useRef({});\n  var containerRef = useRef(null);\n  var panelDivRef = useRef(null);\n  var startInputDivRef = useRef(null);\n  var endInputDivRef = useRef(null);\n  var separatorRef = useRef(null);\n  var startInputRef = useRef(null);\n  var endInputRef = useRef(null); // ============================= Misc ==============================\n\n  var formatList = toArray(getDefaultFormat(format, picker, showTime, use12Hours)); // Active picker\n\n  var _useMergedState = useMergedState(0, {\n    value: activePickerIndex\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedActivePickerIndex = _useMergedState2[0],\n      setMergedActivePickerIndex = _useMergedState2[1]; // Operation ref\n\n\n  var operationRef = useRef(null);\n  var mergedDisabled = React.useMemo(function () {\n    if (Array.isArray(disabled)) {\n      return disabled;\n    }\n\n    return [disabled || false, disabled || false];\n  }, [disabled]); // ============================= Value =============================\n\n  var _useMergedState3 = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(values) {\n      return picker === 'time' && !order ? values : reorderValues(values, generateConfig);\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedValue = _useMergedState4[0],\n      setInnerValue = _useMergedState4[1]; // =========================== View Date ===========================\n  // Config view panel\n\n\n  var _useRangeViewDates = useRangeViewDates({\n    values: mergedValue,\n    picker: picker,\n    defaultDates: defaultPickerValue,\n    generateConfig: generateConfig\n  }),\n      _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 2),\n      getViewDate = _useRangeViewDates2[0],\n      setViewDate = _useRangeViewDates2[1]; // ========================= Select Values =========================\n\n\n  var _useMergedState5 = useMergedState(mergedValue, {\n    postState: function postState(values) {\n      var postValues = values;\n\n      if (mergedDisabled[0] && mergedDisabled[1]) {\n        return postValues;\n      } // Fill disabled unit\n\n\n      for (var i = 0; i < 2; i += 1) {\n        if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(allowEmpty, i)) {\n          postValues = updateValues(postValues, generateConfig.getNow(), i);\n        }\n      }\n\n      return postValues;\n    }\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      selectedValue = _useMergedState6[0],\n      setSelectedValue = _useMergedState6[1]; // ============================= Modes =============================\n\n\n  var _useMergedState7 = useMergedState([picker, picker], {\n    value: mode\n  }),\n      _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n      mergedModes = _useMergedState8[0],\n      setInnerModes = _useMergedState8[1];\n\n  useEffect(function () {\n    setInnerModes([picker, picker]);\n  }, [picker]);\n\n  var triggerModesChange = function triggerModesChange(modes, values) {\n    setInnerModes(modes);\n\n    if (onPanelChange) {\n      onPanelChange(values, modes);\n    }\n  }; // ========================= Disable Date ==========================\n\n\n  var _useRangeDisabled = useRangeDisabled({\n    picker: picker,\n    selectedValue: selectedValue,\n    locale: locale,\n    disabled: mergedDisabled,\n    disabledDate: disabledDate,\n    generateConfig: generateConfig\n  }, openRecordsRef.current[1], openRecordsRef.current[0]),\n      _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n      disabledStartDate = _useRangeDisabled2[0],\n      disabledEndDate = _useRangeDisabled2[1]; // ============================= Open ==============================\n\n\n  var _useMergedState9 = useMergedState(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return mergedDisabled[mergedActivePickerIndex] ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n      mergedOpen = _useMergedState10[0],\n      triggerInnerOpen = _useMergedState10[1];\n\n  var startOpen = mergedOpen && mergedActivePickerIndex === 0;\n  var endOpen = mergedOpen && mergedActivePickerIndex === 1; // ============================= Popup =============================\n  // Popup min width\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      popupMinWidth = _useState2[0],\n      setPopupMinWidth = _useState2[1];\n\n  useEffect(function () {\n    if (!mergedOpen && containerRef.current) {\n      setPopupMinWidth(containerRef.current.offsetWidth);\n    }\n  }, [mergedOpen]); // ============================ Trigger ============================\n\n  var triggerRef = React.useRef();\n\n  function _triggerOpen(newOpen, index) {\n    if (newOpen) {\n      clearTimeout(triggerRef.current);\n      openRecordsRef.current[index] = true;\n      setMergedActivePickerIndex(index);\n      triggerInnerOpen(newOpen); // Open to reset view date\n\n      if (!mergedOpen) {\n        setViewDate(null, index);\n      }\n    } else if (mergedActivePickerIndex === index) {\n      triggerInnerOpen(newOpen); // Clean up async\n      // This makes ref not quick refresh in case user open another input with blur trigger\n\n      var openRecords = openRecordsRef.current;\n      triggerRef.current = setTimeout(function () {\n        if (openRecords === openRecordsRef.current) {\n          openRecordsRef.current = {};\n        }\n      });\n    }\n  }\n\n  function triggerOpenAndFocus(index) {\n    _triggerOpen(true, index); // Use setTimeout to make sure panel DOM exists\n\n\n    setTimeout(function () {\n      var inputRef = [startInputRef, endInputRef][index];\n\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, 0);\n  }\n\n  function triggerChange(newValue, sourceIndex) {\n    var values = newValue;\n    var startValue = getValue(values, 0);\n    var endValue = getValue(values, 1); // >>>>> Format start & end values\n\n    if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n      if ( // WeekPicker only compare week\n      picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) || // QuotaPicker only compare week\n      picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) || // Other non-TimePicker compare date\n      picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !isSameDate(generateConfig, startValue, endValue)) {\n        // Clean up end date when start date is after end date\n        if (sourceIndex === 0) {\n          values = [startValue, null];\n          endValue = null;\n        } else {\n          startValue = null;\n          values = [null, endValue];\n        } // Clean up cache since invalidate\n\n\n        openRecordsRef.current = _defineProperty({}, sourceIndex, true);\n      } else if (picker !== 'time' || order !== false) {\n        // Reorder when in same date\n        values = reorderValues(values, generateConfig);\n      }\n    }\n\n    setSelectedValue(values);\n    var startStr = values && values[0] ? formatValue(values[0], {\n      generateConfig: generateConfig,\n      locale: locale,\n      format: formatList[0]\n    }) : '';\n    var endStr = values && values[1] ? formatValue(values[1], {\n      generateConfig: generateConfig,\n      locale: locale,\n      format: formatList[0]\n    }) : '';\n\n    if (onCalendarChange) {\n      var info = {\n        range: sourceIndex === 0 ? 'start' : 'end'\n      };\n      onCalendarChange(values, [startStr, endStr], info);\n    } // >>>>> Trigger `onChange` event\n\n\n    var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled, allowEmpty);\n    var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled, allowEmpty);\n    var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n    if (canTrigger) {\n      // Trigger onChange only when value is validate\n      setInnerValue(values);\n\n      if (onChange && (!isEqual(generateConfig, getValue(mergedValue, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue, 1), endValue))) {\n        onChange(values, [startStr, endStr]);\n      }\n    } // >>>>> Open picker when\n    // Always open another picker if possible\n\n\n    var nextOpenIndex = null;\n\n    if (sourceIndex === 0 && !mergedDisabled[1]) {\n      nextOpenIndex = 1;\n    } else if (sourceIndex === 1 && !mergedDisabled[0]) {\n      nextOpenIndex = 0;\n    }\n\n    if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex && (!openRecordsRef.current[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n      // Delay to focus to avoid input blur trigger expired selectedValues\n      triggerOpenAndFocus(nextOpenIndex);\n    } else {\n      _triggerOpen(false, sourceIndex);\n    }\n  }\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  }; // ============================= Text ==============================\n\n\n  var sharedTextHooksProps = {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  };\n\n  var _useValueTexts = useValueTexts(getValue(selectedValue, 0), sharedTextHooksProps),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      startValueTexts = _useValueTexts2[0],\n      firstStartValueText = _useValueTexts2[1];\n\n  var _useValueTexts3 = useValueTexts(getValue(selectedValue, 1), sharedTextHooksProps),\n      _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n      endValueTexts = _useValueTexts4[0],\n      firstEndValueText = _useValueTexts4[1];\n\n  var _onTextChange = function onTextChange(newText, index) {\n    var inputDate = parseValue(newText, {\n      locale: locale,\n      formatList: formatList,\n      generateConfig: generateConfig\n    });\n    var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n    if (inputDate && !disabledFunc(inputDate)) {\n      setSelectedValue(updateValues(selectedValue, inputDate, index));\n      setViewDate(inputDate, index);\n    }\n  };\n\n  var _useTextValueMapping = useTextValueMapping({\n    valueTexts: startValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 0);\n    }\n  }),\n      _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n      startText = _useTextValueMapping2[0],\n      triggerStartTextChange = _useTextValueMapping2[1],\n      resetStartText = _useTextValueMapping2[2];\n\n  var _useTextValueMapping3 = useTextValueMapping({\n    valueTexts: endValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 1);\n    }\n  }),\n      _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n      endText = _useTextValueMapping4[0],\n      triggerEndTextChange = _useTextValueMapping4[1],\n      resetEndText = _useTextValueMapping4[2];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rangeHoverValue = _useState4[0],\n      setRangeHoverValue = _useState4[1]; // ========================== Hover Range ==========================\n\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      hoverRangedValue = _useState6[0],\n      setHoverRangedValue = _useState6[1];\n\n  var _useHoverValue = useHoverValue(startText, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n      startHoverValue = _useHoverValue2[0],\n      onStartEnter = _useHoverValue2[1],\n      onStartLeave = _useHoverValue2[2];\n\n  var _useHoverValue3 = useHoverValue(endText, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n      endHoverValue = _useHoverValue4[0],\n      onEndEnter = _useHoverValue4[1],\n      onEndLeave = _useHoverValue4[2];\n\n  var onDateMouseEnter = function onDateMouseEnter(date) {\n    setHoverRangedValue(updateValues(selectedValue, date, mergedActivePickerIndex));\n\n    if (mergedActivePickerIndex === 0) {\n      onStartEnter(date);\n    } else {\n      onEndEnter(date);\n    }\n  };\n\n  var onDateMouseLeave = function onDateMouseLeave() {\n    setHoverRangedValue(updateValues(selectedValue, null, mergedActivePickerIndex));\n\n    if (mergedActivePickerIndex === 0) {\n      onStartLeave();\n    } else {\n      onEndLeave();\n    }\n  }; // ============================= Input =============================\n\n\n  var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n    return {\n      blurToCancel: needConfirmButton,\n      forwardKeyDown: forwardKeyDown,\n      onBlur: onBlur,\n      isClickOutside: function isClickOutside(target) {\n        return !elementsContains([panelDivRef.current, startInputDivRef.current, endInputDivRef.current], target);\n      },\n      onFocus: function onFocus(e) {\n        setMergedActivePickerIndex(index);\n\n        if (_onFocus) {\n          _onFocus(e);\n        }\n      },\n      triggerOpen: function triggerOpen(newOpen) {\n        _triggerOpen(newOpen, index);\n      },\n      onSubmit: function onSubmit() {\n        triggerChange(selectedValue, index);\n        resetText();\n      },\n      onCancel: function onCancel() {\n        _triggerOpen(false, index);\n\n        setSelectedValue(mergedValue);\n        resetText();\n      }\n    };\n  };\n\n  var _usePickerInput = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(0, resetStartText)), {}, {\n    open: startOpen,\n    value: startText,\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    }\n  })),\n      _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n      startInputProps = _usePickerInput2[0],\n      _usePickerInput2$ = _usePickerInput2[1],\n      startFocused = _usePickerInput2$.focused,\n      startTyping = _usePickerInput2$.typing;\n\n  var _usePickerInput3 = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(1, resetEndText)), {}, {\n    open: endOpen,\n    value: endText,\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    }\n  })),\n      _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n      endInputProps = _usePickerInput4[0],\n      _usePickerInput4$ = _usePickerInput4[1],\n      endFocused = _usePickerInput4$.focused,\n      endTyping = _usePickerInput4$.typing; // ========================== Click Picker ==========================\n\n\n  var onPickerClick = function onPickerClick(e) {\n    // When click inside the picker & outside the picker's input elements\n    // the panel should still be opened\n    if (!mergedOpen && !startInputRef.current.contains(e.target) && !endInputRef.current.contains(e.target)) {\n      if (!mergedDisabled[0]) {\n        triggerOpenAndFocus(0);\n      } else if (!mergedDisabled[1]) {\n        triggerOpenAndFocus(1);\n      }\n    }\n  };\n\n  var onPickerMouseDown = function onPickerMouseDown(e) {\n    // shouldn't affect input elements if picker is active\n    if (mergedOpen && (startFocused || endFocused) && !startInputRef.current.contains(e.target) && !endInputRef.current.contains(e.target)) {\n      e.preventDefault();\n    }\n  }; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  var startStr = mergedValue && mergedValue[0] ? formatValue(mergedValue[0], {\n    locale: locale,\n    format: 'YYYYMMDDHHmmss',\n    generateConfig: generateConfig\n  }) : '';\n  var endStr = mergedValue && mergedValue[1] ? formatValue(mergedValue[1], {\n    locale: locale,\n    format: 'YYYYMMDDHHmmss',\n    generateConfig: generateConfig\n  }) : '';\n  useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!startValueTexts.length || startValueTexts[0] === '') {\n        triggerStartTextChange('');\n      } else if (firstStartValueText !== startText) {\n        resetStartText();\n      }\n\n      if (!endValueTexts.length || endValueTexts[0] === '') {\n        triggerEndTextChange('');\n      } else if (firstEndValueText !== endText) {\n        resetEndText();\n      }\n    }\n  }, [mergedOpen, startValueTexts, endValueTexts]); // Sync innerValue with control mode\n\n  useEffect(function () {\n    setSelectedValue(mergedValue);\n  }, [startStr, endStr]); // ============================ Warning ============================\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n      warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n    }\n  } // ============================ Private ============================\n\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (startInputRef.current) {\n          startInputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (startInputRef.current) {\n          startInputRef.current.blur();\n        }\n\n        if (endInputRef.current) {\n          endInputRef.current.blur();\n        }\n      }\n    };\n  } // ============================ Ranges =============================\n\n\n  var rangeLabels = Object.keys(ranges || {});\n  var rangeList = rangeLabels.map(function (label) {\n    var range = ranges[label];\n    var newValues = typeof range === 'function' ? range() : range;\n    return {\n      label: label,\n      onClick: function onClick() {\n        triggerChange(newValues, null);\n\n        _triggerOpen(false, mergedActivePickerIndex);\n      },\n      onMouseEnter: function onMouseEnter() {\n        setRangeHoverValue(newValues);\n      },\n      onMouseLeave: function onMouseLeave() {\n        setRangeHoverValue(null);\n      }\n    };\n  }); // ============================= Panel =============================\n\n  function renderPanel() {\n    var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var panelHoverRangedValue = null;\n\n    if (mergedOpen && hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1] && generateConfig.isAfter(hoverRangedValue[1], hoverRangedValue[0])) {\n      panelHoverRangedValue = hoverRangedValue;\n    }\n\n    var panelShowTime = showTime;\n\n    if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n      var timeDefaultValues = showTime.defaultValue;\n      panelShowTime = _objectSpread(_objectSpread({}, showTime), {}, {\n        defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex) || undefined\n      });\n    }\n\n    var panelDateRender = null;\n\n    if (dateRender) {\n      panelDateRender = function panelDateRender(date, today) {\n        return dateRender(date, today, {\n          range: mergedActivePickerIndex ? 'end' : 'start'\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(RangeContext.Provider, {\n      value: {\n        inRange: true,\n        panelPosition: panelPosition,\n        rangedValue: rangeHoverValue || selectedValue,\n        hoverRangedValue: panelHoverRangedValue\n      }\n    }, /*#__PURE__*/React.createElement(PickerPanel, _extends({}, props, panelProps, {\n      dateRender: panelDateRender,\n      showTime: panelShowTime,\n      mode: mergedModes[mergedActivePickerIndex],\n      generateConfig: generateConfig,\n      style: undefined,\n      direction: direction,\n      disabledDate: mergedActivePickerIndex === 0 ? disabledStartDate : disabledEndDate,\n      disabledTime: function disabledTime(date) {\n        if (_disabledTime) {\n          return _disabledTime(date, mergedActivePickerIndex === 0 ? 'start' : 'end');\n        }\n\n        return false;\n      },\n      className: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex === 0 ? !startTyping : !endTyping)),\n      value: getValue(selectedValue, mergedActivePickerIndex),\n      locale: locale,\n      tabIndex: -1,\n      onPanelChange: function onPanelChange(date, newMode) {\n        // clear hover value when panel change\n        if (mergedActivePickerIndex === 0) {\n          onStartLeave(true);\n        }\n\n        if (mergedActivePickerIndex === 1) {\n          onEndLeave(true);\n        }\n\n        triggerModesChange(updateValues(mergedModes, newMode, mergedActivePickerIndex), updateValues(selectedValue, date, mergedActivePickerIndex));\n        var viewDate = date;\n\n        if (panelPosition === 'right' && mergedModes[mergedActivePickerIndex] === newMode) {\n          viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n        }\n\n        setViewDate(viewDate, mergedActivePickerIndex);\n      },\n      onOk: null,\n      onSelect: undefined,\n      onChange: undefined,\n      defaultValue: mergedActivePickerIndex === 0 ? getValue(selectedValue, 1) : getValue(selectedValue, 0),\n      defaultPickerValue: undefined\n    })));\n  }\n\n  var arrowLeft = 0;\n  var panelLeft = 0;\n\n  if (mergedActivePickerIndex && startInputDivRef.current && separatorRef.current && panelDivRef.current) {\n    // Arrow offset\n    arrowLeft = startInputDivRef.current.offsetWidth + separatorRef.current.offsetWidth;\n\n    if (panelDivRef.current.offsetWidth && arrowLeft > panelDivRef.current.offsetWidth) {\n      panelLeft = arrowLeft;\n    }\n  }\n\n  var arrowPositionStyle = direction === 'rtl' ? {\n    right: arrowLeft\n  } : {\n    left: arrowLeft\n  };\n\n  function renderPanels() {\n    var panels;\n    var extraNode = getExtraFooter(prefixCls, mergedModes[mergedActivePickerIndex], renderExtraFooter);\n    var rangesNode = getRanges({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !getValue(selectedValue, mergedActivePickerIndex) || disabledDate && disabledDate(selectedValue[mergedActivePickerIndex]),\n      locale: locale,\n      rangeList: rangeList,\n      onOk: function onOk() {\n        if (getValue(selectedValue, mergedActivePickerIndex)) {\n          // triggerChangeOld(selectedValue);\n          triggerChange(selectedValue, mergedActivePickerIndex);\n\n          if (_onOk) {\n            _onOk(selectedValue);\n          }\n        }\n      }\n    });\n\n    if (picker !== 'time' && !showTime) {\n      var viewDate = getViewDate(mergedActivePickerIndex);\n      var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n      var currentMode = mergedModes[mergedActivePickerIndex];\n      var showDoublePanel = currentMode === picker;\n      var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n        pickerValue: viewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(newViewDate, mergedActivePickerIndex);\n        }\n      });\n      var rightPanel = renderPanel('right', {\n        pickerValue: nextViewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex);\n        }\n      });\n\n      if (direction === 'rtl') {\n        panels = /*#__PURE__*/React.createElement(React.Fragment, null, rightPanel, showDoublePanel && leftPanel);\n      } else {\n        panels = /*#__PURE__*/React.createElement(React.Fragment, null, leftPanel, showDoublePanel && rightPanel);\n      }\n    } else {\n      panels = renderPanel();\n    }\n\n    var mergedNodes = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panels\")\n    }, panels), (extraNode || rangesNode) && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-footer\")\n    }, extraNode, rangesNode));\n\n    if (panelRender) {\n      mergedNodes = panelRender(mergedNodes);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panel-container\"),\n      style: {\n        marginLeft: panelLeft\n      },\n      ref: panelDivRef,\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n      }\n    }, mergedNodes);\n  }\n\n  var rangePanel = /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n    style: {\n      minWidth: popupMinWidth\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-arrow\"),\n    style: arrowPositionStyle\n  }), renderPanels()); // ============================= Icons =============================\n\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && (getValue(mergedValue, 0) && !mergedDisabled[0] || getValue(mergedValue, 1) && !mergedDisabled[1])) {\n    clearNode = /*#__PURE__*/React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var values = mergedValue;\n\n        if (!mergedDisabled[0]) {\n          values = updateValues(values, null, 0);\n        }\n\n        if (!mergedDisabled[1]) {\n          values = updateValues(values, null, 1);\n        }\n\n        triggerChange(values, null);\n\n        _triggerOpen(false, mergedActivePickerIndex);\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  }\n\n  var inputSharedProps = {\n    size: getInputSize(picker, formatList[0], generateConfig)\n  };\n  var activeBarLeft = 0;\n  var activeBarWidth = 0;\n\n  if (startInputDivRef.current && endInputDivRef.current && separatorRef.current) {\n    if (mergedActivePickerIndex === 0) {\n      activeBarWidth = startInputDivRef.current.offsetWidth;\n    } else {\n      activeBarLeft = arrowLeft;\n      activeBarWidth = endInputDivRef.current.offsetWidth;\n    }\n  }\n\n  var activeBarPositionStyle = direction === 'rtl' ? {\n    right: activeBarLeft\n  } : {\n    left: activeBarLeft\n  }; // ============================ Return =============================\n\n  var onContextSelect = function onContextSelect(date, type) {\n    var values = updateValues(selectedValue, date, mergedActivePickerIndex);\n\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(values, mergedActivePickerIndex); // clear hover value style\n\n      if (mergedActivePickerIndex === 0) {\n        onStartLeave();\n      } else {\n        onEndLeave();\n      }\n    } else {\n      setSelectedValue(values);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      onDateMouseEnter: onDateMouseEnter,\n      onDateMouseLeave: onDateMouseLeave,\n      hideRanges: true,\n      onSelect: onContextSelect,\n      open: mergedOpen\n    }\n  }, /*#__PURE__*/React.createElement(PickerTrigger, {\n    visible: mergedOpen,\n    popupElement: rangePanel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    range: true,\n    direction: direction\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: containerRef,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled[0] && mergedDisabled[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex === 0 ? startFocused : endFocused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n    style: style,\n    onClick: onPickerClick,\n    onMouseDown: onPickerMouseDown\n  }, getDataOrAriaProps(props)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue), _classNames3)),\n    ref: startInputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    id: id,\n    disabled: mergedDisabled[0],\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !startTyping,\n    value: startHoverValue || startText,\n    onChange: function onChange(e) {\n      triggerStartTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: getValue(placeholder, 0) || '',\n    ref: startInputRef\n  }, startInputProps, inputSharedProps, {\n    autoComplete: autoComplete\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-separator\"),\n    ref: separatorRef\n  }, separator), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue), _classNames4)),\n    ref: endInputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    disabled: mergedDisabled[1],\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !endTyping,\n    value: endHoverValue || endText,\n    onChange: function onChange(e) {\n      triggerEndTextChange(e.target.value);\n    },\n    placeholder: getValue(placeholder, 1) || '',\n    ref: endInputRef\n  }, endInputProps, inputSharedProps, {\n    autoComplete: autoComplete\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-active-bar\"),\n    style: _objectSpread(_objectSpread({}, activeBarPositionStyle), {}, {\n      width: activeBarWidth,\n      position: 'absolute'\n    })\n  }), suffixNode, clearNode)));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar RangePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(RangePicker, _React$Component);\n\n  var _super = _createSuper(RangePicker);\n\n  function RangePicker() {\n    var _this;\n\n    _classCallCheck(this, RangePicker);\n\n    _this = _super.apply(this, arguments);\n    _this.pickerRef = /*#__PURE__*/React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RangePicker, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(InnerRangePicker, _extends({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return RangePicker;\n}(React.Component);\n\nexport default RangePicker;","import * as React from 'react';\nimport { getValue } from '../utils/miscUtil';\nimport { isSameDate, getQuarter } from '../utils/dateUtil';\nexport default function useRangeDisabled(_ref, disabledStart, disabledEnd) {\n  var picker = _ref.picker,\n      locale = _ref.locale,\n      selectedValue = _ref.selectedValue,\n      disabledDate = _ref.disabledDate,\n      disabled = _ref.disabled,\n      generateConfig = _ref.generateConfig;\n  var startDate = getValue(selectedValue, 0);\n  var endDate = getValue(selectedValue, 1);\n\n  function weekFirstDate(date) {\n    return generateConfig.locale.getWeekFirstDate(locale.locale, date);\n  }\n\n  function monthNumber(date) {\n    var year = generateConfig.getYear(date);\n    var month = generateConfig.getMonth(date);\n    return year * 100 + month;\n  }\n\n  function quarterNumber(date) {\n    var year = generateConfig.getYear(date);\n    var quarter = getQuarter(generateConfig, date);\n    return year * 10 + quarter;\n  }\n\n  var disabledStartDate = React.useCallback(function (date) {\n    if (disabledDate && disabledDate(date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[1] && endDate) {\n      return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(date, endDate);\n    } // Disabled part\n\n\n    if (disabledStart && endDate) {\n      switch (picker) {\n        case 'quarter':\n          return quarterNumber(date) > quarterNumber(endDate);\n\n        case 'month':\n          return monthNumber(date) > monthNumber(endDate);\n\n        case 'week':\n          return weekFirstDate(date) > weekFirstDate(endDate);\n\n        default:\n          return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(date, endDate);\n      }\n    }\n\n    return false;\n  }, [disabledDate, disabled[1], endDate, disabledStart]);\n  var disabledEndDate = React.useCallback(function (date) {\n    if (disabledDate && disabledDate(date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[0] && startDate) {\n      return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(startDate, date);\n    } // Disabled part\n\n\n    if (disabledEnd && startDate) {\n      switch (picker) {\n        case 'quarter':\n          return quarterNumber(date) < quarterNumber(startDate);\n\n        case 'month':\n          return monthNumber(date) < monthNumber(startDate);\n\n        case 'week':\n          return weekFirstDate(date) < weekFirstDate(startDate);\n\n        default:\n          return !isSameDate(generateConfig, date, startDate) && generateConfig.isAfter(startDate, date);\n      }\n    }\n\n    return false;\n  }, [disabledDate, disabled[0], startDate, disabledEnd]);\n  return [disabledStartDate, disabledEndDate];\n}","import Picker from './Picker';\nimport PickerPanel from './PickerPanel';\nimport RangePicker from './RangePicker';\nexport { PickerPanel, RangePicker };\nexport default Picker;","\"use strict\";\n\nrequire(\"./index.less\");\n\nrequire(\"../../tag/style\");\n\nrequire(\"../../button/style\");","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"./index.less\");",null,"import { PropsWithChildren } from \"react\";\nimport Sortable, { Options } from \"sortablejs\";\nimport { MultiDragEvent } from \"./react-sortable\";\nimport { AllMethodNames, ItemInterface, ReactSortableProps } from \"./types\";\n\n/**\n * Removes the `node` from the DOM\n * @param node\n */\nexport function removeNode(node: HTMLElement): void {\n  if (node.parentElement !== null) node.parentElement.removeChild(node);\n}\n\n/**\n * Inserts the `newChild` node at the given index in a parent\n * @param parent The parent HTML Element.\n * @param newChild A HTML eement to add as a child of the parent.\n * @param index index of the parent to place the new child in.\n */\nexport function insertNodeAt(\n  parent: HTMLElement,\n  newChild: HTMLElement,\n  index: number\n): void {\n  const refChild = parent.children[index] || null;\n  parent.insertBefore(newChild, refChild);\n}\n\n// @todo - create a dom handler function for arrays or not at all\n\n/** removes stuff from the dom in a nice order */\n// @todo - do I need parenElement?\nexport function handleDOMChanges<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  removeNodes(customs);\n  insertNodes(customs);\n}\n\nexport function removeNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => removeNode(curr.element));\n}\n\nexport function insertNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => {\n    insertNodeAt(curr.parentElement, curr.element, curr.oldIndex);\n  });\n}\n\nexport function createCustoms<T extends ItemInterface>(\n  evt: MultiDragEvent,\n  list: T[]\n): Normalized<T>[] {\n  const mode = getMode(evt);\n  const parentElement = { parentElement: evt.from };\n  let custom = [];\n  switch (mode) {\n    case \"normal\":\n      /* eslint-disable */\n      const item = {\n        element: evt.item,\n        newIndex: evt.newIndex!,\n        oldIndex: evt.oldIndex!,\n        parentElement: evt.from,\n      };\n      custom = [item];\n      break;\n    case \"swap\":\n      const drag: Input = {\n        element: evt.item,\n        oldIndex: evt.oldIndex!,\n        newIndex: evt.newIndex!,\n        ...parentElement,\n      };\n      const swap: Input = {\n        element: evt.swapItem!,\n        oldIndex: evt.newIndex!,\n        newIndex: evt.oldIndex!,\n        ...parentElement,\n      };\n      custom = [drag, swap];\n      break;\n    case \"multidrag\":\n      custom = evt.oldIndicies.map<Input>((curr, index) => ({\n        element: curr.multiDragElement,\n        oldIndex: curr.index,\n        newIndex: evt.newIndicies[index].index,\n        ...parentElement,\n      }));\n      break;\n  }\n  /* eslint-enable */\n\n  const customs = createNormalized(custom, list);\n  return customs;\n}\n\n/** moves items form old index to new index without breaking anything ideally. */\nexport function handleStateChanges<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const a = handleStateRemove(normalized, list);\n  const b = handleStateAdd(normalized, a);\n  return b;\n}\n\nexport function handleStateRemove<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const newList = [...list];\n  normalized\n    .concat()\n    .reverse()\n    .forEach((curr) => newList.splice(curr.oldIndex, 1));\n  return newList;\n}\n\nexport function handleStateAdd<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[],\n  evt?: Sortable.SortableEvent,\n  clone?: ((currentItem: T, evt: Sortable.SortableEvent) => T) | undefined\n): T[] {\n  const newList = [...list];\n  normalized.forEach((curr) => {\n    const newItem = clone && evt && clone(curr.item, evt);\n    newList.splice(curr.newIndex, 0, newItem || curr.item);\n  });\n  return newList;\n}\n\nexport function getMode(evt: MultiDragEvent): \"multidrag\" | \"swap\" | \"normal\" {\n  if (evt.oldIndicies && evt.oldIndicies.length > 0) return \"multidrag\";\n  if (evt.swapItem) return \"swap\";\n  return \"normal\";\n}\n\nexport function createNormalized<T extends ItemInterface>(\n  inputs: Input[],\n  list: T[]\n): Normalized<T>[] {\n  const normalized = inputs\n    .map<Normalized<T>>((curr) => ({ ...curr, item: list[curr.oldIndex] }))\n    .sort((a, b) => a.oldIndex - b.oldIndex);\n  return normalized;\n}\n\nexport interface Input {\n  parentElement: HTMLElement;\n  element: HTMLElement;\n  oldIndex: number;\n  newIndex: number;\n}\n\nexport interface Normalized<T> extends Input {\n  item: T;\n}\n\n/**\n * Removes the following group of properties from `props`,\n * leaving only `Sortable.Options` without any `on` methods.\n * @param props `ReactSortable.Props`\n */\nexport function destructurePropsForOptions<T>(\n  props: PropsWithChildren<ReactSortableProps<T>>\n): Exclude<Options, AllMethodNames> {\n  /* eslint-disable */\n  const {\n    // react sortable props\n    list,\n    setList,\n    children,\n    tag,\n    style,\n    className,\n    clone,\n    // sortable options that have methods we want to overwrite\n    onAdd,\n    onChange,\n    onChoose,\n    onClone,\n    onEnd,\n    onFilter,\n    onRemove,\n    onSort,\n    onStart,\n    onUnchoose,\n    onUpdate,\n    onMove,\n    onSpill,\n    onSelect,\n    onDeselect,\n    ...options\n  } = props;\n  /* eslint-enable */\n  return options;\n}\n\n/**\n * Construct a type with the properties of T except for those in type K.\n * Including this allows for backwards compatibility with earlier versions of TS.\n */\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n","import classNames from \"classnames\";\nimport {\n  Children,\n  cloneElement,\n  Component,\n  createElement,\n  createRef,\n  ReactElement,\n  RefObject,\n} from \"react\";\nimport Sortable, { MoveEvent, Options, SortableEvent } from \"sortablejs\";\nimport invariant from \"tiny-invariant\";\nimport {\n  AllMethodsExceptMove,\n  HandledMethodNames,\n  ItemInterface,\n  ReactSortableProps,\n  Store,\n  UnHandledMethodNames,\n} from \"./types\";\nimport {\n  createCustoms,\n  destructurePropsForOptions,\n  getMode,\n  handleStateAdd,\n  handleStateChanges,\n  handleStateRemove,\n  insertNodes,\n  removeNode,\n  removeNodes,\n} from \"./util\";\n\n/** Holds a global reference for which react element is being dragged */\n// @todo - use context to manage this. How does one use 2 different providers?\nconst store: Store = { dragging: null };\n\nexport class ReactSortable<T extends ItemInterface> extends Component<\n  ReactSortableProps<T>\n> {\n  /* eslint-disable-next-line */\n  static defaultProps: Partial<ReactSortableProps<any>> = {\n    clone: (item) => item,\n  };\n\n  private ref: RefObject<HTMLElement>;\n  constructor(props: ReactSortableProps<T>) {\n    super(props);\n    // @todo forward ref this component\n    this.ref = createRef<HTMLElement>();\n\n    // make all state false because we can't change sortable unless a mouse gesture is made.\n    const newList = props.list.map((item) => ({\n      ...item,\n      chosen: false,\n      selected: false,\n    }));\n\n    props.setList(newList, this.sortable, store);\n    invariant(\n      //@ts-expect-error: Doesn't exist. Will deprecate soon.\n      !props.plugins,\n      `\nPlugins prop is no longer supported.\nInstead, mount it with \"Sortable.mount(new MultiDrag())\"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      `\n    );\n  }\n  componentDidMount(): void {\n    if (this.ref.current === null) return;\n    const newOptions = this.makeOptions();\n    Sortable.create(this.ref.current, newOptions);\n  }\n\n  render(): JSX.Element {\n    const { tag, style, className, id } = this.props;\n    const classicProps = { style, className, id };\n\n    // if no tag, default to a `div` element.\n    const newTag = !tag || tag === null ? \"div\" : tag;\n    return createElement(\n      newTag,\n      {\n        // @todo - find a way (perhaps with the callback) to allow AntD components to work\n        ref: this.ref,\n        ...classicProps,\n      },\n      this.getChildren()\n    );\n  }\n\n  private getChildren() {\n    const {\n      children,\n      dataIdAttr,\n      selectedClass = \"sortable-selected\",\n      chosenClass = \"sortable-chosen\",\n      /* eslint-disable */\n      dragClass = \"sortable-drag\",\n      fallbackClass = \"sortable-falback\",\n      ghostClass = \"sortable-ghost\",\n      swapClass = \"sortable-swap-highlight\",\n      /* eslint-enable */\n      filter = \"sortable-filter\",\n      list,\n    } = this.props;\n\n    // if no children, don't do anything.\n    if (!children || children == null) return null;\n    const dataid = dataIdAttr || \"data-id\";\n    /* eslint-disable-next-line */\n    return Children.map(children as ReactElement<any>[], (child, index) => {\n      const item = list[index];\n      const { className: prevClassName } = child.props;\n\n      // @todo - handle the function if avalable. I don't think anyone will be doing this soon.\n      const filtered = typeof filter === \"string\" && {\n        [filter.replace(\".\", \"\")]: !!item.filtered,\n      };\n\n      const className = classNames(prevClassName, {\n        [selectedClass]: item.selected,\n        [chosenClass]: item.chosen,\n        ...filtered,\n        // [dragClass]: true,\n        // [fallbackClass]: true,\n        // [ghostClass]: true,\n        // [swapClass]: true\n      });\n\n      return cloneElement(child, {\n        [dataid]: child.key,\n        className,\n      });\n    });\n  }\n\n  /** Appends the `sortable` property to this component */\n  private get sortable(): Sortable | null {\n    const el = this.ref.current;\n    if (el === null) return null;\n    const key = Object.keys(el).find((k) => k.includes(\"Sortable\"));\n    if (!key) return null;\n    //@ts-expect-error: fix me.\n    return el[key] as Sortable;\n  }\n\n  /** Converts all the props from `ReactSortable` into the `options` object that `Sortable.create(el, [options])` can use. */\n  makeOptions(): Options {\n    const DOMHandlers: HandledMethodNames[] = [\n      \"onAdd\",\n      \"onChoose\",\n      \"onDeselect\",\n      \"onEnd\",\n      \"onRemove\",\n      \"onSelect\",\n      \"onSpill\",\n      \"onStart\",\n      \"onUnchoose\",\n      \"onUpdate\",\n    ];\n    const NonDOMHandlers: UnHandledMethodNames[] = [\n      \"onChange\",\n      \"onClone\",\n      \"onFilter\",\n      \"onSort\",\n    ];\n    const newOptions: Options = destructurePropsForOptions(this.props);\n    DOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerPropAndDOM(name))\n    );\n    NonDOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerProp(name))\n    );\n\n    /** onMove has 2 arguments and needs to be handled seperately. */\n    const onMove = (evt: MoveEvent, originalEvt: Event) => {\n      const { onMove } = this.props;\n      const defaultValue = evt.willInsertAfter || -1;\n      if (!onMove) return defaultValue;\n      const result = onMove(evt, originalEvt, this.sortable, store);\n      if (typeof result === \"undefined\") return false;\n      return result;\n    };\n\n    return {\n      ...newOptions,\n      onMove,\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop & an `on[Handler]` ReactSortable method.  */\n  prepareOnHandlerPropAndDOM(\n    evtName: HandledMethodNames\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n      // calls state change\n      //@ts-expect-error: until @types multidrag item is in\n      this[evtName](evt);\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop */\n  prepareOnHandlerProp(\n    evtName: Exclude<AllMethodsExceptMove, HandledMethodNames>\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n    };\n  }\n\n  /** Calls the `props.on[Handler]` function */\n  callOnHandlerProp(evt: SortableEvent, evtName: AllMethodsExceptMove): void {\n    const propEvent = this.props[evtName];\n    if (propEvent) propEvent(evt, this.sortable, store);\n  }\n\n  // SORTABLE DOM HANDLING\n\n  onAdd(evt: MultiDragEvent): void {\n    const { list, setList, clone } = this.props;\n    /* eslint-disable-next-line */\n    const otherList = [...store.dragging!.props.list];\n    const customs = createCustoms(evt, otherList);\n    removeNodes(customs);\n    const newList = handleStateAdd(customs, list, evt, clone).map((item) => ({\n      ...item,\n      selected: false,\n    }));\n    setList(newList, this.sortable, store);\n  }\n\n  onRemove(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const mode = getMode(evt);\n    const customs = createCustoms(evt, list);\n    insertNodes(customs);\n\n    let newList = [...list];\n    // remove state if not in clone mode. otherwise, keep.\n    if (evt.pullMode !== \"clone\") newList = handleStateRemove(customs, newList);\n    // if clone, it doesn't really remove. instead it clones in place.\n    // @todo -\n    else {\n      // switch used to get the clone\n      let customClones = customs;\n      switch (mode) {\n        case \"multidrag\":\n          customClones = customs.map((item, index) => ({\n            ...item,\n            element: evt.clones[index],\n          }));\n          break;\n        case \"normal\":\n          customClones = customs.map((item) => ({\n            ...item,\n            element: evt.clone,\n          }));\n          break;\n        case \"swap\":\n        default: {\n          invariant(\n            true,\n            `mode \"${mode}\" cannot clone. Please remove \"props.clone\" from <ReactSortable/> when using the \"${mode}\" plugin`\n          );\n        }\n      }\n      removeNodes(customClones);\n\n      // replace selected items with cloned items\n      customs.forEach((curr) => {\n        const index = curr.oldIndex;\n        /* eslint-disable-next-line */\n        const newItem = this.props.clone!(curr.item, evt);\n        newList.splice(index, 1, newItem);\n      });\n    }\n\n    // remove item.selected from list\n    newList = newList.map((item) => ({ ...item, selected: false }));\n    setList(newList, this.sortable, store);\n  }\n\n  onUpdate(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const customs = createCustoms(evt, list);\n    removeNodes(customs);\n    insertNodes(customs);\n    const newList = handleStateChanges(customs, list);\n    return setList(newList, this.sortable, store);\n  }\n\n  onStart(): void {\n    store.dragging = this;\n  }\n\n  onEnd(): void {\n    store.dragging = null;\n  }\n\n  onChoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: true,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onUnchoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: false,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onSpill(evt: SortableEvent): void {\n    const { removeOnSpill, revertOnSpill } = this.props;\n    if (removeOnSpill && !revertOnSpill) removeNode(evt.item);\n  }\n\n  onSelect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) {\n        console.log(\n          `\"${evt.type}\" had indice of \"${curr.index}\", which is probably -1 and doesn't usually happen here.`\n        );\n        console.log(evt);\n        return;\n      }\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onDeselect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) return;\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n}\n\n// everything below this point can be removed\n// once @types has been merged. PR submited\ninterface MultiIndices {\n  multiDragElement: HTMLElement;\n  index: number;\n}\n\nexport interface MultiDragEvent extends SortableEvent {\n  // @todo - add this to @types\n  clones: HTMLElement[];\n  oldIndicies: MultiIndices[];\n  newIndicies: MultiIndices[];\n  swapItem: HTMLElement | null;\n}\n","/**!\n * Sortable 1.13.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.13.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCountdownClock\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCountdownClock\"] = factory(root[\"React\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__427__) {\nreturn ","React  = require 'react'\nPropTypes = require 'prop-types'\nCreateReactClass = require 'create-react-class'\n\nReactCountdownClock = CreateReactClass\n  _seconds: 0\n  _radius: null\n  _fraction: null\n  _content: null\n  _canvas: null\n  _timeoutIds: []\n  _scale: window?.devicePixelRatio || 1\n\n  displayName: 'ReactCountdownClock'\n\n  componentDidUpdate: (prevProps) ->\n    if prevProps.seconds != @props.seconds\n      @_seconds = @_startSeconds()\n      @_stopTimer()\n      @_setupTimer()\n\n    if prevProps.color != @props.color\n      @_drawBackground()\n      @_updateCanvas()\n\n    if prevProps.paused != @props.paused\n      @_startTimer() if !@props.paused\n      @_pauseTimer() if @props.paused\n\n  componentDidMount: ->\n    @_seconds = @_startSeconds()\n    @_setupTimer()\n\n  componentWillUnmount: ->\n    @_cancelTimer()\n\n  _startSeconds: ->\n    # To prevent a brief flash of the start time when not paused\n    if @props.paused then @props.seconds else @props.seconds - 0.01\n\n  _setupTimer: ->\n    @_setScale()\n    @_setupCanvases()\n    @_drawBackground()\n    @_drawTimer()\n    @_startTimer() unless @props.paused\n\n  _updateCanvas: ->\n    @_clearTimer()\n    @_drawTimer()\n\n  _setScale: ->\n    @_radius      = @props.size / 2\n    @_fraction    = 2 / @_seconds\n    @_tickPeriod  = @_calculateTick()\n    @_innerRadius =\n      if @props.weight\n        @_radius - @props.weight\n      else\n        @_radius / 1.8\n\n  _calculateTick: ->\n    # Tick period (milleseconds) needs to be fast for smaller time periods and slower\n    # for longer ones. This provides smoother rendering. It should never exceed 1 second.\n    tickScale = 1.8\n    tick = @_seconds * tickScale\n    if tick > 1000 then 1000 else tick\n\n  _setupCanvases: ->\n    return if @_background && @_timer\n\n    @_background = @refs.background.getContext '2d'\n    @_background.scale @_scale, @_scale\n\n    @_timer = @refs.timer.getContext '2d'\n    @_timer.textAlign = 'center'\n    @_timer.textBaseline = 'middle'\n    @_timer.scale @_scale, @_scale\n\n    if @props.onClick?\n      @refs.component.addEventListener 'click', @props.onClick\n\n  _startTimer: ->\n    # Give it a moment to collect it's thoughts for smoother render\n    @_timeoutIds.push(setTimeout( => @_tick() ), 200)\n\n  _pauseTimer: ->\n    @_stopTimer()\n    @_updateCanvas()\n\n  _stopTimer: ->\n    for timeout in @_timeoutIds\n      clearTimeout timeout\n\n  _cancelTimer: ->\n    @_stopTimer()\n\n    if @props.onClick?\n      @refs.component.removeEventListener 'click', @props.onClick\n\n  _tick: ->\n    start = Date.now()\n    @_timeoutIds.push(setTimeout ( =>\n      duration = (Date.now() - start) / 1000\n      @_seconds -= duration\n\n      if @_seconds <= 0\n        @_seconds = 0\n        @_handleComplete()\n        @_clearTimer()\n      else\n        @_updateCanvas()\n        @_tick()\n    ), @_tickPeriod)\n\n  _handleComplete: ->\n    if @props.onComplete\n      @props.onComplete()\n\n  _clearBackground: ->\n    @_background.clearRect 0, 0, @refs.timer.width, @refs.timer.height\n\n  _clearTimer: ->\n    if @refs.timer?\n      @_timer.clearRect 0, 0, @refs.timer.width, @refs.timer.height\n\n  _drawBackground: ->\n    @_clearBackground()\n    @_background.beginPath()\n    @_background.globalAlpha = @props.alpha / 3\n    @_background.fillStyle = @props.color\n    @_background.arc @_radius, @_radius,      @_radius,           0, Math.PI * 2, false\n    @_background.arc @_radius, @_radius, @_innerRadius, Math.PI * 2,           0, true\n    @_background.closePath()\n    @_background.fill()\n\n  _formattedTime: ->\n    decimals = (@_seconds < 10 && @props.showMilliseconds) ? 1 : 0\n\n    if @props.timeFormat == 'hms'\n      hours   = parseInt( @_seconds / 3600 ) % 24\n      minutes = parseInt( @_seconds / 60 ) % 60\n\n      if decimals\n        seconds = ((Math.floor(@_seconds * 10) / 10)).toFixed(decimals)\n      else\n        seconds = Math.floor(@_seconds % 60)\n\n      hoursStr = \"#{hours}\"\n      minutesStr = \"#{minutes}\"\n      secondsStr = \"#{seconds}\"\n\n      hoursStr   = \"0#{hours}\" if hours < 10\n      minutesStr = \"0#{minutes}\" if minutes < 10 && hours >= 1\n      secondsStr = \"0#{seconds}\" if seconds < 10 && (minutes >= 1 || hours >= 1)\n\n      timeParts = []\n      timeParts.push hoursStr if hours > 0\n      timeParts.push minutesStr if minutes > 0 || hours > 0\n      timeParts.push secondsStr\n\n      timeParts.join ':'\n    else\n      (Math.floor(@_seconds * 10) / 10).toFixed(decimals)\n\n  _fontSize: (timeString) ->\n    if @props.fontSize == 'auto'\n      scale = switch timeString.length\n        when 8 then 4 # hh:mm:ss\n        when 5 then 3 # mm:ss\n        else 2        # ss or ss.s\n      size = @_radius / scale\n      \"#{size}px\"\n    else\n      @props.fontSize\n\n  _drawTimer: ->\n    percent = @_fraction * @_seconds + 1.5\n    formattedTime = @_formattedTime()\n    text = if (@props.paused && @props.pausedText?) then @props.pausedText else formattedTime\n\n    # Timer\n    @_timer.globalAlpha = @props.alpha\n    @_timer.fillStyle = @props.color\n    @_timer.font = \"bold #{@_fontSize(formattedTime)} #{@props.font}\"\n    @_timer.fillText text, @_radius, @_radius\n    @_timer.beginPath()\n    @_timer.arc @_radius, @_radius, @_radius,      Math.PI * 1.5,     Math.PI * percent, false\n    @_timer.arc @_radius, @_radius, @_innerRadius, Math.PI * percent, Math.PI * 1.5,     true\n    @_timer.closePath()\n    @_timer.fill()\n\n  render: ->\n    canvasStyle = { position: 'absolute', width: @props.size, height: @props.size }\n    canvasProps = { style: canvasStyle, height: @props.size * @_scale, width: @props.size * @_scale }\n\n    React.createElement(\"div\", {\"ref\": 'component', \"className\": \"react-countdown-clock\", \"style\": (width: @props.size, height: @props.size)},\n      React.createElement(\"canvas\", Object.assign({\"ref\": 'background'}, canvasProps)),\n      React.createElement(\"canvas\", Object.assign({\"ref\": 'timer'}, canvasProps))\n    )\n\nReactCountdownClock.propTypes =\n  seconds: PropTypes.number\n  size: PropTypes.number\n  weight: PropTypes.number\n  color: PropTypes.string\n  fontSize: PropTypes.string\n  font: PropTypes.string\n  alpha: PropTypes.number\n  timeFormat: PropTypes.string\n  onComplete: PropTypes.func\n  onClick: PropTypes.func\n  showMilliseconds: PropTypes.bool\n  paused: PropTypes.bool\n  pausedText: PropTypes.string\n\nReactCountdownClock.defaultProps =\n  seconds: 60\n  size: 300\n  color: '#000'\n  alpha: 1\n  timeFormat: 'hms'\n  fontSize: 'auto'\n  font: 'Arial'\n  showMilliseconds: true\n  paused: false\n\nmodule.exports = ReactCountdownClock\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\n// -- Inlined from fbjs --\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction _invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nvar warning = function(){};\n\nif (process.env.NODE_ENV !== 'production') {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\n// /-- Inlined from fbjs --\n\nvar MIXINS_KEY = 'mixins';\n\n// Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\nfunction identity(fn) {\n  return fn;\n}\n\nvar ReactPropTypeLocationNames;\nif (process.env.NODE_ENV !== 'production') {\n  ReactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context'\n  };\n} else {\n  ReactPropTypeLocationNames = {};\n}\n\nfunction factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {\n  /**\n   * Policies that describe methods in `ReactClassInterface`.\n   */\n\n  var injectedMixins = [];\n\n  /**\n   * Composite components are higher-level components that compose other composite\n   * or host components.\n   *\n   * To create a new type of `ReactClass`, pass a specification of\n   * your new class to `React.createClass`. The only requirement of your class\n   * specification is that you implement a `render` method.\n   *\n   *   var MyComponent = React.createClass({\n   *     render: function() {\n   *       return <div>Hello World</div>;\n   *     }\n   *   });\n   *\n   * The class specification supports a specific protocol of methods that have\n   * special meaning (e.g. `render`). See `ReactClassInterface` for\n   * more the comprehensive protocol. Any other properties and methods in the\n   * class specification will be available on the prototype.\n   *\n   * @interface ReactClassInterface\n   * @internal\n   */\n  var ReactClassInterface = {\n    /**\n     * An array of Mixin objects to include when defining your component.\n     *\n     * @type {array}\n     * @optional\n     */\n    mixins: 'DEFINE_MANY',\n\n    /**\n     * An object containing properties and methods that should be defined on\n     * the component's constructor instead of its prototype (static methods).\n     *\n     * @type {object}\n     * @optional\n     */\n    statics: 'DEFINE_MANY',\n\n    /**\n     * Definition of prop types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    propTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    contextTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types this component sets for its children.\n     *\n     * @type {object}\n     * @optional\n     */\n    childContextTypes: 'DEFINE_MANY',\n\n    // ==== Definition methods ====\n\n    /**\n     * Invoked when the component is mounted. Values in the mapping will be set on\n     * `this.props` if that prop is not specified (i.e. using an `in` check).\n     *\n     * This method is invoked before `getInitialState` and therefore cannot rely\n     * on `this.state` or use `this.setState`.\n     *\n     * @return {object}\n     * @optional\n     */\n    getDefaultProps: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Invoked once before the component is mounted. The return value will be used\n     * as the initial value of `this.state`.\n     *\n     *   getInitialState: function() {\n     *     return {\n     *       isOn: false,\n     *       fooBaz: new BazFoo()\n     *     }\n     *   }\n     *\n     * @return {object}\n     * @optional\n     */\n    getInitialState: 'DEFINE_MANY_MERGED',\n\n    /**\n     * @return {object}\n     * @optional\n     */\n    getChildContext: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Uses props from `this.props` and state from `this.state` to render the\n     * structure of the component.\n     *\n     * No guarantees are made about when or how often this method is invoked, so\n     * it must not have side effects.\n     *\n     *   render: function() {\n     *     var name = this.props.name;\n     *     return <div>Hello, {name}!</div>;\n     *   }\n     *\n     * @return {ReactComponent}\n     * @required\n     */\n    render: 'DEFINE_ONCE',\n\n    // ==== Delegate methods ====\n\n    /**\n     * Invoked when the component is initially created and about to be mounted.\n     * This may have side effects, but any external subscriptions or data created\n     * by this method must be cleaned up in `componentWillUnmount`.\n     *\n     * @optional\n     */\n    componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component has been mounted and has a DOM representation.\n     * However, there is no guarantee that the DOM node is in the document.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been mounted (initialized and rendered) for the first time.\n     *\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked before the component receives new props.\n     *\n     * Use this as an opportunity to react to a prop transition by updating the\n     * state using `this.setState`. Current props are accessed via `this.props`.\n     *\n     *   componentWillReceiveProps: function(nextProps, nextContext) {\n     *     this.setState({\n     *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n     *     });\n     *   }\n     *\n     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n     * transition may cause a state change, but the opposite is not true. If you\n     * need it, you are probably looking for `componentWillUpdate`.\n     *\n     * @param {object} nextProps\n     * @optional\n     */\n    componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Invoked while deciding if the component should be updated as a result of\n     * receiving new props, state and/or context.\n     *\n     * Use this as an opportunity to `return false` when you're certain that the\n     * transition to the new props/state/context will not require a component\n     * update.\n     *\n     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n     *     return !equal(nextProps, this.props) ||\n     *       !equal(nextState, this.state) ||\n     *       !equal(nextContext, this.context);\n     *   }\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @return {boolean} True if the component should update.\n     * @optional\n     */\n    shouldComponentUpdate: 'DEFINE_ONCE',\n\n    /**\n     * Invoked when the component is about to update due to a transition from\n     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n     * and `nextContext`.\n     *\n     * Use this as an opportunity to perform preparation before an update occurs.\n     *\n     * NOTE: You **cannot** use `this.setState()` in this method.\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @param {ReactReconcileTransaction} transaction\n     * @optional\n     */\n    componentWillUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component's DOM representation has been updated.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been updated.\n     *\n     * @param {object} prevProps\n     * @param {?object} prevState\n     * @param {?object} prevContext\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component is about to be removed from its parent and have\n     * its DOM representation destroyed.\n     *\n     * Use this as an opportunity to deallocate any external resources.\n     *\n     * NOTE: There is no `componentDidUnmount` since your component will have been\n     * destroyed by that point.\n     *\n     * @optional\n     */\n    componentWillUnmount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillMount`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillReceiveProps`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Replacement for (deprecated) `componentWillUpdate`.\n     *\n     * @optional\n     */\n    UNSAFE_componentWillUpdate: 'DEFINE_MANY',\n\n    // ==== Advanced methods ====\n\n    /**\n     * Updates the component's currently mounted DOM representation.\n     *\n     * By default, this implements React's rendering and reconciliation algorithm.\n     * Sophisticated clients may wish to override this.\n     *\n     * @param {ReactReconcileTransaction} transaction\n     * @internal\n     * @overridable\n     */\n    updateComponent: 'OVERRIDE_BASE'\n  };\n\n  /**\n   * Similar to ReactClassInterface but for static methods.\n   */\n  var ReactClassStaticInterface = {\n    /**\n     * This method is invoked after a component is instantiated and when it\n     * receives new props. Return an object to update state in response to\n     * prop changes. Return null to indicate no change to state.\n     *\n     * If an object is returned, its keys will be merged into the existing state.\n     *\n     * @return {object || null}\n     * @optional\n     */\n    getDerivedStateFromProps: 'DEFINE_MANY_MERGED'\n  };\n\n  /**\n   * Mapping from class specification keys to special processing functions.\n   *\n   * Although these are declared like instance properties in the specification\n   * when defining classes using `React.createClass`, they are actually static\n   * and are accessible on the constructor instead of the prototype. Despite\n   * being static, they must be defined outside of the \"statics\" key under\n   * which all other static methods are defined.\n   */\n  var RESERVED_SPEC_KEYS = {\n    displayName: function(Constructor, displayName) {\n      Constructor.displayName = displayName;\n    },\n    mixins: function(Constructor, mixins) {\n      if (mixins) {\n        for (var i = 0; i < mixins.length; i++) {\n          mixSpecIntoComponent(Constructor, mixins[i]);\n        }\n      }\n    },\n    childContextTypes: function(Constructor, childContextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, childContextTypes, 'childContext');\n      }\n      Constructor.childContextTypes = _assign(\n        {},\n        Constructor.childContextTypes,\n        childContextTypes\n      );\n    },\n    contextTypes: function(Constructor, contextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, contextTypes, 'context');\n      }\n      Constructor.contextTypes = _assign(\n        {},\n        Constructor.contextTypes,\n        contextTypes\n      );\n    },\n    /**\n     * Special case getDefaultProps which should move into statics but requires\n     * automatic merging.\n     */\n    getDefaultProps: function(Constructor, getDefaultProps) {\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps = createMergedResultFunction(\n          Constructor.getDefaultProps,\n          getDefaultProps\n        );\n      } else {\n        Constructor.getDefaultProps = getDefaultProps;\n      }\n    },\n    propTypes: function(Constructor, propTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, propTypes, 'prop');\n      }\n      Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);\n    },\n    statics: function(Constructor, statics) {\n      mixStaticSpecIntoComponent(Constructor, statics);\n    },\n    autobind: function() {}\n  };\n\n  function validateTypeDef(Constructor, typeDef, location) {\n    for (var propName in typeDef) {\n      if (typeDef.hasOwnProperty(propName)) {\n        // use a warning instead of an _invariant so components\n        // don't show up in prod but only in __DEV__\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            typeof typeDef[propName] === 'function',\n            '%s: %s type `%s` is invalid; it must be a function, usually from ' +\n              'React.PropTypes.',\n            Constructor.displayName || 'ReactClass',\n            ReactPropTypeLocationNames[location],\n            propName\n          );\n        }\n      }\n    }\n  }\n\n  function validateMethodOverride(isAlreadyDefined, name) {\n    var specPolicy = ReactClassInterface.hasOwnProperty(name)\n      ? ReactClassInterface[name]\n      : null;\n\n    // Disallow overriding of base class methods unless explicitly allowed.\n    if (ReactClassMixin.hasOwnProperty(name)) {\n      _invariant(\n        specPolicy === 'OVERRIDE_BASE',\n        'ReactClassInterface: You are attempting to override ' +\n          '`%s` from your class specification. Ensure that your method names ' +\n          'do not overlap with React methods.',\n        name\n      );\n    }\n\n    // Disallow defining methods more than once unless explicitly allowed.\n    if (isAlreadyDefined) {\n      _invariant(\n        specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED',\n        'ReactClassInterface: You are attempting to define ' +\n          '`%s` on your component more than once. This conflict may be due ' +\n          'to a mixin.',\n        name\n      );\n    }\n  }\n\n  /**\n   * Mixin helper which handles policy validation and reserved\n   * specification keys when building React classes.\n   */\n  function mixSpecIntoComponent(Constructor, spec) {\n    if (!spec) {\n      if (process.env.NODE_ENV !== 'production') {\n        var typeofSpec = typeof spec;\n        var isMixinValid = typeofSpec === 'object' && spec !== null;\n\n        if (process.env.NODE_ENV !== 'production') {\n          warning(\n            isMixinValid,\n            \"%s: You're attempting to include a mixin that is either null \" +\n              'or not an object. Check the mixins included by the component, ' +\n              'as well as any mixins they include themselves. ' +\n              'Expected object but got %s.',\n            Constructor.displayName || 'ReactClass',\n            spec === null ? null : typeofSpec\n          );\n        }\n      }\n\n      return;\n    }\n\n    _invariant(\n      typeof spec !== 'function',\n      \"ReactClass: You're attempting to \" +\n        'use a component class or function as a mixin. Instead, just use a ' +\n        'regular object.'\n    );\n    _invariant(\n      !isValidElement(spec),\n      \"ReactClass: You're attempting to \" +\n        'use a component as a mixin. Instead, just use a regular object.'\n    );\n\n    var proto = Constructor.prototype;\n    var autoBindPairs = proto.__reactAutoBindPairs;\n\n    // By handling mixins before any other properties, we ensure the same\n    // chaining order is applied to methods with DEFINE_MANY policy, whether\n    // mixins are listed before or after these methods in the spec.\n    if (spec.hasOwnProperty(MIXINS_KEY)) {\n      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n    }\n\n    for (var name in spec) {\n      if (!spec.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (name === MIXINS_KEY) {\n        // We have already handled mixins in a special case above.\n        continue;\n      }\n\n      var property = spec[name];\n      var isAlreadyDefined = proto.hasOwnProperty(name);\n      validateMethodOverride(isAlreadyDefined, name);\n\n      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n        RESERVED_SPEC_KEYS[name](Constructor, property);\n      } else {\n        // Setup methods on prototype:\n        // The following member methods should not be automatically bound:\n        // 1. Expected ReactClass methods (in the \"interface\").\n        // 2. Overridden methods (that were mixed in).\n        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n        var isFunction = typeof property === 'function';\n        var shouldAutoBind =\n          isFunction &&\n          !isReactClassMethod &&\n          !isAlreadyDefined &&\n          spec.autobind !== false;\n\n        if (shouldAutoBind) {\n          autoBindPairs.push(name, property);\n          proto[name] = property;\n        } else {\n          if (isAlreadyDefined) {\n            var specPolicy = ReactClassInterface[name];\n\n            // These cases should already be caught by validateMethodOverride.\n            _invariant(\n              isReactClassMethod &&\n                (specPolicy === 'DEFINE_MANY_MERGED' ||\n                  specPolicy === 'DEFINE_MANY'),\n              'ReactClass: Unexpected spec policy %s for key %s ' +\n                'when mixing in component specs.',\n              specPolicy,\n              name\n            );\n\n            // For methods which are defined more than once, call the existing\n            // methods before calling the new property, merging if appropriate.\n            if (specPolicy === 'DEFINE_MANY_MERGED') {\n              proto[name] = createMergedResultFunction(proto[name], property);\n            } else if (specPolicy === 'DEFINE_MANY') {\n              proto[name] = createChainedFunction(proto[name], property);\n            }\n          } else {\n            proto[name] = property;\n            if (process.env.NODE_ENV !== 'production') {\n              // Add verbose displayName to the function, which helps when looking\n              // at profiling tools.\n              if (typeof property === 'function' && spec.displayName) {\n                proto[name].displayName = spec.displayName + '_' + name;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function mixStaticSpecIntoComponent(Constructor, statics) {\n    if (!statics) {\n      return;\n    }\n\n    for (var name in statics) {\n      var property = statics[name];\n      if (!statics.hasOwnProperty(name)) {\n        continue;\n      }\n\n      var isReserved = name in RESERVED_SPEC_KEYS;\n      _invariant(\n        !isReserved,\n        'ReactClass: You are attempting to define a reserved ' +\n          'property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it ' +\n          'as an instance property instead; it will still be accessible on the ' +\n          'constructor.',\n        name\n      );\n\n      var isAlreadyDefined = name in Constructor;\n      if (isAlreadyDefined) {\n        var specPolicy = ReactClassStaticInterface.hasOwnProperty(name)\n          ? ReactClassStaticInterface[name]\n          : null;\n\n        _invariant(\n          specPolicy === 'DEFINE_MANY_MERGED',\n          'ReactClass: You are attempting to define ' +\n            '`%s` on your component more than once. This conflict may be ' +\n            'due to a mixin.',\n          name\n        );\n\n        Constructor[name] = createMergedResultFunction(Constructor[name], property);\n\n        return;\n      }\n\n      Constructor[name] = property;\n    }\n  }\n\n  /**\n   * Merge two objects, but throw if both contain the same key.\n   *\n   * @param {object} one The first object, which is mutated.\n   * @param {object} two The second object\n   * @return {object} one after it has been mutated to contain everything in two.\n   */\n  function mergeIntoWithNoDuplicateKeys(one, two) {\n    _invariant(\n      one && two && typeof one === 'object' && typeof two === 'object',\n      'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'\n    );\n\n    for (var key in two) {\n      if (two.hasOwnProperty(key)) {\n        _invariant(\n          one[key] === undefined,\n          'mergeIntoWithNoDuplicateKeys(): ' +\n            'Tried to merge two objects with the same key: `%s`. This conflict ' +\n            'may be due to a mixin; in particular, this may be caused by two ' +\n            'getInitialState() or getDefaultProps() methods returning objects ' +\n            'with clashing keys.',\n          key\n        );\n        one[key] = two[key];\n      }\n    }\n    return one;\n  }\n\n  /**\n   * Creates a function that invokes two functions and merges their return values.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createMergedResultFunction(one, two) {\n    return function mergedResult() {\n      var a = one.apply(this, arguments);\n      var b = two.apply(this, arguments);\n      if (a == null) {\n        return b;\n      } else if (b == null) {\n        return a;\n      }\n      var c = {};\n      mergeIntoWithNoDuplicateKeys(c, a);\n      mergeIntoWithNoDuplicateKeys(c, b);\n      return c;\n    };\n  }\n\n  /**\n   * Creates a function that invokes two functions and ignores their return vales.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createChainedFunction(one, two) {\n    return function chainedFunction() {\n      one.apply(this, arguments);\n      two.apply(this, arguments);\n    };\n  }\n\n  /**\n   * Binds a method to the component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   * @param {function} method Method to be bound.\n   * @return {function} The bound method.\n   */\n  function bindAutoBindMethod(component, method) {\n    var boundMethod = method.bind(component);\n    if (process.env.NODE_ENV !== 'production') {\n      boundMethod.__reactBoundContext = component;\n      boundMethod.__reactBoundMethod = method;\n      boundMethod.__reactBoundArguments = null;\n      var componentName = component.constructor.displayName;\n      var _bind = boundMethod.bind;\n      boundMethod.bind = function(newThis) {\n        for (\n          var _len = arguments.length,\n            args = Array(_len > 1 ? _len - 1 : 0),\n            _key = 1;\n          _key < _len;\n          _key++\n        ) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        // User is trying to bind() an autobound method; we effectively will\n        // ignore the value of \"this\" that the user is trying to use, so\n        // let's warn.\n        if (newThis !== component && newThis !== null) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): React component methods may only be bound to the ' +\n                'component instance. See %s',\n              componentName\n            );\n          }\n        } else if (!args.length) {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(\n              false,\n              'bind(): You are binding a component method to the component. ' +\n                'React does this for you automatically in a high-performance ' +\n                'way, so you can safely remove this call. See %s',\n              componentName\n            );\n          }\n          return boundMethod;\n        }\n        var reboundMethod = _bind.apply(boundMethod, arguments);\n        reboundMethod.__reactBoundContext = component;\n        reboundMethod.__reactBoundMethod = method;\n        reboundMethod.__reactBoundArguments = args;\n        return reboundMethod;\n      };\n    }\n    return boundMethod;\n  }\n\n  /**\n   * Binds all auto-bound methods in a component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   */\n  function bindAutoBindMethods(component) {\n    var pairs = component.__reactAutoBindPairs;\n    for (var i = 0; i < pairs.length; i += 2) {\n      var autoBindKey = pairs[i];\n      var method = pairs[i + 1];\n      component[autoBindKey] = bindAutoBindMethod(component, method);\n    }\n  }\n\n  var IsMountedPreMixin = {\n    componentDidMount: function() {\n      this.__isMounted = true;\n    }\n  };\n\n  var IsMountedPostMixin = {\n    componentWillUnmount: function() {\n      this.__isMounted = false;\n    }\n  };\n\n  /**\n   * Add more to the ReactClass base class. These are all legacy features and\n   * therefore not already part of the modern ReactComponent.\n   */\n  var ReactClassMixin = {\n    /**\n     * TODO: This will be deprecated because state should always keep a consistent\n     * type signature and the only use case for this, is to avoid that.\n     */\n    replaceState: function(newState, callback) {\n      this.updater.enqueueReplaceState(this, newState, callback);\n    },\n\n    /**\n     * Checks whether or not this composite component is mounted.\n     * @return {boolean} True if mounted, false otherwise.\n     * @protected\n     * @final\n     */\n    isMounted: function() {\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this.__didWarnIsMounted,\n          '%s: isMounted is deprecated. Instead, make sure to clean up ' +\n            'subscriptions and pending requests in componentWillUnmount to ' +\n            'prevent memory leaks.',\n          (this.constructor && this.constructor.displayName) ||\n            this.name ||\n            'Component'\n        );\n        this.__didWarnIsMounted = true;\n      }\n      return !!this.__isMounted;\n    }\n  };\n\n  var ReactClassComponent = function() {};\n  _assign(\n    ReactClassComponent.prototype,\n    ReactComponent.prototype,\n    ReactClassMixin\n  );\n\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n  function createClass(spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function(props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n\n      if (process.env.NODE_ENV !== 'production') {\n        warning(\n          this instanceof Constructor,\n          'Something is calling a React component directly. Use a factory or ' +\n            'JSX instead. See: https://fb.me/react-legacyfactory'\n        );\n      }\n\n      // Wire up auto-binding\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n\n      this.state = null;\n\n      // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n      if (process.env.NODE_ENV !== 'production') {\n        // We allow auto-mocks to proceed as if they're returning null.\n        if (\n          initialState === undefined &&\n          this.getInitialState._isMockFunction\n        ) {\n          // This is probably bad practice. Consider warning here and\n          // deprecating this convenience.\n          initialState = null;\n        }\n      }\n      _invariant(\n        typeof initialState === 'object' && !Array.isArray(initialState),\n        '%s.getInitialState(): must return an object or null',\n        Constructor.displayName || 'ReactCompositeComponent'\n      );\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n\n    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));\n\n    mixSpecIntoComponent(Constructor, IsMountedPreMixin);\n    mixSpecIntoComponent(Constructor, spec);\n    mixSpecIntoComponent(Constructor, IsMountedPostMixin);\n\n    // Initialize the defaultProps property after all mixins have been merged.\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This is a tag to indicate that the use of these method names is ok,\n      // since it's used with createClass. If it's not, then it's likely a\n      // mistake so we'll warn you to use the static property, property\n      // initializer or constructor respectively.\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps.isReactClassApproved = {};\n      }\n      if (Constructor.prototype.getInitialState) {\n        Constructor.prototype.getInitialState.isReactClassApproved = {};\n      }\n    }\n\n    _invariant(\n      Constructor.prototype.render,\n      'createClass(...): Class specification must implement a `render` method.'\n    );\n\n    if (process.env.NODE_ENV !== 'production') {\n      warning(\n        !Constructor.prototype.componentShouldUpdate,\n        '%s has a method called ' +\n          'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +\n          'The name is phrased as a question because the function is ' +\n          'expected to return a value.',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.componentWillRecieveProps,\n        '%s has a method called ' +\n          'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n      warning(\n        !Constructor.prototype.UNSAFE_componentWillRecieveProps,\n        '%s has a method called UNSAFE_componentWillRecieveProps(). ' +\n          'Did you mean UNSAFE_componentWillReceiveProps()?',\n        spec.displayName || 'A component'\n      );\n    }\n\n    // Reduce time spent doing lookups by setting these on the prototype.\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  }\n\n  return createClass;\n}\n\nmodule.exports = factory;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar React = require('react');\nvar factory = require('./factory');\n\nif (typeof React === 'undefined') {\n  throw Error(\n    'create-react-class could not find the React object. If you are using script tags, ' +\n      'make sure that React is being loaded before create-react-class.'\n  );\n}\n\n// Hack to grab NoopUpdateQueue from isomorphic React\nvar ReactNoopUpdateQueue = new React.Component().updater;\n\nmodule.exports = factory(\n  React.Component,\n  React.isValidElement,\n  ReactNoopUpdateQueue\n);\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__427__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(632);\n","import * as CodeMirror from 'codemirror';\nimport 'codemirror/mode/markdown/markdown';\nimport React, { Component } from 'react';\nimport { DomEvent, IDefineModeOptions, IEventDict, IGetSelectionOptions, IInstance, ISetScrollOptions, ISetSelectionOptions } from '../../common/codemirror';\nimport './codemirror.less';\nimport './index.less';\n\ndeclare let global: any;\ndeclare let require: any;\n\nconst SERVER_RENDERED = (typeof navigator === 'undefined' || global.PREVENT_CODEMIRROR_RENDER === true);\n\nlet cm: any;\nif (!SERVER_RENDERED) {\n  // tslint:disable-next-line: no-var-requires\n  cm = require('codemirror');\n}\n\nexport interface ICodeMirror {\n  value?: string,\n  width?: number | string,\n  height?: number | string,\n  className?: string;\n  cursor?: CodeMirror.Position;\n  defineMode?: IDefineModeOptions;\n  editorDidConfigure?: (editor: IInstance) => void;\n  editorDidMount?: (editor: IInstance, value: string, cb: () => void) => void;\n  editorWillMount?: () => void;\n  editorWillUnmount?: (lib: any) => void;\n  onClear?: (from: CodeMirror.Position, to: CodeMirror.Position) => void;\n  onBlur?: DomEvent;\n  onChange?: (editor: IInstance, data: CodeMirror.EditorChange, value: string) => void;\n  onContextMenu?: DomEvent;\n  onCopy?: DomEvent;\n  onCursor?: (editor: IInstance, data: CodeMirror.Position) => void;\n  onCut?: DomEvent;\n  onCursorActivity?: (editor: IInstance) => void;\n  onDblClick?: DomEvent;\n  onDragEnter?: DomEvent;\n  onDragLeave?: DomEvent;\n  onDragOver?: DomEvent\n  onDragStart?: DomEvent;\n  onDrop?: DomEvent;\n  onFocus?: DomEvent\n  onGutterClick?: (editor: IInstance, lineNumber: number, gutter: string, event: Event) => void;\n  onKeyDown?: DomEvent;\n  onKeyPress?: DomEvent;\n  onKeyUp?: DomEvent;\n  onMouseDown?: DomEvent;\n  onPaste?: DomEvent;\n  onRenderLine?: (editor: IInstance, line: CodeMirror.LineHandle, element: HTMLElement) => void;\n  onScroll?: (editor: IInstance, data: CodeMirror.ScrollInfo) => void;\n  onSelection?: (editor: IInstance, data: IGetSelectionOptions) => void;\n  onTouchStart?: DomEvent;\n  onUpdate?: (editor: IInstance) => void;\n  onViewportChange?: (editor: IInstance, start: number, end: number) => void;\n  options?: CodeMirror.EditorConfiguration\n  selection?: { ranges: ISetSelectionOptions[], focus?: boolean };\n  scroll?: ISetScrollOptions;\n  [key: string]: any,\n}\n\nexport interface ICodeMirrorState {\n  value: string;\n}\n\nexport default class ReactCodeMirror extends Component<ICodeMirror, ICodeMirrorState> {\n  public static defaultProps: ICodeMirror = {\n    height: '100%',\n    options: {\n      lineNumbers: true,\n      mode: 'markdown',\n      tabSize: 2,\n    },\n    value: '',\n    width: '100%',\n  }\n  public textarea!: HTMLTextAreaElement;\n  public editor!: CodeMirror.Editor;\n  // public editor!: Doc | Editor | EditorFromTextArea | Editor;\n  public constructor(props: Readonly<ICodeMirror>) {\n    super(props);\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    if (this.props.editorWillMount) {\n      this.props.editorWillMount();\n    }\n  }\n  public render() {\n    return (\n      <textarea ref={(instance: HTMLTextAreaElement) => this.textarea = instance} />\n    );\n  }\n\n  public componentDidMount() {\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    const { options } = this.props;\n    if (this.props.defineMode) {\n      if (this.props.defineMode.name && this.props.defineMode.fn) {\n        cm.defineMode(this.props.defineMode.name, this.props.defineMode.fn);\n      }\n    }\n\n    const editorOption = { tabSize: 2, lineNumbers: true, ...options, mode: 'markdown' };\n    // codemirror\n    this.editor = cm.fromTextArea(this.textarea, editorOption) as CodeMirror.EditorFromTextArea;\n    this.renderCodeMirror(this.props);\n  }\n\n  componentDidUpdate(prevProps: ICodeMirror) {\n    const { value, width, height } = this.props;\n    if (this.editor.getValue() !== value && value !== prevProps.value) {\n      this.editor.setValue(value || '');\n    }\n    if (width !== prevProps.width || height !== prevProps.height) {\n      // Setting Size\n      this.editor.setSize(width, height);\n    }\n  }\n\n  public shouldComponentUpdate(nextProps: ICodeMirror, nextState: ICodeMirrorState) {\n    return nextProps.value !== this.props.value \n    || nextProps.options !== this.props.options\n    || nextProps.height !== this.props.height\n    || nextProps.width !== this.props.width;\n  }\n  //  props \n  public getEventHandleFromProps(): IEventDict {\n    const propNames = Object.keys(this.props);\n    const eventHandle = propNames.filter((prop) => {\n      return /^on+/.test(prop);\n    });\n\n    const eventDict: IEventDict = {};\n    eventHandle.forEach((ele) => {\n      eventDict[ele] = ele.replace(/^on[A-Z]/g, s => s.slice(2).toLowerCase()) as string;\n    });\n\n    return eventDict;\n  }\n\n  private renderCodeMirror(props: ICodeMirror) {\n    const { value, width, height } = props;\n    // CodeMirror\n    // \n    const eventDict = this.getEventHandleFromProps();\n    Object.keys(eventDict).forEach((event: string) => {\n      const handle = this.props[event];\n      this.editor.on(eventDict[event], handle);\n    });\n    // Init value\n    this.editor.setValue(value || '');\n    // this.editor.setOption(name, editorOption.mode);\n\n    if (width || height) {\n      // Setting size\n      this.editor.setSize(width, height);\n    }\n  }\n}","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","'use strict';\n\nvar xtend = require('xtend');\n\nvar unified = require('unified');\n\nvar parse = require('remark-parse');\n\nvar PropTypes = require('prop-types');\n\nvar addListMetadata = require('mdast-add-list-metadata');\n\nvar naiveHtml = require('./plugins/naive-html');\n\nvar disallowNode = require('./plugins/disallow-node');\n\nvar astToReact = require('./ast-to-react');\n\nvar wrapTableRows = require('./wrap-table-rows');\n\nvar getDefinitions = require('./get-definitions');\n\nvar uriTransformer = require('./uri-transformer');\n\nvar defaultRenderers = require('./renderers');\n\nvar symbols = require('./symbols');\n\nvar allTypes = Object.keys(defaultRenderers);\n\nvar ReactMarkdown = function ReactMarkdown(props) {\n  // To do in next major: remove `source`.\n  var src = props.source || props.children || '';\n\n  if (props.allowedTypes && props.disallowedTypes) {\n    throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');\n  }\n\n  var renderers = xtend(defaultRenderers, props.renderers);\n  var processor = unified().use(parse).use(props.plugins || []); // eslint-disable-next-line no-sync\n\n  var tree = processor.runSync(processor.parse(src));\n  var renderProps = xtend(props, {\n    renderers: renderers,\n    definitions: getDefinitions(tree)\n  });\n  determineAstToReactTransforms(props).forEach(function (transform) {\n    tree = transform(tree, renderProps);\n  });\n  return tree;\n};\n\nfunction determineAstToReactTransforms(props) {\n  var transforms = [wrapTableRows, addListMetadata()];\n  var disallowedTypes = props.disallowedTypes;\n\n  if (props.allowedTypes) {\n    disallowedTypes = allTypes.filter(function (type) {\n      return type !== 'root' && props.allowedTypes.indexOf(type) === -1;\n    });\n  }\n\n  var removalMethod = props.unwrapDisallowed ? 'unwrap' : 'remove';\n\n  if (disallowedTypes && disallowedTypes.length > 0) {\n    transforms.push(disallowNode.ofType(disallowedTypes, removalMethod));\n  }\n\n  if (props.allowNode) {\n    transforms.push(disallowNode.ifNotMatch(props.allowNode, removalMethod));\n  } // To do in next major: remove `escapeHtml`.\n\n\n  var renderHtml = (props.allowDangerousHtml || props.escapeHtml === false) && !props.skipHtml;\n  var hasHtmlParser = (props.astPlugins || []).some(function (transform) {\n    return transform.identity === symbols.HtmlParser;\n  });\n\n  if (renderHtml && !hasHtmlParser) {\n    transforms.push(naiveHtml);\n  }\n\n  if (props.astPlugins) {\n    transforms = transforms.concat(props.astPlugins);\n  } // Add the final transform to turn everything into React.\n\n\n  transforms.push(astToReact);\n  return transforms;\n}\n\nReactMarkdown.defaultProps = {\n  transformLinkUri: uriTransformer\n};\nReactMarkdown.propTypes = {\n  className: PropTypes.string,\n  source: PropTypes.string,\n  children: PropTypes.string,\n  sourcePos: PropTypes.bool,\n  rawSourcePos: PropTypes.bool,\n  escapeHtml: PropTypes.bool,\n  allowDangerousHtml: PropTypes.bool,\n  skipHtml: PropTypes.bool,\n  allowNode: PropTypes.func,\n  allowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  disallowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  transformLinkUri: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  linkTarget: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transformImageUri: PropTypes.func,\n  astPlugins: PropTypes.arrayOf(PropTypes.func),\n  unwrapDisallowed: PropTypes.bool,\n  renderers: PropTypes.object,\n  plugins: PropTypes.array\n};\nReactMarkdown.types = allTypes;\nReactMarkdown.renderers = defaultRenderers;\nReactMarkdown.uriTransformer = uriTransformer;\nmodule.exports = ReactMarkdown;","'use strict'\n\nvar bail = require('bail')\nvar buffer = require('is-buffer')\nvar extend = require('extend')\nvar plain = require('is-plain-obj')\nvar trough = require('trough')\nvar vfile = require('vfile')\n\n// Expose a frozen processor.\nmodule.exports = unified().freeze()\n\nvar slice = [].slice\nvar own = {}.hasOwnProperty\n\n// Process pipeline.\nvar pipeline = trough()\n  .use(pipelineParse)\n  .use(pipelineRun)\n  .use(pipelineStringify)\n\nfunction pipelineParse(p, ctx) {\n  ctx.tree = p.parse(ctx.file)\n}\n\nfunction pipelineRun(p, ctx, next) {\n  p.run(ctx.tree, ctx.file, done)\n\n  function done(error, tree, file) {\n    if (error) {\n      next(error)\n    } else {\n      ctx.tree = tree\n      ctx.file = file\n      next()\n    }\n  }\n}\n\nfunction pipelineStringify(p, ctx) {\n  var result = p.stringify(ctx.tree, ctx.file)\n\n  if (result === undefined || result === null) {\n    // Empty.\n  } else if (typeof result === 'string' || buffer(result)) {\n    ctx.file.contents = result\n  } else {\n    ctx.file.result = result\n  }\n}\n\n// Function to create the first processor.\nfunction unified() {\n  var attachers = []\n  var transformers = trough()\n  var namespace = {}\n  var freezeIndex = -1\n  var frozen\n\n  // Data management.\n  processor.data = data\n\n  // Lock.\n  processor.freeze = freeze\n\n  // Plugins.\n  processor.attachers = attachers\n  processor.use = use\n\n  // API.\n  processor.parse = parse\n  processor.stringify = stringify\n  processor.run = run\n  processor.runSync = runSync\n  processor.process = process\n  processor.processSync = processSync\n\n  // Expose.\n  return processor\n\n  // Create a new processor based on the processor in the current scope.\n  function processor() {\n    var destination = unified()\n    var index = -1\n\n    while (++index < attachers.length) {\n      destination.use.apply(null, attachers[index])\n    }\n\n    destination.data(extend(true, {}, namespace))\n\n    return destination\n  }\n\n  // Freeze: used to signal a processor that has finished configuration.\n  //\n  // For example, take unified itself: its frozen.\n  // Plugins should not be added to it.\n  // Rather, it should be extended, by invoking it, before modifying it.\n  //\n  // In essence, always invoke this when exporting a processor.\n  function freeze() {\n    var values\n    var transformer\n\n    if (frozen) {\n      return processor\n    }\n\n    while (++freezeIndex < attachers.length) {\n      values = attachers[freezeIndex]\n\n      if (values[1] === false) {\n        continue\n      }\n\n      if (values[1] === true) {\n        values[1] = undefined\n      }\n\n      transformer = values[0].apply(processor, values.slice(1))\n\n      if (typeof transformer === 'function') {\n        transformers.use(transformer)\n      }\n    }\n\n    frozen = true\n    freezeIndex = Infinity\n\n    return processor\n  }\n\n  // Data management.\n  // Getter / setter for processor-specific informtion.\n  function data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', frozen)\n        namespace[key] = value\n        return processor\n      }\n\n      // Get `key`.\n      return (own.call(namespace, key) && namespace[key]) || null\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', frozen)\n      namespace = key\n      return processor\n    }\n\n    // Get space.\n    return namespace\n  }\n\n  // Plugin management.\n  //\n  // Pass it:\n  // *   an attacher and options,\n  // *   a preset,\n  // *   a list of presets, attachers, and arguments (list of attachers and\n  //     options).\n  function use(value) {\n    var settings\n\n    assertUnfrozen('use', frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin.apply(null, arguments)\n    } else if (typeof value === 'object') {\n      if ('length' in value) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new Error('Expected usable value, not `' + value + '`')\n    }\n\n    if (settings) {\n      namespace.settings = extend(namespace.settings || {}, settings)\n    }\n\n    return processor\n\n    function addPreset(result) {\n      addList(result.plugins)\n\n      if (result.settings) {\n        settings = extend(settings || {}, result.settings)\n      }\n    }\n\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value)\n      } else if (typeof value === 'object') {\n        if ('length' in value) {\n          addPlugin.apply(null, value)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new Error('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    function addList(plugins) {\n      var index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (typeof plugins === 'object' && 'length' in plugins) {\n        while (++index < plugins.length) {\n          add(plugins[index])\n        }\n      } else {\n        throw new Error('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    function addPlugin(plugin, value) {\n      var entry = find(plugin)\n\n      if (entry) {\n        if (plain(entry[1]) && plain(value)) {\n          value = extend(true, entry[1], value)\n        }\n\n        entry[1] = value\n      } else {\n        attachers.push(slice.call(arguments))\n      }\n    }\n  }\n\n  function find(plugin) {\n    var index = -1\n\n    while (++index < attachers.length) {\n      if (attachers[index][0] === plugin) {\n        return attachers[index]\n      }\n    }\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor.\n  function parse(doc) {\n    var file = vfile(doc)\n    var Parser\n\n    freeze()\n    Parser = processor.Parser\n    assertParser('parse', Parser)\n\n    if (newable(Parser, 'parse')) {\n      return new Parser(String(file), file).parse()\n    }\n\n    return Parser(String(file), file) // eslint-disable-line new-cap\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), async.\n  function run(node, file, cb) {\n    assertNode(node)\n    freeze()\n\n    if (!cb && typeof file === 'function') {\n      cb = file\n      file = null\n    }\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      transformers.run(node, vfile(file), done)\n\n      function done(error, tree, file) {\n        tree = tree || node\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(tree)\n        } else {\n          cb(null, tree, file)\n        }\n      }\n    }\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), sync.\n  function runSync(node, file) {\n    var result\n    var complete\n\n    run(node, file, done)\n\n    assertDone('runSync', 'run', complete)\n\n    return result\n\n    function done(error, tree) {\n      complete = true\n      result = tree\n      bail(error)\n    }\n  }\n\n  // Stringify a unist node representation of a file (in string or vfile\n  // representation) into a string using the `Compiler` on the processor.\n  function stringify(node, doc) {\n    var file = vfile(doc)\n    var Compiler\n\n    freeze()\n    Compiler = processor.Compiler\n    assertCompiler('stringify', Compiler)\n    assertNode(node)\n\n    if (newable(Compiler, 'compile')) {\n      return new Compiler(node, file).compile()\n    }\n\n    return Compiler(node, file) // eslint-disable-line new-cap\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor, then run transforms on that node, and\n  // compile the resulting node using the `Compiler` on the processor, and\n  // store that result on the vfile.\n  function process(doc, cb) {\n    freeze()\n    assertParser('process', processor.Parser)\n    assertCompiler('process', processor.Compiler)\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      var file = vfile(doc)\n\n      pipeline.run(processor, {file: file}, done)\n\n      function done(error) {\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          cb(null, file)\n        }\n      }\n    }\n  }\n\n  // Process the given document (in string or vfile representation), sync.\n  function processSync(doc) {\n    var file\n    var complete\n\n    freeze()\n    assertParser('processSync', processor.Parser)\n    assertCompiler('processSync', processor.Compiler)\n    file = vfile(doc)\n\n    process(file, done)\n\n    assertDone('processSync', 'process', complete)\n\n    return file\n\n    function done(error) {\n      complete = true\n      bail(error)\n    }\n  }\n}\n\n// Check if `value` is a constructor.\nfunction newable(value, name) {\n  return (\n    typeof value === 'function' &&\n    value.prototype &&\n    // A function with keys in its prototype is probably a constructor.\n    // Classes prototype methods are not enumerable, so we check if some value\n    // exists in the prototype.\n    (keys(value.prototype) || name in value.prototype)\n  )\n}\n\n// Check if `value` is an object with keys.\nfunction keys(value) {\n  var key\n  for (key in value) {\n    return true\n  }\n\n  return false\n}\n\n// Assert a parser is available.\nfunction assertParser(name, Parser) {\n  if (typeof Parser !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Parser`')\n  }\n}\n\n// Assert a compiler is available.\nfunction assertCompiler(name, Compiler) {\n  if (typeof Compiler !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Compiler`')\n  }\n}\n\n// Assert the processor is not frozen.\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot invoke `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n// Assert `node` is a unist node.\nfunction assertNode(node) {\n  if (!node || typeof node.type !== 'string') {\n    throw new Error('Expected node, got `' + node + '`')\n  }\n}\n\n// Assert that `complete` is `true`.\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = bail\n\nfunction bail(err) {\n  if (err) {\n    throw err\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict'\n\nvar wrap = require('./wrap.js')\n\nmodule.exports = trough\n\ntrough.wrap = wrap\n\nvar slice = [].slice\n\n// Create new middleware.\nfunction trough() {\n  var fns = []\n  var middleware = {}\n\n  middleware.run = run\n  middleware.use = use\n\n  return middleware\n\n  // Run `fns`.  Last argument must be a completion handler.\n  function run() {\n    var index = -1\n    var input = slice.call(arguments, 0, -1)\n    var done = arguments[arguments.length - 1]\n\n    if (typeof done !== 'function') {\n      throw new Error('Expected function as last argument, not ' + done)\n    }\n\n    next.apply(null, [null].concat(input))\n\n    // Run the next `fn`, if any.\n    function next(err) {\n      var fn = fns[++index]\n      var params = slice.call(arguments, 0)\n      var values = params.slice(1)\n      var length = input.length\n      var pos = -1\n\n      if (err) {\n        done(err)\n        return\n      }\n\n      // Copy non-nully input into values.\n      while (++pos < length) {\n        if (values[pos] === null || values[pos] === undefined) {\n          values[pos] = input[pos]\n        }\n      }\n\n      input = values\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next).apply(null, input)\n      } else {\n        done.apply(null, [null].concat(input))\n      }\n    }\n  }\n\n  // Add `fn` to the list.\n  function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected `fn` to be a function, not ' + fn)\n    }\n\n    fns.push(fn)\n\n    return middleware\n  }\n}\n","'use strict'\n\nvar slice = [].slice\n\nmodule.exports = wrap\n\n// Wrap `fn`.\n// Can be sync or async; return a promise, receive a completion handler, return\n// new values and errors.\nfunction wrap(fn, callback) {\n  var invoked\n\n  return wrapped\n\n  function wrapped() {\n    var params = slice.call(arguments, 0)\n    var callback = fn.length > params.length\n    var result\n\n    if (callback) {\n      params.push(done)\n    }\n\n    try {\n      result = fn.apply(null, params)\n    } catch (error) {\n      // Well, this is quite the pickle.\n      // `fn` received a callback and invoked it (thus continuing the pipeline),\n      // but later also threw an error.\n      // Were not about to restart the pipeline again, so the only thing left\n      // to do is to throw the thing instead.\n      if (callback && invoked) {\n        throw error\n      }\n\n      return done(error)\n    }\n\n    if (!callback) {\n      if (result && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  // Invoke `next`, only once.\n  function done() {\n    if (!invoked) {\n      invoked = true\n\n      callback.apply(null, arguments)\n    }\n  }\n\n  // Invoke `done` with one value.\n  // Tracks if an error is passed, too.\n  function then(value) {\n    done(null, value)\n  }\n}\n","'use strict'\n\nmodule.exports = require('./lib')\n","'use strict'\n\nvar VMessage = require('vfile-message')\nvar VFile = require('./core.js')\n\nmodule.exports = VFile\n\nVFile.prototype.message = message\nVFile.prototype.info = info\nVFile.prototype.fail = fail\n\n// Create a message with `reason` at `position`.\n// When an error is passed in as `reason`, copies the stack.\nfunction message(reason, position, origin) {\n  var message = new VMessage(reason, position, origin)\n\n  if (this.path) {\n    message.name = this.path + ':' + message.name\n    message.file = this.path\n  }\n\n  message.fatal = false\n\n  this.messages.push(message)\n\n  return message\n}\n\n// Fail: creates a vmessage, associates it with the file, and throws it.\nfunction fail() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = true\n\n  throw message\n}\n\n// Info: creates a vmessage, associates it with the file, and marks the fatality\n// as null.\nfunction info() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = null\n\n  return message\n}\n","'use strict'\n\nvar stringify = require('unist-util-stringify-position')\n\nmodule.exports = VMessage\n\n// Inherit from `Error#`.\nfunction VMessagePrototype() {}\nVMessagePrototype.prototype = Error.prototype\nVMessage.prototype = new VMessagePrototype()\n\n// Message properties.\nvar proto = VMessage.prototype\n\nproto.file = ''\nproto.name = ''\nproto.reason = ''\nproto.message = ''\nproto.stack = ''\nproto.fatal = null\nproto.column = null\nproto.line = null\n\n// Construct a new VMessage.\n//\n// Note: We cannot invoke `Error` on the created context, as that adds readonly\n// `line` and `column` attributes on Safari 9, thus throwing and failing the\n// data.\nfunction VMessage(reason, position, origin) {\n  var parts\n  var range\n  var location\n\n  if (typeof position === 'string') {\n    origin = position\n    position = null\n  }\n\n  parts = parseOrigin(origin)\n  range = stringify(position) || '1:1'\n\n  location = {\n    start: {line: null, column: null},\n    end: {line: null, column: null}\n  }\n\n  // Node.\n  if (position && position.position) {\n    position = position.position\n  }\n\n  if (position) {\n    // Position.\n    if (position.start) {\n      location = position\n      position = position.start\n    } else {\n      // Point.\n      location.start = position\n    }\n  }\n\n  if (reason.stack) {\n    this.stack = reason.stack\n    reason = reason.message\n  }\n\n  this.message = reason\n  this.name = range\n  this.reason = reason\n  this.line = position ? position.line : null\n  this.column = position ? position.column : null\n  this.location = location\n  this.source = parts[0]\n  this.ruleId = parts[1]\n}\n\nfunction parseOrigin(origin) {\n  var result = [null, null]\n  var index\n\n  if (typeof origin === 'string') {\n    index = origin.indexOf(':')\n\n    if (index === -1) {\n      result[1] = origin\n    } else {\n      result[0] = origin.slice(0, index)\n      result[1] = origin.slice(index + 1)\n    }\n  }\n\n  return result\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","'use strict'\n\nvar p = require('./minpath')\nvar proc = require('./minproc')\nvar buffer = require('is-buffer')\n\nmodule.exports = VFile\n\nvar own = {}.hasOwnProperty\n\n// Order of setting (least specific to most), we need this because otherwise\n// `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n// stem can be set.\nvar order = ['history', 'path', 'basename', 'stem', 'extname', 'dirname']\n\nVFile.prototype.toString = toString\n\n// Access full path (`~/index.min.js`).\nObject.defineProperty(VFile.prototype, 'path', {get: getPath, set: setPath})\n\n// Access parent path (`~`).\nObject.defineProperty(VFile.prototype, 'dirname', {\n  get: getDirname,\n  set: setDirname\n})\n\n// Access basename (`index.min.js`).\nObject.defineProperty(VFile.prototype, 'basename', {\n  get: getBasename,\n  set: setBasename\n})\n\n// Access extname (`.js`).\nObject.defineProperty(VFile.prototype, 'extname', {\n  get: getExtname,\n  set: setExtname\n})\n\n// Access stem (`index.min`).\nObject.defineProperty(VFile.prototype, 'stem', {get: getStem, set: setStem})\n\n// Construct a new file.\nfunction VFile(options) {\n  var prop\n  var index\n\n  if (!options) {\n    options = {}\n  } else if (typeof options === 'string' || buffer(options)) {\n    options = {contents: options}\n  } else if ('message' in options && 'messages' in options) {\n    return options\n  }\n\n  if (!(this instanceof VFile)) {\n    return new VFile(options)\n  }\n\n  this.data = {}\n  this.messages = []\n  this.history = []\n  this.cwd = proc.cwd()\n\n  // Set path related properties in the correct order.\n  index = -1\n\n  while (++index < order.length) {\n    prop = order[index]\n\n    if (own.call(options, prop)) {\n      this[prop] = options[prop]\n    }\n  }\n\n  // Set non-path related properties.\n  for (prop in options) {\n    if (order.indexOf(prop) < 0) {\n      this[prop] = options[prop]\n    }\n  }\n}\n\nfunction getPath() {\n  return this.history[this.history.length - 1]\n}\n\nfunction setPath(path) {\n  assertNonEmpty(path, 'path')\n\n  if (this.path !== path) {\n    this.history.push(path)\n  }\n}\n\nfunction getDirname() {\n  return typeof this.path === 'string' ? p.dirname(this.path) : undefined\n}\n\nfunction setDirname(dirname) {\n  assertPath(this.path, 'dirname')\n  this.path = p.join(dirname || '', this.basename)\n}\n\nfunction getBasename() {\n  return typeof this.path === 'string' ? p.basename(this.path) : undefined\n}\n\nfunction setBasename(basename) {\n  assertNonEmpty(basename, 'basename')\n  assertPart(basename, 'basename')\n  this.path = p.join(this.dirname || '', basename)\n}\n\nfunction getExtname() {\n  return typeof this.path === 'string' ? p.extname(this.path) : undefined\n}\n\nfunction setExtname(extname) {\n  assertPart(extname, 'extname')\n  assertPath(this.path, 'extname')\n\n  if (extname) {\n    if (extname.charCodeAt(0) !== 46 /* `.` */) {\n      throw new Error('`extname` must start with `.`')\n    }\n\n    if (extname.indexOf('.', 1) > -1) {\n      throw new Error('`extname` cannot contain multiple dots')\n    }\n  }\n\n  this.path = p.join(this.dirname, this.stem + (extname || ''))\n}\n\nfunction getStem() {\n  return typeof this.path === 'string'\n    ? p.basename(this.path, this.extname)\n    : undefined\n}\n\nfunction setStem(stem) {\n  assertNonEmpty(stem, 'stem')\n  assertPart(stem, 'stem')\n  this.path = p.join(this.dirname || '', stem + (this.extname || ''))\n}\n\n// Get the value of the file.\nfunction toString(encoding) {\n  return (this.contents || '').toString(encoding)\n}\n\n// Assert that `part` is not a path (i.e., does not contain `p.sep`).\nfunction assertPart(part, name) {\n  if (part && part.indexOf(p.sep) > -1) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + p.sep + '`'\n    )\n  }\n}\n\n// Assert that `part` is not empty.\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n// Assert `path` exists.\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n","'use strict'\n\n// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexports.basename = basename\nexports.dirname = dirname\nexports.extname = extname\nexports.join = join\nexports.sep = '/'\n\nfunction basename(path, ext) {\n  var start = 0\n  var end = -1\n  var index\n  var firstNonSlashEnd\n  var seenNonSlash\n  var extIndex\n\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  index = path.length\n\n  if (ext === undefined || !ext.length || ext.length > path.length) {\n    while (index--) {\n      if (path.charCodeAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  firstNonSlashEnd = -1\n  extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.charCodeAt(index) === ext.charCodeAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\nfunction dirname(path) {\n  var end\n  var unmatchedSlash\n  var index\n\n  assertPath(path)\n\n  if (!path.length) {\n    return '.'\n  }\n\n  end = -1\n  index = path.length\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.charCodeAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.charCodeAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\nfunction extname(path) {\n  var startDot = -1\n  var startPart = 0\n  var end = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  var preDotState = 0\n  var unmatchedSlash\n  var code\n  var index\n\n  assertPath(path)\n\n  index = path.length\n\n  while (index--) {\n    code = path.charCodeAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\nfunction join() {\n  var index = -1\n  var joined\n\n  while (++index < arguments.length) {\n    assertPath(arguments[index])\n\n    if (arguments[index]) {\n      joined =\n        joined === undefined\n          ? arguments[index]\n          : joined + '/' + arguments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  var absolute\n  var value\n\n  assertPath(path)\n\n  absolute = path.charCodeAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  value = normalizeString(path, !absolute)\n\n  if (!value.length && !absolute) {\n    value = '.'\n  }\n\n  if (value.length && path.charCodeAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n// Resolve `.` and `..` elements in a path with directory names.\nfunction normalizeString(path, allowAboveRoot) {\n  var result = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var index = -1\n  var code\n  var lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.charCodeAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.charCodeAt(result.length - 1) !== 46 /* `.` */ ||\n          result.charCodeAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            /* istanbul ignore else - No clue how to cover it. */\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n","'use strict'\n\n// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexports.cwd = cwd\n\nfunction cwd() {\n  return '/'\n}\n","'use strict'\n\nmodule.exports = parse\n\nvar fromMarkdown = require('mdast-util-from-markdown')\n\nfunction parse(options) {\n  var self = this\n\n  this.Parser = parse\n\n  function parse(doc) {\n    return fromMarkdown(\n      doc,\n      Object.assign({}, self.data('settings'), options, {\n        // Note: these options are not in the readme.\n        // The goal is for them to be set by plugins on `data` instead of being\n        // passed by users.\n        extensions: self.data('micromarkExtensions') || [],\n        mdastExtensions: self.data('fromMarkdownExtensions') || []\n      })\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = require('./dist')\n","'use strict'\n\nmodule.exports = fromMarkdown\n\n// These three are compiled away in the `dist/`\n\nvar toString = require('mdast-util-to-string')\nvar assign = require('micromark/dist/constant/assign')\nvar own = require('micromark/dist/constant/has-own-property')\nvar normalizeIdentifier = require('micromark/dist/util/normalize-identifier')\nvar safeFromInt = require('micromark/dist/util/safe-from-int')\nvar parser = require('micromark/dist/parse')\nvar preprocessor = require('micromark/dist/preprocess')\nvar postprocess = require('micromark/dist/postprocess')\nvar decode = require('parse-entities/decode-entity')\nvar stringifyPosition = require('unist-util-stringify-position')\n\nfunction fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding\n    encoding = undefined\n  }\n\n  return compiler(options)(\n    postprocess(\n      parser(options).document().write(preprocessor()(value, encoding, true))\n    )\n  )\n}\n\n// Note this compiler only understand complete buffering, not streaming.\nfunction compiler(options) {\n  var settings = options || {}\n  var config = configure(\n    {\n      transforms: [],\n      canContainEols: [\n        'emphasis',\n        'fragment',\n        'heading',\n        'paragraph',\n        'strong'\n      ],\n\n      enter: {\n        autolink: opener(link),\n        autolinkProtocol: onenterdata,\n        autolinkEmail: onenterdata,\n        atxHeading: opener(heading),\n        blockQuote: opener(blockQuote),\n        characterEscape: onenterdata,\n        characterReference: onenterdata,\n        codeFenced: opener(codeFlow),\n        codeFencedFenceInfo: buffer,\n        codeFencedFenceMeta: buffer,\n        codeIndented: opener(codeFlow, buffer),\n        codeText: opener(codeText, buffer),\n        codeTextData: onenterdata,\n        data: onenterdata,\n        codeFlowValue: onenterdata,\n        definition: opener(definition),\n        definitionDestinationString: buffer,\n        definitionLabelString: buffer,\n        definitionTitleString: buffer,\n        emphasis: opener(emphasis),\n        hardBreakEscape: opener(hardBreak),\n        hardBreakTrailing: opener(hardBreak),\n        htmlFlow: opener(html, buffer),\n        htmlFlowData: onenterdata,\n        htmlText: opener(html, buffer),\n        htmlTextData: onenterdata,\n        image: opener(image),\n        label: buffer,\n        link: opener(link),\n        listItem: opener(listItem),\n        listItemValue: onenterlistitemvalue,\n        listOrdered: opener(list, onenterlistordered),\n        listUnordered: opener(list),\n        paragraph: opener(paragraph),\n        reference: onenterreference,\n        referenceString: buffer,\n        resourceDestinationString: buffer,\n        resourceTitleString: buffer,\n        setextHeading: opener(heading),\n        strong: opener(strong),\n        thematicBreak: opener(thematicBreak)\n      },\n\n      exit: {\n        atxHeading: closer(),\n        atxHeadingSequence: onexitatxheadingsequence,\n        autolink: closer(),\n        autolinkEmail: onexitautolinkemail,\n        autolinkProtocol: onexitautolinkprotocol,\n        blockQuote: closer(),\n        characterEscapeValue: onexitdata,\n        characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n        characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n        characterReferenceValue: onexitcharacterreferencevalue,\n        codeFenced: closer(onexitcodefenced),\n        codeFencedFence: onexitcodefencedfence,\n        codeFencedFenceInfo: onexitcodefencedfenceinfo,\n        codeFencedFenceMeta: onexitcodefencedfencemeta,\n        codeFlowValue: onexitdata,\n        codeIndented: closer(onexitcodeindented),\n        codeText: closer(onexitcodetext),\n        codeTextData: onexitdata,\n        data: onexitdata,\n        definition: closer(),\n        definitionDestinationString: onexitdefinitiondestinationstring,\n        definitionLabelString: onexitdefinitionlabelstring,\n        definitionTitleString: onexitdefinitiontitlestring,\n        emphasis: closer(),\n        hardBreakEscape: closer(onexithardbreak),\n        hardBreakTrailing: closer(onexithardbreak),\n        htmlFlow: closer(onexithtmlflow),\n        htmlFlowData: onexitdata,\n        htmlText: closer(onexithtmltext),\n        htmlTextData: onexitdata,\n        image: closer(onexitimage),\n        label: onexitlabel,\n        labelText: onexitlabeltext,\n        lineEnding: onexitlineending,\n        link: closer(onexitlink),\n        listItem: closer(),\n        listOrdered: closer(),\n        listUnordered: closer(),\n        paragraph: closer(),\n        referenceString: onexitreferencestring,\n        resourceDestinationString: onexitresourcedestinationstring,\n        resourceTitleString: onexitresourcetitlestring,\n        resource: onexitresource,\n        setextHeading: closer(onexitsetextheading),\n        setextHeadingLineSequence: onexitsetextheadinglinesequence,\n        setextHeadingText: onexitsetextheadingtext,\n        strong: closer(),\n        thematicBreak: closer()\n      }\n    },\n\n    settings.mdastExtensions || []\n  )\n\n  var data = {}\n\n  return compile\n\n  function compile(events) {\n    var tree = {type: 'root', children: []}\n    var stack = [tree]\n    var tokenStack = []\n    var listStack = []\n    var index = -1\n    var handler\n    var listStart\n\n    var context = {\n      stack: stack,\n      tokenStack: tokenStack,\n      config: config,\n      enter: enter,\n      exit: exit,\n      buffer: buffer,\n      resume: resume,\n      setData: setData,\n      getData: getData\n    }\n\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (\n        events[index][1].type === 'listOrdered' ||\n        events[index][1].type === 'listUnordered'\n      ) {\n        if (events[index][0] === 'enter') {\n          listStack.push(index)\n        } else {\n          listStart = listStack.pop(index)\n          index = prepareList(events, listStart, index)\n        }\n      }\n    }\n\n    index = -1\n\n    while (++index < events.length) {\n      handler = config[events[index][0]]\n\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(\n          assign({sliceSerialize: events[index][2].sliceSerialize}, context),\n          events[index][1]\n        )\n      }\n    }\n\n    if (tokenStack.length) {\n      throw new Error(\n        'Cannot close document, a token (`' +\n          tokenStack[tokenStack.length - 1].type +\n          '`, ' +\n          stringifyPosition({\n            start: tokenStack[tokenStack.length - 1].start,\n            end: tokenStack[tokenStack.length - 1].end\n          }) +\n          ') is still open'\n      )\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(\n        events.length ? events[0][1].start : {line: 1, column: 1, offset: 0}\n      ),\n\n      end: point(\n        events.length\n          ? events[events.length - 2][1].end\n          : {line: 1, column: 1, offset: 0}\n      )\n    }\n\n    index = -1\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree\n    }\n\n    return tree\n  }\n\n  function prepareList(events, start, length) {\n    var index = start - 1\n    var containerBalance = -1\n    var listSpread = false\n    var listItem\n    var tailIndex\n    var lineIndex\n    var tailEvent\n    var event\n    var firstBlankLineIndex\n    var atMarker\n\n    while (++index <= length) {\n      event = events[index]\n\n      if (\n        event[1].type === 'listUnordered' ||\n        event[1].type === 'listOrdered' ||\n        event[1].type === 'blockQuote'\n      ) {\n        if (event[0] === 'enter') {\n          containerBalance++\n        } else {\n          containerBalance--\n        }\n\n        atMarker = undefined\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (\n            listItem &&\n            !atMarker &&\n            !containerBalance &&\n            !firstBlankLineIndex\n          ) {\n            firstBlankLineIndex = index\n          }\n\n          atMarker = undefined\n        }\n      } else if (\n        event[1].type === 'linePrefix' ||\n        event[1].type === 'listItemValue' ||\n        event[1].type === 'listItemMarker' ||\n        event[1].type === 'listItemPrefix' ||\n        event[1].type === 'listItemPrefixWhitespace'\n      ) {\n        // Empty.\n      } else {\n        atMarker = undefined\n      }\n\n      if (\n        (!containerBalance &&\n          event[0] === 'enter' &&\n          event[1].type === 'listItemPrefix') ||\n        (containerBalance === -1 &&\n          event[0] === 'exit' &&\n          (event[1].type === 'listUnordered' ||\n            event[1].type === 'listOrdered'))\n      ) {\n        if (listItem) {\n          tailIndex = index\n          lineIndex = undefined\n\n          while (tailIndex--) {\n            tailEvent = events[tailIndex]\n\n            if (\n              tailEvent[1].type === 'lineEnding' ||\n              tailEvent[1].type === 'lineEndingBlank'\n            ) {\n              if (tailEvent[0] === 'exit') continue\n\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank'\n                listSpread = true\n              }\n\n              tailEvent[1].type = 'lineEnding'\n              lineIndex = tailIndex\n            } else if (\n              tailEvent[1].type === 'linePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefixWhitespace' ||\n              tailEvent[1].type === 'blockQuoteMarker' ||\n              tailEvent[1].type === 'listItemIndent'\n            ) {\n              // Empty\n            } else {\n              break\n            }\n          }\n\n          if (\n            firstBlankLineIndex &&\n            (!lineIndex || firstBlankLineIndex < lineIndex)\n          ) {\n            listItem._spread = true\n          }\n\n          // Fix position.\n          listItem.end = point(\n            lineIndex ? events[lineIndex][1].start : event[1].end\n          )\n\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]])\n          index++\n          length++\n        }\n\n        // Create a new list item.\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: point(event[1].start)\n          }\n\n          events.splice(index, 0, ['enter', listItem, event[2]])\n          index++\n          length++\n          firstBlankLineIndex = undefined\n          atMarker = true\n        }\n      }\n    }\n\n    events[start][1]._spread = listSpread\n    return length\n  }\n\n  function setData(key, value) {\n    data[key] = value\n  }\n\n  function getData(key) {\n    return data[key]\n  }\n\n  function point(d) {\n    return {line: d.line, column: d.column, offset: d.offset}\n  }\n\n  function opener(create, and) {\n    return open\n\n    function open(token) {\n      enter.call(this, create(token), token)\n      if (and) and.call(this, token)\n    }\n  }\n\n  function buffer() {\n    this.stack.push({type: 'fragment', children: []})\n  }\n\n  function enter(node, token) {\n    this.stack[this.stack.length - 1].children.push(node)\n    this.stack.push(node)\n    this.tokenStack.push(token)\n    node.position = {start: point(token.start)}\n    return node\n  }\n\n  function closer(and) {\n    return close\n\n    function close(token) {\n      if (and) and.call(this, token)\n      exit.call(this, token)\n    }\n  }\n\n  function exit(token) {\n    var node = this.stack.pop()\n    var open = this.tokenStack.pop()\n\n    if (!open) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): its not open'\n      )\n    } else if (open.type !== token.type) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): a different token (`' +\n          open.type +\n          '`, ' +\n          stringifyPosition({start: open.start, end: open.end}) +\n          ') is open'\n      )\n    }\n\n    node.position.end = point(token.end)\n    return node\n  }\n\n  function resume() {\n    return toString(this.stack.pop())\n  }\n\n  //\n  // Handlers.\n  //\n\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true)\n  }\n\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      this.stack[this.stack.length - 2].start = parseInt(\n        this.sliceSerialize(token),\n        10\n      )\n\n      setData('expectingFirstListItemValue')\n    }\n  }\n\n  function onexitcodefencedfenceinfo() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].lang = data\n  }\n\n  function onexitcodefencedfencemeta() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].meta = data\n  }\n\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return\n    this.buffer()\n    setData('flowCodeInside', true)\n  }\n\n  function onexitcodefenced() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data.replace(\n      /^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g,\n      ''\n    )\n\n    setData('flowCodeInside')\n  }\n\n  function onexitcodeindented() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitdefinitionlabelstring(token) {\n    // Discard label, use the source content instead.\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitdefinitiontitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitdefinitiondestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitatxheadingsequence(token) {\n    if (!this.stack[this.stack.length - 1].depth) {\n      this.stack[this.stack.length - 1].depth = this.sliceSerialize(\n        token\n      ).length\n    }\n  }\n\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true)\n  }\n\n  function onexitsetextheadinglinesequence(token) {\n    this.stack[this.stack.length - 1].depth =\n      this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2\n  }\n\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding')\n  }\n\n  function onenterdata(token) {\n    var siblings = this.stack[this.stack.length - 1].children\n    var tail = siblings[siblings.length - 1]\n\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text()\n      tail.position = {start: point(token.start)}\n      this.stack[this.stack.length - 1].children.push(tail)\n    }\n\n    this.stack.push(tail)\n  }\n\n  function onexitdata(token) {\n    var tail = this.stack.pop()\n    tail.value += this.sliceSerialize(token)\n    tail.position.end = point(token.end)\n  }\n\n  function onexitlineending(token) {\n    var context = this.stack[this.stack.length - 1]\n\n    // If were at a hard break, include the line ending in there.\n    if (getData('atHardBreak')) {\n      context.children[context.children.length - 1].position.end = point(\n        token.end\n      )\n\n      setData('atHardBreak')\n      return\n    }\n\n    if (\n      !getData('setextHeadingSlurpLineEnding') &&\n      config.canContainEols.indexOf(context.type) > -1\n    ) {\n      onenterdata.call(this, token)\n      onexitdata.call(this, token)\n    }\n  }\n\n  function onexithardbreak() {\n    setData('atHardBreak', true)\n  }\n\n  function onexithtmlflow() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexithtmltext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitcodetext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitlink() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitimage() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitlabeltext(token) {\n    this.stack[this.stack.length - 2].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitlabel() {\n    var fragment = this.stack[this.stack.length - 1]\n    var value = this.resume()\n\n    this.stack[this.stack.length - 1].label = value\n\n    // Assume a reference.\n    setData('inReference', true)\n\n    if (this.stack[this.stack.length - 1].type === 'link') {\n      this.stack[this.stack.length - 1].children = fragment.children\n    } else {\n      this.stack[this.stack.length - 1].alt = value\n    }\n  }\n\n  function onexitresourcedestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitresourcetitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitresource() {\n    setData('inReference')\n  }\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed')\n  }\n\n  function onexitreferencestring(token) {\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n    setData('referenceType', 'full')\n  }\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type)\n  }\n\n  function onexitcharacterreferencevalue(token) {\n    var data = this.sliceSerialize(token)\n    var type = getData('characterReferenceType')\n    var value\n    var tail\n\n    if (type) {\n      value = safeFromInt(\n        data,\n        type === 'characterReferenceMarkerNumeric' ? 10 : 16\n      )\n\n      setData('characterReferenceType')\n    } else {\n      value = decode(data)\n    }\n\n    tail = this.stack.pop()\n    tail.value += value\n    tail.position.end = point(token.end)\n  }\n\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url = this.sliceSerialize(token)\n  }\n\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url =\n      'mailto:' + this.sliceSerialize(token)\n  }\n\n  //\n  // Creaters.\n  //\n\n  function blockQuote() {\n    return {type: 'blockquote', children: []}\n  }\n\n  function codeFlow() {\n    return {type: 'code', lang: null, meta: null, value: ''}\n  }\n\n  function codeText() {\n    return {type: 'inlineCode', value: ''}\n  }\n\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    }\n  }\n\n  function emphasis() {\n    return {type: 'emphasis', children: []}\n  }\n\n  function heading() {\n    return {type: 'heading', depth: undefined, children: []}\n  }\n\n  function hardBreak() {\n    return {type: 'break'}\n  }\n\n  function html() {\n    return {type: 'html', value: ''}\n  }\n\n  function image() {\n    return {type: 'image', title: null, url: '', alt: null}\n  }\n\n  function link() {\n    return {type: 'link', title: null, url: '', children: []}\n  }\n\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    }\n  }\n\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    }\n  }\n\n  function paragraph() {\n    return {type: 'paragraph', children: []}\n  }\n\n  function strong() {\n    return {type: 'strong', children: []}\n  }\n\n  function text() {\n    return {type: 'text', value: ''}\n  }\n\n  function thematicBreak() {\n    return {type: 'thematicBreak'}\n  }\n}\n\nfunction configure(config, extensions) {\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, extension[key])\n    } else {\n      Object.assign(left, extension[key])\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = toString\n\n// Get the text content of a node.\n// Prefer the nodes plain-text fields, otherwise serialize its children,\n// and if the given value is an array, serialize the nodes in it.\nfunction toString(node) {\n  return (\n    (node &&\n      (node.value ||\n        node.alt ||\n        node.title ||\n        ('children' in node && all(node.children)) ||\n        ('length' in node && all(node)))) ||\n    ''\n  )\n}\n\nfunction all(values) {\n  var result = []\n  var index = -1\n\n  while (++index < values.length) {\n    result[index] = toString(values[index])\n  }\n\n  return result.join('')\n}\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction safeFromInt(value, base) {\n  var code = parseInt(value, base)\n\n  if (\n    // C0 except for HT, LF, FF, CR, space\n    code < 9 ||\n    code === 11 ||\n    (code > 13 && code < 32) || // Control character (DEL) of the basic block and C1 controls.\n    (code > 126 && code < 160) || // Lone high surrogates and low surrogates.\n    (code > 55295 && code < 57344) || // Noncharacters.\n    (code > 64975 && code < 65008) ||\n    (code & 65535) === 65535 ||\n    (code & 65535) === 65534 || // Out of range\n    code > 1114111\n  ) {\n    return '\\uFFFD'\n  }\n\n  return fromCharCode(code)\n}\n\nmodule.exports = safeFromInt\n","'use strict'\n\nvar content = require('./initialize/content.js')\nvar document = require('./initialize/document.js')\nvar flow = require('./initialize/flow.js')\nvar text = require('./initialize/text.js')\nvar combineExtensions = require('./util/combine-extensions.js')\nvar createTokenizer = require('./util/create-tokenizer.js')\nvar miniflat = require('./util/miniflat.js')\nvar constructs = require('./constructs.js')\n\nfunction parse(options) {\n  var settings = options || {}\n  var parser = {\n    defined: [],\n    constructs: combineExtensions(\n      [constructs].concat(miniflat(settings.extensions))\n    ),\n    content: create(content),\n    document: create(document),\n    flow: create(flow),\n    string: create(text.string),\n    text: create(text.text)\n  }\n  return parser\n\n  function create(initializer) {\n    return creator\n\n    function creator(from) {\n      return createTokenizer(parser, initializer, from)\n    }\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\n\nvar tokenize = initializeContent\n\nfunction initializeContent(effects) {\n  var contentStart = effects.attempt(\n    this.parser.constructs.contentInitial,\n    afterContentStartConstruct,\n    paragraphInitial\n  )\n  var previous\n  return contentStart\n\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, contentStart, 'linePrefix')\n  }\n\n  function paragraphInitial(code) {\n    effects.enter('paragraph')\n    return lineStart(code)\n  }\n\n  function lineStart(code) {\n    var token = effects.enter('chunkText', {\n      contentType: 'text',\n      previous: previous\n    })\n\n    if (previous) {\n      previous.next = token\n    }\n\n    previous = token\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      effects.exit('chunkText')\n      effects.exit('paragraph')\n      effects.consume(code)\n      return\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      effects.exit('chunkText')\n      return lineStart\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeDocument\nvar containerConstruct = {\n  tokenize: tokenizeContainer\n}\nvar lazyFlowConstruct = {\n  tokenize: tokenizeLazyFlow\n}\n\nfunction initializeDocument(effects) {\n  var self = this\n  var stack = []\n  var continued = 0\n  var inspectConstruct = {\n    tokenize: tokenizeInspect,\n    partial: true\n  }\n  var inspectResult\n  var childFlow\n  var childToken\n  return start\n\n  function start(code) {\n    if (continued < stack.length) {\n      self.containerState = stack[continued][1]\n      return effects.attempt(\n        stack[continued][0].continuation,\n        documentContinue,\n        documentContinued\n      )(code)\n    }\n\n    return documentContinued(code)\n  }\n\n  function documentContinue(code) {\n    continued++\n    return start(code)\n  }\n\n  function documentContinued(code) {\n    // If were in a concrete construct (such as when expecting another line of\n    // HTML, or we resulted in lazy content), we can immediately start flow.\n    if (inspectResult && inspectResult.flowContinue) {\n      return flowStart(code)\n    }\n\n    self.interrupt =\n      childFlow &&\n      childFlow.currentConstruct &&\n      childFlow.currentConstruct.interruptible\n    self.containerState = {}\n    return effects.attempt(\n      containerConstruct,\n      containerContinue,\n      flowStart\n    )(code)\n  }\n\n  function containerContinue(code) {\n    stack.push([self.currentConstruct, self.containerState])\n    self.containerState = undefined\n    return documentContinued(code)\n  }\n\n  function flowStart(code) {\n    if (code === null) {\n      exitContainers(0, true)\n      effects.consume(code)\n      return\n    }\n\n    childFlow = childFlow || self.parser.flow(self.now())\n    effects.enter('chunkFlow', {\n      contentType: 'flow',\n      previous: childToken,\n      _tokenizer: childFlow\n    })\n    return flowContinue(code)\n  }\n\n  function flowContinue(code) {\n    if (code === null) {\n      continueFlow(effects.exit('chunkFlow'))\n      return flowStart(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      continueFlow(effects.exit('chunkFlow'))\n      return effects.check(inspectConstruct, documentAfterPeek)\n    }\n\n    effects.consume(code)\n    return flowContinue\n  }\n\n  function documentAfterPeek(code) {\n    exitContainers(\n      inspectResult.continued,\n      inspectResult && inspectResult.flowEnd\n    )\n    continued = 0\n    return start(code)\n  }\n\n  function continueFlow(token) {\n    if (childToken) childToken.next = token\n    childToken = token\n    childFlow.lazy = inspectResult && inspectResult.lazy\n    childFlow.defineSkip(token.start)\n    childFlow.write(self.sliceStream(token))\n  }\n\n  function exitContainers(size, end) {\n    var index = stack.length // Close the flow.\n\n    if (childFlow && end) {\n      childFlow.write([null])\n      childToken = childFlow = undefined\n    } // Exit open containers.\n\n    while (index-- > size) {\n      self.containerState = stack[index][1]\n      stack[index][0].exit.call(self, effects)\n    }\n\n    stack.length = size\n  }\n\n  function tokenizeInspect(effects, ok) {\n    var subcontinued = 0\n    inspectResult = {}\n    return inspectStart\n\n    function inspectStart(code) {\n      if (subcontinued < stack.length) {\n        self.containerState = stack[subcontinued][1]\n        return effects.attempt(\n          stack[subcontinued][0].continuation,\n          inspectContinue,\n          inspectLess\n        )(code)\n      } // If were continued but in a concrete flow, we cant have more\n      // containers.\n\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        inspectResult.flowContinue = true\n        return inspectDone(code)\n      }\n\n      self.interrupt =\n        childFlow.currentConstruct && childFlow.currentConstruct.interruptible\n      self.containerState = {}\n      return effects.attempt(\n        containerConstruct,\n        inspectFlowEnd,\n        inspectDone\n      )(code)\n    }\n\n    function inspectContinue(code) {\n      subcontinued++\n      return self.containerState._closeFlow\n        ? inspectFlowEnd(code)\n        : inspectStart(code)\n    }\n\n    function inspectLess(code) {\n      if (childFlow.currentConstruct && childFlow.currentConstruct.lazy) {\n        // Maybe another container?\n        self.containerState = {}\n        return effects.attempt(\n          containerConstruct,\n          inspectFlowEnd, // Maybe flow, or a blank line?\n          effects.attempt(\n            lazyFlowConstruct,\n            inspectFlowEnd,\n            effects.check(partialBlankLine, inspectFlowEnd, inspectLazy)\n          )\n        )(code)\n      } // Otherwise were interrupting.\n\n      return inspectFlowEnd(code)\n    }\n\n    function inspectLazy(code) {\n      // Act as if all containers are continued.\n      subcontinued = stack.length\n      inspectResult.lazy = true\n      inspectResult.flowContinue = true\n      return inspectDone(code)\n    } // Were done with flow if we have more containers, or an interruption.\n\n    function inspectFlowEnd(code) {\n      inspectResult.flowEnd = true\n      return inspectDone(code)\n    }\n\n    function inspectDone(code) {\n      inspectResult.continued = subcontinued\n      self.interrupt = self.containerState = undefined\n      return ok(code)\n    }\n  }\n}\n\nfunction tokenizeContainer(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(this.parser.constructs.document, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction tokenizeLazyFlow(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.lazy(this.parser.constructs.flow, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar content = require('../tokenize/content.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeFlow\n\nfunction initializeFlow(effects) {\n  var self = this\n  var initial = effects.attempt(\n    // Try to parse a blank line.\n    partialBlankLine,\n    atBlankEnding, // Try to parse initial flow (essentially, only code).\n    effects.attempt(\n      this.parser.constructs.flowInitial,\n      afterConstruct,\n      factorySpace(\n        effects,\n        effects.attempt(\n          this.parser.constructs.flow,\n          afterConstruct,\n          effects.attempt(content, afterConstruct)\n        ),\n        'linePrefix'\n      )\n    )\n  )\n  return initial\n\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    self.currentConstruct = undefined\n    return initial\n  }\n\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    self.currentConstruct = undefined\n    return initial\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar subtokenize = require('../util/subtokenize.js')\nvar factorySpace = require('./factory-space.js')\n\n// No name because it must not be turned off.\nvar content = {\n  tokenize: tokenizeContent,\n  resolve: resolveContent,\n  interruptible: true,\n  lazy: true\n}\nvar continuationConstruct = {\n  tokenize: tokenizeContinuation,\n  partial: true\n} // Content is transparent: its parsed right now. That way, definitions are also\n// parsed right now: before text in paragraphs (specifically, media) are parsed.\n\nfunction resolveContent(events) {\n  subtokenize(events)\n  return events\n}\n\nfunction tokenizeContent(effects, ok) {\n  var previous\n  return start\n\n  function start(code) {\n    effects.enter('content')\n    previous = effects.enter('chunkContent', {\n      contentType: 'content'\n    })\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      return contentEnd(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.check(\n        continuationConstruct,\n        contentContinue,\n        contentEnd\n      )(code)\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n\n  function contentEnd(code) {\n    effects.exit('chunkContent')\n    effects.exit('content')\n    return ok(code)\n  }\n\n  function contentContinue(code) {\n    effects.consume(code)\n    effects.exit('chunkContent')\n    previous = previous.next = effects.enter('chunkContent', {\n      contentType: 'content',\n      previous: previous\n    })\n    return data\n  }\n}\n\nfunction tokenizeContinuation(effects, ok, nok) {\n  var self = this\n  return startLookahead\n\n  function startLookahead(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, prefixed, 'linePrefix')\n  }\n\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    if (\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1 ||\n      prefixSize(self.events, 'linePrefix') < 4\n    ) {\n      return effects.interrupt(self.parser.constructs.flow, nok, ok)(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = content\n","'use strict'\n\nvar splice = [].splice\n\nmodule.exports = splice\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedPush = require('./chunked-push.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\nvar resolveAll = require('./resolve-all.js')\nvar serializeChunks = require('./serialize-chunks.js')\nvar shallow = require('./shallow.js')\nvar sliceChunks = require('./slice-chunks.js')\n\n// Create a tokenizer.\n// Tokenizers deal with one type of data (e.g., containers, flow, text).\n// The parser is the object dealing with it all.\n// `initialize` works like other constructs, except that only its `tokenize`\n// function is used, in which case it doesnt receive an `ok` or `nok`.\n// `from` can be given to set the point before the first character, although\n// when further lines are indented, they must be set with `defineSkip`.\nfunction createTokenizer(parser, initialize, from) {\n  var point = from\n    ? shallow(from)\n    : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }\n  var columnStart = {}\n  var resolveAllConstructs = []\n  var chunks = []\n  var stack = []\n\n  var effects = {\n    consume: consume,\n    enter: enter,\n    exit: exit,\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    }),\n    lazy: constructFactory(onsuccessfulcheck, {\n      lazy: true\n    })\n  } // State and tools for resolving and serializing.\n\n  var context = {\n    previous: null,\n    events: [],\n    parser: parser,\n    sliceStream: sliceStream,\n    sliceSerialize: sliceSerialize,\n    now: now,\n    defineSkip: skip,\n    write: write\n  } // The state function.\n\n  var state = initialize.tokenize.call(context, effects) // Track which character we expect to be consumed, to catch bugs.\n\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize)\n  } // Store where we are in the input stream.\n\n  point._index = 0\n  point._bufferIndex = -1\n  return context\n\n  function write(slice) {\n    chunks = chunkedPush(chunks, slice)\n    main() // Exit if were not done, resolve might change stuff.\n\n    if (chunks[chunks.length - 1] !== null) {\n      return []\n    }\n\n    addResult(initialize, 0) // Otherwise, resolve, and exit.\n\n    context.events = resolveAll(resolveAllConstructs, context.events, context)\n    return context.events\n  } //\n  // Tools.\n  //\n\n  function sliceSerialize(token) {\n    return serializeChunks(sliceStream(token))\n  }\n\n  function sliceStream(token) {\n    return sliceChunks(chunks, token)\n  }\n\n  function now() {\n    return shallow(point)\n  }\n\n  function skip(value) {\n    columnStart[value.line] = value.column\n    accountForPotentialSkip()\n  } //\n  // State management.\n  //\n  // Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n  // `consume`).\n  // Here is where we walk through the chunks, which either include strings of\n  // several characters, or numerical character codes.\n  // The reason to do this in a loop instead of a call is so the stack can\n  // drain.\n\n  function main() {\n    var chunkIndex\n    var chunk\n\n    while (point._index < chunks.length) {\n      chunk = chunks[point._index] // If were in a buffer chunk, loop through it.\n\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index\n\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0\n        }\n\n        while (\n          point._index === chunkIndex &&\n          point._bufferIndex < chunk.length\n        ) {\n          go(chunk.charCodeAt(point._bufferIndex))\n        }\n      } else {\n        go(chunk)\n      }\n    }\n  } // Deal with one code.\n\n  function go(code) {\n    state = state(code)\n  } // Move a character forward.\n\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++\n      point.column = 1\n      point.offset += code === -3 ? 2 : 1\n      accountForPotentialSkip()\n    } else if (code !== -1) {\n      point.column++\n      point.offset++\n    } // Not in a string chunk.\n\n    if (point._bufferIndex < 0) {\n      point._index++\n    } else {\n      point._bufferIndex++ // At end of string chunk.\n\n      if (point._bufferIndex === chunks[point._index].length) {\n        point._bufferIndex = -1\n        point._index++\n      }\n    } // Expose the previous character.\n\n    context.previous = code // Mark as consumed.\n  } // Start a token.\n\n  function enter(type, fields) {\n    var token = fields || {}\n    token.type = type\n    token.start = now()\n    context.events.push(['enter', token, context])\n    stack.push(token)\n    return token\n  } // Stop a token.\n\n  function exit(type) {\n    var token = stack.pop()\n    token.end = now()\n    context.events.push(['exit', token, context])\n    return token\n  } // Use results.\n\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from)\n  } // Discard results.\n\n  function onsuccessfulcheck(construct, info) {\n    info.restore()\n  } // Factory to attempt/check/interrupt.\n\n  function constructFactory(onreturn, fields) {\n    return hook // Handle either an object mapping codes to constructs, a list of\n    // constructs, or a single construct.\n\n    function hook(constructs, returnState, bogusState) {\n      var listOfConstructs\n      var constructIndex\n      var currentConstruct\n      var info\n      return constructs.tokenize || 'length' in constructs\n        ? handleListOfConstructs(miniflat(constructs))\n        : handleMapOfConstructs\n\n      function handleMapOfConstructs(code) {\n        if (code in constructs || null in constructs) {\n          return handleListOfConstructs(\n            constructs.null\n              ? /* c8 ignore next */\n                miniflat(constructs[code]).concat(miniflat(constructs.null))\n              : constructs[code]\n          )(code)\n        }\n\n        return bogusState(code)\n      }\n\n      function handleListOfConstructs(list) {\n        listOfConstructs = list\n        constructIndex = 0\n        return handleConstruct(list[constructIndex])\n      }\n\n      function handleConstruct(construct) {\n        return start\n\n        function start(code) {\n          // To do: not nede to store if there is no bogus state, probably?\n          // Currently doesnt work because `inspect` in document does a check\n          // w/o a bogus, which doesnt make sense. But it does seem to help perf\n          // by not storing.\n          info = store()\n          currentConstruct = construct\n\n          if (!construct.partial) {\n            context.currentConstruct = construct\n          }\n\n          if (\n            construct.name &&\n            context.parser.constructs.disable.null.indexOf(construct.name) > -1\n          ) {\n            return nok()\n          }\n\n          return construct.tokenize.call(\n            fields ? assign({}, context, fields) : context,\n            effects,\n            ok,\n            nok\n          )(code)\n        }\n      }\n\n      function ok(code) {\n        onreturn(currentConstruct, info)\n        return returnState\n      }\n\n      function nok(code) {\n        info.restore()\n\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex])\n        }\n\n        return bogusState\n      }\n    }\n  }\n\n  function addResult(construct, from) {\n    if (construct.resolveAll && resolveAllConstructs.indexOf(construct) < 0) {\n      resolveAllConstructs.push(construct)\n    }\n\n    if (construct.resolve) {\n      chunkedSplice(\n        context.events,\n        from,\n        context.events.length - from,\n        construct.resolve(context.events.slice(from), context)\n      )\n    }\n\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context)\n    }\n  }\n\n  function store() {\n    var startPoint = now()\n    var startPrevious = context.previous\n    var startCurrentConstruct = context.currentConstruct\n    var startEventsIndex = context.events.length\n    var startStack = Array.from(stack)\n    return {\n      restore: restore,\n      from: startEventsIndex\n    }\n\n    function restore() {\n      point = startPoint\n      context.previous = startPrevious\n      context.currentConstruct = startCurrentConstruct\n      context.events.length = startEventsIndex\n      stack = startStack\n      accountForPotentialSkip()\n    }\n  }\n\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line]\n      point.offset += columnStart[point.line] - 1\n    }\n  }\n}\n\nmodule.exports = createTokenizer\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction serializeChunks(chunks) {\n  var index = -1\n  var result = []\n  var chunk\n  var value\n  var atTab\n\n  while (++index < chunks.length) {\n    chunk = chunks[index]\n\n    if (typeof chunk === 'string') {\n      value = chunk\n    } else if (chunk === -5) {\n      value = '\\r'\n    } else if (chunk === -4) {\n      value = '\\n'\n    } else if (chunk === -3) {\n      value = '\\r' + '\\n'\n    } else if (chunk === -2) {\n      value = '\\t'\n    } else if (chunk === -1) {\n      if (atTab) continue\n      value = ' '\n    } else {\n      // Currently only replacement character.\n      value = fromCharCode(chunk)\n    }\n\n    atTab = chunk === -2\n    result.push(value)\n  }\n\n  return result.join('')\n}\n\nmodule.exports = serializeChunks\n","'use strict'\n\nfunction sliceChunks(chunks, token) {\n  var startIndex = token.start._index\n  var startBufferIndex = token.start._bufferIndex\n  var endIndex = token.end._index\n  var endBufferIndex = token.end._bufferIndex\n  var view\n\n  if (startIndex === endIndex) {\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)]\n  } else {\n    view = chunks.slice(startIndex, endIndex)\n\n    if (startBufferIndex > -1) {\n      view[0] = view[0].slice(startBufferIndex)\n    }\n\n    if (endBufferIndex > 0) {\n      view.push(chunks[endIndex].slice(0, endBufferIndex))\n    }\n  }\n\n  return view\n}\n\nmodule.exports = sliceChunks\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar text$1 = require('./initialize/text.js')\nvar attention = require('./tokenize/attention.js')\nvar autolink = require('./tokenize/autolink.js')\nvar blockQuote = require('./tokenize/block-quote.js')\nvar characterEscape = require('./tokenize/character-escape.js')\nvar characterReference = require('./tokenize/character-reference.js')\nvar codeFenced = require('./tokenize/code-fenced.js')\nvar codeIndented = require('./tokenize/code-indented.js')\nvar codeText = require('./tokenize/code-text.js')\nvar definition = require('./tokenize/definition.js')\nvar hardBreakEscape = require('./tokenize/hard-break-escape.js')\nvar headingAtx = require('./tokenize/heading-atx.js')\nvar htmlFlow = require('./tokenize/html-flow.js')\nvar htmlText = require('./tokenize/html-text.js')\nvar labelEnd = require('./tokenize/label-end.js')\nvar labelStartImage = require('./tokenize/label-start-image.js')\nvar labelStartLink = require('./tokenize/label-start-link.js')\nvar lineEnding = require('./tokenize/line-ending.js')\nvar list = require('./tokenize/list.js')\nvar setextUnderline = require('./tokenize/setext-underline.js')\nvar thematicBreak = require('./tokenize/thematic-break.js')\n\nvar document = {\n  42: list,\n  // Asterisk\n  43: list,\n  // Plus sign\n  45: list,\n  // Dash\n  48: list,\n  // 0\n  49: list,\n  // 1\n  50: list,\n  // 2\n  51: list,\n  // 3\n  52: list,\n  // 4\n  53: list,\n  // 5\n  54: list,\n  // 6\n  55: list,\n  // 7\n  56: list,\n  // 8\n  57: list,\n  // 9\n  62: blockQuote // Greater than\n}\nvar contentInitial = {\n  91: definition // Left square bracket\n}\nvar flowInitial = {\n  '-2': codeIndented,\n  // Horizontal tab\n  '-1': codeIndented,\n  // Virtual space\n  32: codeIndented // Space\n}\nvar flow = {\n  35: headingAtx,\n  // Number sign\n  42: thematicBreak,\n  // Asterisk\n  45: [setextUnderline, thematicBreak],\n  // Dash\n  60: htmlFlow,\n  // Less than\n  61: setextUnderline,\n  // Equals to\n  95: thematicBreak,\n  // Underscore\n  96: codeFenced,\n  // Grave accent\n  126: codeFenced // Tilde\n}\nvar string = {\n  38: characterReference,\n  // Ampersand\n  92: characterEscape // Backslash\n}\nvar text = {\n  '-5': lineEnding,\n  // Carriage return\n  '-4': lineEnding,\n  // Line feed\n  '-3': lineEnding,\n  // Carriage return + line feed\n  33: labelStartImage,\n  // Exclamation mark\n  38: characterReference,\n  // Ampersand\n  42: attention,\n  // Asterisk\n  60: [autolink, htmlText],\n  // Less than\n  91: labelStartLink,\n  // Left square bracket\n  92: [hardBreakEscape, characterEscape],\n  // Backslash\n  93: labelEnd,\n  // Right square bracket\n  95: attention,\n  // Underscore\n  96: codeText // Grave accent\n}\nvar insideSpan = {\n  null: [attention, text$1.resolver]\n}\nvar disable = {\n  null: []\n}\n\nexports.contentInitial = contentInitial\nexports.disable = disable\nexports.document = document\nexports.flow = flow\nexports.flowInitial = flowInitial\nexports.insideSpan = insideSpan\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar classifyCharacter = require('../util/classify-character.js')\nvar movePoint = require('../util/move-point.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\n\nvar attention = {\n  name: 'attention',\n  tokenize: tokenizeAttention,\n  resolveAll: resolveAllAttention\n}\n\nfunction resolveAllAttention(events, context) {\n  var index = -1\n  var open\n  var group\n  var text\n  var openingSequence\n  var closingSequence\n  var use\n  var nextEvents\n  var offset // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but its\n  // a bottleneck for malicious stuff.\n\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (\n      events[index][0] === 'enter' &&\n      events[index][1].type === 'attentionSequence' &&\n      events[index][1]._close\n    ) {\n      open = index // Now walk back to find an opener.\n\n      while (open--) {\n        // Find a token that can open the closer.\n        if (\n          events[open][0] === 'exit' &&\n          events[open][1].type === 'attentionSequence' &&\n          events[open][1]._open && // If the markers are the same:\n          context.sliceSerialize(events[open][1]).charCodeAt(0) ===\n            context.sliceSerialize(events[index][1]).charCodeAt(0)\n        ) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then dont match.\n          if (\n            (events[open][1]._close || events[index][1]._open) &&\n            (events[index][1].end.offset - events[index][1].start.offset) % 3 &&\n            !(\n              (events[open][1].end.offset -\n                events[open][1].start.offset +\n                events[index][1].end.offset -\n                events[index][1].start.offset) %\n              3\n            )\n          ) {\n            continue\n          } // Number of markers to use from the sequence.\n\n          use =\n            events[open][1].end.offset - events[open][1].start.offset > 1 &&\n            events[index][1].end.offset - events[index][1].start.offset > 1\n              ? 2\n              : 1\n          openingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: movePoint(shallow(events[open][1].end), -use),\n            end: shallow(events[open][1].end)\n          }\n          closingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: shallow(events[index][1].start),\n            end: movePoint(shallow(events[index][1].start), use)\n          }\n          text = {\n            type: use > 1 ? 'strongText' : 'emphasisText',\n            start: shallow(events[open][1].end),\n            end: shallow(events[index][1].start)\n          }\n          group = {\n            type: use > 1 ? 'strong' : 'emphasis',\n            start: shallow(openingSequence.start),\n            end: shallow(closingSequence.end)\n          }\n          events[open][1].end = shallow(openingSequence.start)\n          events[index][1].start = shallow(closingSequence.end)\n          nextEvents = [] // If there are more markers in the opening, add them before.\n\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context]\n            ])\n          } // Opening.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['enter', group, context],\n            ['enter', openingSequence, context],\n            ['exit', openingSequence, context],\n            ['enter', text, context]\n          ]) // Between.\n\n          nextEvents = chunkedPush(\n            nextEvents,\n            resolveAll(\n              context.parser.constructs.insideSpan.null,\n              events.slice(open + 1, index),\n              context\n            )\n          ) // Closing.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['exit', text, context],\n            ['enter', closingSequence, context],\n            ['exit', closingSequence, context],\n            ['exit', group, context]\n          ]) // If there are more markers in the closing, add them after.\n\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context]\n            ])\n          } else {\n            offset = 0\n          }\n\n          chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n          index = open + nextEvents.length - offset - 2\n          break\n        }\n      }\n    }\n  } // Remove remaining sequences.\n\n  index = -1\n\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeAttention(effects, ok) {\n  var before = classifyCharacter(this.previous)\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('attentionSequence')\n    marker = code\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    var token\n    var after\n    var open\n    var close\n\n    if (code === marker) {\n      effects.consume(code)\n      return sequence\n    }\n\n    token = effects.exit('attentionSequence')\n    after = classifyCharacter(code)\n    open = !after || (after === 2 && before)\n    close = !before || (before === 2 && after)\n    token._open = marker === 42 ? open : open && (before || !close)\n    token._close = marker === 42 ? close : close && (after || !open)\n    return ok(code)\n  }\n}\n\nmodule.exports = attention\n","'use strict'\n\n// This module is generated by `script/`.\n//\n// CommonMark handles attention (emphasis, strong) markers based on what comes\n// before or after them.\n// One such difference is if those characters are Unicode punctuation.\n// This script is generated from the Unicode data.\nvar unicodePunctuation = /[!-\\/:-@\\[-`\\{-~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\n// chunks (replacement characters, tabs, or line endings).\n\nfunction movePoint(point, offset) {\n  point.column += offset\n  point.offset += offset\n  point._bufferIndex += offset\n  return point\n}\n\nmodule.exports = movePoint\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiAtext = require('../character/ascii-atext.js')\nvar asciiControl = require('../character/ascii-control.js')\n\nvar autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n}\n\nfunction tokenizeAutolink(effects, ok, nok) {\n  var size = 1\n  return start\n\n  function start(code) {\n    effects.enter('autolink')\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.enter('autolinkProtocol')\n    return open\n  }\n\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return schemeOrEmailAtext\n    }\n\n    return asciiAtext(code) ? emailAtext(code) : nok(code)\n  }\n\n  function schemeOrEmailAtext(code) {\n    return code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)\n      ? schemeInsideOrEmailAtext(code)\n      : emailAtext(code)\n  }\n\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code)\n      return urlInside\n    }\n\n    if (\n      (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) &&\n      size++ < 32\n    ) {\n      effects.consume(code)\n      return schemeInsideOrEmailAtext\n    }\n\n    return emailAtext(code)\n  }\n\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol')\n      return end(code)\n    }\n\n    if (code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return urlInside\n  }\n\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (asciiAtext(code)) {\n      effects.consume(code)\n      return emailAtext\n    }\n\n    return nok(code)\n  }\n\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code)\n  }\n\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (code === 62) {\n      // Exit, then change the type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail'\n      return end(code)\n    }\n\n    return emailValue(code)\n  }\n\n  function emailValue(code) {\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      effects.consume(code)\n      return code === 45 ? emailValue : emailLabel\n    }\n\n    return nok(code)\n  }\n\n  function end(code) {\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.exit('autolink')\n    return ok\n  }\n}\n\nmodule.exports = autolink\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/)\n\nmodule.exports = asciiAtext\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar blockQuote = {\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart,\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit: exit\n}\n\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    if (code === 62) {\n      if (!self.containerState.open) {\n        effects.enter('blockQuote', {\n          _container: true\n        })\n        self.containerState.open = true\n      }\n\n      effects.enter('blockQuotePrefix')\n      effects.enter('blockQuoteMarker')\n      effects.consume(code)\n      effects.exit('blockQuoteMarker')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter('blockQuotePrefixWhitespace')\n      effects.consume(code)\n      effects.exit('blockQuotePrefixWhitespace')\n      effects.exit('blockQuotePrefix')\n      return ok\n    }\n\n    effects.exit('blockQuotePrefix')\n    return ok(code)\n  }\n}\n\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(blockQuote, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction exit(effects) {\n  effects.exit('blockQuote')\n}\n\nmodule.exports = blockQuote\n","'use strict'\n\nvar asciiPunctuation = require('../character/ascii-punctuation.js')\n\nvar characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n}\n\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('characterEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    effects.exit('escapeMarker')\n    return open\n  }\n\n  function open(code) {\n    if (asciiPunctuation(code)) {\n      effects.enter('characterEscapeValue')\n      effects.consume(code)\n      effects.exit('characterEscapeValue')\n      effects.exit('characterEscape')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterEscape\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/)\n\nmodule.exports = asciiPunctuation\n","'use strict'\n\nvar decodeEntity = require('parse-entities/decode-entity.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiDigit = require('../character/ascii-digit.js')\nvar asciiHexDigit = require('../character/ascii-hex-digit.js')\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {default: e}\n}\n\nvar decodeEntity__default = /*#__PURE__*/ _interopDefaultLegacy(decodeEntity)\n\nvar characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n}\n\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  var self = this\n  var size = 0\n  var max\n  var test\n  return start\n\n  function start(code) {\n    effects.enter('characterReference')\n    effects.enter('characterReferenceMarker')\n    effects.consume(code)\n    effects.exit('characterReferenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 35) {\n      effects.enter('characterReferenceMarkerNumeric')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerNumeric')\n      return numeric\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 31\n    test = asciiAlphanumeric\n    return value(code)\n  }\n\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter('characterReferenceMarkerHexadecimal')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerHexadecimal')\n      effects.enter('characterReferenceValue')\n      max = 6\n      test = asciiHexDigit\n      return value\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 7\n    test = asciiDigit\n    return value(code)\n  }\n\n  function value(code) {\n    var token\n\n    if (code === 59 && size) {\n      token = effects.exit('characterReferenceValue')\n\n      if (\n        test === asciiAlphanumeric &&\n        !decodeEntity__default['default'](self.sliceSerialize(token))\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('characterReferenceMarker')\n      effects.consume(code)\n      effects.exit('characterReferenceMarker')\n      effects.exit('characterReference')\n      return ok\n    }\n\n    if (test(code) && size++ < max) {\n      effects.consume(code)\n      return value\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterReference\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiHexDigit = regexCheck(/[\\dA-Fa-f]/)\n\nmodule.exports = asciiHexDigit\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeFenced = {\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced,\n  concrete: true\n}\n\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  var self = this\n  var closingFenceConstruct = {\n    tokenize: tokenizeClosingFence,\n    partial: true\n  }\n  var initialPrefix = prefixSize(this.events, 'linePrefix')\n  var sizeOpen = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('codeFenced')\n    effects.enter('codeFencedFence')\n    effects.enter('codeFencedFenceSequence')\n    marker = code\n    return sequenceOpen(code)\n  }\n\n  function sequenceOpen(code) {\n    if (code === marker) {\n      effects.consume(code)\n      sizeOpen++\n      return sequenceOpen\n    }\n\n    effects.exit('codeFencedFenceSequence')\n    return sizeOpen < 3\n      ? nok(code)\n      : factorySpace(effects, infoOpen, 'whitespace')(code)\n  }\n\n  function infoOpen(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceInfo')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return info(code)\n  }\n\n  function info(code) {\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceInfo')\n      return factorySpace(effects, infoAfter, 'whitespace')(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return info\n  }\n\n  function infoAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceMeta')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return meta(code)\n  }\n\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceMeta')\n      return openAfter(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return meta\n  }\n\n  function openAfter(code) {\n    effects.exit('codeFencedFence')\n    return self.interrupt ? ok(code) : content(code)\n  }\n\n  function content(code) {\n    if (code === null) {\n      return after(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return effects.attempt(\n        closingFenceConstruct,\n        after,\n        initialPrefix\n          ? factorySpace(effects, content, 'linePrefix', initialPrefix + 1)\n          : content\n      )\n    }\n\n    effects.enter('codeFlowValue')\n    return contentContinue(code)\n  }\n\n  function contentContinue(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return content(code)\n    }\n\n    effects.consume(code)\n    return contentContinue\n  }\n\n  function after(code) {\n    effects.exit('codeFenced')\n    return ok(code)\n  }\n\n  function tokenizeClosingFence(effects, ok, nok) {\n    var size = 0\n    return factorySpace(\n      effects,\n      closingSequenceStart,\n      'linePrefix',\n      this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n\n    function closingSequenceStart(code) {\n      effects.enter('codeFencedFence')\n      effects.enter('codeFencedFenceSequence')\n      return closingSequence(code)\n    }\n\n    function closingSequence(code) {\n      if (code === marker) {\n        effects.consume(code)\n        size++\n        return closingSequence\n      }\n\n      if (size < sizeOpen) return nok(code)\n      effects.exit('codeFencedFenceSequence')\n      return factorySpace(effects, closingSequenceEnd, 'whitespace')(code)\n    }\n\n    function closingSequenceEnd(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit('codeFencedFence')\n        return ok(code)\n      }\n\n      return nok(code)\n    }\n  }\n}\n\nmodule.exports = codeFenced\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented,\n  resolve: resolveCodeIndented\n}\nvar indentedContentConstruct = {\n  tokenize: tokenizeIndentedContent,\n  partial: true\n}\n\nfunction resolveCodeIndented(events, context) {\n  var code = {\n    type: 'codeIndented',\n    start: events[0][1].start,\n    end: events[events.length - 1][1].end\n  }\n  chunkedSplice(events, 0, 0, [['enter', code, context]])\n  chunkedSplice(events, events.length, 0, [['exit', code, context]])\n  return events\n}\n\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  return effects.attempt(indentedContentConstruct, afterPrefix, nok)\n\n  function afterPrefix(code) {\n    if (code === null) {\n      return ok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.attempt(indentedContentConstruct, afterPrefix, ok)(code)\n    }\n\n    effects.enter('codeFlowValue')\n    return content(code)\n  }\n\n  function content(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return afterPrefix(code)\n    }\n\n    effects.consume(code)\n    return content\n  }\n}\n\nfunction tokenizeIndentedContent(effects, ok, nok) {\n  var self = this\n  return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n\n  function afterPrefix(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n    }\n\n    return prefixSize(self.events, 'linePrefix') < 4 ? nok(code) : ok(code)\n  }\n}\n\nmodule.exports = codeIndented\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar codeText = {\n  name: 'codeText',\n  tokenize: tokenizeCodeText,\n  resolve: resolveCodeText,\n  previous: previous\n}\n\nfunction resolveCodeText(events) {\n  var tailExitIndex = events.length - 4\n  var headEnterIndex = 3\n  var index\n  var enter // If we start and end with an EOL or a space.\n\n  if (\n    (events[headEnterIndex][1].type === 'lineEnding' ||\n      events[headEnterIndex][1].type === 'space') &&\n    (events[tailExitIndex][1].type === 'lineEnding' ||\n      events[tailExitIndex][1].type === 'space')\n  ) {\n    index = headEnterIndex // And we have data.\n\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === 'codeTextData') {\n        // Then we have padding.\n        events[tailExitIndex][1].type = events[headEnterIndex][1].type =\n          'codeTextPadding'\n        headEnterIndex += 2\n        tailExitIndex -= 2\n        break\n      }\n    }\n  } // Merge adjacent spaces and data.\n\n  index = headEnterIndex - 1\n  tailExitIndex++\n\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== 'lineEnding') {\n        enter = index\n      }\n    } else if (\n      index === tailExitIndex ||\n      events[index][1].type === 'lineEnding'\n    ) {\n      events[enter][1].type = 'codeTextData'\n\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end\n        events.splice(enter + 2, index - enter - 2)\n        tailExitIndex -= index - enter - 2\n        index = enter + 2\n      }\n\n      enter = undefined\n    }\n  }\n\n  return events\n}\n\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return (\n    code !== 96 ||\n    this.events[this.events.length - 1][1].type === 'characterEscape'\n  )\n}\n\nfunction tokenizeCodeText(effects, ok, nok) {\n  var sizeOpen = 0\n  var size\n  var token\n  return start\n\n  function start(code) {\n    effects.enter('codeText')\n    effects.enter('codeTextSequence')\n    return openingSequence(code)\n  }\n\n  function openingSequence(code) {\n    if (code === 96) {\n      effects.consume(code)\n      sizeOpen++\n      return openingSequence\n    }\n\n    effects.exit('codeTextSequence')\n    return gap(code)\n  }\n\n  function gap(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code)\n    } // Closing fence?\n    // Could also be data.\n\n    if (code === 96) {\n      token = effects.enter('codeTextSequence')\n      size = 0\n      return closingSequence(code)\n    } // Tabs dont work, and virtual spaces dont make sense.\n\n    if (code === 32) {\n      effects.enter('space')\n      effects.consume(code)\n      effects.exit('space')\n      return gap\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return gap\n    } // Data.\n\n    effects.enter('codeTextData')\n    return data(code)\n  } // In code.\n\n  function data(code) {\n    if (\n      code === null ||\n      code === 32 ||\n      code === 96 ||\n      markdownLineEnding(code)\n    ) {\n      effects.exit('codeTextData')\n      return gap(code)\n    }\n\n    effects.consume(code)\n    return data\n  } // Closing fence.\n\n  function closingSequence(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code)\n      size++\n      return closingSequence\n    } // Done!\n\n    if (size === sizeOpen) {\n      effects.exit('codeTextSequence')\n      effects.exit('codeText')\n      return ok(code)\n    } // More or less accents: mark as data.\n\n    token.type = 'codeTextData'\n    return data(code)\n  }\n}\n\nmodule.exports = codeText\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factorySpace = require('./factory-space.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\nvar factoryTitle = require('./factory-title.js')\n\nvar definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n}\nvar titleConstruct = {\n  tokenize: tokenizeTitle,\n  partial: true\n}\n\nfunction tokenizeDefinition(effects, ok, nok) {\n  var self = this\n  var identifier\n  return start\n\n  function start(code) {\n    effects.enter('definition')\n    return factoryLabel.call(\n      self,\n      effects,\n      labelAfter,\n      nok,\n      'definitionLabel',\n      'definitionLabelMarker',\n      'definitionLabelString'\n    )(code)\n  }\n\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(\n      self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n    )\n\n    if (code === 58) {\n      effects.enter('definitionMarker')\n      effects.consume(code)\n      effects.exit('definitionMarker') // Note: blank lines cant exist in content.\n\n      return factoryWhitespace(\n        effects,\n        factoryDestination(\n          effects,\n          effects.attempt(\n            titleConstruct,\n            factorySpace(effects, after, 'whitespace'),\n            factorySpace(effects, after, 'whitespace')\n          ),\n          nok,\n          'definitionDestination',\n          'definitionDestinationLiteral',\n          'definitionDestinationLiteralMarker',\n          'definitionDestinationRaw',\n          'definitionDestinationString'\n        )\n      )\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('definition')\n\n      if (self.parser.defined.indexOf(identifier) < 0) {\n        self.parser.defined.push(identifier)\n      }\n\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeTitle(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, before)(code)\n      : nok(code)\n  }\n\n  function before(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factorySpace(effects, after, 'whitespace'),\n        nok,\n        'definitionTitle',\n        'definitionTitleMarker',\n        'definitionTitleString'\n      )(code)\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = definition\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n}\n\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('hardBreakEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit('escapeMarker')\n      effects.exit('hardBreakEscape')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = hardBreakEscape\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar factorySpace = require('./factory-space.js')\n\nvar headingAtx = {\n  name: 'headingAtx',\n  tokenize: tokenizeHeadingAtx,\n  resolve: resolveHeadingAtx\n}\n\nfunction resolveHeadingAtx(events, context) {\n  var contentEnd = events.length - 2\n  var contentStart = 3\n  var content\n  var text // Prefix whitespace, part of the opening.\n\n  if (events[contentStart][1].type === 'whitespace') {\n    contentStart += 2\n  } // Suffix whitespace, part of the closing.\n\n  if (\n    contentEnd - 2 > contentStart &&\n    events[contentEnd][1].type === 'whitespace'\n  ) {\n    contentEnd -= 2\n  }\n\n  if (\n    events[contentEnd][1].type === 'atxHeadingSequence' &&\n    (contentStart === contentEnd - 1 ||\n      (contentEnd - 4 > contentStart &&\n        events[contentEnd - 2][1].type === 'whitespace'))\n  ) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4\n  }\n\n  if (contentEnd > contentStart) {\n    content = {\n      type: 'atxHeadingText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    }\n    text = {\n      type: 'chunkText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: 'text'\n    }\n    chunkedSplice(events, contentStart, contentEnd - contentStart + 1, [\n      ['enter', content, context],\n      ['enter', text, context],\n      ['exit', text, context],\n      ['exit', content, context]\n    ])\n  }\n\n  return events\n}\n\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  var self = this\n  var size = 0\n  return start\n\n  function start(code) {\n    effects.enter('atxHeading')\n    effects.enter('atxHeadingSequence')\n    return fenceOpenInside(code)\n  }\n\n  function fenceOpenInside(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code)\n      return fenceOpenInside\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingSequence')\n      return self.interrupt ? ok(code) : headingBreak(code)\n    }\n\n    return nok(code)\n  }\n\n  function headingBreak(code) {\n    if (code === 35) {\n      effects.enter('atxHeadingSequence')\n      return sequence(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('atxHeading')\n      return ok(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headingBreak, 'whitespace')(code)\n    }\n\n    effects.enter('atxHeadingText')\n    return data(code)\n  }\n\n  function sequence(code) {\n    if (code === 35) {\n      effects.consume(code)\n      return sequence\n    }\n\n    effects.exit('atxHeadingSequence')\n    return headingBreak(code)\n  }\n\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingText')\n      return headingBreak(code)\n    }\n\n    effects.consume(code)\n    return data\n  }\n}\n\nmodule.exports = headingAtx\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar fromCharCode = require('../constant/from-char-code.js')\nvar htmlBlockNames = require('../constant/html-block-names.js')\nvar htmlRawNames = require('../constant/html-raw-names.js')\nvar partialBlankLine = require('./partial-blank-line.js')\n\nvar htmlFlow = {\n  name: 'htmlFlow',\n  tokenize: tokenizeHtmlFlow,\n  resolveTo: resolveToHtmlFlow,\n  concrete: true\n}\nvar nextBlankConstruct = {\n  tokenize: tokenizeNextBlank,\n  partial: true\n}\n\nfunction resolveToHtmlFlow(events) {\n  var index = events.length\n\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === 'htmlFlow') {\n      break\n    }\n  }\n\n  if (index > 1 && events[index - 2][1].type === 'linePrefix') {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start // Add the prefix start to the HTML line token.\n\n    events[index + 1][1].start = events[index - 2][1].start // Remove the line prefix.\n\n    events.splice(index - 2, 2)\n  }\n\n  return events\n}\n\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  var self = this\n  var kind\n  var startTag\n  var buffer\n  var index\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('htmlFlow')\n    effects.enter('htmlFlowData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationStart\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      kind = 3 // While were in an instruction instead of a declaration, were on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      startTag = true\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function declarationStart(code) {\n    if (code === 45) {\n      effects.consume(code)\n      kind = 2\n      return commentOpenInside\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      kind = 5\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpenInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      kind = 4\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function cdataOpenInside(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length\n        ? self.interrupt\n          ? ok\n          : continuation\n        : cdataOpenInside\n    }\n\n    return nok(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function tagName(code) {\n    if (\n      code === null ||\n      code === 47 ||\n      code === 62 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      if (\n        code !== 47 &&\n        startTag &&\n        htmlRawNames.indexOf(buffer.toLowerCase()) > -1\n      ) {\n        kind = 1\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      if (htmlBlockNames.indexOf(buffer.toLowerCase()) > -1) {\n        kind = 6\n\n        if (code === 47) {\n          effects.consume(code)\n          return basicSelfClosing\n        }\n\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      kind = 7 // Do not support complete HTML when interrupting.\n\n      return self.interrupt\n        ? nok(code)\n        : startTag\n        ? completeAttributeNameBefore(code)\n        : completeClosingTagAfter(code)\n    }\n\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuation\n    }\n\n    return nok(code)\n  }\n\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeClosingTagAfter\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return completeEnd\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameBefore\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    return completeAttributeNameAfter(code)\n  }\n\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameAfter\n    }\n\n    return completeAttributeNameBefore(code)\n  }\n\n  function completeAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return completeAttributeValueQuoted\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    marker = undefined\n    return completeAttributeValueUnquoted(code)\n  }\n\n  function completeAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return completeAttributeValueQuotedAfter\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueQuoted\n  }\n\n  function completeAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      return completeAttributeNameAfter(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueUnquoted\n  }\n\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code)\n    }\n\n    return nok(code)\n  }\n\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return nok(code)\n  }\n\n  function completeAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return code === null || markdownLineEnding(code)\n      ? continuation(code)\n      : nok(code)\n  }\n\n  function continuation(code) {\n    if (code === 45 && kind === 2) {\n      effects.consume(code)\n      return continuationCommentInside\n    }\n\n    if (code === 60 && kind === 1) {\n      effects.consume(code)\n      return continuationRawTagOpen\n    }\n\n    if (code === 62 && kind === 4) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (code === 63 && kind === 3) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    if (code === 93 && kind === 5) {\n      effects.consume(code)\n      return continuationCharacterDataInside\n    }\n\n    if (markdownLineEnding(code) && (kind === 6 || kind === 7)) {\n      return effects.check(\n        nextBlankConstruct,\n        continuationClose,\n        continuationAtLineEnding\n      )(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return continuationAtLineEnding(code)\n    }\n\n    effects.consume(code)\n    return continuation\n  }\n\n  function continuationAtLineEnding(code) {\n    effects.exit('htmlFlowData')\n    return htmlContinueStart(code)\n  }\n\n  function htmlContinueStart(code) {\n    if (code === null) {\n      return done(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return htmlContinueStart\n    }\n\n    effects.enter('htmlFlowData')\n    return continuation(code)\n  }\n\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code)\n      buffer = ''\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawEndTag(code) {\n    if (code === 62 && htmlRawNames.indexOf(buffer.toLowerCase()) > -1) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (asciiAlpha(code) && buffer.length < 8) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationCharacterDataInside(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    return continuation(code)\n  }\n\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('htmlFlowData')\n      return done(code)\n    }\n\n    effects.consume(code)\n    return continuationClose\n  }\n\n  function done(code) {\n    effects.exit('htmlFlow')\n    return ok(code)\n  }\n}\n\nfunction tokenizeNextBlank(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.exit('htmlFlowData')\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    return effects.attempt(partialBlankLine, ok, nok)\n  }\n}\n\nmodule.exports = htmlFlow\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar basics = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n]\n\nmodule.exports = basics\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar raws = ['pre', 'script', 'style', 'textarea']\n\nmodule.exports = raws\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n}\n\nfunction tokenizeHtmlText(effects, ok, nok) {\n  var self = this\n  var marker\n  var buffer\n  var index\n  var returnState\n  return start\n\n  function start(code) {\n    effects.enter('htmlText')\n    effects.enter('htmlTextData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationOpen\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instruction\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    return nok(code)\n  }\n\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentOpen\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpen\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return declaration\n    }\n\n    return nok(code)\n  }\n\n  function commentOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentStart\n    }\n\n    return nok(code)\n  }\n\n  function commentStart(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentStartDash\n    }\n\n    return comment(code)\n  }\n\n  function commentStartDash(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    return comment(code)\n  }\n\n  function comment(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = comment\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return comment\n  }\n\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return end\n    }\n\n    return comment(code)\n  }\n\n  function cdataOpen(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length ? cdata : cdataOpen\n    }\n\n    return nok(code)\n  }\n\n  function cdata(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = cdata\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return cdata\n  }\n\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = declaration\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return declaration\n  }\n\n  function instruction(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instructionClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = instruction\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return instruction\n  }\n\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return nok(code)\n  }\n\n  function tagClose(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return tagCloseBetween(code)\n  }\n\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagCloseBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpen(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return end\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpenAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    return tagOpenAttributeNameAfter(code)\n  }\n\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeNameAfter\n    }\n\n    return tagOpenBetween(code)\n  }\n\n  function tagOpenAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return tagOpenAttributeValueQuoted\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    effects.consume(code)\n    marker = undefined\n    return tagOpenAttributeValueUnquoted\n  }\n\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return tagOpenAttributeValueQuotedAfter\n    }\n\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueQuoted\n  }\n\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 62 || code === 47 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueUnquoted\n  } // We cant have blank lines in content, so no need to worry about empty\n  // tokens.\n\n  function atLineEnding(code) {\n    effects.exit('htmlTextData')\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(\n      effects,\n      afterPrefix,\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n  }\n\n  function afterPrefix(code) {\n    effects.enter('htmlTextData')\n    return returnState(code)\n  }\n\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code)\n      effects.exit('htmlTextData')\n      effects.exit('htmlText')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = htmlText\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartImage = {\n  name: 'labelStartImage',\n  tokenize: tokenizeLabelStartImage,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelImage')\n    effects.enter('labelImageMarker')\n    effects.consume(code)\n    effects.exit('labelImageMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 91) {\n      effects.enter('labelMarker')\n      effects.consume(code)\n      effects.exit('labelMarker')\n      effects.exit('labelImage')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartImage\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartLink = {\n  name: 'labelStartLink',\n  tokenize: tokenizeLabelStartLink,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelLink')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelLink')\n    return after\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartLink\n","'use strict'\n\nvar factorySpace = require('./factory-space.js')\n\nvar lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n}\n\nfunction tokenizeLineEnding(effects, ok) {\n  return start\n\n  function start(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, ok, 'linePrefix')\n  }\n}\n\nmodule.exports = lineEnding\n","'use strict'\n\nvar asciiDigit = require('../character/ascii-digit.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar sizeChunks = require('../util/size-chunks.js')\nvar factorySpace = require('./factory-space.js')\nvar partialBlankLine = require('./partial-blank-line.js')\nvar thematicBreak = require('./thematic-break.js')\n\nvar list = {\n  name: 'list',\n  tokenize: tokenizeListStart,\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd\n}\nvar listItemPrefixWhitespaceConstruct = {\n  tokenize: tokenizeListItemPrefixWhitespace,\n  partial: true\n}\nvar indentConstruct = {\n  tokenize: tokenizeIndent,\n  partial: true\n}\n\nfunction tokenizeListStart(effects, ok, nok) {\n  var self = this\n  var initialSize = prefixSize(self.events, 'linePrefix')\n  var size = 0\n  return start\n\n  function start(code) {\n    var kind =\n      self.containerState.type ||\n      (code === 42 || code === 43 || code === 45\n        ? 'listUnordered'\n        : 'listOrdered')\n\n    if (\n      kind === 'listUnordered'\n        ? !self.containerState.marker || code === self.containerState.marker\n        : asciiDigit(code)\n    ) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind\n        effects.enter(kind, {\n          _container: true\n        })\n      }\n\n      if (kind === 'listUnordered') {\n        effects.enter('listItemPrefix')\n        return code === 42 || code === 45\n          ? effects.check(thematicBreak, nok, atMarker)(code)\n          : atMarker(code)\n      }\n\n      if (!self.interrupt || code === 49) {\n        effects.enter('listItemPrefix')\n        effects.enter('listItemValue')\n        return inside(code)\n      }\n    }\n\n    return nok(code)\n  }\n\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code)\n      return inside\n    }\n\n    if (\n      (!self.interrupt || size < 2) &&\n      (self.containerState.marker\n        ? code === self.containerState.marker\n        : code === 41 || code === 46)\n    ) {\n      effects.exit('listItemValue')\n      return atMarker(code)\n    }\n\n    return nok(code)\n  }\n\n  function atMarker(code) {\n    effects.enter('listItemMarker')\n    effects.consume(code)\n    effects.exit('listItemMarker')\n    self.containerState.marker = self.containerState.marker || code\n    return effects.check(\n      partialBlankLine, // Cant be empty when interrupting.\n      self.interrupt ? nok : onBlank,\n      effects.attempt(\n        listItemPrefixWhitespaceConstruct,\n        endOfPrefix,\n        otherPrefix\n      )\n    )\n  }\n\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true\n    initialSize++\n    return endOfPrefix(code)\n  }\n\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter('listItemPrefixWhitespace')\n      effects.consume(code)\n      effects.exit('listItemPrefixWhitespace')\n      return endOfPrefix\n    }\n\n    return nok(code)\n  }\n\n  function endOfPrefix(code) {\n    self.containerState.size =\n      initialSize + sizeChunks(self.sliceStream(effects.exit('listItemPrefix')))\n    return ok(code)\n  }\n}\n\nfunction tokenizeListContinuation(effects, ok, nok) {\n  var self = this\n  self.containerState._closeFlow = undefined\n  return effects.check(partialBlankLine, onBlank, notBlank)\n\n  function onBlank(code) {\n    self.containerState.furtherBlankLines =\n      self.containerState.furtherBlankLines ||\n      self.containerState.initialBlankLine // We have a blank line.\n    // Still, try to consume at most the items size.\n\n    return factorySpace(\n      effects,\n      ok,\n      'listItemIndent',\n      self.containerState.size + 1\n    )(code)\n  }\n\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n      return notInCurrentItem(code)\n    }\n\n    self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code)\n  }\n\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true // As were closing flow, were no longer interrupting.\n\n    self.interrupt = undefined\n    return factorySpace(\n      effects,\n      effects.attempt(list, ok, nok),\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )(code)\n  }\n}\n\nfunction tokenizeIndent(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemIndent',\n    self.containerState.size + 1\n  )\n\n  function afterPrefix(code) {\n    return prefixSize(self.events, 'listItemIndent') ===\n      self.containerState.size\n      ? ok(code)\n      : nok(code)\n  }\n}\n\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type)\n}\n\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemPrefixWhitespace',\n    self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4 + 1\n  )\n\n  function afterPrefix(code) {\n    return markdownSpace(code) ||\n      !prefixSize(self.events, 'listItemPrefixWhitespace')\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = list\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar shallow = require('../util/shallow.js')\nvar factorySpace = require('./factory-space.js')\n\nvar setextUnderline = {\n  name: 'setextUnderline',\n  tokenize: tokenizeSetextUnderline,\n  resolveTo: resolveToSetextUnderline\n}\n\nfunction resolveToSetextUnderline(events, context) {\n  var index = events.length\n  var content\n  var text\n  var definition\n  var heading // Find the opening of the content.\n  // Itll always exist: we dont tokenize if it isnt there.\n\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === 'content') {\n        content = index\n        break\n      }\n\n      if (events[index][1].type === 'paragraph') {\n        text = index\n      }\n    } // Exit\n    else {\n      if (events[index][1].type === 'content') {\n        // Remove the content end (if needed well add it later)\n        events.splice(index, 1)\n      }\n\n      if (!definition && events[index][1].type === 'definition') {\n        definition = index\n      }\n    }\n  }\n\n  heading = {\n    type: 'setextHeading',\n    start: shallow(events[text][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  } // Change the paragraph to setext heading text.\n\n  events[text][1].type = 'setextHeadingText' // If we have definitions in the content, well keep on having content,\n  // but we need move it.\n\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context])\n    events.splice(definition + 1, 0, ['exit', events[content][1], context])\n    events[content][1].end = shallow(events[definition][1].end)\n  } else {\n    events[content][1] = heading\n  } // Add the heading exit at the end.\n\n  events.push(['exit', heading, context])\n  return events\n}\n\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var marker\n  var paragraph // Find an opening.\n\n  while (index--) {\n    // Skip enter/exit of line ending, line prefix, and content.\n    // We can now either have a definition or a paragraph.\n    if (\n      self.events[index][1].type !== 'lineEnding' &&\n      self.events[index][1].type !== 'linePrefix' &&\n      self.events[index][1].type !== 'content'\n    ) {\n      paragraph = self.events[index][1].type === 'paragraph'\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!self.lazy && (self.interrupt || paragraph)) {\n      effects.enter('setextHeadingLine')\n      effects.enter('setextHeadingLineSequence')\n      marker = code\n      return closingSequence(code)\n    }\n\n    return nok(code)\n  }\n\n  function closingSequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return closingSequence\n    }\n\n    effects.exit('setextHeadingLineSequence')\n    return factorySpace(effects, closingSequenceEnd, 'lineSuffix')(code)\n  }\n\n  function closingSequenceEnd(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('setextHeadingLine')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = setextUnderline\n","'use strict'\n\nvar search = /[\\0\\t\\n\\r]/g\n\nfunction preprocess() {\n  var start = true\n  var column = 1\n  var buffer = ''\n  var atCarriageReturn\n  return preprocessor\n\n  function preprocessor(value, encoding, end) {\n    var chunks = []\n    var match\n    var next\n    var startPosition\n    var endPosition\n    var code\n    value = buffer + value.toString(encoding)\n    startPosition = 0\n    buffer = ''\n\n    if (start) {\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++\n      }\n\n      start = undefined\n    }\n\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition\n      match = search.exec(value)\n      endPosition = match ? match.index : value.length\n      code = value.charCodeAt(endPosition)\n\n      if (!match) {\n        buffer = value.slice(startPosition)\n        break\n      }\n\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3)\n        atCarriageReturn = undefined\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5)\n          atCarriageReturn = undefined\n        }\n\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition))\n          column += endPosition - startPosition\n        }\n\n        if (code === 0) {\n          chunks.push(65533)\n          column++\n        } else if (code === 9) {\n          next = Math.ceil(column / 4) * 4\n          chunks.push(-2)\n\n          while (column++ < next) chunks.push(-1)\n        } else if (code === 10) {\n          chunks.push(-4)\n          column = 1\n        } // Must be carriage return.\n        else {\n          atCarriageReturn = true\n          column = 1\n        }\n      }\n\n      startPosition = endPosition + 1\n    }\n\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5)\n      if (buffer) chunks.push(buffer)\n      chunks.push(null)\n    }\n\n    return chunks\n  }\n}\n\nmodule.exports = preprocess\n","'use strict'\n\nvar subtokenize = require('./util/subtokenize.js')\n\nfunction postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n\n  return events\n}\n\nmodule.exports = postprocess\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","var visitWithParents = require('unist-util-visit-parents');\n\nfunction addListMetadata() {\n  return function (ast) {\n    visitWithParents(ast, 'list', function (listNode, parents) {\n      var depth = 0, i, n;\n      for (i = 0, n = parents.length; i < n; i++) {\n        if (parents[i].type === 'list') depth += 1;\n      }\n      for (i = 0, n = listNode.children.length; i < n; i++) {\n        var child = listNode.children[i];\n        child.index = i;\n        child.ordered = listNode.ordered;\n      }\n      listNode.depth = depth;\n    });\n    return ast;\n  };\n}\n\nmodule.exports = addListMetadata;\n","'use strict'\n\n/* Expose. */\nmodule.exports = visitParents\n\n/* Visit. */\nfunction visitParents(tree, type, visitor) {\n  var stack = []\n\n  if (typeof type === 'function') {\n    visitor = type\n    type = null\n  }\n\n  one(tree)\n\n  /* Visit a single node. */\n  function one(node) {\n    var result\n\n    if (!type || node.type === type) {\n      result = visitor(node, stack.concat())\n    }\n\n    if (node.children && result !== false) {\n      return all(node.children, node)\n    }\n\n    return result\n  }\n\n  /* Visit children in `parent`. */\n  function all(children, parent) {\n    var length = children.length\n    var index = -1\n    var child\n\n    stack.push(parent)\n\n    while (++index < length) {\n      child = children[index]\n\n      if (child && one(child) === false) {\n        return false\n      }\n    }\n\n    stack.pop()\n\n    return true\n  }\n}\n","\"use strict\";\n\n/**\n * Naive, simple plugin to match inline nodes without attributes\n * This allows say <strong>foo</strong>, but not <strong class=\"very\">foo</strong>\n * For proper HTML support, you'll want a different plugin\n **/\nvar visit = require('unist-util-visit');\n\nvar type = 'virtualHtml';\nvar selfClosingRe = /^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\s*\\/?>$/i;\nvar simpleTagRe = /^<(\\/?)([a-z]+)\\s*>$/;\n\nmodule.exports = function (tree) {\n  var open;\n  var currentParent;\n  visit(tree, 'html', function (node, index, parent) {\n    if (currentParent !== parent) {\n      open = [];\n      currentParent = parent;\n    }\n\n    var selfClosing = getSelfClosing(node);\n\n    if (selfClosing) {\n      parent.children.splice(index, 1, {\n        type: type,\n        tag: selfClosing,\n        position: node.position\n      });\n      return true;\n    }\n\n    var current = getSimpleTag(node, parent);\n\n    if (!current) {\n      return true;\n    }\n\n    var matching = findAndPull(open, current.tag);\n\n    if (matching) {\n      parent.children.splice(index, 0, virtual(current, matching, parent));\n    } else if (!current.opening) {\n      open.push(current);\n    }\n\n    return true;\n  }, true // Iterate in reverse\n  );\n  return tree;\n};\n\nfunction findAndPull(open, matchingTag) {\n  var i = open.length;\n\n  while (i--) {\n    if (open[i].tag === matchingTag) {\n      return open.splice(i, 1)[0];\n    }\n  }\n\n  return false;\n}\n\nfunction getSimpleTag(node, parent) {\n  var match = node.value.match(simpleTagRe);\n  return match ? {\n    tag: match[2],\n    opening: !match[1],\n    node: node\n  } : false;\n}\n\nfunction getSelfClosing(node) {\n  var match = node.value.match(selfClosingRe);\n  return match ? match[1] : false;\n}\n\nfunction virtual(fromNode, toNode, parent) {\n  var fromIndex = parent.children.indexOf(fromNode.node);\n  var toIndex = parent.children.indexOf(toNode.node);\n  var extracted = parent.children.splice(fromIndex, toIndex - fromIndex + 1);\n  var children = extracted.slice(1, -1);\n  return {\n    type: type,\n    children: children,\n    tag: fromNode.tag,\n    position: {\n      start: fromNode.node.position.start,\n      end: toNode.node.position.end,\n      indent: []\n    }\n  };\n}","module.exports = identity\nfunction identity(d) {\n  return d\n}\n","\"use strict\";\n\nvar visit = require('unist-util-visit');\n\nvar splice = [].splice;\n\nexports.ofType = function (types, mode) {\n  return ifNotMatch(allow, mode);\n\n  function allow(node, index, parent) {\n    return !types.includes(node.type);\n  }\n};\n\nexports.ifNotMatch = ifNotMatch;\n\nfunction ifNotMatch(allow, mode) {\n  return transform;\n\n  function transform(tree) {\n    visit(tree, filter);\n    return tree;\n  } // eslint-disable-next-line consistent-return\n\n\n  function filter(node, index, parent) {\n    if (parent && !allow(node, index, parent)) {\n      var parameters = [index, 1];\n\n      if (mode === 'unwrap' && node.children) {\n        parameters = parameters.concat(node.children);\n      }\n\n      splice.apply(parent.children, parameters);\n      return index;\n    }\n  }\n}","'use strict';\n\nvar React = require('react');\n\nvar xtend = require('xtend');\n\nvar ReactIs = require('react-is');\n\nfunction astToReact(node, options) {\n  var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var renderer = options.renderers[node.type]; // Nodes created by plugins do not have positional info, in which case we set\n  // an object that matches the positon interface.\n\n  if (!node.position) {\n    node.position = {\n      start: {\n        line: null,\n        column: null,\n        offset: null\n      },\n      end: {\n        line: null,\n        column: null,\n        offset: null\n      }\n    };\n  }\n\n  var pos = node.position.start;\n  var key = [node.type, pos.line, pos.column, index].join('-');\n\n  if (!ReactIs.isValidElementType(renderer)) {\n    throw new Error(\"Renderer for type `\".concat(node.type, \"` not defined or is not renderable\"));\n  }\n\n  var nodeProps = getNodeProps(node, key, options, renderer, parent, index);\n  return React.createElement(renderer, nodeProps, nodeProps.children || resolveChildren() || undefined);\n\n  function resolveChildren() {\n    return node.children && node.children.map(function (childNode, i) {\n      return astToReact(childNode, options, {\n        node: node,\n        props: nodeProps\n      }, i);\n    });\n  }\n} // eslint-disable-next-line max-params, complexity\n\n\nfunction getNodeProps(node, key, opts, renderer, parent, index) {\n  var props = {\n    key: key\n  };\n  var isSimpleRenderer = typeof renderer === 'string' || renderer === React.Fragment; // `sourcePos` is true if the user wants source information (line/column info from markdown source)\n\n  if (opts.sourcePos && node.position) {\n    props['data-sourcepos'] = flattenPosition(node.position);\n  }\n\n  if (opts.rawSourcePos && !isSimpleRenderer) {\n    props.sourcePosition = node.position;\n  } // If `includeNodeIndex` is true, pass node index info to all non-tag renderers\n\n\n  if (opts.includeNodeIndex && parent.node && parent.node.children && !isSimpleRenderer) {\n    props.index = parent.node.children.indexOf(node);\n    props.parentChildCount = parent.node.children.length;\n  }\n\n  var ref = node.identifier !== null && node.identifier !== undefined ?\n  /* istanbul ignore next - plugins could inject an undefined reference. */\n  opts.definitions[node.identifier.toUpperCase()] || {} : null;\n\n  switch (node.type) {\n    case 'root':\n      assignDefined(props, {\n        className: opts.className\n      });\n      break;\n\n    case 'text':\n      props.nodeKey = key;\n      props.children = node.value;\n      break;\n\n    case 'heading':\n      props.level = node.depth;\n      break;\n\n    case 'list':\n      props.start = node.start;\n      props.ordered = node.ordered;\n      props.spread = node.spread;\n      props.depth = node.depth;\n      break;\n\n    case 'listItem':\n      props.checked = node.checked;\n      props.spread = node.spread;\n      props.ordered = node.ordered;\n      props.index = node.index;\n      props.children = getListItemChildren(node, parent).map(function (childNode, i) {\n        return astToReact(childNode, opts, {\n          node: node,\n          props: props\n        }, i);\n      });\n      break;\n\n    case 'definition':\n      assignDefined(props, {\n        identifier: node.identifier,\n        title: node.title,\n        url: node.url\n      });\n      break;\n\n    case 'code':\n      assignDefined(props, {\n        language: node.lang && node.lang.split(/\\s/, 1)[0]\n      });\n      break;\n\n    case 'inlineCode':\n      props.children = node.value;\n      props.inline = true;\n      break;\n\n    case 'link':\n      assignDefined(props, {\n        title: node.title || undefined,\n        target: typeof opts.linkTarget === 'function' ? opts.linkTarget(node.url, node.children, node.title) : opts.linkTarget,\n        href: opts.transformLinkUri ? opts.transformLinkUri(node.url, node.children, node.title) : node.url\n      });\n      break;\n\n    case 'image':\n      assignDefined(props, {\n        src: opts.transformImageUri ? opts.transformImageUri(node.url, node.children, node.title, node.alt) : node.url,\n        alt: node.alt || '',\n        title: node.title || undefined\n      });\n      break;\n\n    case 'linkReference':\n      assignDefined(props, xtend(ref, {\n        href: opts.transformLinkUri ? opts.transformLinkUri(ref.href) : ref.href\n      }));\n      break;\n\n    case 'imageReference':\n      assignDefined(props, {\n        src: opts.transformImageUri && ref.href ? opts.transformImageUri(ref.href, node.children, ref.title, node.alt) : ref.href,\n        alt: node.alt || '',\n        title: ref.title || undefined\n      });\n      break;\n\n    case 'table':\n    case 'tableHead':\n    case 'tableBody':\n      props.columnAlignment = node.align;\n      break;\n\n    case 'tableRow':\n      props.isHeader = parent.node.type === 'tableHead';\n      props.columnAlignment = parent.props.columnAlignment;\n      break;\n\n    case 'tableCell':\n      assignDefined(props, {\n        isHeader: parent.props.isHeader,\n        align: parent.props.columnAlignment[index]\n      });\n      break;\n\n    case 'virtualHtml':\n      props.tag = node.tag;\n      break;\n\n    case 'html':\n      // @todo find a better way than this\n      props.isBlock = node.position.start.line !== node.position.end.line;\n      props.allowDangerousHtml = opts.allowDangerousHtml;\n      props.escapeHtml = opts.escapeHtml;\n      props.skipHtml = opts.skipHtml;\n      break;\n\n    case 'parsedHtml':\n      {\n        var parsedChildren;\n\n        if (node.children) {\n          parsedChildren = node.children.map(function (child, i) {\n            return astToReact(child, opts, {\n              node: node,\n              props: props\n            }, i);\n          });\n        }\n\n        props.allowDangerousHtml = opts.allowDangerousHtml;\n        props.escapeHtml = opts.escapeHtml;\n        props.skipHtml = opts.skipHtml;\n        props.element = node.element ? mergeNodeChildren(node, parsedChildren) : null;\n        break;\n      }\n\n    default:\n      assignDefined(props, xtend(node, {\n        type: undefined,\n        position: undefined,\n        children: undefined\n      }));\n  }\n\n  if (!isSimpleRenderer && node.value) {\n    props.value = node.value;\n  }\n\n  if (!isSimpleRenderer) {\n    props.node = node;\n  }\n\n  return props;\n}\n\nfunction assignDefined(target, attrs) {\n  for (var key in attrs) {\n    if (typeof attrs[key] !== 'undefined') {\n      target[key] = attrs[key];\n    }\n  }\n}\n\nfunction mergeNodeChildren(node, parsedChildren) {\n  var el = node.element;\n\n  if (Array.isArray(el)) {\n    /* istanbul ignore next - `div` fallback for old React. */\n    var Fragment = React.Fragment || 'div';\n    return React.createElement(Fragment, null, el);\n  }\n\n  if (el.props.children || parsedChildren) {\n    var children = React.Children.toArray(el.props.children).concat(parsedChildren);\n    return React.cloneElement(el, null, children);\n  }\n\n  return React.cloneElement(el, null);\n}\n\nfunction flattenPosition(pos) {\n  return [pos.start.line, ':', pos.start.column, '-', pos.end.line, ':', pos.end.column].map(String).join('');\n}\n\nfunction getListItemChildren(node, parent) {\n  /* istanbul ignore next - list items are always in a list, but best to be sure. */\n  var loose = parent && parent.node ? listLoose(parent.node) : listItemLoose(node);\n  return loose ? node.children : unwrapParagraphs(node);\n}\n\nfunction unwrapParagraphs(node) {\n  return node.children.reduce(function (array, child) {\n    return array.concat(child.type === 'paragraph' ? child.children : [child]);\n  }, []);\n}\n\nfunction listLoose(node) {\n  var children = node.children;\n  var loose = node.spread;\n  var index = -1;\n\n  while (!loose && ++index < children.length) {\n    loose = listItemLoose(children[index]);\n  }\n\n  return loose;\n}\n\nfunction listItemLoose(node) {\n  var spread = node.spread;\n  /* istanbul ignore next - spread is present from remark-parse, but maybe plugins dont set it. */\n\n  return spread === undefined || spread === null ? node.children.length > 1 : spread;\n}\n\nmodule.exports = astToReact;","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function (node) {\n  visit(node, 'table', wrap);\n  return node;\n};\n\nfunction wrap(table) {\n  var children = table.children;\n  table.children = [{\n    type: 'tableHead',\n    align: table.align,\n    children: [children[0]],\n    position: children[0].position\n  }];\n\n  if (children.length > 1) {\n    table.children.push({\n      type: 'tableBody',\n      align: table.align,\n      children: children.slice(1),\n      position: {\n        start: children[1].position.start,\n        end: children[children.length - 1].position.end\n      }\n    });\n  }\n}","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function getDefinitions(tree) {\n  var definitions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  visit(tree, 'definition', function (node) {\n    var identifier = node.identifier.toUpperCase();\n    if (identifier in definitions) return;\n    definitions[identifier] = {\n      href: node.url,\n      title: node.title\n    };\n  });\n  return definitions;\n};","\"use strict\";\n\nvar protocols = ['http', 'https', 'mailto', 'tel'];\n\nmodule.exports = function uriTransformer(uri) {\n  var url = (uri || '').trim();\n  var first = url.charAt(0);\n\n  if (first === '#' || first === '/') {\n    return url;\n  }\n\n  var colon = url.indexOf(':');\n\n  if (colon === -1) {\n    return url;\n  }\n\n  var length = protocols.length;\n  var index = -1;\n\n  while (++index < length) {\n    var protocol = protocols[index];\n\n    if (colon === protocol.length && url.slice(0, protocol.length).toLowerCase() === protocol) {\n      return url;\n    }\n  }\n\n  index = url.indexOf('?');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  }\n\n  index = url.indexOf('#');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  } // eslint-disable-next-line no-script-url\n\n\n  return 'javascript:void(0)';\n};","/* eslint-disable react/prop-types, react/no-multi-comp */\n'use strict';\n\nvar xtend = require('xtend');\n\nvar React = require('react');\n/* istanbul ignore next - Dont crash on old React. */\n\n\nvar supportsStringRender = parseInt((React.version || '16').slice(0, 2), 10) >= 16;\nvar createElement = React.createElement;\nmodule.exports = {\n  break: 'br',\n  paragraph: 'p',\n  emphasis: 'em',\n  strong: 'strong',\n  thematicBreak: 'hr',\n  blockquote: 'blockquote',\n  delete: 'del',\n  link: 'a',\n  image: 'img',\n  linkReference: 'a',\n  imageReference: 'img',\n  table: SimpleRenderer.bind(null, 'table'),\n  tableHead: SimpleRenderer.bind(null, 'thead'),\n  tableBody: SimpleRenderer.bind(null, 'tbody'),\n  tableRow: SimpleRenderer.bind(null, 'tr'),\n  tableCell: TableCell,\n  root: Root,\n  text: TextRenderer,\n  list: List,\n  listItem: ListItem,\n  definition: NullRenderer,\n  heading: Heading,\n  inlineCode: InlineCode,\n  code: CodeBlock,\n  html: Html,\n  virtualHtml: VirtualHtml,\n  parsedHtml: ParsedHtml\n};\n\nfunction TextRenderer(props) {\n  /* istanbul ignore next - a text node w/o a value could be injected by plugins */\n  var children = props.children || '';\n  /* istanbul ignore next - `span` is a fallback for old React. */\n\n  return supportsStringRender ? children : createElement('span', null, children);\n}\n\nfunction Root(props) {\n  var className = props.className;\n  var root = !className && React.Fragment || 'div';\n  return createElement(root, className ? {\n    className: className\n  } : null, props.children);\n}\n\nfunction SimpleRenderer(tag, props) {\n  return createElement(tag, getCoreProps(props), props.children);\n}\n\nfunction TableCell(props) {\n  var style = props.align ? {\n    textAlign: props.align\n  } : undefined;\n  var coreProps = getCoreProps(props);\n  return createElement(props.isHeader ? 'th' : 'td', style ? xtend({\n    style: style\n  }, coreProps) : coreProps, props.children);\n}\n\nfunction Heading(props) {\n  return createElement(\"h\".concat(props.level), getCoreProps(props), props.children);\n}\n\nfunction List(props) {\n  var attrs = getCoreProps(props);\n\n  if (props.start !== null && props.start !== 1 && props.start !== undefined) {\n    attrs.start = props.start.toString();\n  }\n\n  return createElement(props.ordered ? 'ol' : 'ul', attrs, props.children);\n}\n\nfunction ListItem(props) {\n  var checkbox = null;\n\n  if (props.checked !== null && props.checked !== undefined) {\n    var checked = props.checked;\n    checkbox = createElement('input', {\n      type: 'checkbox',\n      checked: checked,\n      readOnly: true\n    });\n  }\n\n  return createElement('li', getCoreProps(props), checkbox, props.children);\n}\n\nfunction CodeBlock(props) {\n  var className = props.language && \"language-\".concat(props.language);\n  var code = createElement('code', className ? {\n    className: className\n  } : null, props.value);\n  return createElement('pre', getCoreProps(props), code);\n}\n\nfunction InlineCode(props) {\n  return createElement('code', getCoreProps(props), props.children);\n}\n\nfunction Html(props) {\n  if (props.skipHtml) {\n    return null;\n  }\n\n  var dangerous = props.allowDangerousHtml || props.escapeHtml === false;\n  var tag = props.isBlock ? 'div' : 'span';\n\n  if (!dangerous) {\n    /* istanbul ignore next - `tag` is a fallback for old React. */\n    return createElement(React.Fragment || tag, null, props.value);\n  }\n\n  var nodeProps = {\n    dangerouslySetInnerHTML: {\n      __html: props.value\n    }\n  };\n  return createElement(tag, nodeProps);\n}\n\nfunction ParsedHtml(props) {\n  /* To do: `React.cloneElement` is slow, is it really needed? */\n  return props['data-sourcepos'] ? React.cloneElement(props.element, {\n    'data-sourcepos': props['data-sourcepos']\n  }) : props.element;\n}\n\nfunction VirtualHtml(props) {\n  return createElement(props.tag, getCoreProps(props), props.children);\n}\n\nfunction NullRenderer() {\n  return null;\n}\n\nfunction getCoreProps(props) {\n  var source = props['data-sourcepos'];\n  /* istanbul ignore next - nodes from plugins w/o position */\n\n  return source ? {\n    'data-sourcepos': source\n  } : {};\n}","\"use strict\";\n\nvar HtmlParser = '__RMD_HTML_PARSER__';\n/* istanbul ignore next - Fallback for `Symbol`. */\n\nexports.HtmlParser = typeof Symbol === 'undefined' ? HtmlParser : Symbol(HtmlParser);","'use strict'\n\nvar syntax = require('micromark-extension-gfm')\nvar fromMarkdown = require('mdast-util-gfm/from-markdown')\nvar toMarkdown = require('mdast-util-gfm/to-markdown')\n\nvar warningIssued\n\nmodule.exports = gfm\n\nfunction gfm(options) {\n  var data = this.data()\n\n  /* istanbul ignore next - old remark. */\n  if (\n    !warningIssued &&\n    ((this.Parser &&\n      this.Parser.prototype &&\n      this.Parser.prototype.blockTokenizers) ||\n      (this.Compiler &&\n        this.Compiler.prototype &&\n        this.Compiler.prototype.visitors))\n  ) {\n    warningIssued = true\n    console.warn(\n      '[remark-gfm] Warning: please upgrade to remark 13 to use this plugin'\n    )\n  }\n\n  add('micromarkExtensions', syntax(options))\n  add('fromMarkdownExtensions', fromMarkdown)\n  add('toMarkdownExtensions', toMarkdown(options))\n\n  function add(field, value) {\n    /* istanbul ignore if - other extensions. */\n    if (data[field]) data[field].push(value)\n    else data[field] = [value]\n  }\n}\n","module.exports = require('./syntax')\n","var combine = require('micromark/dist/util/combine-extensions')\nvar autolink = require('micromark-extension-gfm-autolink-literal')\nvar strikethrough = require('micromark-extension-gfm-strikethrough')\nvar table = require('micromark-extension-gfm-table')\nvar tasklist = require('micromark-extension-gfm-task-list-item')\n\nmodule.exports = create\n\nfunction create(options) {\n  return combine([autolink, strikethrough(options), table, tasklist])\n}\n","module.exports = require('./syntax')\n","var asciiAlpha = require('micromark/dist/character/ascii-alpha')\nvar asciiAlphanumeric = require('micromark/dist/character/ascii-alphanumeric')\nvar asciiControl = require('micromark/dist/character/ascii-control')\nvar markdownLineEnding = require('micromark/dist/character/markdown-line-ending')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nvar www = {tokenize: tokenizeWww, partial: true}\nvar domain = {tokenize: tokenizeDomain, partial: true}\nvar path = {tokenize: tokenizePath, partial: true}\nvar punctuation = {tokenize: tokenizePunctuation, partial: true}\nvar namedCharacterReference = {\n  tokenize: tokenizeNamedCharacterReference,\n  partial: true\n}\n\nvar wwwAutolink = {tokenize: tokenizeWwwAutolink, previous: previousWww}\nvar httpAutolink = {tokenize: tokenizeHttpAutolink, previous: previousHttp}\nvar emailAutolink = {tokenize: tokenizeEmailAutolink, previous: previousEmail}\n\nvar text = {}\n\n// Export hooked constructs.\nexports.text = text\n\n// `0`\nvar code = 48\n\n// While the code is smaller than `{`.\nwhile (code < 123) {\n  text[code] = emailAutolink\n  code++\n  // Jump from `:` -> `A`\n  if (code === 58) code = 65\n  // Jump from `[` -> `a`\n  else if (code === 91) code = 97\n}\n\n// `+`\ntext[43] = emailAutolink\n// `-`\ntext[45] = emailAutolink\n// `.`\ntext[46] = emailAutolink\n// `_`\ntext[95] = emailAutolink\n// `h`.\ntext[72] = [emailAutolink, httpAutolink]\ntext[104] = [emailAutolink, httpAutolink]\n// `w`.\ntext[87] = [emailAutolink, wwwAutolink]\ntext[119] = [emailAutolink, wwwAutolink]\n\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  var self = this\n  var hasDot\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      !gfmAtext(code) ||\n      !previousEmail(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkEmail')\n    return atext(code)\n  }\n\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code)\n      return atext\n    }\n\n    // `@`\n    if (code === 64) {\n      effects.consume(code)\n      return label\n    }\n\n    return nok(code)\n  }\n\n  function label(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, done, dotContinuation)(code)\n    }\n\n    if (\n      // `-`\n      code === 45 ||\n      // `_`\n      code === 95\n    ) {\n      return effects.check(punctuation, nok, dashOrUnderscoreContinuation)(code)\n    }\n\n    if (asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return label\n    }\n\n    return done(code)\n  }\n\n  function dotContinuation(code) {\n    effects.consume(code)\n    hasDot = true\n    return label\n  }\n\n  function dashOrUnderscoreContinuation(code) {\n    effects.consume(code)\n    return afterDashOrUnderscore\n  }\n\n  function afterDashOrUnderscore(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, nok, dotContinuation)(code)\n    }\n\n    return label(code)\n  }\n\n  function done(code) {\n    if (hasDot) {\n      effects.exit('literalAutolinkEmail')\n      effects.exit('literalAutolink')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 87 && code - 32 !== 87) ||\n      !previousWww(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkWww')\n    // For `www.` we check instead of attempt, because when it matches, GH\n    // treats it as part of a domain (yes, it says a valid domain must come\n    // after `www.`, but thats not how its implemented by them).\n    return effects.check(\n      www,\n      effects.attempt(domain, effects.attempt(path, done), nok),\n      nok\n    )(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkWww')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeHttpAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 72 && code - 32 !== 72) ||\n      !previousHttp(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkHttp')\n    effects.consume(code)\n    return t1\n  }\n\n  function t1(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return t2\n    }\n\n    return nok(code)\n  }\n\n  function t2(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return p\n    }\n\n    return nok(code)\n  }\n\n  function p(code) {\n    // `p`\n    if (code === 80 || code - 32 === 80) {\n      effects.consume(code)\n      return s\n    }\n\n    return nok(code)\n  }\n\n  function s(code) {\n    // `s`\n    if (code === 83 || code - 32 === 83) {\n      effects.consume(code)\n      return colon\n    }\n\n    return colon(code)\n  }\n\n  function colon(code) {\n    // `:`\n    if (code === 58) {\n      effects.consume(code)\n      return slash1\n    }\n\n    return nok(code)\n  }\n\n  function slash1(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return slash2\n    }\n\n    return nok(code)\n  }\n\n  function slash2(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      unicodePunctuation(code)\n      ? nok(code)\n      : effects.attempt(domain, effects.attempt(path, done), nok)(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkHttp')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeWww(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume a `w`.\n    effects.consume(code)\n    return w2\n  }\n\n  function w2(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return w3\n    }\n\n    return nok(code)\n  }\n\n  function w3(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return dot\n    }\n\n    return nok(code)\n  }\n\n  function dot(code) {\n    // `.`\n    if (code === 46) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? nok(code) : ok(code)\n  }\n}\n\nfunction tokenizeDomain(effects, ok, nok) {\n  var hasUnderscoreInLastSegment\n  var hasUnderscoreInLastLastSegment\n\n  return domain\n\n  function domain(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        done,\n        punctuationContinuation\n      )(code)\n    }\n\n    if (code === 46 /* `.` */ || code === 95 /* `_` */) {\n      return effects.check(punctuation, done, punctuationContinuation)(code)\n    }\n\n    // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www..com`,\n    // so thats Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n    if (\n      asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      (code !== 45 /* `-` */ && unicodePunctuation(code))\n    ) {\n      return done(code)\n    }\n\n    effects.consume(code)\n    return domain\n  }\n\n  function punctuationContinuation(code) {\n    // `.`\n    if (code === 46) {\n      hasUnderscoreInLastLastSegment = hasUnderscoreInLastSegment\n      hasUnderscoreInLastSegment = undefined\n      effects.consume(code)\n      return domain\n    }\n\n    // `_`\n    if (code === 95) hasUnderscoreInLastSegment = true\n\n    effects.consume(code)\n    return domain\n  }\n\n  function done(code) {\n    if (!hasUnderscoreInLastLastSegment && !hasUnderscoreInLastSegment) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizePath(effects, ok) {\n  var balance = 0\n\n  return inPath\n\n  function inPath(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        ok,\n        continuedPunctuation\n      )(code)\n    }\n\n    // `(`\n    if (code === 40) {\n      balance++\n    }\n\n    // `)`\n    if (code === 41) {\n      return effects.check(\n        punctuation,\n        parenAtPathEnd,\n        continuedPunctuation\n      )(code)\n    }\n\n    if (pathEnd(code)) {\n      return ok(code)\n    }\n\n    if (trailingPunctuation(code)) {\n      return effects.check(punctuation, ok, continuedPunctuation)(code)\n    }\n\n    effects.consume(code)\n    return inPath\n  }\n\n  function continuedPunctuation(code) {\n    effects.consume(code)\n    return inPath\n  }\n\n  function parenAtPathEnd(code) {\n    balance--\n    return balance < 0 ? ok(code) : continuedPunctuation(code)\n  }\n}\n\nfunction tokenizeNamedCharacterReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume an ampersand.\n    effects.consume(code)\n    return inside\n  }\n\n  function inside(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return inside\n    }\n\n    // `;`\n    if (code === 59) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    // If the named character reference is followed by the end of the path, its\n    // not continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction tokenizePunctuation(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Always a valid trailing punctuation marker.\n    effects.consume(code)\n    return after\n  }\n\n  function after(code) {\n    // Check the next.\n    if (trailingPunctuation(code)) {\n      effects.consume(code)\n      return after\n    }\n\n    // If the punctuation marker is followed by the end of the path, its not\n    // continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction trailingPunctuation(code) {\n  return (\n    // `!`\n    code === 33 ||\n    // `\"`\n    code === 34 ||\n    // `'`\n    code === 39 ||\n    // `)`\n    code === 41 ||\n    // `*`\n    code === 42 ||\n    // `,`\n    code === 44 ||\n    // `.`\n    code === 46 ||\n    // `:`\n    code === 58 ||\n    // `;`\n    code === 59 ||\n    // `<`\n    code === 60 ||\n    // `?`\n    code === 63 ||\n    // `_`.\n    code === 95 ||\n    // `~`\n    code === 126\n  )\n}\n\nfunction pathEnd(code) {\n  return (\n    // EOF.\n    code === null ||\n    // CR, LF, CRLF, HT, VS.\n    code < 0 ||\n    // Space.\n    code === 32 ||\n    // `<`\n    code === 60\n  )\n}\n\nfunction gfmAtext(code) {\n  return (\n    code === 43 /* `+` */ ||\n    code === 45 /* `-` */ ||\n    code === 46 /* `.` */ ||\n    code === 95 /* `_` */ ||\n    asciiAlphanumeric(code)\n  )\n}\n\nfunction previousWww(code) {\n  return (\n    code === null ||\n    code < 0 ||\n    code === 32 /* ` ` */ ||\n    code === 40 /* `(` */ ||\n    code === 42 /* `*` */ ||\n    code === 95 /* `_` */ ||\n    code === 126 /* `~` */\n  )\n}\n\nfunction previousHttp(code) {\n  return code === null || !asciiAlpha(code)\n}\n\nfunction previousEmail(code) {\n  return code !== 47 /* `/` */ && previousHttp(code)\n}\n\nfunction previous(events) {\n  var index = events.length\n\n  while (index--) {\n    if (\n      (events[index][1].type === 'labelLink' ||\n        events[index][1].type === 'labelImage') &&\n      !events[index][1]._balanced\n    ) {\n      return true\n    }\n  }\n}\n","module.exports = create\n\nvar classifyCharacter = require('micromark/dist/util/classify-character')\nvar chunkedSplice = require('micromark/dist/util/chunked-splice')\nvar resolveAll = require('micromark/dist/util/resolve-all')\nvar shallow = require('micromark/dist/util/shallow')\n\nfunction create(options) {\n  var settings = options || {}\n  var single = settings.singleTilde\n  var tokenizer = {\n    tokenize: tokenizeStrikethrough,\n    resolveAll: resolveAllStrikethrough\n  }\n\n  if (single === null || single === undefined) {\n    single = true\n  }\n\n  return {text: {126: tokenizer}, insideSpan: {null: tokenizer}}\n\n  // Take events and resolve strikethrough.\n  function resolveAllStrikethrough(events, context) {\n    var index = -1\n    var strikethrough\n    var text\n    var open\n    var nextEvents\n\n    // Walk through all events.\n    while (++index < events.length) {\n      // Find a token that can close.\n      if (\n        events[index][0] === 'enter' &&\n        events[index][1].type === 'strikethroughSequenceTemporary' &&\n        events[index][1]._close\n      ) {\n        open = index\n\n        // Now walk back to find an opener.\n        while (open--) {\n          // Find a token that can open the closer.\n          if (\n            events[open][0] === 'exit' &&\n            events[open][1].type === 'strikethroughSequenceTemporary' &&\n            events[open][1]._open &&\n            // If the sizes are the same:\n            events[index][1].end.offset - events[index][1].start.offset ===\n              events[open][1].end.offset - events[open][1].start.offset\n          ) {\n            events[index][1].type = 'strikethroughSequence'\n            events[open][1].type = 'strikethroughSequence'\n\n            strikethrough = {\n              type: 'strikethrough',\n              start: shallow(events[open][1].start),\n              end: shallow(events[index][1].end)\n            }\n\n            text = {\n              type: 'strikethroughText',\n              start: shallow(events[open][1].end),\n              end: shallow(events[index][1].start)\n            }\n\n            // Opening.\n            nextEvents = [\n              ['enter', strikethrough, context],\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context],\n              ['enter', text, context]\n            ]\n\n            // Between.\n            chunkedSplice(\n              nextEvents,\n              nextEvents.length,\n              0,\n              resolveAll(\n                context.parser.constructs.insideSpan.null,\n                events.slice(open + 1, index),\n                context\n              )\n            )\n\n            // Closing.\n            chunkedSplice(nextEvents, nextEvents.length, 0, [\n              ['exit', text, context],\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context],\n              ['exit', strikethrough, context]\n            ])\n\n            chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n\n            index = open + nextEvents.length - 2\n            break\n          }\n        }\n      }\n    }\n\n    return removeRemainingSequences(events)\n  }\n\n  function removeRemainingSequences(events) {\n    var index = -1\n    var length = events.length\n\n    while (++index < length) {\n      if (events[index][1].type === 'strikethroughSequenceTemporary') {\n        events[index][1].type = 'data'\n      }\n    }\n\n    return events\n  }\n\n  function tokenizeStrikethrough(effects, ok, nok) {\n    var previous = this.previous\n    var events = this.events\n    var size = 0\n\n    return start\n\n    function start(code) {\n      if (\n        code !== 126 ||\n        (previous === 126 &&\n          events[events.length - 1][1].type !== 'characterEscape')\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('strikethroughSequenceTemporary')\n      return more(code)\n    }\n\n    function more(code) {\n      var before = classifyCharacter(previous)\n      var token\n      var after\n\n      if (code === 126) {\n        // If this is the third marker, exit.\n        if (size > 1) return nok(code)\n        effects.consume(code)\n        size++\n        return more\n      }\n\n      if (size < 2 && !single) return nok(code)\n      token = effects.exit('strikethroughSequenceTemporary')\n      after = classifyCharacter(code)\n      token._open = !after || (after === 2 && before)\n      token._close = !before || (before === 2 && after)\n      return ok(code)\n    }\n  }\n}\n","module.exports = require('./syntax')\n","exports.flow = {\n  null: {tokenize: tokenizeTable, resolve: resolveTable, interruptible: true}\n}\n\nvar createSpace = require('micromark/dist/tokenize/factory-space')\n\nvar setextUnderlineMini = {tokenize: tokenizeSetextUnderlineMini, partial: true}\nvar nextPrefixedOrBlank = {tokenize: tokenizeNextPrefixedOrBlank, partial: true}\n\nfunction resolveTable(events, context) {\n  var length = events.length\n  var index = -1\n  var token\n  var inHead\n  var inDelimiterRow\n  var inRow\n  var cell\n  var content\n  var text\n  var contentStart\n  var contentEnd\n  var cellStart\n\n  while (++index < length) {\n    token = events[index][1]\n\n    if (inRow) {\n      if (token.type === 'temporaryTableCellContent') {\n        contentStart = contentStart || index\n        contentEnd = index\n      }\n\n      if (\n        // Combine separate content parts into one.\n        (token.type === 'tableCellDivider' || token.type === 'tableRow') &&\n        contentEnd\n      ) {\n        content = {\n          type: 'tableContent',\n          start: events[contentStart][1].start,\n          end: events[contentEnd][1].end\n        }\n        text = {\n          type: 'chunkText',\n          start: content.start,\n          end: content.end,\n          contentType: 'text'\n        }\n\n        events.splice(\n          contentStart,\n          contentEnd - contentStart + 1,\n          ['enter', content, context],\n          ['enter', text, context],\n          ['exit', text, context],\n          ['exit', content, context]\n        )\n        index -= contentEnd - contentStart - 3\n        length = events.length\n        contentStart = undefined\n        contentEnd = undefined\n      }\n    }\n\n    if (\n      events[index][0] === 'exit' &&\n      cellStart &&\n      cellStart + 1 < index &&\n      (token.type === 'tableCellDivider' ||\n        (token.type === 'tableRow' &&\n          (cellStart + 3 < index ||\n            events[cellStart][1].type !== 'whitespace')))\n    ) {\n      cell = {\n        type: inDelimiterRow\n          ? 'tableDelimiter'\n          : inHead\n          ? 'tableHeader'\n          : 'tableData',\n        start: events[cellStart][1].start,\n        end: events[index][1].end\n      }\n      events.splice(index + (token.type === 'tableCellDivider' ? 1 : 0), 0, [\n        'exit',\n        cell,\n        context\n      ])\n      events.splice(cellStart, 0, ['enter', cell, context])\n      index += 2\n      length = events.length\n      cellStart = index + 1\n    }\n\n    if (token.type === 'tableRow') {\n      inRow = events[index][0] === 'enter'\n\n      if (inRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableDelimiterRow') {\n      inDelimiterRow = events[index][0] === 'enter'\n\n      if (inDelimiterRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableHead') {\n      inHead = events[index][0] === 'enter'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeTable(effects, ok, nok) {\n  var align = []\n  var tableHeaderCount = 0\n  var seenDelimiter\n  var hasDash\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore if - used to be passed in beta micromark versions. */\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return nok(code)\n    }\n\n    effects.enter('table')._align = align\n    effects.enter('tableHead')\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    tableHeaderCount++\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentHead(code)\n  }\n\n  function cellDividerHead(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    seenDelimiter = true\n    return cellBreakHead\n  }\n\n  function cellBreakHead(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndHead(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    if (seenDelimiter) {\n      seenDelimiter = undefined\n      tableHeaderCount++\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentHead(code)\n  }\n\n  function inWhitespaceHead(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    effects.exit('whitespace')\n    return cellBreakHead(code)\n  }\n\n  function inCellContentHead(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakHead(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeHead : inCellContentHead\n  }\n\n  function inCellContentEscapeHead(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentHead\n    }\n\n    // Anything else.\n    return inCellContentHead(code)\n  }\n\n  function atRowEndHead(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    effects.exit('tableRow')\n    effects.exit('tableHead')\n\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n\n    // If a setext heading, exit.\n    return effects.check(\n      setextUnderlineMini,\n      nok,\n      // Support an indent before the delimiter row.\n      createSpace(effects, rowStartDelimiter, 'linePrefix', 4)\n    )\n  }\n\n  function rowStartDelimiter(code) {\n    // If theres another space, or were at the EOL/EOF, exit.\n    if (code === null || code < 0 || code === 32) {\n      return nok(code)\n    }\n\n    effects.enter('tableDelimiterRow')\n    return atDelimiterRowBreak(code)\n  }\n\n  function atDelimiterRowBreak(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      align.push(null)\n      return inFillerDelimiter\n    }\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n      align.push('left')\n      return afterLeftAlignment\n    }\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function inWhitespaceDelimiter(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    effects.exit('whitespace')\n    return atDelimiterRowBreak(code)\n  }\n\n  function inFillerDelimiter(code) {\n    // `-`\n    if (code === 45) {\n      effects.consume(code)\n      return inFillerDelimiter\n    }\n\n    effects.exit('tableDelimiterFiller')\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n\n      align[align.length - 1] =\n        align[align.length - 1] === 'left' ? 'center' : 'right'\n\n      return afterRightAlignment\n    }\n\n    return atDelimiterRowBreak(code)\n  }\n\n  function afterLeftAlignment(code) {\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      return inFillerDelimiter\n    }\n\n    // Anything else is not ok.\n    return nok(code)\n  }\n\n  function afterRightAlignment(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `|`\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function rowEndDelimiter(code) {\n    effects.exit('tableDelimiterRow')\n\n    // Exit if there was no dash at all, or if the header cell count is not the\n    // delimiter cell count.\n    if (!hasDash || tableHeaderCount !== align.length) {\n      return nok(code)\n    }\n\n    if (code === null) {\n      return tableClose(code)\n    }\n\n    return effects.check(nextPrefixedOrBlank, tableClose, tableContinue)(code)\n  }\n\n  function tableClose(code) {\n    effects.exit('table')\n    return ok(code)\n  }\n\n  function tableContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // We checked that its not a prefixed or blank line, so were certain a\n    // body is coming, though it may be indented.\n    return createSpace(effects, bodyStart, 'linePrefix', 4)\n  }\n\n  function bodyStart(code) {\n    effects.enter('tableBody')\n    return rowStartBody(code)\n  }\n\n  function rowStartBody(code) {\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentBody(code)\n  }\n\n  function cellDividerBody(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    return cellBreakBody\n  }\n\n  function cellBreakBody(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndBody(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentBody(code)\n  }\n\n  function inWhitespaceBody(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    effects.exit('whitespace')\n    return cellBreakBody(code)\n  }\n\n  function inCellContentBody(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakBody(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeBody : inCellContentBody\n  }\n\n  function inCellContentEscapeBody(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentBody\n    }\n\n    // Anything else.\n    return inCellContentBody(code)\n  }\n\n  function atRowEndBody(code) {\n    effects.exit('tableRow')\n\n    if (code === null) {\n      return tableBodyClose(code)\n    }\n\n    return effects.check(\n      nextPrefixedOrBlank,\n      tableBodyClose,\n      tableBodyContinue\n    )(code)\n  }\n\n  function tableBodyClose(code) {\n    effects.exit('tableBody')\n    return tableClose(code)\n  }\n\n  function tableBodyContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // Support an optional prefix, then start a body row.\n    return createSpace(effects, rowStartBody, 'linePrefix', 4)\n  }\n}\n\n// Based on micromark, but that wont work as were in a table, and that expects\n// content.\n// <https://github.com/micromark/micromark/blob/main/lib/tokenize/setext-underline.js>\nfunction tokenizeSetextUnderlineMini(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // `-`\n    if (code !== 45) {\n      return nok(code)\n    }\n\n    effects.enter('setextUnderline')\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return sequence\n    }\n\n    return whitespace(code)\n  }\n\n  function whitespace(code) {\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return whitespace\n    }\n\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeNextPrefixedOrBlank(effects, ok, nok) {\n  var size = 0\n\n  return start\n\n  function start(code) {\n    // This is a check, so we dont care about tokens, but we open a bogus one\n    // so were valid.\n    effects.enter('check')\n    // EOL.\n    effects.consume(code)\n    return whitespace\n  }\n\n  function whitespace(code) {\n    // VS or SP.\n    if (code === -1 || code === 32) {\n      effects.consume(code)\n      size++\n      return size === 4 ? ok : whitespace\n    }\n\n    // EOF or whitespace\n    if (code === null || code < 0) {\n      return ok(code)\n    }\n\n    // Anything else.\n    return nok(code)\n  }\n}\n","module.exports = require('./syntax')\n","var markdownLineEndingOrSpace = require('micromark/dist/character/markdown-line-ending-or-space')\nvar spaceFactory = require('micromark/dist/tokenize/factory-space')\nvar prefixSize = require('micromark/dist/util/prefix-size')\n\nvar tasklistCheck = {tokenize: tokenizeTasklistCheck}\n\nexports.text = {91: tasklistCheck}\n\nfunction tokenizeTasklistCheck(effects, ok, nok) {\n  var self = this\n\n  return open\n\n  function open(code) {\n    if (\n      // Exit if not `[`.\n      code !== 91 ||\n      // Exit if theres stuff before.\n      self.previous !== null ||\n      // Exit if not in the first content that is the first child of a list\n      // item.\n      !self._gfmTasklistFirstContentOfListItem\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('taskListCheck')\n    effects.enter('taskListCheckMarker')\n    effects.consume(code)\n    effects.exit('taskListCheckMarker')\n    return inside\n  }\n\n  function inside(code) {\n    // Tab or space.\n    if (code === -2 || code === 32) {\n      effects.enter('taskListCheckValueUnchecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueUnchecked')\n      return close\n    }\n\n    // Upper- and lower `x`.\n    if (code === 88 || code === 120) {\n      effects.enter('taskListCheckValueChecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueChecked')\n      return close\n    }\n\n    return nok(code)\n  }\n\n  function close(code) {\n    // `]`\n    if (code === 93) {\n      effects.enter('taskListCheckMarker')\n      effects.consume(code)\n      effects.exit('taskListCheckMarker')\n      effects.exit('taskListCheck')\n      return effects.check({tokenize: spaceThenNonSpace}, ok, nok)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction spaceThenNonSpace(effects, ok, nok) {\n  var self = this\n\n  return spaceFactory(effects, after, 'whitespace')\n\n  function after(code) {\n    return prefixSize(self.events, 'whitespace') &&\n      code !== null &&\n      !markdownLineEndingOrSpace(code)\n      ? ok(code)\n      : nok(code)\n  }\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/from-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/from-markdown')\nvar table = require('mdast-util-gfm-table/from-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/from-markdown')\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = configure([\n  autolinkLiteral,\n  strikethrough,\n  table,\n  taskListItem\n])\n\nfunction configure(extensions) {\n  var config = {transforms: [], canContainEols: []}\n  var length = extensions.length\n  var index = -1\n\n  while (++index < length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n  var right\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n    right = extension[key]\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, right)\n    } else {\n      Object.assign(left, right)\n    }\n  }\n}\n","var ccount = require('ccount')\nvar findAndReplace = require('mdast-util-find-and-replace')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nexports.transforms = [transformGfmAutolinkLiterals]\nexports.enter = {\n  literalAutolink: enterLiteralAutolink,\n  literalAutolinkEmail: enterLiteralAutolinkValue,\n  literalAutolinkHttp: enterLiteralAutolinkValue,\n  literalAutolinkWww: enterLiteralAutolinkValue\n}\nexports.exit = {\n  literalAutolink: exitLiteralAutolink,\n  literalAutolinkEmail: exitLiteralAutolinkEmail,\n  literalAutolinkHttp: exitLiteralAutolinkHttp,\n  literalAutolinkWww: exitLiteralAutolinkWww\n}\n\nfunction enterLiteralAutolink(token) {\n  this.enter({type: 'link', title: null, url: '', children: []}, token)\n}\n\nfunction enterLiteralAutolinkValue(token) {\n  this.config.enter.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkHttp(token) {\n  this.config.exit.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkWww(token) {\n  this.config.exit.data.call(this, token)\n  this.stack[this.stack.length - 1].url = 'http://' + this.sliceSerialize(token)\n}\n\nfunction exitLiteralAutolinkEmail(token) {\n  this.config.exit.autolinkEmail.call(this, token)\n}\n\nfunction exitLiteralAutolink(token) {\n  this.exit(token)\n}\n\nfunction transformGfmAutolinkLiterals(tree) {\n  findAndReplace(\n    tree,\n    [\n      [/(https?:\\/\\/|www(?=\\.))([-.\\w]+)([^ \\t\\r\\n]*)/i, findUrl],\n      [/([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)/, findEmail]\n    ],\n    {ignore: ['link', 'linkReference']}\n  )\n}\n\nfunction findUrl($0, protocol, domain, path, match) {\n  var prefix = ''\n  var parts\n  var result\n\n  // Not an expected previous character.\n  if (!previous(match)) {\n    return false\n  }\n\n  // Treat `www` as part of the domain.\n  if (/^w/i.test(protocol)) {\n    domain = protocol + domain\n    protocol = ''\n    prefix = 'http://'\n  }\n\n  if (!isCorrectDomain(domain)) {\n    return false\n  }\n\n  parts = splitUrl(domain + path)\n\n  if (!parts[0]) return false\n\n  result = {\n    type: 'link',\n    title: null,\n    url: prefix + protocol + parts[0],\n    children: [{type: 'text', value: protocol + parts[0]}]\n  }\n\n  if (parts[1]) {\n    result = [result, {type: 'text', value: parts[1]}]\n  }\n\n  return result\n}\n\nfunction findEmail($0, atext, label, match) {\n  // Not an expected previous character.\n  if (!previous(match, true) || /[_-]$/.test(label)) {\n    return false\n  }\n\n  return {\n    type: 'link',\n    title: null,\n    url: 'mailto:' + atext + '@' + label,\n    children: [{type: 'text', value: atext + '@' + label}]\n  }\n}\n\nfunction isCorrectDomain(domain) {\n  var parts = domain.split('.')\n\n  if (\n    parts.length < 2 ||\n    (parts[parts.length - 1] &&\n      (/_/.test(parts[parts.length - 1]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 1]))) ||\n    (parts[parts.length - 2] &&\n      (/_/.test(parts[parts.length - 2]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 2])))\n  ) {\n    return false\n  }\n\n  return true\n}\n\nfunction splitUrl(url) {\n  var trail = /[!\"&'),.:;<>?\\]}]+$/.exec(url)\n  var closingParenIndex\n  var openingParens\n  var closingParens\n\n  if (trail) {\n    url = url.slice(0, trail.index)\n    trail = trail[0]\n    closingParenIndex = trail.indexOf(')')\n    openingParens = ccount(url, '(')\n    closingParens = ccount(url, ')')\n\n    while (closingParenIndex !== -1 && openingParens > closingParens) {\n      url += trail.slice(0, closingParenIndex + 1)\n      trail = trail.slice(closingParenIndex + 1)\n      closingParenIndex = trail.indexOf(')')\n      closingParens++\n    }\n  }\n\n  return [url, trail]\n}\n\nfunction previous(match, email) {\n  var code = match.input.charCodeAt(match.index - 1)\n  return (\n    (code !== code || unicodeWhitespace(code) || unicodePunctuation(code)) &&\n    (!email || code !== 47)\n  )\n}\n","'use strict'\n\nmodule.exports = ccount\n\nfunction ccount(source, character) {\n  var value = String(source)\n  var count = 0\n  var index\n\n  if (typeof character !== 'string') {\n    throw new Error('Expected character')\n  }\n\n  index = value.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = value.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","'use strict'\n\nmodule.exports = findAndReplace\n\nvar visit = require('unist-util-visit-parents')\nvar convert = require('unist-util-is/convert')\nvar escape = require('escape-string-regexp')\n\nvar splice = [].splice\n\nfunction findAndReplace(tree, find, replace, options) {\n  var settings\n  var schema\n\n  if (typeof find === 'string' || (find && typeof find.exec === 'function')) {\n    schema = [[find, replace]]\n  } else {\n    schema = find\n    options = replace\n  }\n\n  settings = options || {}\n\n  search(tree, settings, handlerFactory(toPairs(schema)))\n\n  return tree\n\n  function handlerFactory(pairs) {\n    var pair = pairs[0]\n\n    return handler\n\n    function handler(node, parent) {\n      var find = pair[0]\n      var replace = pair[1]\n      var nodes = []\n      var start = 0\n      var index = parent.children.indexOf(node)\n      var position\n      var match\n      var subhandler\n      var value\n\n      find.lastIndex = 0\n\n      match = find.exec(node.value)\n\n      while (match) {\n        position = match.index\n        value = replace.apply(\n          null,\n          [].concat(match, {index: match.index, input: match.input})\n        )\n\n        if (value !== false) {\n          if (start !== position) {\n            nodes.push({type: 'text', value: node.value.slice(start, position)})\n          }\n\n          if (typeof value === 'string' && value.length > 0) {\n            value = {type: 'text', value: value}\n          }\n\n          if (value) {\n            nodes = [].concat(nodes, value)\n          }\n\n          start = position + match[0].length\n        }\n\n        if (!find.global) {\n          break\n        }\n\n        match = find.exec(node.value)\n      }\n\n      if (position === undefined) {\n        nodes = [node]\n        index--\n      } else {\n        if (start < node.value.length) {\n          nodes.push({type: 'text', value: node.value.slice(start)})\n        }\n\n        nodes.unshift(index, 1)\n        splice.apply(parent.children, nodes)\n      }\n\n      if (pairs.length > 1) {\n        subhandler = handlerFactory(pairs.slice(1))\n        position = -1\n\n        while (++position < nodes.length) {\n          node = nodes[position]\n\n          if (node.type === 'text') {\n            subhandler(node, parent)\n          } else {\n            search(node, settings, subhandler)\n          }\n        }\n      }\n\n      return index + nodes.length + 1\n    }\n  }\n}\n\nfunction search(tree, settings, handler) {\n  var ignored = convert(settings.ignore || [])\n  var result = []\n\n  visit(tree, 'text', visitor)\n\n  return result\n\n  function visitor(node, parents) {\n    var index = -1\n    var parent\n    var grandparent\n\n    while (++index < parents.length) {\n      parent = parents[index]\n\n      if (\n        ignored(\n          parent,\n          grandparent ? grandparent.children.indexOf(parent) : undefined,\n          grandparent\n        )\n      ) {\n        return\n      }\n\n      grandparent = parent\n    }\n\n    return handler(node, grandparent)\n  }\n}\n\nfunction toPairs(schema) {\n  var result = []\n  var key\n  var index\n\n  if (typeof schema !== 'object') {\n    throw new Error('Expected array or object as schema')\n  }\n\n  if ('length' in schema) {\n    index = -1\n\n    while (++index < schema.length) {\n      result.push([\n        toExpression(schema[index][0]),\n        toFunction(schema[index][1])\n      ])\n    }\n  } else {\n    for (key in schema) {\n      result.push([toExpression(key), toFunction(schema[key])])\n    }\n  }\n\n  return result\n}\n\nfunction toExpression(find) {\n  return typeof find === 'string' ? new RegExp(escape(find), 'g') : find\n}\n\nfunction toFunction(replace) {\n  return typeof replace === 'function' ? replace : returner\n\n  function returner() {\n    return replace\n  }\n}\n","'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when its always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n","exports.canContainEols = ['delete']\nexports.enter = {strikethrough: enterStrikethrough}\nexports.exit = {strikethrough: exitStrikethrough}\n\nfunction enterStrikethrough(token) {\n  this.enter({type: 'delete', children: []}, token)\n}\n\nfunction exitStrikethrough(token) {\n  this.exit(token)\n}\n","exports.enter = {\n  table: enterTable,\n  tableData: enterCell,\n  tableHeader: enterCell,\n  tableRow: enterRow\n}\nexports.exit = {\n  codeText: exitCodeText,\n  table: exitTable,\n  tableData: exit,\n  tableHeader: exit,\n  tableRow: exit\n}\n\nfunction enterTable(token) {\n  this.enter({type: 'table', align: token._align, children: []}, token)\n  this.setData('inTable', true)\n}\n\nfunction exitTable(token) {\n  this.exit(token)\n  this.setData('inTable')\n}\n\nfunction enterRow(token) {\n  this.enter({type: 'tableRow', children: []}, token)\n}\n\nfunction exit(token) {\n  this.exit(token)\n}\n\nfunction enterCell(token) {\n  this.enter({type: 'tableCell', children: []}, token)\n}\n\n// Overwrite the default code text data handler to unescape escaped pipes when\n// they are in tables.\nfunction exitCodeText(token) {\n  var value = this.resume()\n\n  if (this.getData('inTable')) {\n    value = value.replace(/\\\\([\\\\|])/g, replace)\n  }\n\n  this.stack[this.stack.length - 1].value = value\n  this.exit(token)\n}\n\nfunction replace($0, $1) {\n  // Pipes work, backslashes dont (but cant escape pipes).\n  return $1 === '|' ? $1 : $0\n}\n","exports.exit = {\n  taskListCheckValueChecked: exitCheck,\n  taskListCheckValueUnchecked: exitCheck,\n  paragraph: exitParagraphWithTaskListItem\n}\n\nfunction exitCheck(token) {\n  // Were always in a paragraph, in a list item.\n  this.stack[this.stack.length - 2].checked =\n    token.type === 'taskListCheckValueChecked'\n}\n\nfunction exitParagraphWithTaskListItem(token) {\n  var parent = this.stack[this.stack.length - 2]\n  var node = this.stack[this.stack.length - 1]\n  var siblings = parent.children\n  var head = node.children[0]\n  var index = -1\n  var firstParaghraph\n\n  if (\n    parent &&\n    parent.type === 'listItem' &&\n    typeof parent.checked === 'boolean' &&\n    head &&\n    head.type === 'text'\n  ) {\n    while (++index < siblings.length) {\n      if (siblings[index].type === 'paragraph') {\n        firstParaghraph = siblings[index]\n        break\n      }\n    }\n\n    if (firstParaghraph === node) {\n      // Must start with a space or a tab.\n      head.value = head.value.slice(1)\n\n      if (head.value.length === 0) {\n        node.children.shift()\n      } else {\n        head.position.start.column++\n        head.position.start.offset++\n        node.position.start = Object.assign({}, head.position.start)\n      }\n    }\n  }\n\n  this.exit(token)\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/to-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/to-markdown')\nvar table = require('mdast-util-gfm-table/to-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/to-markdown')\nvar configure = require('mdast-util-to-markdown/lib/configure')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var config = configure(\n    {handlers: {}, join: [], unsafe: [], options: {}},\n    {\n      extensions: [autolinkLiteral, strikethrough, table(options), taskListItem]\n    }\n  )\n\n  return Object.assign(config.options, {\n    handlers: config.handlers,\n    join: config.join,\n    unsafe: config.unsafe\n  })\n}\n","var inConstruct = 'phrasing'\nvar notInConstruct = ['autolink', 'link', 'image', 'label']\n\nexports.unsafe = [\n  {\n    character: '@',\n    before: '[+\\\\-.\\\\w]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: '.',\n    before: '[Ww]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: ':',\n    before: '[ps]',\n    after: '\\\\/',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  }\n]\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\n\nexports.unsafe = [{character: '~', inConstruct: 'phrasing'}]\nexports.handlers = {delete: handleDelete}\n\nhandleDelete.peek = peekDelete\n\nfunction handleDelete(node, _, context) {\n  var exit = context.enter('emphasis')\n  var value = phrasing(node, context, {before: '~', after: '~'})\n  exit()\n  return '~~' + value + '~~'\n}\n\nfunction peekDelete() {\n  return '~'\n}\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\nvar defaultInlineCode = require('mdast-util-to-markdown/lib/handle/inline-code')\nvar markdownTable = require('markdown-table')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var settings = options || {}\n  var padding = settings.tableCellPadding\n  var alignDelimiters = settings.tablePipeAlign\n  var stringLength = settings.stringLength\n  var around = padding ? ' ' : '|'\n\n  return {\n    unsafe: [\n      {character: '\\r', inConstruct: 'tableCell'},\n      {character: '\\n', inConstruct: 'tableCell'},\n      // A pipe, when followed by a tab or space (padding), or a dash or colon\n      // (unpadded delimiter row), could result in a table.\n      {atBreak: true, character: '|', after: '[\\t :-]'},\n      // A pipe in a cell must be encoded.\n      {character: '|', inConstruct: 'tableCell'},\n      // A colon must be followed by a dash, in which case it could start a\n      // delimiter row.\n      {atBreak: true, character: ':', after: '-'},\n      // A delimiter row can also start with a dash, when followed by more\n      // dashes, a colon, or a pipe.\n      // This is a stricter version than the built in check for lists, thematic\n      // breaks, and setex heading underlines though:\n      // <https://github.com/syntax-tree/mdast-util-to-markdown/blob/51a2038/lib/unsafe.js#L57>\n      {atBreak: true, character: '-', after: '[:|-]'}\n    ],\n    handlers: {\n      table: handleTable,\n      tableRow: handleTableRow,\n      tableCell: handleTableCell,\n      inlineCode: inlineCodeWithTable\n    }\n  }\n\n  function handleTable(node, _, context) {\n    return serializeData(handleTableAsData(node, context), node.align)\n  }\n\n  // This function isnt really used normally, because we handle rows at the\n  // table level.\n  // But, if someone passes in a table row, this ensures we make somewhat sense.\n  function handleTableRow(node, _, context) {\n    var row = handleTableRowAsData(node, context)\n    // `markdown-table` will always add an align row\n    var value = serializeData([row])\n    return value.slice(0, value.indexOf('\\n'))\n  }\n\n  function handleTableCell(node, _, context) {\n    var exit = context.enter('tableCell')\n    var value = phrasing(node, context, {before: around, after: around})\n    exit()\n    return value\n  }\n\n  function serializeData(matrix, align) {\n    return markdownTable(matrix, {\n      align: align,\n      alignDelimiters: alignDelimiters,\n      padding: padding,\n      stringLength: stringLength\n    })\n  }\n\n  function handleTableAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('table')\n\n    while (++index < length) {\n      result[index] = handleTableRowAsData(children[index], context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function handleTableRowAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('tableRow')\n\n    while (++index < length) {\n      result[index] = handleTableCell(children[index], node, context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function inlineCodeWithTable(node, parent, context) {\n    var value = defaultInlineCode(node, parent, context)\n\n    if (context.stack.indexOf('tableCell') !== -1) {\n      value = value.replace(/\\|/g, '\\\\$&')\n    }\n\n    return value\n  }\n}\n","module.exports = inlineCode\ninlineCode.peek = inlineCodePeek\n\nvar patternCompile = require('../util/pattern-compile')\n\nfunction inlineCode(node, parent, context) {\n  var value = node.value || ''\n  var sequence = '`'\n  var index = -1\n  var pattern\n  var expression\n  var match\n  var position\n\n  // If there is a single grave accent on its own in the code, use a fence of\n  // two.\n  // If there are two in a row, use one.\n  while (new RegExp('(^|[^`])' + sequence + '([^`]|$)').test(value)) {\n    sequence += '`'\n  }\n\n  // If this is not just spaces or eols (tabs dont count), and either the\n  // first or last character are a space, eol, or tick, then pad with spaces.\n  if (\n    /[^ \\r\\n]/.test(value) &&\n    (/[ \\r\\n`]/.test(value.charAt(0)) ||\n      /[ \\r\\n`]/.test(value.charAt(value.length - 1)))\n  ) {\n    value = ' ' + value + ' '\n  }\n\n  // We have a potential problem: certain characters after eols could result in\n  // blocks being seen.\n  // For example, if someone injected the string `'\\n# b'`, then that would\n  // result in an ATX heading.\n  // We cant escape characters in `inlineCode`, but because eols are\n  // transformed to spaces when going from markdown to HTML anyway, we can swap\n  // them out.\n  while (++index < context.unsafe.length) {\n    pattern = context.unsafe[index]\n\n    // Only look for `atBreak`s.\n    // Btw: note that `atBreak` patterns will always start the regex at LF or\n    // CR.\n    if (!pattern.atBreak) continue\n\n    expression = patternCompile(pattern)\n\n    while ((match = expression.exec(value))) {\n      position = match.index\n\n      // Support CRLF (patterns only look for one of the characters).\n      if (\n        value.charCodeAt(position) === 10 /* `\\n` */ &&\n        value.charCodeAt(position - 1) === 13 /* `\\r` */\n      ) {\n        position--\n      }\n\n      value = value.slice(0, position) + ' ' + value.slice(match.index + 1)\n    }\n  }\n\n  return sequence + value + sequence\n}\n\nfunction inlineCodePeek() {\n  return '`'\n}\n","module.exports = patternCompile\n\nfunction patternCompile(pattern) {\n  var before\n  var after\n\n  if (!pattern._compiled) {\n    before = pattern.before ? '(?:' + pattern.before + ')' : ''\n    after = pattern.after ? '(?:' + pattern.after + ')' : ''\n\n    if (pattern.atBreak) {\n      before = '[\\\\r\\\\n][\\\\t ]*' + before\n    }\n\n    pattern._compiled = new RegExp(\n      (before ? '(' + before + ')' : '') +\n        (/[|\\\\{}()[\\]^$+*?.-]/.test(pattern.character) ? '\\\\' : '') +\n        pattern.character +\n        (after || ''),\n      'g'\n    )\n  }\n\n  return pattern._compiled\n}\n","'use strict'\n\nvar repeat = require('repeat-string')\n\nmodule.exports = markdownTable\n\nvar trailingWhitespace = / +$/\n\n// Characters.\nvar space = ' '\nvar lineFeed = '\\n'\nvar dash = '-'\nvar colon = ':'\nvar verticalBar = '|'\n\nvar x = 0\nvar C = 67\nvar L = 76\nvar R = 82\nvar c = 99\nvar l = 108\nvar r = 114\n\n// Create a table from a matrix of strings.\nfunction markdownTable(table, options) {\n  var settings = options || {}\n  var padding = settings.padding !== false\n  var start = settings.delimiterStart !== false\n  var end = settings.delimiterEnd !== false\n  var align = (settings.align || []).concat()\n  var alignDelimiters = settings.alignDelimiters !== false\n  var alignments = []\n  var stringLength = settings.stringLength || defaultStringLength\n  var rowIndex = -1\n  var rowLength = table.length\n  var cellMatrix = []\n  var sizeMatrix = []\n  var row = []\n  var sizes = []\n  var longestCellByColumn = []\n  var mostCellsPerRow = 0\n  var cells\n  var columnIndex\n  var columnLength\n  var largest\n  var size\n  var cell\n  var lines\n  var line\n  var before\n  var after\n  var code\n\n  // This is a superfluous loop if we dont align delimiters, but otherwise wed\n  // do superfluous work when aligning, so optimize for aligning.\n  while (++rowIndex < rowLength) {\n    cells = table[rowIndex]\n    columnIndex = -1\n    columnLength = cells.length\n    row = []\n    sizes = []\n\n    if (columnLength > mostCellsPerRow) {\n      mostCellsPerRow = columnLength\n    }\n\n    while (++columnIndex < columnLength) {\n      cell = serialize(cells[columnIndex])\n\n      if (alignDelimiters === true) {\n        size = stringLength(cell)\n        sizes[columnIndex] = size\n\n        largest = longestCellByColumn[columnIndex]\n\n        if (largest === undefined || size > largest) {\n          longestCellByColumn[columnIndex] = size\n        }\n      }\n\n      row.push(cell)\n    }\n\n    cellMatrix[rowIndex] = row\n    sizeMatrix[rowIndex] = sizes\n  }\n\n  // Figure out which alignments to use.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n\n  if (typeof align === 'object' && 'length' in align) {\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = toAlignment(align[columnIndex])\n    }\n  } else {\n    code = toAlignment(align)\n\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = code\n    }\n  }\n\n  // Inject the alignment row.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n  row = []\n  sizes = []\n\n  while (++columnIndex < columnLength) {\n    code = alignments[columnIndex]\n    before = ''\n    after = ''\n\n    if (code === l) {\n      before = colon\n    } else if (code === r) {\n      after = colon\n    } else if (code === c) {\n      before = colon\n      after = colon\n    }\n\n    // There *must* be at least one hyphen-minus in each alignment cell.\n    size = alignDelimiters\n      ? Math.max(\n          1,\n          longestCellByColumn[columnIndex] - before.length - after.length\n        )\n      : 1\n\n    cell = before + repeat(dash, size) + after\n\n    if (alignDelimiters === true) {\n      size = before.length + size + after.length\n\n      if (size > longestCellByColumn[columnIndex]) {\n        longestCellByColumn[columnIndex] = size\n      }\n\n      sizes[columnIndex] = size\n    }\n\n    row[columnIndex] = cell\n  }\n\n  // Inject the alignment row.\n  cellMatrix.splice(1, 0, row)\n  sizeMatrix.splice(1, 0, sizes)\n\n  rowIndex = -1\n  rowLength = cellMatrix.length\n  lines = []\n\n  while (++rowIndex < rowLength) {\n    row = cellMatrix[rowIndex]\n    sizes = sizeMatrix[rowIndex]\n    columnIndex = -1\n    columnLength = mostCellsPerRow\n    line = []\n\n    while (++columnIndex < columnLength) {\n      cell = row[columnIndex] || ''\n      before = ''\n      after = ''\n\n      if (alignDelimiters === true) {\n        size = longestCellByColumn[columnIndex] - (sizes[columnIndex] || 0)\n        code = alignments[columnIndex]\n\n        if (code === r) {\n          before = repeat(space, size)\n        } else if (code === c) {\n          if (size % 2 === 0) {\n            before = repeat(space, size / 2)\n            after = before\n          } else {\n            before = repeat(space, size / 2 + 0.5)\n            after = repeat(space, size / 2 - 0.5)\n          }\n        } else {\n          after = repeat(space, size)\n        }\n      }\n\n      if (start === true && columnIndex === 0) {\n        line.push(verticalBar)\n      }\n\n      if (\n        padding === true &&\n        // Dont add the opening space if were not aligning and the cell is\n        // empty: there will be a closing space.\n        !(alignDelimiters === false && cell === '') &&\n        (start === true || columnIndex !== 0)\n      ) {\n        line.push(space)\n      }\n\n      if (alignDelimiters === true) {\n        line.push(before)\n      }\n\n      line.push(cell)\n\n      if (alignDelimiters === true) {\n        line.push(after)\n      }\n\n      if (padding === true) {\n        line.push(space)\n      }\n\n      if (end === true || columnIndex !== columnLength - 1) {\n        line.push(verticalBar)\n      }\n    }\n\n    line = line.join('')\n\n    if (end === false) {\n      line = line.replace(trailingWhitespace, '')\n    }\n\n    lines.push(line)\n  }\n\n  return lines.join(lineFeed)\n}\n\nfunction serialize(value) {\n  return value === null || value === undefined ? '' : String(value)\n}\n\nfunction defaultStringLength(value) {\n  return value.length\n}\n\nfunction toAlignment(value) {\n  var code = typeof value === 'string' ? value.charCodeAt(0) : x\n\n  return code === L || code === l\n    ? l\n    : code === R || code === r\n    ? r\n    : code === C || code === c\n    ? c\n    : x\n}\n","var defaultListItem = require('mdast-util-to-markdown/lib/handle/list-item')\n\nexports.unsafe = [{atBreak: true, character: '-', after: '[:|-]'}]\n\nexports.handlers = {\n  listItem: listItemWithTaskListItem\n}\n\nfunction listItemWithTaskListItem(node, parent, context) {\n  var value = defaultListItem(node, parent, context)\n  var head = node.children[0]\n\n  if (typeof node.checked === 'boolean' && head && head.type === 'paragraph') {\n    value = value.replace(/^(?:[*+-]|\\d+\\.)([\\r\\n]| {1,3})/, check)\n  }\n\n  return value\n\n  function check($0) {\n    return $0 + '[' + (node.checked ? 'x' : ' ') + '] '\n  }\n}\n","module.exports = listItem\n\nvar repeat = require('repeat-string')\nvar checkBullet = require('../util/check-bullet')\nvar checkListItemIndent = require('../util/check-list-item-indent')\nvar flow = require('../util/container-flow')\nvar indentLines = require('../util/indent-lines')\n\nfunction listItem(node, parent, context) {\n  var bullet = checkBullet(context)\n  var listItemIndent = checkListItemIndent(context)\n  var size\n  var value\n  var exit\n\n  if (parent && parent.ordered) {\n    bullet =\n      (parent.start > -1 ? parent.start : 1) +\n      (context.options.incrementListMarker === false\n        ? 0\n        : parent.children.indexOf(node)) +\n      '.'\n  }\n\n  size = bullet.length + 1\n\n  if (\n    listItemIndent === 'tab' ||\n    (listItemIndent === 'mixed' && ((parent && parent.spread) || node.spread))\n  ) {\n    size = Math.ceil(size / 4) * 4\n  }\n\n  exit = context.enter('listItem')\n  value = indentLines(flow(node, context), map)\n  exit()\n\n  return value\n\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : repeat(' ', size)) + line\n    }\n\n    return (blank ? bullet : bullet + repeat(' ', size - bullet.length)) + line\n  }\n}\n","module.exports = checkBullet\n\nfunction checkBullet(context) {\n  var marker = context.options.bullet || '*'\n\n  if (marker !== '*' && marker !== '+' && marker !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bullet`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  return marker\n}\n","module.exports = checkListItemIndent\n\nfunction checkListItemIndent(context) {\n  var style = context.options.listItemIndent || 'tab'\n\n  if (style === 1 || style === '1') {\n    return 'one'\n  }\n\n  if (style !== 'tab' && style !== 'one' && style !== 'mixed') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        style +\n        '` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`'\n    )\n  }\n\n  return style\n}\n","module.exports = flow\n\nvar repeat = require('repeat-string')\n\nfunction flow(parent, context) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    results.push(\n      context.handle(child, parent, context, {before: '\\n', after: '\\n'})\n    )\n\n    if (index + 1 < children.length) {\n      results.push(between(child, children[index + 1]))\n    }\n  }\n\n  return results.join('')\n\n  function between(left, right) {\n    var index = -1\n    var result\n\n    while (++index < context.join.length) {\n      result = context.join[index](left, right, parent, context)\n\n      if (result === true || result === 1) {\n        break\n      }\n\n      if (typeof result === 'number') {\n        return repeat('\\n', 1 + Number(result))\n      }\n\n      if (result === false) {\n        return '\\n\\n<!---->\\n\\n'\n      }\n    }\n\n    return '\\n\\n'\n  }\n}\n","module.exports = indentLines\n\nvar eol = /\\r?\\n|\\r/g\n\nfunction indentLines(value, map) {\n  var result = []\n  var start = 0\n  var line = 0\n  var match\n\n  while ((match = eol.exec(value))) {\n    one(value.slice(start, match.index))\n    result.push(match[0])\n    start = match.index + match[0].length\n    line++\n  }\n\n  one(value.slice(start))\n\n  return result.join('')\n\n  function one(value) {\n    result.push(map(value, line, !value))\n  }\n}\n","module.exports = configure\n\nfunction configure(base, extension) {\n  var index = -1\n  var key\n\n  // First do subextensions.\n  if (extension.extensions) {\n    while (++index < extension.extensions.length) {\n      configure(base, extension.extensions[index])\n    }\n  }\n\n  for (key in extension) {\n    if (key === 'extensions') {\n      // Empty.\n    } else if (key === 'unsafe' || key === 'join') {\n      base[key] = base[key].concat(extension[key] || [])\n    } else if (key === 'handlers') {\n      base[key] = Object.assign(base[key], extension[key] || {})\n    } else {\n      base.options[key] = extension[key]\n    }\n  }\n\n  return base\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\t/**\n\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t * additional languages or plugins yourself.\n\t *\n\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t *\n\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t * empty Prism object into the global scope before loading the Prism script like this:\n\t *\n\t * ```js\n\t * window.Prism = window.Prism || {};\n\t * Prism.manual = true;\n\t * // add a new <script> to load Prism's script\n\t * ```\n\t *\n\t * @default false\n\t * @type {boolean}\n\t * @memberof Prism\n\t * @public\n\t */\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t/**\n\t * A namespace for utility methods.\n\t *\n\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t * change or disappear at any time.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t */\n\tutil: {\n\t\tencode: function encode(tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the name of the type of the given value.\n\t\t *\n\t\t * @param {any} o\n\t\t * @returns {string}\n\t\t * @example\n\t\t * type(null)      === 'Null'\n\t\t * type(undefined) === 'Undefined'\n\t\t * type(123)       === 'Number'\n\t\t * type('foo')     === 'String'\n\t\t * type(true)      === 'Boolean'\n\t\t * type([1, 2])    === 'Array'\n\t\t * type({})        === 'Object'\n\t\t * type(String)    === 'Function'\n\t\t * type(/abc+/)    === 'RegExp'\n\t\t */\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\t/**\n\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t *\n\t\t * @param {Object} obj\n\t\t * @returns {number}\n\t\t */\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t/**\n\t\t * Creates a deep clone of the given object.\n\t\t *\n\t\t * The main intended use of this function is to clone language definitions.\n\t\t *\n\t\t * @param {T} o\n\t\t * @param {Record<number, any>} [visited]\n\t\t * @returns {T}\n\t\t * @template T\n\t\t */\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar clone, id;\n\t\t\tswitch (_.util.type(o)) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns whether a given class is active for `element`.\n\t\t *\n\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t * given class is just the given class with a `no-` prefix.\n\t\t *\n\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t *\n\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t * version of it, the class is considered active.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @param {string} className\n\t\t * @param {boolean} [defaultActivation=false]\n\t\t * @returns {boolean}\n\t\t */\n\t\tisActive: function (element, className, defaultActivation) {\n\t\t\tvar no = 'no-' + className;\n\n\t\t\twhile (element) {\n\t\t\t\tvar classList = element.classList;\n\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\treturn !!defaultActivation;\n\t\t}\n\t},\n\n\t/**\n\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\tlanguages: {\n\t\t/**\n\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t *\n\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t * will be overwritten at its original position.\n\t\t *\n\t\t * ## Best practices\n\t\t *\n\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t *\n\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t *\n\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t * @param {Grammar} redef The new tokens to append.\n\t\t * @returns {Grammar} The new language created.\n\t\t * @public\n\t\t * @example\n\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t *     // at its original position\n\t\t *     'comment': { ... },\n\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t * });\n\t\t */\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t *\n\t\t * ## Usage\n\t\t *\n\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t * this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.markup.style = {\n\t\t *     // token\n\t\t * };\n\t\t * ```\n\t\t *\n\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t *     'style': {\n\t\t *         // token\n\t\t *     }\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Special cases\n\t\t *\n\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t * will be ignored.\n\t\t *\n\t\t * This behavior can be used to insert tokens after `before`:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t *     'comment': Prism.languages.markup.comment,\n\t\t *     // tokens after 'comment'\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Limitations\n\t\t *\n\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t *\n\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t *\n\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t *\n\t\t * ```js\n\t\t * var oldMarkup = Prism.languages.markup;\n\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t *\n\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t * ```\n\t\t *\n\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t * object to be modified.\n\t\t * @param {string} before The key to insert before.\n\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t * object to be modified.\n\t\t *\n\t\t * Defaults to `Prism.languages`.\n\t\t * @returns {Grammar} The new grammar object.\n\t\t * @public\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\tvar grammar = root[inside];\n\t\t\t/** @type {Grammar} */\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tplugins: {},\n\n\t/**\n\t * This is the most high-level function in Prisms API.\n\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t * each one of them.\n\t *\n\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t *\n\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\t/**\n\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t * {@link Prism.highlightElement} on each one of them.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-highlightall`\n\t * 2. `before-all-elements-highlight`\n\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t *\n\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\t/**\n\t * Highlights the code inside a single element.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-sanity-check`\n\t * 2. `before-highlight`\n\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t * 4. `before-insert`\n\t * 5. `after-highlight`\n\t * 6. `complete`\n\t *\n\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t * the element's language.\n\t *\n\t * @param {Element} element The element containing the code.\n\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t *\n\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t * asynchronous highlighting to work. You can build your own bundle on the\n\t * [Download page](https://prismjs.com/download.html).\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentElement;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\t/**\n\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t * and the language definitions to use, and returns a string with the HTML produced.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-tokenize`\n\t * 2. `after-tokenize`\n\t * 3. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @param {string} language The name of the language definition passed to `grammar`.\n\t * @returns {string} The highlighted HTML.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t */\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\t/**\n\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t * and the language definitions to use, and returns an array with the tokenized code.\n\t *\n\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t *\n\t * This method could be useful in other contexts as well, as a very crude parser.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * let code = `var foo = 0;`;\n\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t * tokens.forEach(token => {\n\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t *         console.log(`Found numeric literal: ${token.content}`);\n\t *     }\n\t * });\n\t */\n\ttokenize: function(text, grammar) {\n\t\tvar rest = grammar.rest;\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\tvar tokenList = new LinkedList();\n\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\treturn toArray(tokenList);\n\t},\n\n\t/**\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\thooks: {\n\t\tall: {},\n\n\t\t/**\n\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t *\n\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t *\n\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t * @public\n\t\t */\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\t/**\n\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t *\n\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t * @public\n\t\t */\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n_self.Prism = _;\n\n\n// Typescript note:\n// The following can be used to import the Token type in JSDoc:\n//\n//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n/**\n * Creates a new token.\n *\n * @param {string} type See {@link Token#type type}\n * @param {string | TokenStream} content See {@link Token#content content}\n * @param {string|string[]} [alias] The alias(es) of the token.\n * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n * @class\n * @global\n * @public\n */\nfunction Token(type, content, alias, matchedStr) {\n\t/**\n\t * The type of the token.\n\t *\n\t * This is usually the key of a pattern in a {@link Grammar}.\n\t *\n\t * @type {string}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.type = type;\n\t/**\n\t * The strings or tokens contained by this token.\n\t *\n\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t *\n\t * @type {string | TokenStream}\n\t * @public\n\t */\n\tthis.content = content;\n\t/**\n\t * The alias(es) of the token.\n\t *\n\t * @type {string|string[]}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length | 0;\n}\n\n/**\n * A token stream is an array of strings and {@link Token Token} objects.\n *\n * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n * them.\n *\n * 1. No adjacent strings.\n * 2. No empty strings.\n *\n *    The only exception here is the token stream that only contains the empty string and nothing else.\n *\n * @typedef {Array<string | Token>} TokenStream\n * @global\n * @public\n */\n\n/**\n * Converts the given token or token stream to an HTML representation.\n *\n * The following hooks will be run:\n * 1. `wrap`: On each {@link Token}.\n *\n * @param {string | Token | TokenStream} o The token or token stream to be converted.\n * @param {string} language The name of current language.\n * @returns {string} The HTML representation of the token or token stream.\n * @memberof Token\n * @static\n */\nToken.stringify = function stringify(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\tif (Array.isArray(o)) {\n\t\tvar s = '';\n\t\to.forEach(function (e) {\n\t\t\ts += stringify(e, language);\n\t\t});\n\t\treturn s;\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tvar aliases = o.alias;\n\tif (aliases) {\n\t\tif (Array.isArray(aliases)) {\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t} else {\n\t\t\tenv.classes.push(aliases);\n\t\t}\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = '';\n\tfor (var name in env.attributes) {\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n};\n\n/**\n * @param {string} text\n * @param {LinkedList<string | Token>} tokenList\n * @param {any} grammar\n * @param {LinkedListNode<string | Token>} startNode\n * @param {number} startPos\n * @param {RematchOptions} [rematch]\n * @returns {void}\n * @private\n *\n * @typedef RematchOptions\n * @property {string} cause\n * @property {number} reach\n */\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\tfor (var token in grammar) {\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar patterns = grammar[token];\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patternObj = patterns[j],\n\t\t\t\tinside = patternObj.inside,\n\t\t\t\tlookbehind = !!patternObj.lookbehind,\n\t\t\t\tgreedy = !!patternObj.greedy,\n\t\t\t\tlookbehindLength = 0,\n\t\t\t\talias = patternObj.alias;\n\n\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t}\n\n\t\t\t/** @type {RegExp} */\n\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t) {\n\n\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\n\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t}\n\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\tpos = p;\n\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\tfor (\n\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\tk = k.next\n\t\t\t\t\t) {\n\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t}\n\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t// replace with the new match\n\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t} else {\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str);\n\t\t\t\t}\n\n\t\t\t\tif (!match) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (lookbehind) {\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t}\n\n\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\tmatchStr = match[0].slice(lookbehindLength),\n\t\t\t\t\tto = from + matchStr.length,\n\t\t\t\t\tbefore = str.slice(0, from),\n\t\t\t\t\tafter = str.slice(to);\n\n\t\t\t\tvar reach = pos + str.length;\n\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\trematch.reach = reach;\n\t\t\t\t}\n\n\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\tif (before) {\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\tpos += before.length;\n\t\t\t\t}\n\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\tif (after) {\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t}\n\n\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t// this can only happen if the current pattern is greedy\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\treach: reach\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @typedef LinkedListNode\n * @property {T} value\n * @property {LinkedListNode<T> | null} prev The previous node.\n * @property {LinkedListNode<T> | null} next The next node.\n * @template T\n * @private\n */\n\n/**\n * @template T\n * @private\n */\nfunction LinkedList() {\n\t/** @type {LinkedListNode<T>} */\n\tvar head = { value: null, prev: null, next: null };\n\t/** @type {LinkedListNode<T>} */\n\tvar tail = { value: null, prev: head, next: null };\n\thead.next = tail;\n\n\t/** @type {LinkedListNode<T>} */\n\tthis.head = head;\n\t/** @type {LinkedListNode<T>} */\n\tthis.tail = tail;\n\tthis.length = 0;\n}\n\n/**\n * Adds a new node with the given value to the list.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {T} value\n * @returns {LinkedListNode<T>} The added node.\n * @template T\n */\nfunction addAfter(list, node, value) {\n\t// assumes that node != list.tail && values.length >= 0\n\tvar next = node.next;\n\n\tvar newNode = { value: value, prev: node, next: next };\n\tnode.next = newNode;\n\tnext.prev = newNode;\n\tlist.length++;\n\n\treturn newNode;\n}\n/**\n * Removes `count` nodes after the given node. The given node will not be removed.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {number} count\n * @template T\n */\nfunction removeRange(list, node, count) {\n\tvar next = node.next;\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\tnext = next.next;\n\t}\n\tnode.next = next;\n\tnext.prev = node;\n\tlist.length -= i;\n}\n/**\n * @param {LinkedList<T>} list\n * @returns {T[]}\n * @template T\n */\nfunction toArray(list) {\n\tvar array = [];\n\tvar node = list.head.next;\n\twhile (node !== list.tail) {\n\t\tarray.push(node.value);\n\t\tnode = node.next;\n\t}\n\treturn array;\n}\n\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n// Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nfunction highlightAutomaticallyCallback() {\n\tif (!_.manual) {\n\t\t_.highlightAll();\n\t}\n}\n\nif (!_.manual) {\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-flags': /[a-z]+$/,\n\t\t\t'regex-delimiter': /^\\/|\\/$/\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\tvar Prism = window.Prism;\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\n\t/**\n\t * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} language\n\t * @returns {void}\n\t */\n\tfunction setLanguageClass(element, language) {\n\t\tvar className = element.className;\n\t\tclassName = className.replace(lang, ' ') + ' language-' + language;\n\t\telement.className = className.replace(/\\s+/g, ' ').trim();\n\t}\n\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tsetLanguageClass(code, language);\n\t\t\tsetLanguageClass(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', src, true);\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t\t// highlight code\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\t\t\t\t\t\tPrism.highlightElement(code);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// mark as failed\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_EMPTY_MESSAGE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send(null);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; element = elements[i++];) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t}\n\n})();\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _moment = _interopRequireDefault(require(\"rc-picker/lib/generate/moment\"));\n\nvar _generatePicker = _interopRequireDefault(require(\"./generatePicker\"));\n\nvar DatePicker = (0, _generatePicker[\"default\"])(_moment[\"default\"]);\nvar _default = DatePicker;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _warning = require(\"rc-util/lib/warning\");\n\nvar generateConfig = {\n  // get\n  getNow: function getNow() {\n    return (0, _moment.default)();\n  },\n  getFixedDate: function getFixedDate(string) {\n    return (0, _moment.default)(string, 'YYYY-MM-DD');\n  },\n  getEndDate: function getEndDate(date) {\n    var clone = date.clone();\n    return clone.endOf('month');\n  },\n  getWeekDay: function getWeekDay(date) {\n    var clone = date.clone().locale('en_US');\n    return clone.weekday() + clone.localeData().firstDayOfWeek();\n  },\n  getYear: function getYear(date) {\n    return date.year();\n  },\n  getMonth: function getMonth(date) {\n    return date.month();\n  },\n  getDate: function getDate(date) {\n    return date.date();\n  },\n  getHour: function getHour(date) {\n    return date.hour();\n  },\n  getMinute: function getMinute(date) {\n    return date.minute();\n  },\n  getSecond: function getSecond(date) {\n    return date.second();\n  },\n  // set\n  addYear: function addYear(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'year');\n  },\n  addMonth: function addMonth(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'month');\n  },\n  addDate: function addDate(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'day');\n  },\n  setYear: function setYear(date, year) {\n    var clone = date.clone();\n    return clone.year(year);\n  },\n  setMonth: function setMonth(date, month) {\n    var clone = date.clone();\n    return clone.month(month);\n  },\n  setDate: function setDate(date, num) {\n    var clone = date.clone();\n    return clone.date(num);\n  },\n  setHour: function setHour(date, hour) {\n    var clone = date.clone();\n    return clone.hour(hour);\n  },\n  setMinute: function setMinute(date, minute) {\n    var clone = date.clone();\n    return clone.minute(minute);\n  },\n  setSecond: function setSecond(date, second) {\n    var clone = date.clone();\n    return clone.second(second);\n  },\n  // Compare\n  isAfter: function isAfter(date1, date2) {\n    return date1.isAfter(date2);\n  },\n  isValidate: function isValidate(date) {\n    return date.isValid();\n  },\n  locale: {\n    getWeekFirstDay: function getWeekFirstDay(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().firstDayOfWeek();\n    },\n    getWeekFirstDate: function getWeekFirstDate(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.weekday(0);\n    },\n    getWeek: function getWeek(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.week();\n    },\n    getShortWeekDays: function getShortWeekDays(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().weekdaysMin();\n    },\n    getShortMonths: function getShortMonths(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().monthsShort();\n    },\n    format: function format(locale, date, _format) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.format(_format);\n    },\n    parse: function parse(locale, text, formats) {\n      var fallbackFormatList = [];\n\n      for (var i = 0; i < formats.length; i += 1) {\n        var format = formats[i];\n        var formatText = text;\n\n        if (format.includes('wo') || format.includes('Wo')) {\n          format = format.replace(/wo/g, 'w').replace(/Wo/g, 'W');\n          var matchFormat = format.match(/[-YyMmDdHhSsWwGg]+/g);\n          var matchText = formatText.match(/[-\\d]+/g);\n\n          if (matchFormat && matchText) {\n            format = matchFormat.join('');\n            formatText = matchText.join('');\n          } else {\n            fallbackFormatList.push(format.replace(/o/g, ''));\n          }\n        }\n\n        var date = (0, _moment.default)(formatText, format, locale, true);\n\n        if (date.isValid()) {\n          return date;\n        }\n      } // Fallback to fuzzy matching, this should always not reach match or need fire a issue\n\n\n      for (var _i = 0; _i < fallbackFormatList.length; _i += 1) {\n        var _date = (0, _moment.default)(text, fallbackFormatList[_i], locale, false);\n        /* istanbul ignore next */\n\n\n        if (_date.isValid()) {\n          (0, _warning.noteOnce)(false, 'Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this.');\n          return _date;\n        }\n      }\n\n      return null;\n    }\n  }\n};\nvar _default = generateConfig;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PickerButton;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nfunction PickerButton(props) {\n  return /*#__PURE__*/React.createElement(_button[\"default\"], (0, _extends2[\"default\"])({\n    size: \"small\",\n    type: \"primary\"\n  }, props));\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PickerTag;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _tag = _interopRequireDefault(require(\"../tag\"));\n\nfunction PickerTag(props) {\n  return /*#__PURE__*/React.createElement(_tag[\"default\"], (0, _extends2[\"default\"])({\n    color: \"blue\"\n  }, props));\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _omit = _interopRequireDefault(require(\"omit.js\"));\n\nvar _CloseOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseOutlined\"));\n\nvar _CheckableTag = _interopRequireDefault(require(\"./CheckableTag\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _colors = require(\"../_util/colors\");\n\nvar _wave = _interopRequireDefault(require(\"../_util/wave\"));\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar PresetColorRegex = new RegExp(\"^(\".concat(_colors.PresetColorTypes.join('|'), \")(-inverse)?$\"));\nvar PresetStatusColorRegex = new RegExp(\"^(\".concat(_colors.PresetStatusColorTypes.join('|'), \")$\"));\n\nvar InternalTag = function InternalTag(_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      style = _a.style,\n      children = _a.children,\n      icon = _a.icon,\n      color = _a.color,\n      onClose = _a.onClose,\n      closeIcon = _a.closeIcon,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? false : _a$closable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  React.useEffect(function () {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n\n  var isPresetColor = function isPresetColor() {\n    if (!color) {\n      return false;\n    }\n\n    return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n  };\n\n  var tagStyle = (0, _extends2[\"default\"])({\n    backgroundColor: color && !isPresetColor() ? color : undefined\n  }, style);\n  var presetColor = isPresetColor();\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var tagClassName = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(color), presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n\n  var handleCloseClick = function handleCloseClick(e) {\n    e.stopPropagation();\n\n    if (onClose) {\n      onClose(e);\n    }\n\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (!('visible' in props)) {\n      setVisible(false);\n    }\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    if (closable) {\n      return closeIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      }, closeIcon) : /*#__PURE__*/React.createElement(_CloseOutlined[\"default\"], {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      });\n    }\n\n    return null;\n  };\n\n  var isNeedWave = 'onClick' in props || children && children.type === 'a';\n  var tagProps = (0, _omit[\"default\"])(props, ['visible']);\n  var iconNode = icon || null;\n  var kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  var tagNode = /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, tagProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, renderCloseIcon());\n  return isNeedWave ? /*#__PURE__*/React.createElement(_wave[\"default\"], null, tagNode) : tagNode;\n};\n\nvar Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nTag.displayName = 'Tag';\nTag.CheckableTag = _CheckableTag[\"default\"];\nvar _default = Tag;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CheckableTag = function CheckableTag(_a) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      checked = _a.checked,\n      onChange = _a.onChange,\n      onClick = _a.onClick,\n      restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var handleClick = function handleClick(e) {\n    if (onChange) {\n      onChange(!checked);\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var cls = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  }));\n};\n\nvar _default = CheckableTag;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generatePicker;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons/CalendarOutlined\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ClockCircleOutlined\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _rcPicker = _interopRequireDefault(require(\"rc-picker\"));\n\nvar _en_US = _interopRequireDefault(require(\"../locale/en_US\"));\n\nvar _util = require(\"../util\");\n\nvar _devWarning = _interopRequireDefault(require(\"../../_util/devWarning\"));\n\nvar _configProvider = require(\"../../config-provider\");\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../../locale-provider/LocaleReceiver\"));\n\nvar _SizeContext = _interopRequireDefault(require(\"../../config-provider/SizeContext\"));\n\nvar _ = require(\".\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nfunction generatePicker(generateConfig) {\n  function getPicker(picker, displayName) {\n    var Picker = /*#__PURE__*/function (_React$Component) {\n      (0, _inherits2[\"default\"])(Picker, _React$Component);\n\n      var _super = (0, _createSuper2[\"default\"])(Picker);\n\n      function Picker(props) {\n        var _this;\n\n        (0, _classCallCheck2[\"default\"])(this, Picker);\n        _this = _super.call(this, props);\n        _this.pickerRef = /*#__PURE__*/React.createRef();\n\n        _this.focus = function () {\n          if (_this.pickerRef.current) {\n            _this.pickerRef.current.focus();\n          }\n        };\n\n        _this.blur = function () {\n          if (_this.pickerRef.current) {\n            _this.pickerRef.current.blur();\n          }\n        };\n\n        _this.getDefaultLocale = function () {\n          var locale = _this.props.locale;\n          var result = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _en_US[\"default\"]), locale);\n          result.lang = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, result.lang), (locale || {}).lang);\n          return result;\n        };\n\n        _this.renderPicker = function (locale) {\n          var _this$context = _this.context,\n              getPrefixCls = _this$context.getPrefixCls,\n              direction = _this$context.direction,\n              getPopupContainer = _this$context.getPopupContainer;\n\n          var _a = _this.props,\n              customizePrefixCls = _a.prefixCls,\n              customizeGetPopupContainer = _a.getPopupContainer,\n              className = _a.className,\n              customizeSize = _a.size,\n              _a$bordered = _a.bordered,\n              bordered = _a$bordered === void 0 ? true : _a$bordered,\n              placeholder = _a.placeholder,\n              restProps = __rest(_a, [\"prefixCls\", \"getPopupContainer\", \"className\", \"size\", \"bordered\", \"placeholder\"]);\n\n          var _this$props = _this.props,\n              format = _this$props.format,\n              showTime = _this$props.showTime;\n          var prefixCls = getPrefixCls('picker', customizePrefixCls);\n          var additionalProps = {\n            showToday: true\n          };\n          var additionalOverrideProps = {};\n\n          if (picker) {\n            additionalOverrideProps.picker = picker;\n          }\n\n          var mergedPicker = picker || _this.props.picker;\n          additionalOverrideProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, additionalOverrideProps), showTime ? (0, _.getTimeProps)((0, _extends2[\"default\"])({\n            format: format,\n            picker: mergedPicker\n          }, showTime)) : {}), mergedPicker === 'time' ? (0, _.getTimeProps)((0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n            format: format\n          }, _this.props), {\n            picker: mergedPicker\n          })) : {});\n          return /*#__PURE__*/React.createElement(_SizeContext[\"default\"].Consumer, null, function (size) {\n            var _classNames;\n\n            var mergedSize = customizeSize || size;\n            return /*#__PURE__*/React.createElement(_rcPicker[\"default\"], (0, _extends2[\"default\"])({\n              ref: _this.pickerRef,\n              placeholder: (0, _util.getPlaceholder)(mergedPicker, locale, placeholder),\n              suffixIcon: mergedPicker === 'time' ? /*#__PURE__*/React.createElement(_ClockCircleOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_CalendarOutlined[\"default\"], null),\n              clearIcon: /*#__PURE__*/React.createElement(_CloseCircleFilled[\"default\"], null),\n              allowClear: true,\n              transitionName: \"slide-up\"\n            }, additionalProps, restProps, additionalOverrideProps, {\n              locale: locale.lang,\n              className: (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames), className),\n              prefixCls: prefixCls,\n              getPopupContainer: customizeGetPopupContainer || getPopupContainer,\n              generateConfig: generateConfig,\n              prevIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-prev-icon\")\n              }),\n              nextIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-next-icon\")\n              }),\n              superPrevIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-super-prev-icon\")\n              }),\n              superNextIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-super-next-icon\")\n              }),\n              components: _.Components,\n              direction: direction\n            }));\n          });\n        };\n\n        (0, _devWarning[\"default\"])(picker !== 'quarter', displayName, \"DatePicker.\".concat(displayName, \" is legacy usage. Please use DatePicker[picker='\").concat(picker, \"'] directly.\"));\n        return _this;\n      }\n\n      (0, _createClass2[\"default\"])(Picker, [{\n        key: \"render\",\n        value: function render() {\n          return /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n            componentName: \"DatePicker\",\n            defaultLocale: this.getDefaultLocale\n          }, this.renderPicker);\n        }\n      }]);\n      return Picker;\n    }(React.Component);\n\n    Picker.contextType = _configProvider.ConfigContext;\n\n    if (displayName) {\n      Picker.displayName = displayName;\n    }\n\n    return Picker;\n  }\n\n  var DatePicker = getPicker();\n  var WeekPicker = getPicker('week', 'WeekPicker');\n  var MonthPicker = getPicker('month', 'MonthPicker');\n  var YearPicker = getPicker('year', 'YearPicker');\n  var TimePicker = getPicker('time', 'TimePicker');\n  var QuarterPicker = getPicker('quarter', 'QuarterPicker');\n  return {\n    DatePicker: DatePicker,\n    WeekPicker: WeekPicker,\n    MonthPicker: MonthPicker,\n    YearPicker: YearPicker,\n    TimePicker: TimePicker,\n    QuarterPicker: QuarterPicker\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/CalendarOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar CalendarOutlined = function CalendarOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _CalendarOutlined.default\n  }));\n};\n\nCalendarOutlined.displayName = 'CalendarOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(CalendarOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CalendarOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z\" } }] }, \"name\": \"calendar\", \"theme\": \"outlined\" };\nexports.default = CalendarOutlined;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/ClockCircleOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar ClockCircleOutlined = function ClockCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _ClockCircleOutlined.default\n  }));\n};\n\nClockCircleOutlined.displayName = 'ClockCircleOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(ClockCircleOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClockCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z\" } }] }, \"name\": \"clock-circle\", \"theme\": \"outlined\" };\nexports.default = ClockCircleOutlined;\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateRangePicker;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons/CalendarOutlined\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ClockCircleOutlined\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _SwapRightOutlined = _interopRequireDefault(require(\"@ant-design/icons/SwapRightOutlined\"));\n\nvar _rcPicker = require(\"rc-picker\");\n\nvar _en_US = _interopRequireDefault(require(\"../locale/en_US\"));\n\nvar _configProvider = require(\"../../config-provider\");\n\nvar _SizeContext = _interopRequireDefault(require(\"../../config-provider/SizeContext\"));\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../../locale-provider/LocaleReceiver\"));\n\nvar _util = require(\"../util\");\n\nvar _ = require(\".\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nfunction generateRangePicker(generateConfig) {\n  var RangePicker = /*#__PURE__*/function (_React$Component) {\n    (0, _inherits2[\"default\"])(RangePicker, _React$Component);\n\n    var _super = (0, _createSuper2[\"default\"])(RangePicker);\n\n    function RangePicker() {\n      var _this;\n\n      (0, _classCallCheck2[\"default\"])(this, RangePicker);\n      _this = _super.apply(this, arguments);\n      _this.pickerRef = /*#__PURE__*/React.createRef();\n\n      _this.focus = function () {\n        if (_this.pickerRef.current) {\n          _this.pickerRef.current.focus();\n        }\n      };\n\n      _this.blur = function () {\n        if (_this.pickerRef.current) {\n          _this.pickerRef.current.blur();\n        }\n      };\n\n      _this.getDefaultLocale = function () {\n        var locale = _this.props.locale;\n        var result = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _en_US[\"default\"]), locale);\n        result.lang = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, result.lang), (locale || {}).lang);\n        return result;\n      };\n\n      _this.renderPicker = function (locale) {\n        var _this$context = _this.context,\n            getPrefixCls = _this$context.getPrefixCls,\n            direction = _this$context.direction,\n            getPopupContainer = _this$context.getPopupContainer;\n\n        var _a = _this.props,\n            customizePrefixCls = _a.prefixCls,\n            customGetPopupContainer = _a.getPopupContainer,\n            className = _a.className,\n            customizeSize = _a.size,\n            _a$bordered = _a.bordered,\n            bordered = _a$bordered === void 0 ? true : _a$bordered,\n            placeholder = _a.placeholder,\n            restProps = __rest(_a, [\"prefixCls\", \"getPopupContainer\", \"className\", \"size\", \"bordered\", \"placeholder\"]);\n\n        var _this$props = _this.props,\n            format = _this$props.format,\n            showTime = _this$props.showTime,\n            picker = _this$props.picker;\n        var prefixCls = getPrefixCls('picker', customizePrefixCls);\n        var additionalOverrideProps = {};\n        additionalOverrideProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, additionalOverrideProps), showTime ? (0, _.getTimeProps)((0, _extends2[\"default\"])({\n          format: format,\n          picker: picker\n        }, showTime)) : {}), picker === 'time' ? (0, _.getTimeProps)((0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n          format: format\n        }, _this.props), {\n          picker: picker\n        })) : {});\n        return /*#__PURE__*/React.createElement(_SizeContext[\"default\"].Consumer, null, function (size) {\n          var _classNames;\n\n          var mergedSize = customizeSize || size;\n          return /*#__PURE__*/React.createElement(_rcPicker.RangePicker, (0, _extends2[\"default\"])({\n            separator: /*#__PURE__*/React.createElement(\"span\", {\n              \"aria-label\": \"to\",\n              className: \"\".concat(prefixCls, \"-separator\")\n            }, /*#__PURE__*/React.createElement(_SwapRightOutlined[\"default\"], null)),\n            ref: _this.pickerRef,\n            placeholder: (0, _util.getRangePlaceholder)(picker, locale, placeholder),\n            suffixIcon: picker === 'time' ? /*#__PURE__*/React.createElement(_ClockCircleOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_CalendarOutlined[\"default\"], null),\n            clearIcon: /*#__PURE__*/React.createElement(_CloseCircleFilled[\"default\"], null),\n            allowClear: true,\n            transitionName: \"slide-up\"\n          }, restProps, additionalOverrideProps, {\n            className: (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames), className),\n            locale: locale.lang,\n            prefixCls: prefixCls,\n            getPopupContainer: customGetPopupContainer || getPopupContainer,\n            generateConfig: generateConfig,\n            prevIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-prev-icon\")\n            }),\n            nextIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-next-icon\")\n            }),\n            superPrevIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-super-prev-icon\")\n            }),\n            superNextIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-super-next-icon\")\n            }),\n            components: _.Components,\n            direction: direction\n          }));\n        });\n      };\n\n      return _this;\n    }\n\n    (0, _createClass2[\"default\"])(RangePicker, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n          componentName: \"DatePicker\",\n          defaultLocale: this.getDefaultLocale\n        }, this.renderPicker);\n      }\n    }]);\n    return RangePicker;\n  }(React.Component);\n\n  RangePicker.contextType = _configProvider.ConfigContext;\n  return RangePicker;\n}","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _SwapRightOutlined = _interopRequireDefault(require('./lib/icons/SwapRightOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _SwapRightOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _SwapRightOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/SwapRightOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar SwapRightOutlined = function SwapRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _SwapRightOutlined.default\n  }));\n};\n\nSwapRightOutlined.displayName = 'SwapRightOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(SwapRightOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SwapRightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z\" } }] }, \"name\": \"swap-right\", \"theme\": \"outlined\" };\nexports.default = SwapRightOutlined;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","\nexport interface ILangData {\n  [key: string]: {\n    /**\n     * alias\n     */\n    a?: string | string[];\n    /**\n     * require\n     */\n    r?: string | string[];\n    /**\n     * peerDependencies\n     */\n    p?: string | string[];\n    /**\n     * file does not exist\n     */\n    e?: boolean;\n  }\n}\n\nconst langData: ILangData = {\n  meta: {},\n  markup: { a: ['html', 'xml', 'svg', 'mathml'] },\n  css: { p: 'markup' },\n  clike: {},\n  javascript: { p: 'markup', r: 'clike', a: 'js' },\n  abap: {},\n  abnf: {},\n  actionscript: { p: 'markup', r: 'javascript' },\n  ada: {},\n  apacheconf: {},\n  apl: {},\n  applescript: {},\n  arduino: { r: 'cpp' },\n  arff: {},\n  asciidoc: { a: 'adoc' },\n  asm6502: {},\n  aspnet: { r: ['markup', 'csharp'] },\n  autohotkey: {},\n  autoit: {},\n  bash: { a: 'shell' },\n  basic: {},\n  batch: {},\n  bison: { r: 'c' },\n  bnf: { a: 'rbnf' },\n  brainfuck: {},\n  bro: {},\n  c: { r: 'clike' },\n  csharp: { r: 'clike', a: ['cs', 'dotnet'] },\n  cpp: { r: 'c' },\n  cil: {},\n  coffeescript: { r: 'javascript', a: 'coffee' },\n  cmake: {},\n  clojure: {},\n  crystal: { r: 'ruby' },\n  csp: {},\n  'css-extras': { r: 'css' },\n  d: { r: 'clike' },\n  dart: { r: 'clike' },\n  diff: {},\n  django: { r: 'markup-templating', a: 'jinja2' },\n  'dns-zone-file': { a: 'dns-zone' },\n  docker: { a: 'dockerfile' },\n  ebnf: {},\n  eiffel: {},\n  ejs: { r: ['javascript', 'markup-templating'] },\n  elixir: {},\n  elm: {},\n  erb: { r: ['ruby', 'markup-templating'] },\n  erlang: {},\n  fsharp: { r: 'clike' },\n  flow: { r: 'javascript' },\n  fortran: {},\n  gcode: {},\n  gedcom: {},\n  gherkin: {},\n  git: {},\n  glsl: { r: 'clike' },\n  gml: { r: 'clike', a: 'gamemakerlanguage' },\n  go: { r: 'clike' },\n  graphql: {},\n  groovy: { r: 'clike' },\n  haml:\n  {\n    p: ['css', 'coffeescript', 'erb', 'javascript', 'less', 'markdown', 'ruby', 'scss', 'textile'],\n    r: 'ruby'\n  },\n  handlebars: { r: 'markup-templating' },\n  haskell: { a: 'hs' },\n  haxe: { r: 'clike' },\n  hcl: {},\n  http: { p: ['javascript', 'markup'] },\n  hpkp: {},\n  hsts: {},\n  ichigojam: {},\n  icon: {},\n  inform7: {},\n  ini: {},\n  io: {},\n  j: {},\n  java: { r: 'clike' },\n  javadoc: { p: ['scala'], r: ['markup', 'java', 'javadoclike'] },\n  javadoclike: { p: ['java', 'javascript', 'php'] },\n  javastacktrace: {},\n  jolie: { r: 'clike' },\n  jq: {},\n  jsdoc:\n  {\n    p: ['actionscript', 'coffeescript'],\n    r: ['javascript', 'javadoclike']\n  },\n  'js-extras':\n  {\n    p: ['actionscript', 'coffeescript', 'flow', 'n4js', 'typescript'],\n    r: 'javascript'\n  },\n  'js-templates':\n  {\n    p: ['css', 'css-extras', 'graphql', 'markdown', 'markup'],\n    r: 'javascript'\n  },\n  json: {},\n  jsonp: { r: 'json' },\n  json5: { r: 'json' },\n  julia: {},\n  keyman: {},\n  kotlin: { r: 'clike' },\n  latex: { a: ['tex', 'context'] },\n  less: { r: 'css' },\n  lilypond: { r: 'scheme', a: 'ly' },\n  liquid: {},\n  lisp: { a: ['emacs', 'elisp', 'emacs-lisp'] },\n  livescript: {},\n  lolcode: {},\n  lua: {},\n  makefile: {},\n  markdown: { r: 'markup', a: 'md' },\n  'markup-templating': { r: 'markup' },\n  matlab: {},\n  mel: {},\n  mizar: {},\n  monkey: {},\n  n1ql: {},\n  n4js: { p: ['jsdoc'], r: 'javascript', a: 'n4jsd' },\n  'nand2tetris-hdl': {},\n  nasm: {},\n  nginx: { r: 'clike' },\n  nim: {},\n  nix: {},\n  nsis: {},\n  objectivec: { r: 'c' },\n  ocaml: {},\n  opencl: { p: ['c', 'cpp'], r: 'cpp' },\n  oz: {},\n  parigp: {},\n  parser: { r: 'markup' },\n  pascal: { a: 'objectpascal' },\n  pascaligo: {},\n  pcaxis: { a: 'px' },\n  perl: {},\n  php: { r: ['clike', 'markup-templating'] },\n  phpdoc: { r: ['php', 'javadoclike'] },\n  'php-extras': { r: 'php' },\n  plsql: { r: 'sql' },\n  powershell: {},\n  processing: { r: 'clike' },\n  prolog: {},\n  properties: {},\n  protobuf: { r: 'clike' },\n  pug:\n  {\n    p: ['coffeescript', 'ejs', 'handlebars', 'less', 'livescript', 'markdown', 'scss', 'stylus', 'twig'],\n    r: ['markup', 'javascript']\n  },\n  puppet: {},\n  pure: { p: ['c', 'cpp', 'fortran'] },\n  python: { a: 'py' },\n  q: {},\n  qore: { r: 'clike' },\n  r: {},\n  jsx:\n  {\n    p: ['jsdoc', 'js-extras', 'js-templates'],\n    r: ['markup', 'javascript']\n  },\n  tsx: { r: ['jsx', 'typescript'] },\n  renpy: {},\n  reason: { r: 'clike' },\n  regex: { p: ['actionscript', 'coffeescript', 'flow', 'javascript', 'typescript', 'vala'] },\n  rest: {},\n  rip: {},\n  roboconf: {},\n  ruby: { r: 'clike', a: 'rb' },\n  rust: {},\n  sas: {},\n  sass: { r: 'css' },\n  scss: { r: 'css' },\n  scala: { r: 'java' },\n  scheme: {},\n  'shell-session': { r: 'bash' },\n  smalltalk: {},\n  smarty: { r: 'markup-templating' },\n  soy: { r: 'markup-templating' },\n  'splunk-spl': {},\n  sql: {},\n  stylus: {},\n  swift: { r: 'clike' },\n  tap: { r: 'yaml' },\n  tcl: {},\n  textile: { p: 'css', r: 'markup' },\n  toml: {},\n  tt2: { r: ['clike', 'markup-templating'] },\n  twig: { r: 'markup' },\n  typescript: { p: 'js-templates', r: 'javascript', a: 'ts' },\n  't4-cs': { r: ['t4-templating', 'csharp'], a: 't4' },\n  't4-vb': { r: ['t4-templating', 'visual-basic'] },\n  't4-templating': {},\n  vala: { r: 'clike' },\n  vbnet: { r: 'basic' },\n  velocity: { r: 'markup' },\n  verilog: {},\n  vhdl: {},\n  vim: {},\n  'visual-basic': { a: 'vb' },\n  wasm: {},\n  wiki: { r: 'markup' },\n  xeora: { r: 'markup', a: 'xeoracube' },\n  xojo: {},\n  xquery: { r: 'markup' },\n  yaml: { a: 'yml' }\n};\n\nexport async function loadLang(ext: string) {\n  let langs: string[] = [];\n  Object.keys(langData).forEach((item) => {\n    const { a: alias, r: require } = langData[item];\n    if (alias && (Array.isArray(alias) ? alias : [alias]).includes(ext)) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n    }\n    if (ext === item) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n      langs.push(ext);\n    }\n  });\n  try {\n    if (langs.length > 0) {\n      return Promise.all(langs.map((key) => import(`prismjs/components/prism-${key}`)));\n    }\n  } catch (error) { }\n}\n\nexport default langData;\n","import React, { useState, createRef, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\nimport CodeMirror, { ICodeMirror } from './components/CodeMirror';\nimport MarkdownPreview, { MarkdownPreviewProps } from '@uiw/react-markdown-preview';\nimport ToolBar, { IToolBarProps } from './components/ToolBar';\nimport { getCommands, getModeCommands } from './commands';\nimport './index.less';\n\nexport * from './commands';\n\nexport interface IMarkdownEditor extends ICodeMirror {\n  className?: string;\n  prefixCls?: string,\n  value?: string,\n  height?: number,\n  visible?: boolean,\n  visibleEditor?: boolean,\n  toolbars?: IToolBarProps['toolbars'],\n  toolbarsMode?: IToolBarProps['toolbars'],\n  previewProps?: MarkdownPreviewProps;\n  options?: CodeMirror.EditorConfiguration,\n}\n\nexport interface MarkdownEditorRef {\n  editor?: CodeMirror.Editor;\n  preview?: HTMLDivElement | null;\n}\n\nexport default React.forwardRef<MarkdownEditorRef, IMarkdownEditor>(MarkdownEditor);\n\nfunction MarkdownEditor(\n  props: IMarkdownEditor,\n  ref?:\n    | ((instance: MarkdownEditorRef) => void)\n    | React.RefObject<MarkdownEditorRef>\n    | null\n) {\n  const {\n    prefixCls = 'md-editor', className,\n    onChange,\n    toolbars = getCommands(),\n    toolbarsMode = getModeCommands(),\n    visible = true,\n    visibleEditor = true,\n    previewProps = {}, ...codemirrorProps } = props;\n  const [value, setValue] = useState(props.value || '');\n  const codeMirror = createRef<CodeMirror>();\n  const previewContainer = useRef<HTMLDivElement | null>()\n  const [editor, setEditor] = useState<CodeMirror.Editor>();\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst containerEditor = useRef<HTMLDivElement>(null);\n\n  useImperativeHandle(ref, () => ({\n    editor: editor,\n    preview: previewContainer.current,\n  }));\n\n  useEffect(() => {\n    if (codeMirror.current) {\n      setEditor(codeMirror.current.editor);\n    }\n  }, [codeMirror.current]);\n\n  const toolBarProps = {\n    editor,\n    preview: previewContainer.current,\n    container: container.current,\n    containerEditor: containerEditor.current,\n    editorProps: props\n  }\n  const codeEditor = useMemo(() => (\n    <CodeMirror\n      visibleEditor={visibleEditor}\n      {...codemirrorProps}\n      ref={codeMirror}\n      onChange={(editor, data) => {\n        setValue(editor.getValue());\n        onChange && onChange(editor, data, editor.getValue())\n      }}\n    />\n  ), [visibleEditor, codemirrorProps])\n  return (\n    <div ref={container}>\n      <div className={`${prefixCls || ''} ${className || ''}`}>\n        <ToolBar {...toolBarProps} toolbars={toolbarsMode} mode />\n        <ToolBar {...toolBarProps} toolbars={toolbars} />\n        <div className={`${prefixCls}-content`}>\n          <div className={`${prefixCls}-content-editor`} ref={containerEditor}>\n            {visibleEditor && codeEditor}\n          </div>\n          <MarkdownPreview\n            {...previewProps}\n            data-visible={!!visible}\n            className={`${prefixCls}-preview`}\n            ref={(instance) => {\n              if(instance && instance.mdp) {\n                previewContainer.current = instance.mdp.current\n              }\n            }}\n            source={value}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { ICommand } from './'\n\nexport const bold: ICommand = {\n  name: 'bold',\n  keyCommand: 'bold',\n  button: { 'aria-label': 'Add bold text' },\n  icon: (\n    <svg width=\"13\" height=\"13\" viewBox=\"0 0 384 512\">\n      <path fill=\"currentColor\" d=\"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `**${selection}**` : `****`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const italic: ICommand = {\n  name: 'italic',\n  keyCommand: 'italic',\n  button: { 'aria-label': 'Add italic text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 320 512\">\n      <path fill=\"currentColor\" d=\"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `*${selection}*` : `**`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const header: ICommand = {\n  name: 'header',\n  keyCommand: 'header',\n  button: { 'aria-label': 'Add header text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `# ${selection}` : '# ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const strike: ICommand = {\n  name: 'strike',\n  keyCommand: 'strike',\n  button: { 'aria-label': 'Add strike text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `~~${selection}~~` : '~~~~';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const underline: ICommand = {\n  name: 'underline',\n  keyCommand: 'underline',\n  button: { 'aria-label': 'Add underline text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M10 17c3.3 0 6-2.7 6-6V3.5c0-.8-.7-1.5-1.5-1.5S13 2.7 13 3.5V11c0 1.7-1.3 3-3 3s-3-1.3-3-3V3.5C7 2.7 6.3 2 5.5 2S4 2.7 4 3.5V11c0 3.3 2.7 6 6 6zM16.5 19h-13c-.3 0-.5.2-.5.5s.2.5.5.5h13c.3 0 .5-.2.5-.5s-.2-.5-.5-.5z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `<u>${selection}</u>` : '<u></u>';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const olist: ICommand = {\n  name: 'olist',\n  keyCommand: 'olist',\n  button: { 'aria-label': 'Add olist text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M12 2h20v4h-20v-4zM12 14h20v4h-20v-4zM12 26h20v4h-20v-4zM0 4c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 16c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 28c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- ${selection}` : '- ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const ulist: ICommand = {\n  name: 'ulist',\n  keyCommand: 'ulist',\n  button: { 'aria-label': 'Add ulist text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `1. ${selection}` : '1. ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const link: ICommand = {\n  name: 'link',\n  keyCommand: 'link',\n  button: { 'aria-label': 'Add link text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = '[]( \"\")';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const todo: ICommand = {\n  name: 'todo',\n  keyCommand: 'todo',\n  button: { 'aria-label': 'Add todo List' },\n  icon: (\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M224 800.256L223.712 224H320v31.68c0 35.456 28.64 64.32 63.872 64.32h256.256A64.16 64.16 0 0 0 704 255.68V224l96-0.256L800.256 800 224 800.256zM640 192.32L640.128 256 384 255.68V192.32L383.872 192 640 192.32zM799.84 160H695.04c-11.072-19.04-31.424-32-54.912-32h-256.256c-23.488 0-43.808 12.928-54.912 32H223.712A63.776 63.776 0 0 0 160 223.744v576.512C160 835.392 188.608 864 223.744 864h576.512A63.84 63.84 0 0 0 864 800.256V223.744A64 64 0 0 0 799.84 160zM619.072 429.088l-151.744 165.888-62.112-69.6a32 32 0 1 0-47.744 42.624l85.696 96a32 32 0 0 0 23.68 10.688h0.192c8.96 0 17.536-3.776 23.616-10.4l175.648-192a32 32 0 0 0-47.232-43.2\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- [ ] ${selection}` : '- [ ] ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 6;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const image: ICommand = {\n  name: 'image',\n  keyCommand: 'image',\n  button: { 'aria-label': 'Add image text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `${selection} ![]( \"\")` : '![]( \"\")\\n';\n    editor.replaceSelection(value);\n    // position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null | undefined;\n  container?: HTMLDivElement | null | undefined;\n  editor?: CodeMirror.Editor;\n}\n\nconst Fullscreen: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { container, preview, editor } } = props;\n  const [full, setFull] = useState(false);\n  const initEditorHeight = useRef(0);\n  const containerRef = useRef<HTMLDivElement | null>();\n  const editorRef = useRef<CodeMirror.Editor>();\n  function handleResize() {\n    if (containerRef.current && editorRef.current) {\n      editorRef.current.setSize('initial', containerRef.current.clientHeight - 35);\n    }\n  }\n  useEffect(() => {\n    window && window.addEventListener('resize', handleResize, true);\n    return () => {\n      window && window.removeEventListener('resize', handleResize, true);\n    }\n  }, []);\n  useEffect(() => {\n    if (editor) {\n      editorRef.current = editor;\n      const { clientHeight } = editor.getScrollInfo();\n      initEditorHeight.current = clientHeight;\n    }\n  }, [editor]);\n  useEffect(() => {\n    if (!document) return;\n    containerRef.current = container\n    document.body.style.overflow = full ? 'hidden' : 'initial';\n    if (container && full) {\n      container.style.zIndex = '999';\n      container.style.position = 'fixed';\n      container.style.top = '0px';\n      container.style.bottom = '0px';\n      container.style.left = '0px';\n      container.style.right = '0px';\n      editor!.setSize('initial', container.clientHeight - 35);\n    } else if (container) {\n      container.style.position = 'initial';\n      container.style.top = 'initial';\n      container.style.bottom = 'initial';\n      container.style.left = 'initial';\n      container.style.right = 'initial';\n      editor!.setSize('initial', initEditorHeight.current);\n    }\n  }, [full, container, preview]);\n  return (\n    <button\n      onClick={() => setFull(!full)}\n      type=\"button\"\n      className={full ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  );\n}\n\nexport const fullscreen: ICommand = {\n  name: 'fullscreen',\n  keyCommand: 'fullscreen',\n  button: (command, props, opts) => <Fullscreen command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M189.75 428.89a36.87 36.87 0 0 0 36.84-36.85V228.12h164a36.85 36.85 0 1 0 0-73.7H189.75a36.82 36.82 0 0 0-36.8 36.85v200.8a36.83 36.83 0 0 0 36.8 36.82zM834.26 595.06a36.82 36.82 0 0 0-36.8 36.84v164H633.41a36.85 36.85 0 0 0 0 73.7h200.85a36.87 36.87 0 0 0 36.84-36.85V631.9a36.86 36.86 0 0 0-36.84-36.84zM797.46 228.12v179.31a36.82 36.82 0 1 0 73.64 0V191.24a36.86 36.86 0 0 0-36.84-36.85H602.33a36.85 36.85 0 0 0 0 73.7zM421.62 795.9H226.54V616.56a36.82 36.82 0 1 0-73.64 0v216.19a36.83 36.83 0 0 0 36.85 36.85h231.87a36.85 36.85 0 0 0 0-73.7z\" />\n      <path fill=\"currentColor\" d=\"M306.5 307.94m32.95 0l345.1 0q32.95 0 32.95 32.95l0 342.22q0 32.95-32.95 32.95l-345.1 0q-32.95 0-32.95-32.95l0-342.22q0-32.95 32.95-32.95Z\" />\n    </svg>\n  ),\n};","import React, { useEffect, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  editor?: CodeMirror.Editor;\n}\n\nconst Preview: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { preview, containerEditor } } = props;\n  const [visible, setVisible] = useState(props.editorProps.visible);\n  useEffect(() => {\n    setVisible(props.editorProps.visible);\n  }, [props.editorProps.visible]);\n\n  useEffect(() => {\n    if (preview) {\n      preview.style.borderBottomRightRadius = '3px';\n    }\n    if (preview && visible) {\n      preview.style.width = '50%';\n      preview.style.overflow = 'auto';\n      preview.style.borderLeft = '1px solid #dfdfe0';\n      preview.style.padding = '20px';\n      if (containerEditor) {\n        containerEditor.style.width = '50%'\n      }\n    } else if (preview) {\n      preview.style.width = '0%';\n      preview.style.overflow = 'hidden';\n      preview.style.borderLeft = '0px';\n      preview.style.padding = '0';\n      if (containerEditor) {\n        containerEditor.style.width = '100%'\n      }\n    }\n  }, [preview, containerEditor, visible]);\n\n  return (\n    <button\n      onClick={() => setVisible(!visible)}\n      type=\"button\"\n      className={visible ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  )\n}\n\nexport const preview: ICommand = {\n  name: 'preview',\n  keyCommand: 'preview',\n  button: (command, props, opts) => <Preview command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M0 16c3.037-5.864 9.058-9.802 16-9.802s12.963 3.938 15.953 9.703l0.047 0.1c-3.037 5.864-9.058 9.802-16 9.802s-12.963-3.938-15.953-9.703l-0.047-0.1zM16 22.531c3.607 0 6.531-2.924 6.531-6.531s-2.924-6.531-6.531-6.531v0c-3.607 0-6.531 2.924-6.531 6.531s2.924 6.531 6.531 6.531v0zM16 19.265c-1.804 0-3.265-1.461-3.265-3.265s1.461-3.265 3.265-3.265v0c1.804 0 3.265 1.461 3.265 3.265s-1.461 3.265-3.265 3.265v0z\" />\n    </svg>\n  ),\n};","import { Editor, Position } from 'codemirror';\nimport { bold } from './bold';\nimport { italic } from './italic';\nimport { header } from './header';\nimport { strike } from './strike';\nimport { underline } from './underline';\nimport { olist } from './olist';\nimport { ulist } from './ulist';\nimport { link } from './link';\nimport { todo } from './todo';\nimport { image } from './image';\nimport { fullscreen } from './fullscreen';\nimport { preview } from './preview';\nimport { IMarkdownEditor } from '../';\n\nexport type ButtonHandle = (command: ICommand, props: IMarkdownEditor, options: {\n  preview?: HTMLDivElement | null,\n  container?: HTMLDivElement | null,\n  containerEditor?: HTMLDivElement | null;\n  editor?: Editor;\n}) => JSX.Element\n\nexport type ICommand = {\n  icon?: React.ReactElement;\n  name?: string;\n  keyCommand?: string;\n  button?: ButtonHandle | React.ButtonHTMLAttributes<HTMLButtonElement>;\n  execute?: (editor: Editor, selection: string, position: Position, opts: {\n    preview?: HTMLDivElement | null,\n    container?: HTMLDivElement | null,\n  }) => void;\n}\n\nexport const defaultCommands = { bold, italic, header, strike, underline, olist, ulist, link, todo, image, fullscreen, preview }\n\nexport const getCommands: () => ICommand[] = () => \n  Object.keys(defaultCommands).filter(key => !/^(fullscreen|preview)/.test(key))\n    .map((key) => defaultCommands[key as (keyof (typeof defaultCommands))]);\n\nexport const getModeCommands: () => ICommand[] = () => [preview, fullscreen];","import * as React from \"react\";\nimport CodeMirror from 'codemirror';\nimport './index.less';\nimport { ICommand, defaultCommands } from '../../commands';\nimport { IMarkdownEditor } from '../../';\n\nexport type IToolBarProps<T = (keyof (typeof defaultCommands)) | ICommand> = {\n  className?: string;\n  editorProps: IMarkdownEditor;\n  mode?: boolean;\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  prefixCls?: string;\n  editor?: CodeMirror.Editor;\n  toolbars?: T[];\n  onClick?: (type: string) => void;\n}\n\nexport default function ToolBar(props: IToolBarProps) {\n  const { prefixCls = 'md-editor', className, onClick, toolbars = [], editor, mode, preview, container, containerEditor, editorProps = {}, ...htmlProps } = props;\n  if (!toolbars || toolbars.length === 0) return null;\n  function handleClick(execute: ICommand['execute']) {\n    if (execute && editor) {\n      execute(editor, editor.getSelection(), editor.getCursor(), { preview, container });\n    }\n  }\n  return (\n    <div className={`${prefixCls}-toolbar ${className || ''} ${mode ? `${prefixCls}-toolbar-mode` : ''}`} {...htmlProps}>\n      {[...toolbars].map((command, key) => {\n        let buttonProps: React.ButtonHTMLAttributes<HTMLButtonElement> = {\n          type: 'button',\n        }\n        const obj = typeof command === 'string' ? defaultCommands[command] : command;\n        if (!obj) return;\n        buttonProps.children = obj.icon;\n        buttonProps.onClick = () => handleClick(obj.execute);\n        if (obj.button && typeof obj.button === 'object') {\n          const btn: React.ButtonHTMLAttributes<HTMLButtonElement> = obj.button;\n          (Object.keys(btn) as (keyof React.ButtonHTMLAttributes<HTMLButtonElement>)[]).forEach((key) => {\n            buttonProps[key] = btn[key];\n          });\n        } else if (typeof obj.button === 'function') {\n          return React.cloneElement(obj.button(obj, editorProps, { preview, container, containerEditor, editor }), { key });\n        }\n\n        return (\n          <button {...buttonProps} key={key} />\n        );\n      })}\n    </div>\n  );\n\n}\n","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M294.4 76.8a64 64 0 00-82.94 97.28l6.14 5.12L661.31 512 217.6 844.8a64 64 0 00-17.22 82.88l4.48 6.72a64 64 0 0082.82 17.28l6.72-4.48 512-384a64 64 0 006.4-96.96l-6.4-5.44-512-384z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default /*#__PURE__*/React.forwardRef(RightOutlined);","// This icon file is generated automatically.\nvar UpOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M76.8 729.6a64 64 0 0097.28 82.94l5.12-6.14L512 362.69 844.8 806.4a64 64 0 0082.88 17.22l6.72-4.48a64 64 0 0017.28-82.82l-4.48-6.72-384-512a64 64 0 00-96.96-6.4l-5.44 6.4-384 512z\" } }] }, \"name\": \"up\", \"theme\": \"outlined\" };\nexport default UpOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UpOutlinedSvg from \"@ant-design/icons-svg/es/asn/UpOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UpOutlined = function UpOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: UpOutlinedSvg\n  }));\n};\n\nUpOutlined.displayName = 'UpOutlined';\nexport default /*#__PURE__*/React.forwardRef(UpOutlined);","// This icon file is generated automatically.\nvar HeartTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M679.7 201c-73.1 0-136.5 40.8-167.7 100.4C480.8 241.8 417.4 201 344.3 201c-104 0-188.3 82.6-188.3 184.5 0 201.2 356 429.3 356 429.3s356-228.1 356-429.3C868 283.6 783.7 201 679.7 201z\", \"fill\": secondaryColor } }] }; }, \"name\": \"heart\", \"theme\": \"twotone\" };\nexport default HeartTwoTone;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport HeartTwoToneSvg from \"@ant-design/icons-svg/es/asn/HeartTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar HeartTwoTone = function HeartTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: HeartTwoToneSvg\n  }));\n};\n\nHeartTwoTone.displayName = 'HeartTwoTone';\nexport default /*#__PURE__*/React.forwardRef(HeartTwoTone);","// This icon file is generated automatically.\nvar FormOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z\" } }] }, \"name\": \"form\", \"theme\": \"outlined\" };\nexport default FormOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FormOutlinedSvg from \"@ant-design/icons-svg/es/asn/FormOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FormOutlined = function FormOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: FormOutlinedSvg\n  }));\n};\n\nFormOutlined.displayName = 'FormOutlined';\nexport default /*#__PURE__*/React.forwardRef(FormOutlined);","// This icon file is generated automatically.\nvar PlayCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\" } }] }, \"name\": \"play-circle\", \"theme\": \"outlined\" };\nexport default PlayCircleOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlayCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlayCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlayCircleOutlined = function PlayCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: PlayCircleOutlinedSvg\n  }));\n};\n\nPlayCircleOutlined.displayName = 'PlayCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlayCircleOutlined);","'use strict'\n\nfunction markdownLineEnding(code) {\n  return code < -2\n}\n\nmodule.exports = markdownLineEnding\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\n\nfunction spaceFactory(effects, ok, type, max) {\n  var limit = max ? max - 1 : Infinity\n  var size = 0\n  return start\n\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type)\n      return prefix(code)\n    }\n\n    return ok(code)\n  }\n\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code)\n      return prefix\n    }\n\n    effects.exit(type)\n    return ok(code)\n  }\n}\n\nmodule.exports = spaceFactory\n","'use strict'\n\nfunction markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32\n}\n\nmodule.exports = markdownSpace\n","'use strict'\n\nvar splice = require('../constant/splice.js')\n\n// causes a stack overflow in V8 when trying to insert 100k items for instance.\n\nfunction chunkedSplice(list, start, remove, items) {\n  var end = list.length\n  var chunkStart = 0\n  var parameters // Make start between zero and `end` (included).\n\n  if (start < 0) {\n    start = -start > end ? 0 : end + start\n  } else {\n    start = start > end ? end : start\n  }\n\n  remove = remove > 0 ? remove : 0 // No need to chunk the items if theres only a couple (10k) items.\n\n  if (items.length < 10000) {\n    parameters = Array.from(items)\n    parameters.unshift(start, remove)\n    splice.apply(list, parameters)\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) splice.apply(list, [start, remove]) // Insert the items in chunks to not cause stack overflows.\n\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000)\n      parameters.unshift(start, 0)\n      splice.apply(list, parameters)\n      chunkStart += 10000\n      start += 10000\n    }\n  }\n}\n\nmodule.exports = chunkedSplice\n","'use strict'\n\nfunction markdownLineEndingOrSpace(code) {\n  return code < 0 || code === 32\n}\n\nmodule.exports = markdownLineEndingOrSpace\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction regexCheck(regex) {\n  return check\n\n  function check(code) {\n    return regex.test(fromCharCode(code))\n  }\n}\n\nmodule.exports = regexCheck\n","'use strict'\n\nvar assign = require('../constant/assign.js')\n\nfunction shallow(object) {\n  return assign({}, object)\n}\n\nmodule.exports = shallow\n","'use strict'\n\nvar assign = Object.assign\n\nmodule.exports = assign\n","'use strict'\n\nvar sizeChunks = require('./size-chunks.js')\n\nfunction prefixSize(events, type) {\n  var tail = events[events.length - 1]\n  if (!tail || tail[1].type !== type) return 0\n  return sizeChunks(tail[2].sliceStream(tail[1]))\n}\n\nmodule.exports = prefixSize\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/)\n\nmodule.exports = asciiAlphanumeric\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.60.0\";\n\n  return CodeMirror;\n\n})));\n","'use strict'\n\nvar fromCharCode = String.fromCharCode\n\nmodule.exports = fromCharCode\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nvar partialBlankLine = {\n  tokenize: tokenizePartialBlankLine,\n  partial: true\n}\n\nfunction tokenizePartialBlankLine(effects, ok, nok) {\n  return factorySpace(effects, afterWhitespace, 'linePrefix')\n\n  function afterWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = partialBlankLine\n","'use strict'\n\nfunction resolveAll(constructs, events, context) {\n  var called = []\n  var index = -1\n  var resolve\n\n  while (++index < constructs.length) {\n    resolve = constructs[index].resolveAll\n\n    if (resolve && called.indexOf(resolve) < 0) {\n      events = resolve(events, context)\n      called.push(resolve)\n    }\n  }\n\n  return events\n}\n\nmodule.exports = resolveAll\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlpha = regexCheck(/[A-Za-z]/)\n\nmodule.exports = asciiAlpha\n","'use strict'\n\nmodule.exports = visit\n\nvar visitParents = require('unist-util-visit-parents')\n\nvar CONTINUE = visitParents.CONTINUE\nvar SKIP = visitParents.SKIP\nvar EXIT = visitParents.EXIT\n\nvisit.CONTINUE = CONTINUE\nvisit.SKIP = SKIP\nvisit.EXIT = EXIT\n\nfunction visit(tree, test, visitor, reverse) {\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  function overload(node, parents) {\n    var parent = parents[parents.length - 1]\n    var index = parent ? parent.children.indexOf(node) : null\n    return visitor(node, index, parent)\n  }\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nfunction normalizeIdentifier(value) {\n  return (\n    value // Collapse Markdown whitespace.\n      .replace(/[\\t\\n\\r ]+/g, ' ') // Trim.\n      .replace(/^ | $/g, '') // Some characters are considered uppercase, but if their lowercase\n      // counterpart is uppercased will result in a different uppercase\n      // character.\n      // Hence, to get that form, we perform both lower- and uppercase.\n      // Upper case makes sure keys will not interact with default prototypal\n      // methods: no object method is uppercase.\n      .toLowerCase()\n      .toUpperCase()\n  )\n}\n\nmodule.exports = normalizeIdentifier\n","'use strict'\n\nfunction miniflat(value) {\n  return value === null || value === undefined\n    ? []\n    : 'length' in value\n    ? value\n    : [value]\n}\n\nmodule.exports = miniflat\n","'use strict'\n\nvar chunkedSplice = require('./chunked-splice.js')\n\nfunction chunkedPush(list, items) {\n  if (list.length) {\n    chunkedSplice(list, list.length, 0, items)\n    return list\n  }\n\n  return items\n}\n\nmodule.exports = chunkedPush\n","'use strict'\n\nvar unicodePunctuationRegex = require('../constant/unicode-punctuation-regex.js')\nvar regexCheck = require('../util/regex-check.js')\n\n// In fact adds to the bundle size.\n\nvar unicodePunctuation = regexCheck(unicodePunctuationRegex)\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar unicodeWhitespace = regexCheck(/\\s/)\n\nmodule.exports = unicodeWhitespace\n","'use strict'\n\n// Note: EOF is seen as ASCII control here, because `null < 32 == true`.\nfunction asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code < 32 || code === 127\n  )\n}\n\nmodule.exports = asciiControl\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factoryTitle = require('./factory-title.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\n\nvar labelEnd = {\n  name: 'labelEnd',\n  tokenize: tokenizeLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  resolveAll: resolveAllLabelEnd\n}\nvar resourceConstruct = {\n  tokenize: tokenizeResource\n}\nvar fullReferenceConstruct = {\n  tokenize: tokenizeFullReference\n}\nvar collapsedReferenceConstruct = {\n  tokenize: tokenizeCollapsedReference\n}\n\nfunction resolveAllLabelEnd(events) {\n  var index = -1\n  var token\n\n  while (++index < events.length) {\n    token = events[index][1]\n\n    if (\n      !token._used &&\n      (token.type === 'labelImage' ||\n        token.type === 'labelLink' ||\n        token.type === 'labelEnd')\n    ) {\n      // Remove the marker.\n      events.splice(index + 1, token.type === 'labelImage' ? 4 : 2)\n      token.type = 'data'\n      index++\n    }\n  }\n\n  return events\n}\n\nfunction resolveToLabelEnd(events, context) {\n  var index = events.length\n  var offset = 0\n  var group\n  var label\n  var text\n  var token\n  var open\n  var close\n  var media // Find an opening.\n\n  while (index--) {\n    token = events[index][1]\n\n    if (open) {\n      // If we see another link, or inactive link label, weve been here before.\n      if (\n        token.type === 'link' ||\n        (token.type === 'labelLink' && token._inactive)\n      ) {\n        break\n      } // Mark other link openings as inactive, as we cant have links in\n      // links.\n\n      if (events[index][0] === 'enter' && token.type === 'labelLink') {\n        token._inactive = true\n      }\n    } else if (close) {\n      if (\n        events[index][0] === 'enter' &&\n        (token.type === 'labelImage' || token.type === 'labelLink') &&\n        !token._balanced\n      ) {\n        open = index\n\n        if (token.type !== 'labelLink') {\n          offset = 2\n          break\n        }\n      }\n    } else if (token.type === 'labelEnd') {\n      close = index\n    }\n  }\n\n  group = {\n    type: events[open][1].type === 'labelLink' ? 'link' : 'image',\n    start: shallow(events[open][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  }\n  label = {\n    type: 'label',\n    start: shallow(events[open][1].start),\n    end: shallow(events[close][1].end)\n  }\n  text = {\n    type: 'labelText',\n    start: shallow(events[open + offset + 2][1].end),\n    end: shallow(events[close - 2][1].start)\n  }\n  media = [\n    ['enter', group, context],\n    ['enter', label, context]\n  ] // Opening marker.\n\n  media = chunkedPush(media, events.slice(open + 1, open + offset + 3)) // Text open.\n\n  media = chunkedPush(media, [['enter', text, context]]) // Between.\n\n  media = chunkedPush(\n    media,\n    resolveAll(\n      context.parser.constructs.insideSpan.null,\n      events.slice(open + offset + 4, close - 3),\n      context\n    )\n  ) // Text close, marker close, label close.\n\n  media = chunkedPush(media, [\n    ['exit', text, context],\n    events[close - 2],\n    events[close - 1],\n    ['exit', label, context]\n  ]) // Reference, resource, or so.\n\n  media = chunkedPush(media, events.slice(close + 1)) // Media close.\n\n  media = chunkedPush(media, [['exit', group, context]])\n  chunkedSplice(events, open, events.length, media)\n  return events\n}\n\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var labelStart\n  var defined // Find an opening.\n\n  while (index--) {\n    if (\n      (self.events[index][1].type === 'labelImage' ||\n        self.events[index][1].type === 'labelLink') &&\n      !self.events[index][1]._balanced\n    ) {\n      labelStart = self.events[index][1]\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!labelStart) {\n      return nok(code)\n    } // Its a balanced bracket, but contains a link.\n\n    if (labelStart._inactive) return balanced(code)\n    defined =\n      self.parser.defined.indexOf(\n        normalizeIdentifier(\n          self.sliceSerialize({\n            start: labelStart.end,\n            end: self.now()\n          })\n        )\n      ) > -1\n    effects.enter('labelEnd')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelEnd')\n    return afterLabelEnd\n  }\n\n  function afterLabelEnd(code) {\n    // Resource: `[asd](fgh)`.\n    if (code === 40) {\n      return effects.attempt(\n        resourceConstruct,\n        ok,\n        defined ? ok : balanced\n      )(code)\n    } // Collapsed (`[asd][]`) or full (`[asd][fgh]`) reference?\n\n    if (code === 91) {\n      return effects.attempt(\n        fullReferenceConstruct,\n        ok,\n        defined\n          ? effects.attempt(collapsedReferenceConstruct, ok, balanced)\n          : balanced\n      )(code)\n    } // Shortcut reference: `[asd]`?\n\n    return defined ? ok(code) : balanced(code)\n  }\n\n  function balanced(code) {\n    labelStart._balanced = true\n    return nok(code)\n  }\n}\n\nfunction tokenizeResource(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('resource')\n    effects.enter('resourceMarker')\n    effects.consume(code)\n    effects.exit('resourceMarker')\n    return factoryWhitespace(effects, open)\n  }\n\n  function open(code) {\n    if (code === 41) {\n      return end(code)\n    }\n\n    return factoryDestination(\n      effects,\n      destinationAfter,\n      nok,\n      'resourceDestination',\n      'resourceDestinationLiteral',\n      'resourceDestinationLiteralMarker',\n      'resourceDestinationRaw',\n      'resourceDestinationString',\n      3\n    )(code)\n  }\n\n  function destinationAfter(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, between)(code)\n      : end(code)\n  }\n\n  function between(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factoryWhitespace(effects, end),\n        nok,\n        'resourceTitle',\n        'resourceTitleMarker',\n        'resourceTitleString'\n      )(code)\n    }\n\n    return end(code)\n  }\n\n  function end(code) {\n    if (code === 41) {\n      effects.enter('resourceMarker')\n      effects.consume(code)\n      effects.exit('resourceMarker')\n      effects.exit('resource')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeFullReference(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    return factoryLabel.call(\n      self,\n      effects,\n      afterLabel,\n      nok,\n      'reference',\n      'referenceMarker',\n      'referenceString'\n    )(code)\n  }\n\n  function afterLabel(code) {\n    return self.parser.defined.indexOf(\n      normalizeIdentifier(\n        self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n      )\n    ) < 0\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nfunction tokenizeCollapsedReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('reference')\n    effects.enter('referenceMarker')\n    effects.consume(code)\n    effects.exit('referenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 93) {\n      effects.enter('referenceMarker')\n      effects.consume(code)\n      effects.exit('referenceMarker')\n      effects.exit('reference')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = labelEnd\n","/*!\n * repeat-string <https://github.com/jonschlinkert/repeat-string>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\n/**\n * Results cache\n */\n\nvar res = '';\nvar cache;\n\n/**\n * Expose `repeat`\n */\n\nmodule.exports = repeat;\n\n/**\n * Repeat the given `string` the specified `number`\n * of times.\n *\n * **Example:**\n *\n * ```js\n * var repeat = require('repeat-string');\n * repeat('A', 5);\n * //=> AAAAA\n * ```\n *\n * @param {String} `string` The string to repeat\n * @param {Number} `number` The number of times to repeat the string\n * @return {String} Repeated string\n * @api public\n */\n\nfunction repeat(str, num) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  // cover common, quick use cases\n  if (num === 1) return str;\n  if (num === 2) return str + str;\n\n  var max = str.length * num;\n  if (cache !== str || typeof cache === 'undefined') {\n    cache = str;\n    res = '';\n  } else if (res.length >= max) {\n    return res.substr(0, max);\n  }\n\n  while (max > res.length && num > 1) {\n    if (num & 1) {\n      res += str;\n    }\n\n    num >>= 1;\n    str += str;\n  }\n\n  res += str;\n  res = res.substr(0, max);\n  return res;\n}\n","Prism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTimeProps = getTimeProps;\nexports[\"default\"] = exports.Components = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _PickerButton = _interopRequireDefault(require(\"../PickerButton\"));\n\nvar _PickerTag = _interopRequireDefault(require(\"../PickerTag\"));\n\nvar _generateSinglePicker2 = _interopRequireDefault(require(\"./generateSinglePicker\"));\n\nvar _generateRangePicker = _interopRequireDefault(require(\"./generateRangePicker\"));\n\nvar Components = {\n  button: _PickerButton[\"default\"],\n  rangeItem: _PickerTag[\"default\"]\n};\nexports.Components = Components;\n\nfunction toArray(list) {\n  if (!list) {\n    return [];\n  }\n\n  return Array.isArray(list) ? list : [list];\n}\n\nfunction getTimeProps(props) {\n  var format = props.format,\n      picker = props.picker,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      use12Hours = props.use12Hours;\n  var firstFormat = toArray(format)[0];\n  var showTimeObj = (0, _extends2[\"default\"])({}, props);\n\n  if (firstFormat && typeof firstFormat === 'string') {\n    if (!firstFormat.includes('s') && showSecond === undefined) {\n      showTimeObj.showSecond = false;\n    }\n\n    if (!firstFormat.includes('m') && showMinute === undefined) {\n      showTimeObj.showMinute = false;\n    }\n\n    if (!firstFormat.includes('H') && !firstFormat.includes('h') && showHour === undefined) {\n      showTimeObj.showHour = false;\n    }\n\n    if ((firstFormat.includes('a') || firstFormat.includes('A')) && use12Hours === undefined) {\n      showTimeObj.use12Hours = true;\n    }\n  }\n\n  if (picker === 'time') {\n    return showTimeObj;\n  }\n\n  if (typeof firstFormat === 'function') {\n    // format of showTime should use default when format is custom format function\n    delete showTimeObj.format;\n  }\n\n  return {\n    showTime: showTimeObj\n  };\n}\n\nfunction generatePicker(generateConfig) {\n  // =========================== Picker ===========================\n  var _generateSinglePicker = (0, _generateSinglePicker2[\"default\"])(generateConfig),\n      DatePicker = _generateSinglePicker.DatePicker,\n      WeekPicker = _generateSinglePicker.WeekPicker,\n      MonthPicker = _generateSinglePicker.MonthPicker,\n      YearPicker = _generateSinglePicker.YearPicker,\n      TimePicker = _generateSinglePicker.TimePicker,\n      QuarterPicker = _generateSinglePicker.QuarterPicker; // ======================== Range Picker ========================\n\n\n  var RangePicker = (0, _generateRangePicker[\"default\"])(generateConfig);\n  var MergedDatePicker = DatePicker;\n  MergedDatePicker.WeekPicker = WeekPicker;\n  MergedDatePicker.MonthPicker = MonthPicker;\n  MergedDatePicker.YearPicker = YearPicker;\n  MergedDatePicker.RangePicker = RangePicker;\n  MergedDatePicker.TimePicker = TimePicker;\n  MergedDatePicker.QuarterPicker = QuarterPicker;\n  return MergedDatePicker;\n}\n\nvar _default = generatePicker;\nexports[\"default\"] = _default;","module.exports = require(\"regenerator-runtime\");\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = own\n","'use strict'\n\n// Counts tabs based on their expanded size, and CR+LF as one character.\n\nfunction sizeChunks(chunks) {\n  var index = -1\n  var size = 0\n\n  while (++index < chunks.length) {\n    size += typeof chunks[index] === 'string' ? chunks[index].length : 1\n  }\n\n  return size\n}\n\nmodule.exports = sizeChunks\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar shallow = require('./shallow.js')\n\nfunction subtokenize(events) {\n  var jumps = {}\n  var index = -1\n  var event\n  var lineIndex\n  var otherIndex\n  var otherEvent\n  var parameters\n  var subevents\n  var more\n\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index]\n    }\n\n    event = events[index] // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n\n    if (\n      index &&\n      event[1].type === 'chunkFlow' &&\n      events[index - 1][1].type === 'listItemPrefix'\n    ) {\n      subevents = event[1]._tokenizer.events\n      otherIndex = 0\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'lineEndingBlank'\n      ) {\n        otherIndex += 2\n      }\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'content'\n      ) {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === 'content') {\n            break\n          }\n\n          if (subevents[otherIndex][1].type === 'chunkText') {\n            subevents[otherIndex][1].isInFirstContentOfListItem = true\n            otherIndex++\n          }\n        }\n      }\n    } // Enter.\n\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        assign(jumps, subcontent(events, index))\n        index = jumps[index]\n        more = true\n      }\n    } // Exit.\n    else if (event[1]._container || event[1]._movePreviousLineEndings) {\n      otherIndex = index\n      lineIndex = undefined\n\n      while (otherIndex--) {\n        otherEvent = events[otherIndex]\n\n        if (\n          otherEvent[1].type === 'lineEnding' ||\n          otherEvent[1].type === 'lineEndingBlank'\n        ) {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events[lineIndex][1].type = 'lineEndingBlank'\n            }\n\n            otherEvent[1].type = 'lineEnding'\n            lineIndex = otherIndex\n          }\n        } else {\n          break\n        }\n      }\n\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = shallow(events[lineIndex][1].start) // Switch container exit w/ line endings.\n\n        parameters = events.slice(lineIndex, index)\n        parameters.unshift(event)\n        chunkedSplice(events, lineIndex, index - lineIndex + 1, parameters)\n      }\n    }\n  }\n\n  return !more\n}\n\nfunction subcontent(events, eventIndex) {\n  var token = events[eventIndex][1]\n  var context = events[eventIndex][2]\n  var startPosition = eventIndex - 1\n  var startPositions = []\n  var tokenizer =\n    token._tokenizer || context.parser[token.contentType](token.start)\n  var childEvents = tokenizer.events\n  var jumps = []\n  var gaps = {}\n  var stream\n  var previous\n  var index\n  var entered\n  var end\n  var adjust // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n\n  while (token) {\n    // Find the position of the event for this token.\n    while (events[++startPosition][1] !== token) {\n      // Empty.\n    }\n\n    startPositions.push(startPosition)\n\n    if (!token._tokenizer) {\n      stream = context.sliceStream(token)\n\n      if (!token.next) {\n        stream.push(null)\n      }\n\n      if (previous) {\n        tokenizer.defineSkip(token.start)\n      }\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true\n      }\n\n      tokenizer.write(stream)\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined\n      }\n    } // Unravel the next token.\n\n    previous = token\n    token = token.next\n  } // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n\n  token = previous\n  index = childEvents.length\n\n  while (index--) {\n    // Make sure weve at least seen something (final eol is part of the last\n    // token).\n    if (childEvents[index][0] === 'enter') {\n      entered = true\n    } else if (\n      // Find a void token that includes a break.\n      entered &&\n      childEvents[index][1].type === childEvents[index - 1][1].type &&\n      childEvents[index][1].start.line !== childEvents[index][1].end.line\n    ) {\n      add(childEvents.slice(index + 1, end))\n      // Help GC.\n      token._tokenizer = token.next = undefined\n      token = token.previous\n      end = index + 1\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = token._tokenizer = token.next = undefined // Do head:\n\n  add(childEvents.slice(0, end))\n  index = -1\n  adjust = 0\n\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1]\n    adjust += jumps[index][1] - jumps[index][0] - 1\n  }\n\n  return gaps\n\n  function add(slice) {\n    var start = startPositions.pop()\n    jumps.unshift([start, start + slice.length - 1])\n    chunkedSplice(events, start, 2, slice)\n  }\n}\n\nmodule.exports = subtokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar assign = require('../constant/assign.js')\nvar shallow = require('../util/shallow.js')\n\nvar text = initializeFactory('text')\nvar string = initializeFactory('string')\nvar resolver = {\n  resolveAll: createResolver()\n}\n\nfunction initializeFactory(field) {\n  return {\n    tokenize: initializeText,\n    resolveAll: createResolver(\n      field === 'text' ? resolveAllLineSuffixes : undefined\n    )\n  }\n\n  function initializeText(effects) {\n    var self = this\n    var constructs = this.parser.constructs[field]\n    var text = effects.attempt(constructs, start, notText)\n    return start\n\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code)\n    }\n\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code)\n        return\n      }\n\n      effects.enter('data')\n      effects.consume(code)\n      return data\n    }\n\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit('data')\n        return text(code)\n      } // Data.\n\n      effects.consume(code)\n      return data\n    }\n\n    function atBreak(code) {\n      var list = constructs[code]\n      var index = -1\n\n      if (code === null) {\n        return true\n      }\n\n      if (list) {\n        while (++index < list.length) {\n          if (\n            !list[index].previous ||\n            list[index].previous.call(self, self.previous)\n          ) {\n            return true\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction createResolver(extraResolver) {\n  return resolveAllText\n\n  function resolveAllText(events, context) {\n    var index = -1\n    var enter // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === 'data') {\n          enter = index\n          index++\n        }\n      } else if (!events[index] || events[index][1].type !== 'data') {\n        // Dont do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end\n          events.splice(enter + 2, index - enter - 2)\n          index = enter + 2\n        }\n\n        enter = undefined\n      }\n    }\n\n    return extraResolver ? extraResolver(events, context) : events\n  }\n} // A rather ugly set of instructions which again looks at chunks in the input\n// stream.\n// The reason to do this here is that it is *much* faster to parse in reverse.\n// And that we cant hook into `null` to split the line suffix before an EOF.\n// To do: figure out if we can make this into a clean utility, or even in core.\n// As it will be useful for GFMs literal autolink extension (and maybe even\n// tables?)\n\nfunction resolveAllLineSuffixes(events, context) {\n  var eventIndex = -1\n  var chunks\n  var data\n  var chunk\n  var index\n  var bufferIndex\n  var size\n  var tabs\n  var token\n\n  while (++eventIndex <= events.length) {\n    if (\n      (eventIndex === events.length ||\n        events[eventIndex][1].type === 'lineEnding') &&\n      events[eventIndex - 1][1].type === 'data'\n    ) {\n      data = events[eventIndex - 1][1]\n      chunks = context.sliceStream(data)\n      index = chunks.length\n      bufferIndex = -1\n      size = 0\n      tabs = undefined\n\n      while (index--) {\n        chunk = chunks[index]\n\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length\n\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++\n            bufferIndex--\n          }\n\n          if (bufferIndex) break\n          bufferIndex = -1\n        } // Number\n        else if (chunk === -2) {\n          tabs = true\n          size++\n        } else if (chunk === -1);\n        else {\n          // Replacement character, exit.\n          index++\n          break\n        }\n      }\n\n      if (size) {\n        token = {\n          type:\n            eventIndex === events.length || tabs || size < 2\n              ? 'lineSuffix'\n              : 'hardBreakTrailing',\n          start: {\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size,\n            _index: data.start._index + index,\n            _bufferIndex: index\n              ? bufferIndex\n              : data.start._bufferIndex + bufferIndex\n          },\n          end: shallow(data.end)\n        }\n        data.end = shallow(token.start)\n\n        if (data.start.offset === data.end.offset) {\n          assign(data, token)\n        } else {\n          events.splice(\n            eventIndex,\n            0,\n            ['enter', token, context],\n            ['exit', token, context]\n          )\n          eventIndex += 2\n        }\n      }\n\n      eventIndex++\n    }\n  }\n\n  return events\n}\n\nexports.resolver = resolver\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar hasOwnProperty = require('../constant/has-own-property.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\n\nfunction combineExtensions(extensions) {\n  var all = {}\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(all, extensions[index])\n  }\n\n  return all\n}\n\nfunction extension(all, extension) {\n  var hook\n  var left\n  var right\n  var code\n\n  for (hook in extension) {\n    left = hasOwnProperty.call(all, hook) ? all[hook] : (all[hook] = {})\n    right = extension[hook]\n\n    for (code in right) {\n      left[code] = constructs(\n        miniflat(right[code]),\n        hasOwnProperty.call(left, code) ? left[code] : []\n      )\n    }\n  }\n}\n\nfunction constructs(list, existing) {\n  var index = -1\n  var before = []\n\n  while (++index < list.length) {\n    ;(list[index].add === 'after' ? existing : before).push(list[index])\n  }\n\n  chunkedSplice(existing, 0, 0, before)\n  return existing\n}\n\nmodule.exports = combineExtensions\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar unicodePunctuation = require('../character/unicode-punctuation.js')\nvar unicodeWhitespace = require('../character/unicode-whitespace.js')\n\n// Classify whether a character is unicode whitespace, unicode punctuation, or\n// anything else.\n// Used for attention (emphasis, strong), whose sequences can open or close\n// based on the class of surrounding characters.\nfunction classifyCharacter(code) {\n  if (\n    code === null ||\n    markdownLineEndingOrSpace(code) ||\n    unicodeWhitespace(code)\n  ) {\n    return 1\n  }\n\n  if (unicodePunctuation(code)) {\n    return 2\n  }\n}\n\nmodule.exports = classifyCharacter\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiDigit = regexCheck(/\\d/)\n\nmodule.exports = asciiDigit\n","'use strict'\n\nvar asciiControl = require('../character/ascii-control.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\n// eslint-disable-next-line max-params\nfunction destinationFactory(\n  effects,\n  ok,\n  nok,\n  type,\n  literalType,\n  literalMarkerType,\n  rawType,\n  stringType,\n  max\n) {\n  var limit = max || Infinity\n  var balance = 0\n  return start\n\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type)\n      effects.enter(literalType)\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      return destinationEnclosedBefore\n    }\n\n    if (asciiControl(code) || code === 41) {\n      return nok(code)\n    }\n\n    effects.enter(type)\n    effects.enter(rawType)\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationRaw(code)\n  }\n\n  function destinationEnclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      effects.exit(literalType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationEnclosed(code)\n  }\n\n  function destinationEnclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      return destinationEnclosedBefore(code)\n    }\n\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? destinationEnclosedEscape : destinationEnclosed\n  }\n\n  function destinationEnclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code)\n      return destinationEnclosed\n    }\n\n    return destinationEnclosed(code)\n  }\n\n  function destinationRaw(code) {\n    if (code === 40) {\n      if (++balance > limit) return nok(code)\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === 41) {\n      if (!balance--) {\n        effects.exit('chunkString')\n        effects.exit(stringType)\n        effects.exit(rawType)\n        effects.exit(type)\n        return ok(code)\n      }\n\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      if (balance) return nok(code)\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      effects.exit(rawType)\n      effects.exit(type)\n      return ok(code)\n    }\n\n    if (asciiControl(code)) return nok(code)\n    effects.consume(code)\n    return code === 92 ? destinationRawEscape : destinationRaw\n  }\n\n  function destinationRawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    return destinationRaw(code)\n  }\n}\n\nmodule.exports = destinationFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\n\n// eslint-disable-next-line max-params\nfunction labelFactory(effects, ok, nok, type, markerType, stringType) {\n  var self = this\n  var size = 0\n  var data\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    effects.enter(stringType)\n    return atBreak\n  }\n\n  function atBreak(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      (code === 93 && !data) ||\n      /* c8 ignore next */\n      (code === 94 &&\n        /* c8 ignore next */\n        !size &&\n        /* c8 ignore next */\n        '_hiddenFootnoteSupport' in self.parser.constructs) ||\n      size > 999\n    ) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.exit(stringType)\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return atBreak\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return label(code)\n  }\n\n  function label(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      code === 93 ||\n      markdownLineEnding(code) ||\n      size++ > 999\n    ) {\n      effects.exit('chunkString')\n      return atBreak(code)\n    }\n\n    effects.consume(code)\n    data = data || !markdownSpace(code)\n    return code === 92 ? labelEscape : label\n  }\n\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code)\n      size++\n      return label\n    }\n\n    return label(code)\n  }\n}\n\nmodule.exports = labelFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction whitespaceFactory(effects, ok) {\n  var seen\n  return start\n\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      seen = true\n      return start\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(\n        effects,\n        start,\n        seen ? 'linePrefix' : 'lineSuffix'\n      )(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = whitespaceFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction titleFactory(effects, ok, nok, type, markerType, stringType) {\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    marker = code === 40 ? 41 : code\n    return atFirstTitleBreak\n  }\n\n  function atFirstTitleBreak(code) {\n    if (code === marker) {\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    return atTitleBreak(code)\n  }\n\n  function atTitleBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType)\n      return atFirstTitleBreak(marker)\n    }\n\n    if (code === null) {\n      return nok(code)\n    } // Note: blank lines cant exist in content.\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, atTitleBreak, 'linePrefix')\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return title(code)\n  }\n\n  function title(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      return atTitleBreak(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? titleEscape : title\n  }\n\n  function titleEscape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code)\n      return title\n    }\n\n    return title(code)\n  }\n}\n\nmodule.exports = titleFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n}\n\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  var size = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('thematicBreak')\n    marker = code\n    return atBreak(code)\n  }\n\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter('thematicBreakSequence')\n      return sequence(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, 'whitespace')(code)\n    }\n\n    if (size < 3 || (code !== null && !markdownLineEnding(code))) {\n      return nok(code)\n    }\n\n    effects.exit('thematicBreak')\n    return ok(code)\n  }\n\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      size++\n      return sequence\n    }\n\n    effects.exit('thematicBreakSequence')\n    return atBreak(code)\n  }\n}\n\nmodule.exports = thematicBreak\n","'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\nvar color = require('./color')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n  step = reverse ? -1 : 1\n\n  factory(tree, null, [])()\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {}\n    var name\n\n    if (typeof value.type === 'string') {\n      name =\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      visit.displayName =\n        'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')'\n    }\n\n    return visit\n\n    function visit() {\n      var grandparents = parents.concat(node)\n      var result = []\n      var subresult\n      var offset\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)()\n\n          if (subresult[0] === EXIT) {\n            return subresult\n          }\n\n          offset =\n            typeof subresult[1] === 'number' ? subresult[1] : offset + step\n        }\n      }\n\n      return result\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","'use strict'\n\nmodule.exports = convert\n\nfunction convert(test) {\n  if (test == null) {\n    return ok\n  }\n\n  if (typeof test === 'string') {\n    return typeFactory(test)\n  }\n\n  if (typeof test === 'object') {\n    return 'length' in test ? anyFactory(test) : allFactory(test)\n  }\n\n  if (typeof test === 'function') {\n    return test\n  }\n\n  throw new Error('Expected function, string, or object as test')\n}\n\n// Utility assert each property in `test` is represented in `node`, and each\n// values are strictly equal.\nfunction allFactory(test) {\n  return all\n\n  function all(node) {\n    var key\n\n    for (key in test) {\n      if (node[key] !== test[key]) return false\n    }\n\n    return true\n  }\n}\n\nfunction anyFactory(tests) {\n  var checks = []\n  var index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return any\n\n  function any() {\n    var index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, arguments)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n// Utility to convert a string into a function which checks a given nodes type\n// for said string.\nfunction typeFactory(test) {\n  return type\n\n  function type(node) {\n    return Boolean(node && node.type === test)\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","module.exports = phrasing\n\nfunction phrasing(parent, context, safeOptions) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var before = safeOptions.before\n  var after\n  var handle\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    if (index + 1 < children.length) {\n      handle = context.handle.handlers[children[index + 1].type]\n      if (handle && handle.peek) handle = handle.peek\n      after = handle\n        ? handle(children[index + 1], parent, context, {\n            before: '',\n            after: ''\n          }).charAt(0)\n        : ''\n    } else {\n      after = safeOptions.after\n    }\n\n    // In some cases, html (text) can be found in phrasing right after an eol.\n    // When wed serialize that, in most cases that would be seen as html\n    // (flow).\n    // As we cant escape or so to prevent it from happening, we take a somewhat\n    // reasonable approach: replace that eol with a space.\n    // See: <https://github.com/syntax-tree/mdast-util-to-markdown/issues/15>\n    if (\n      results.length > 0 &&\n      (before === '\\r' || before === '\\n') &&\n      child.type === 'html'\n    ) {\n      results[results.length - 1] = results[results.length - 1].replace(\n        /(\\r?\\n|\\r)$/,\n        ' '\n      )\n      before = ' '\n    }\n\n    results.push(\n      context.handle(child, parent, context, {\n        before: before,\n        after: after\n      })\n    )\n\n    before = results[results.length - 1].slice(-1)\n  }\n\n  return results.join('')\n}\n","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _CalendarOutlined = _interopRequireDefault(require('./lib/icons/CalendarOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _CalendarOutlined;\n  exports.default = _default;\n  module.exports = _default;","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _ClockCircleOutlined = _interopRequireDefault(require('./lib/icons/ClockCircleOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _ClockCircleOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPlaceholder = getPlaceholder;\nexports.getRangePlaceholder = getRangePlaceholder;\n\nfunction getPlaceholder(picker, locale, customizePlaceholder) {\n  if (customizePlaceholder !== undefined) {\n    return customizePlaceholder;\n  }\n\n  if (picker === 'year' && locale.lang.yearPlaceholder) {\n    return locale.lang.yearPlaceholder;\n  }\n\n  if (picker === 'quarter' && locale.lang.quarterPlaceholder) {\n    return locale.lang.quarterPlaceholder;\n  }\n\n  if (picker === 'month' && locale.lang.monthPlaceholder) {\n    return locale.lang.monthPlaceholder;\n  }\n\n  if (picker === 'week' && locale.lang.weekPlaceholder) {\n    return locale.lang.weekPlaceholder;\n  }\n\n  if (picker === 'time' && locale.timePickerLocale.placeholder) {\n    return locale.timePickerLocale.placeholder;\n  }\n\n  return locale.lang.placeholder;\n}\n\nfunction getRangePlaceholder(picker, locale, customizePlaceholder) {\n  if (customizePlaceholder !== undefined) {\n    return customizePlaceholder;\n  }\n\n  if (picker === 'year' && locale.lang.yearPlaceholder) {\n    return locale.lang.rangeYearPlaceholder;\n  }\n\n  if (picker === 'month' && locale.lang.monthPlaceholder) {\n    return locale.lang.rangeMonthPlaceholder;\n  }\n\n  if (picker === 'week' && locale.lang.weekPlaceholder) {\n    return locale.lang.rangeWeekPlaceholder;\n  }\n\n  if (picker === 'time' && locale.timePickerLocale.placeholder) {\n    return locale.timePickerLocale.rangePlaceholder;\n  }\n\n  return locale.lang.rangePlaceholder;\n}"],"sourceRoot":""}