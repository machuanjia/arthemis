{"version":3,"sources":["../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/xtend/immutable.js","../node_modules/micromark/dist/util/normalize-identifier.js","../node_modules/micromark/dist/util/miniflat.js","../node_modules/micromark/dist/util/chunked-push.js","../node_modules/micromark/dist/character/unicode-punctuation.js","../node_modules/micromark/dist/character/unicode-whitespace.js","../node_modules/micromark/dist/character/ascii-control.js","../node_modules/micromark/dist/tokenize/label-end.js","../node_modules/repeat-string/index.js","../node_modules/antd/lib/tag/style/index.js","../home/runner/work/react-sortablejs/react-sortablejs/node_modules/@parcel/scope-hoisting/lib/helpers.js","util.ts","react-sortable.tsx","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/extends.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react-markdown/lib/react-markdown.js","../node_modules/is-buffer/index.js","../node_modules/micromark/dist/constant/has-own-property.js","../node_modules/micromark/dist/util/size-chunks.js","../node_modules/micromark/dist/util/subtokenize.js","../node_modules/micromark/dist/initialize/text.js","../node_modules/micromark/dist/util/combine-extensions.js","../node_modules/micromark/dist/util/classify-character.js","../node_modules/micromark/dist/character/ascii-digit.js","../node_modules/micromark/dist/tokenize/factory-destination.js","../node_modules/micromark/dist/tokenize/factory-label.js","../node_modules/micromark/dist/tokenize/factory-whitespace.js","../node_modules/micromark/dist/tokenize/factory-title.js","../node_modules/micromark/dist/tokenize/thematic-break.js","../node_modules/unist-util-visit-parents/index.js","../node_modules/unist-util-is/convert.js","../node_modules/remark-gfm/index.js","../node_modules/mdast-util-to-markdown/lib/util/container-phrasing.js","../node_modules/antd/lib/tag/index.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../src/langs.ts","../../../src/index.tsx","../../../../src/commands/bold.tsx","../../../../src/commands/italic.tsx","../../../../src/commands/header.tsx","../../../../src/commands/strike.tsx","../../../../src/commands/underline.tsx","../../../../src/commands/olist.tsx","../../../../src/commands/ulist.tsx","../../../../src/commands/link.tsx","../../../../src/commands/todo.tsx","../../../../src/commands/image.tsx","../../../../src/commands/fullscreen.tsx","../../../../src/commands/preview.tsx","../../../../src/commands/index.tsx","../../../../../src/components/ToolBar/index.tsx","../node_modules/sortablejs/modular/sortable.esm.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../../../../src/components/CodeMirror/index.tsx","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/codemirror/mode/markdown/markdown.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/meta.js","../node_modules/react-markdown/node_modules/unified/index.js","../node_modules/bail/index.js","../node_modules/extend/index.js","../node_modules/react-markdown/node_modules/is-plain-obj/index.js","../node_modules/trough/index.js","../node_modules/trough/wrap.js","../node_modules/vfile/index.js","../node_modules/vfile/lib/index.js","../node_modules/vfile/node_modules/vfile-message/index.js","../node_modules/vfile/node_modules/unist-util-stringify-position/index.js","../node_modules/vfile/lib/core.js","../node_modules/vfile/lib/minpath.browser.js","../node_modules/vfile/lib/minproc.browser.js","../node_modules/remark-parse/index.js","../node_modules/mdast-util-from-markdown/index.js","../node_modules/mdast-util-from-markdown/dist/index.js","../node_modules/mdast-util-to-string/index.js","../node_modules/micromark/dist/util/safe-from-int.js","../node_modules/micromark/dist/parse.js","../node_modules/micromark/dist/initialize/content.js","../node_modules/micromark/dist/initialize/document.js","../node_modules/micromark/dist/initialize/flow.js","../node_modules/micromark/dist/tokenize/content.js","../node_modules/micromark/dist/constant/splice.js","../node_modules/micromark/dist/util/create-tokenizer.js","../node_modules/micromark/dist/util/serialize-chunks.js","../node_modules/micromark/dist/util/slice-chunks.js","../node_modules/micromark/dist/constructs.js","../node_modules/micromark/dist/tokenize/attention.js","../node_modules/micromark/dist/constant/unicode-punctuation-regex.js","../node_modules/micromark/dist/util/move-point.js","../node_modules/micromark/dist/tokenize/autolink.js","../node_modules/micromark/dist/character/ascii-atext.js","../node_modules/micromark/dist/tokenize/block-quote.js","../node_modules/micromark/dist/tokenize/character-escape.js","../node_modules/micromark/dist/character/ascii-punctuation.js","../node_modules/micromark/dist/tokenize/character-reference.js","../node_modules/micromark/node_modules/parse-entities/decode-entity.browser.js","../node_modules/micromark/dist/character/ascii-hex-digit.js","../node_modules/micromark/dist/tokenize/code-fenced.js","../node_modules/micromark/dist/tokenize/code-indented.js","../node_modules/micromark/dist/tokenize/code-text.js","../node_modules/micromark/dist/tokenize/definition.js","../node_modules/micromark/dist/tokenize/hard-break-escape.js","../node_modules/micromark/dist/tokenize/heading-atx.js","../node_modules/micromark/dist/tokenize/html-flow.js","../node_modules/micromark/dist/constant/html-block-names.js","../node_modules/micromark/dist/constant/html-raw-names.js","../node_modules/micromark/dist/tokenize/html-text.js","../node_modules/micromark/dist/tokenize/label-start-image.js","../node_modules/micromark/dist/tokenize/label-start-link.js","../node_modules/micromark/dist/tokenize/line-ending.js","../node_modules/micromark/dist/tokenize/list.js","../node_modules/micromark/dist/tokenize/setext-underline.js","../node_modules/micromark/dist/preprocess.js","../node_modules/micromark/dist/postprocess.js","../node_modules/mdast-util-from-markdown/node_modules/parse-entities/decode-entity.browser.js","../node_modules/mdast-util-from-markdown/node_modules/unist-util-stringify-position/index.js","../node_modules/mdast-add-list-metadata/index.js","../node_modules/mdast-add-list-metadata/node_modules/unist-util-visit-parents/index.js","../node_modules/react-markdown/lib/plugins/naive-html.js","../node_modules/unist-util-visit-parents/color.browser.js","../node_modules/react-markdown/lib/plugins/disallow-node.js","../node_modules/react-markdown/lib/ast-to-react.js","../node_modules/react-markdown/lib/wrap-table-rows.js","../node_modules/react-markdown/lib/get-definitions.js","../node_modules/react-markdown/lib/uri-transformer.js","../node_modules/react-markdown/lib/renderers.js","../node_modules/react-markdown/lib/symbols.js","../node_modules/micromark-extension-gfm/index.js","../node_modules/micromark-extension-gfm/syntax.js","../node_modules/micromark-extension-gfm-autolink-literal/index.js","../node_modules/micromark-extension-gfm-autolink-literal/syntax.js","../node_modules/micromark-extension-gfm-strikethrough/index.js","../node_modules/micromark-extension-gfm-table/index.js","../node_modules/micromark-extension-gfm-table/syntax.js","../node_modules/micromark-extension-gfm-task-list-item/index.js","../node_modules/micromark-extension-gfm-task-list-item/syntax.js","../node_modules/mdast-util-gfm/from-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/from-markdown.js","../node_modules/ccount/index.js","../node_modules/mdast-util-find-and-replace/index.js","../node_modules/mdast-util-find-and-replace/node_modules/escape-string-regexp/index.js","../node_modules/mdast-util-gfm-strikethrough/from-markdown.js","../node_modules/mdast-util-gfm-table/from-markdown.js","../node_modules/mdast-util-gfm-task-list-item/from-markdown.js","../node_modules/mdast-util-gfm/to-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/to-markdown.js","../node_modules/mdast-util-gfm-strikethrough/to-markdown.js","../node_modules/mdast-util-gfm-table/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/inline-code.js","../node_modules/mdast-util-to-markdown/lib/util/pattern-compile.js","../node_modules/markdown-table/index.js","../node_modules/mdast-util-gfm-task-list-item/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/list-item.js","../node_modules/mdast-util-to-markdown/lib/util/check-bullet.js","../node_modules/mdast-util-to-markdown/lib/util/check-list-item-indent.js","../node_modules/mdast-util-to-markdown/lib/util/container-flow.js","../node_modules/mdast-util-to-markdown/lib/util/indent-lines.js","../node_modules/mdast-util-to-markdown/lib/configure.js","../node_modules/@uiw/react-markdown-editor/node_modules/prismjs/prism.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/antd/lib/tag/CheckableTag.js","../node_modules/micromark/dist/character/markdown-line-ending.js","../node_modules/micromark/dist/tokenize/factory-space.js","../node_modules/micromark/dist/character/markdown-space.js","../node_modules/micromark/dist/util/chunked-splice.js","../node_modules/micromark/dist/character/markdown-line-ending-or-space.js","../node_modules/micromark/dist/util/regex-check.js","../node_modules/micromark/dist/util/shallow.js","../node_modules/micromark/dist/constant/assign.js","../node_modules/micromark/dist/util/prefix-size.js","../node_modules/micromark/dist/character/ascii-alphanumeric.js","../node_modules/@uiw/react-markdown-editor/node_modules/prismjs/components/prism-markup.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/micromark/dist/constant/from-char-code.js","../node_modules/micromark/dist/tokenize/partial-blank-line.js","../node_modules/micromark/dist/util/resolve-all.js","../node_modules/micromark/dist/character/ascii-alpha.js","../node_modules/react-markdown/node_modules/unist-util-visit/index.js"],"names":["arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","module","exports","arr","i","defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","target","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","hasOwnProperty","call","prototype","value","replace","toLowerCase","toUpperCase","undefined","chunkedSplice","require","list","items","unicodePunctuationRegex","unicodePunctuation","regexCheck","unicodeWhitespace","code","markdownLineEndingOrSpace","chunkedPush","normalizeIdentifier","resolveAll","shallow","factoryDestination","factoryLabel","factoryTitle","factoryWhitespace","labelEnd","name","tokenize","effects","ok","nok","labelStart","defined","self","this","index","events","type","_balanced","_inactive","balanced","parser","indexOf","sliceSerialize","start","end","now","enter","consume","exit","afterLabelEnd","attempt","resourceConstruct","fullReferenceConstruct","collapsedReferenceConstruct","resolveTo","context","group","label","text","token","open","close","media","offset","slice","constructs","insideSpan","null","_used","splice","destinationAfter","between","afterLabel","cache","res","str","num","TypeError","max","substr","$parcel$interopDefault","a","__esModule","default","removeNode","node","parentElement","removeChild","removeNodes","customs","curr","element","insertNodes","parent","newChild","refChild","oldIndex","children","insertBefore","createCustoms","evt","mode","getMode","from","custom","item","newIndex","$bf037e368b3040002dda64d69d3f$var$_objectSpread","swapItem","oldIndicies","map","multiDragElement","newIndicies","inputs","sort","b","handleStateRemove","normalized","newList","$bf037e368b3040002dda64d69d3f$var$_toConsumableArray","concat","reverse","handleStateAdd","clone","newItem","store","dragging","ReactSortable","Component","props","_this","ref","createRef","chosen","selected","setList","sortable","invariant","plugins","current","newOptions","makeOptions","Sortable","create","tag","classicProps","style","className","id","createElement","$ff006f4a88ed11a8119708ec3f19c5db$var$_objectSpread","getChildren","dataIdAttr","selectedClass","chosenClass","dragClass","fallbackClass","ghostClass","swapClass","dataid","Children","child","prevClassName","filtered","$ff006f4a88ed11a8119708ec3f19c5db$var$_defineProperty","classNames","cloneElement","onAdd","onChange","onChoose","onClone","onEnd","onFilter","onRemove","onSort","onStart","onUnchoose","onUpdate","onMove","onSpill","onSelect","onDeselect","$bf037e368b3040002dda64d69d3f$var$_objectWithoutProperties","_this2","prepareOnHandlerPropAndDOM","prepareOnHandlerProp","originalEvt","defaultValue","willInsertAfter","result","evtName","_this3","callOnHandlerProp","_this4","propEvent","$bf037e368b3040002dda64d69d3f$export$createCustoms","$ff006f4a88ed11a8119708ec3f19c5db$var$_toConsumableArray","$bf037e368b3040002dda64d69d3f$export$removeNodes","$bf037e368b3040002dda64d69d3f$export$handleStateAdd","$bf037e368b3040002dda64d69d3f$export$getMode","$bf037e368b3040002dda64d69d3f$export$insertNodes","pullMode","$bf037e368b3040002dda64d69d3f$export$handleStateRemove","customClones","clones","_this5","removeOnSpill","revertOnSpill","$bf037e368b3040002dda64d69d3f$export$removeNode","console","log","el","find","k","includes","_extends","assign","arrayLikeToArray","o","minLen","n","toString","constructor","Array","test","len","arr2","objectWithoutPropertiesLoose","excluded","sourceSymbolKeys","propertyIsEnumerable","_typeof","assertThisInitialized","obj","Symbol","iterator","xtend","unified","parse","PropTypes","addListMetadata","naiveHtml","disallowNode","astToReact","wrapTableRows","getDefinitions","uriTransformer","defaultRenderers","allTypes","ReactMarkdown","src","allowedTypes","disallowedTypes","Error","renderers","processor","use","tree","runSync","renderProps","definitions","transforms","removalMethod","unwrapDisallowed","ofType","allowNode","ifNotMatch","renderHtml","allowDangerousHtml","escapeHtml","skipHtml","hasHtmlParser","astPlugins","some","transform","identity","HtmlParser","determineAstToReactTransforms","defaultProps","transformLinkUri","propTypes","string","sourcePos","bool","rawSourcePos","func","arrayOf","oneOf","oneOfType","linkTarget","transformImageUri","array","types","isBuffer","own","chunks","size","subcontent","eventIndex","stream","previous","entered","adjust","startPosition","startPositions","tokenizer","_tokenizer","contentType","childEvents","jumps","gaps","sliceStream","next","defineSkip","isInFirstContentOfListItem","_gfmTasklistFirstContentOfListItem","write","line","add","pop","unshift","event","lineIndex","otherIndex","otherEvent","parameters","subevents","more","_container","_movePreviousLineEndings","initializeFactory","resolver","createResolver","field","notText","atBreak","data","resolveAllLineSuffixes","extraResolver","chunk","bufferIndex","tabs","charCodeAt","column","_index","_bufferIndex","miniflat","extension","all","hook","left","right","existing","before","extensions","asciiDigit","asciiControl","markdownLineEnding","literalType","literalMarkerType","rawType","stringType","limit","Infinity","balance","destinationEnclosedBefore","destinationRaw","destinationEnclosed","destinationEnclosedEscape","destinationRawEscape","markdownSpace","markerType","labelEscape","factorySpace","seen","marker","atFirstTitleBreak","atTitleBreak","title","titleEscape","thematicBreak","sequence","visitParents","convert","color","CONTINUE","SKIP","EXIT","visitor","step","is","factory","parents","tagName","visit","displayName","subresult","grandparents","toResult","Boolean","typeFactory","tests","checks","any","anyFactory","allFactory","warningIssued","syntax","fromMarkdown","toMarkdown","options","Parser","blockTokenizers","Compiler","visitors","warn","safeOptions","after","handle","results","handlers","peek","charAt","join","_interopRequireWildcard","_interopRequireDefault","_defineProperty2","_extends2","_slicedToArray2","React","_classnames","_omit","_CloseOutlined","_CheckableTag","_configProvider","_colors","_wave","__rest","s","e","t","p","PresetColorRegex","RegExp","PresetColorTypes","PresetStatusColorRegex","PresetStatusColorTypes","InternalTag","_a","_classNames","customizePrefixCls","prefixCls","icon","onClose","closeIcon","_a$closable","closable","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","_React$useState","useState","_React$useState2","visible","setVisible","useEffect","isPresetColor","tagStyle","backgroundColor","presetColor","tagClassName","handleCloseClick","stopPropagation","defaultPrevented","isNeedWave","tagProps","iconNode","kids","Fragment","tagNode","onClick","Tag","forwardRef","CheckableTag","_default","_arrayLikeToArray","_unsupportedIterableToArray","_createForOfIteratorHelper","allowArrayLike","it","isArray","F","done","_e","f","err","normalCompletion","didErr","_e2","_toConsumableArray","iter","_defineProperty","configurable","writable","_objectSpread2","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","_asyncToGenerator","fn","args","_objectWithoutProperties","sourceKeys","langData","meta","markup","css","clike","javascript","r","abap","abnf","actionscript","ada","apacheconf","apl","applescript","arduino","arff","asciidoc","asm6502","aspnet","autohotkey","autoit","bash","basic","batch","bison","bnf","brainfuck","bro","c","csharp","cpp","cil","coffeescript","cmake","clojure","crystal","csp","d","dart","diff","django","docker","ebnf","eiffel","ejs","elixir","elm","erb","erlang","fsharp","flow","fortran","gcode","gedcom","gherkin","git","glsl","gml","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","http","hpkp","hsts","ichigojam","inform7","ini","io","j","java","javadoc","javadoclike","javastacktrace","jolie","jq","jsdoc","json","jsonp","json5","julia","keyman","kotlin","latex","less","lilypond","liquid","lisp","livescript","lolcode","lua","makefile","markdown","matlab","mel","mizar","monkey","n1ql","n4js","nasm","nginx","nim","nix","nsis","objectivec","ocaml","opencl","oz","parigp","pascal","pascaligo","pcaxis","perl","php","phpdoc","plsql","powershell","processing","prolog","properties","protobuf","pug","puppet","pure","python","q","qore","jsx","tsx","renpy","reason","regex","rest","rip","roboconf","ruby","rust","sas","sass","scss","scala","scheme","smalltalk","smarty","soy","sql","stylus","swift","tap","tcl","textile","toml","tt2","twig","typescript","vala","vbnet","velocity","verilog","vhdl","vim","wasm","wiki","xeora","xojo","xquery","yaml","langs","alias","Set","ext","onScroll","onMouseOver","other","mdp","loadedLang","codes","val","lang","loadLang","Prism","highlight","useImperativeHandle","cls","reactMarkdownProps","bold","keyCommand","button","width","height","viewBox","fill","execute","selection","editor","position","italic","header","strike","underline","olist","ulist","link","todo","image","Fullscreen","container","preview","full","setFull","initEditorHeight","useRef","containerRef","editorRef","window","clientHeight","document","fullscreen","command","editorProps","Preview","containerEditor","defaultCommands","toolbars","htmlProps","buttonProps","btn","MarkdownEditor","toolbarsMode","visibleEditor","previewProps","codemirrorProps","setValue","codeMirror","previewContainer","setEditor","toolBarProps","codeEditor","useMemo","data-visible","instance","_objectSpread","_objectWithoutPropertiesLoose","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","userAgent","pattern","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","prop","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","getBoundingClientRect","elRect","top","bottom","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","currentChild","display","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","scrollHeight","elemCSS","overflowX","overflowY","body","isRectEqual","rect1","rect2","Math","round","throttle","callback","ms","setTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","Number","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","easing","animated","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginName","pluginEvent","eventName","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","lastPutMode","allEventProperties","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopImmediatePropagation","nearestEmptyInsertDetectEvent","nearest","ret","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","touches","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","disabled","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","_onMove","dragRect","targetRect","retVal","onMoveFn","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","href","sum","_nextTick","_cancelNextTick","contains","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","idx","checked","_saveInputCheckedState","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","empty","getSelection","removeAllRanges","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","cssMatrix","appendChild","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","handleEvent","dropEffect","_globalDragOver","toArray","order","getAttribute","useAnimation","set","destroy","querySelectorAll","removeAttribute","utils","extend","dst","nextTick","cancelNextTick","detectDirection","_len","_key","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","lastSwapEl","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","Revert","Remove","SwapPlugin","Swap","dragStart","dragOverValid","_ref2","swap","prevSwapEl","_ref3","n1","n2","i1","i2","p1","p2","isEqualNode","swapNodes","nulling","startIndex","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","multiDragKey","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","removeMultiDragElements","dragOver","_ref8","_ref9","clonesInserted","insertMultiDragElements","dragOverCompleted","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","elementsInserted","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverBubble","ogElemScroller","newElem","_arr","_n","_d","_s","_i","SERVER_RENDERED","global","cm","ReactCodeMirror","textarea","defineMode","editorOption","tabSize","lineNumbers","getValue","prevProps","nextProps","eventHandle","eventDict","ele","Constructor","_defineProperties","descriptor","protoProps","staticProps","ReferenceError","setPrototypeOf","subClass","superClass","_setPrototypeOf","__proto__","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","Reflect","construct","_getPrototypeOf","sham","Proxy","CodeMirror","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","found","mime","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","quote","list1","list2","list3","hr","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","blankLine","linkTitle","indentedCode","htmlBlock","inner","innerMode","htmlState","tagStart","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","indentation","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","skipToEnd","eatSpace","getType","eat","setext","listType","taskList","fencedEndRE","localMode","localState","startState","local","lookAhead","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","ch","matchCh","previousFormatting","eatWhile","count","formattingEscape","pos","atts","backUp","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","copyState","indent","textAfter","Pass","blockCommentStart","blockCommentEnd","closeBrackets","fold","defineMIME","mod","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","indentUnit","config","inText","chain","inBlock","doctype","inTag","baseState","inAttribute","stringStartCol","closure","eol","isInAttribute","terminator","depth","Context","startOfLine","prev","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","sol","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","configuration","helperType","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","mimeModes","modeInfo","file","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","bail","buffer","plain","trough","vfile","frozen","attachers","transformers","namespace","freezeIndex","assertUnfrozen","freeze","settings","addPlugin","addList","addPreset","entry","doc","assertParser","newable","String","stringify","assertCompiler","assertNode","compile","run","complete","assertDone","process","processSync","destination","values","transformer","cb","executor","pipeline","contents","asyncName","hasOwn","toStr","gOPD","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","newValue","getProperty","copy","copyIsArray","deep","wrap","fns","middleware","input","params","invoked","VMessage","VFile","message","origin","fatal","messages","fail","VMessagePrototype","proto","parts","range","location","parseOrigin","stack","ruleId","point","proc","history","cwd","assertPart","part","sep","assertNonEmpty","assertPath","encoding","dirname","basename","extname","stem","normalize","absolute","allowAboveRoot","lastSlashIndex","lastSegmentLength","lastSlash","dots","normalizeString","JSON","firstNonSlashEnd","seenNonSlash","extIndex","unmatchedSlash","startDot","startPart","preDotState","joined","mdastExtensions","configure","canContainEols","autolink","opener","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","heading","blockQuote","characterEscape","characterReference","codeFenced","codeFlow","codeFencedFenceInfo","codeFencedFenceMeta","codeIndented","codeText","codeTextData","codeFlowValue","definition","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreakEscape","hardBreak","hardBreakTrailing","htmlFlow","html","htmlFlowData","htmlText","htmlTextData","listItem","listItemValue","onenterlistitemvalue","listOrdered","onenterlistordered","listUnordered","paragraph","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","lineEnding","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","resource","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","handler","tokenStack","resume","getData","prepareList","stringifyPosition","tailIndex","tailEvent","firstBlankLineIndex","atMarker","containerBalance","listSpread","_spread","and","identifier","url","siblings","tail","referenceType","fragment","alt","safeFromInt","decode","ordered","spread","compiler","postprocess","preprocessor","fromCharCode","base","content","combineExtensions","createTokenizer","initializer","contentStart","contentInitial","lineStart","partialBlankLine","inspectResult","childFlow","childToken","continued","inspectConstruct","subcontinued","inspectStart","containerState","continuation","inspectContinue","inspectLess","currentConstruct","concrete","flowContinue","inspectDone","interrupt","interruptible","containerConstruct","inspectFlowEnd","_closeFlow","lazy","lazyFlowConstruct","check","inspectLazy","flowEnd","partial","documentContinue","documentContinued","flowStart","containerContinue","exitContainers","continueFlow","documentAfterPeek","disable","initial","flowInitial","afterConstruct","prefixSize","subtokenize","contentEnd","continuationConstruct","contentContinue","prefixed","serializeChunks","sliceChunks","initialize","columnStart","resolveAllConstructs","accountForPotentialSkip","fields","constructFactory","addResult","onsuccessfulcheck","main","chunkIndex","restore","onreturn","bogusState","listOfConstructs","constructIndex","handleListOfConstructs","handleConstruct","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","atTab","view","startBufferIndex","endIndex","endBufferIndex","text$1","attention","headingAtx","labelStartImage","labelStartLink","setextUnderline","42","43","45","48","49","50","51","52","53","54","55","56","57","62","91","32","35","60","61","95","96","126","38","92","33","93","classifyCharacter","movePoint","_open","_close","openingSequence","closingSequence","nextEvents","asciiAlpha","asciiAlphanumeric","asciiAtext","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","asciiPunctuation","decodeEntity","asciiHexDigit","_interopDefaultLegacy","decodeEntity__default","numeric","characters","char","entity","innerHTML","closingFenceConstruct","closingSequenceStart","sizeOpen","closingSequenceEnd","initialPrefix","sequenceOpen","infoOpen","openAfter","infoAfter","indentedContentConstruct","afterPrefix","gap","tailExitIndex","headEnterIndex","labelAfter","titleConstruct","fenceOpenInside","headingBreak","htmlBlockNames","htmlRawNames","kind","startTag","declarationStart","tagCloseStart","continuationDeclarationInside","commentOpenInside","cdataOpenInside","basicSelfClosing","completeAttributeNameBefore","completeClosingTagAfter","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCharacterDataInside","continuationAtLineEnding","nextBlankConstruct","htmlContinueStart","continuationRawEndTag","declarationOpen","instruction","tagOpen","commentOpen","cdataOpen","declaration","commentStart","commentStartDash","comment","commentClose","atLineEnding","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","sizeChunks","initialSize","inside","onBlank","listItemPrefixWhitespaceConstruct","endOfPrefix","otherPrefix","initialBlankLine","furtherBlankLines","notInCurrentItem","indentConstruct","search","atCarriageReturn","endPosition","ceil","visitWithParents","ast","listNode","one","selfClosingRe","simpleTagRe","selfClosing","getSelfClosing","opening","getSimpleTag","matching","matchingTag","findAndPull","fromNode","toNode","fromIndex","toIndex","virtual","allow","ReactIs","renderer","isValidElementType","nodeProps","getNodeProps","resolveChildren","childNode","opts","isSimpleRenderer","sourcePosition","includeNodeIndex","parentChildCount","assignDefined","nodeKey","level","loose","listItemLoose","listLoose","reduce","unwrapParagraphs","getListItemChildren","language","columnAlignment","align","isHeader","isBlock","parsedChildren","mergeNodeChildren","attrs","table","protocols","uri","first","colon","protocol","supportsStringRender","SimpleRenderer","getCoreProps","break","blockquote","delete","linkReference","imageReference","tableHead","tableBody","tableRow","tableCell","textAlign","coreProps","checkbox","readOnly","inlineCode","dangerous","dangerouslySetInnerHTML","__html","virtualHtml","parsedHtml","combine","tasklist","www","w2","w3","domain","hasUnderscoreInLastSegment","hasUnderscoreInLastLastSegment","namedCharacterReference","punctuationContinuation","inPath","continuedPunctuation","parenAtPathEnd","pathEnd","trailingPunctuation","wwwAutolink","previousWww","httpAutolink","previousHttp","t1","t2","slash1","slash2","emailAutolink","hasDot","gfmAtext","previousEmail","atext","dotContinuation","dashOrUnderscoreContinuation","afterDashOrUnderscore","single","singleTilde","removeRemainingSequences","seenDelimiter","hasDash","tableHeaderCount","_align","cellDividerHead","inCellContentHead","cellBreakHead","setextUnderlineMini","createSpace","rowStartDelimiter","atRowEndHead","inWhitespaceHead","inCellContentEscapeHead","atDelimiterRowBreak","rowEndDelimiter","inWhitespaceDelimiter","inFillerDelimiter","afterLeftAlignment","afterRightAlignment","tableClose","nextPrefixedOrBlank","tableContinue","bodyStart","rowStartBody","cellDividerBody","inCellContentBody","cellBreakBody","tableBodyClose","tableBodyContinue","atRowEndBody","inWhitespaceBody","inCellContentEscapeBody","inHead","inDelimiterRow","inRow","cell","cellStart","whitespace","spaceFactory","tasklistCheck","spaceThenNonSpace","autolinkLiteral","taskListItem","ccount","findAndReplace","enterLiteralAutolinkValue","findUrl","$0","prefix","isCorrectDomain","closingParenIndex","openingParens","closingParens","trail","splitUrl","findEmail","email","literalAutolink","literalAutolinkEmail","literalAutolinkHttp","literalAutolinkWww","character","schema","handlerFactory","pairs","pair","subhandler","nodes","toExpression","toFunction","toPairs","escape","ignored","grandparent","enterCell","$1","tableData","tableHeader","exitCheck","taskListCheckValueChecked","taskListCheckValueUnchecked","firstParaghraph","head","unsafe","inConstruct","notInConstruct","phrasing","handleDelete","defaultInlineCode","markdownTable","padding","tableCellPadding","alignDelimiters","tablePipeAlign","stringLength","around","serializeData","subexit","handleTableRowAsData","handleTableAsData","handleTableCell","patternCompile","expression","_compiled","repeat","cells","columnIndex","columnLength","largest","lines","delimiterStart","delimiterEnd","alignments","defaultStringLength","rowIndex","rowLength","cellMatrix","sizeMatrix","row","sizes","longestCellByColumn","mostCellsPerRow","toAlignment","space","trailingWhitespace","defaultListItem","bullet","checkBullet","listItemIndent","checkListItemIndent","incrementListMarker","indentLines","blank","_self","uniqueId","manual","disableWorkerMessageHandler","util","encode","tokens","Token","objId","deepClone","visited","v","getLanguage","currentScript","scripts","isActive","defaultActivation","no","languages","redef","insert","grammar","newToken","old","DFS","property","propertyType","highlightAll","async","highlightAllUnder","env","hooks","elements","highlightElement","insertHighlightedCode","highlightedCode","Worker","worker","onmessage","postMessage","immediateClose","tokenList","LinkedList","addAfter","matchGrammar","callbacks","matchedStr","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","flags","currentNode","reach","removeCount","matchStr","removeFrom","removeRange","newNode","classes","attributes","aliases","script","highlightAutomaticallyCallback","hasAttribute","readyState","defer","requestAnimationFrame","WorkerGlobalScope","includedCdataInside","def","mathml","svg","ssml","atom","rss","addInlined","js","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","setAttribute","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","arrayWithoutHoles","iterableToArray","nonIterableSpread","restProps","remove","chunkStart","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","rmClass","removeChildren","childNodes","firstChild","removeChildrenAndAdd","elt","createTextNode","eltP","activeElt","activeElement","addClass","joinClasses","as","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","copyObj","overwrite","countColumn","startValue","nextTab","selectionStart","selectionEnd","Delayed","onTimeout","scrollerGap","sel_dontScroll","sel_mouse","sel_move","findColumn","goal","col","skipped","min","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","dir","findFirst","pred","midF","mid","iterateBidiSections","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","getOrder","noHandlers","emitter","attachEvent","_handlers","getHandlers","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","hasBadBidiRects","txt","r0","r1","splitLinesAuto","l","nl","rt","hasSelection","te","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","modes","dependencies","spec","resolveMode","mfactory","modeObj","modeExtensions","exts","modeProps","prop$1","extendMode","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","getLine","sz","chunkSize","getBetween","getLines","updateLineHeight","lineNo","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","clipToLen","linelen","clipPosArray","skipTo","caseInsensitive","cased","hideFirstChars","oracle","baseToken","SavedContext","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","takeToken","asArray","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","buildLineContent","lineView","builder","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","getLineContent","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","isWidget","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","widgetHeight","parentStyle","gutters","wrapper","eventInWidget","sizer","mover","paddingTop","lineSpace","paddingVert","paddingH","cachedPaddingH","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","pageScrollY","marginTop","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","e$1","colDiff","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","blinker","cursorDiv","visibility","cursorBlinkRate","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","scrollNode","scrollIntoView","scrollPosIntoView","margin","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollbars","isScroller","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","bar","maybeDisable","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","editorIsHidden","wrapperHeight","oldDisplayWidth","scrollbarsClipped","marginBottom","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","allowDropFileTypes","reader","onerror","onload","readAsText","onDragStart","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","34","36","37","39","40","44","46","59","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","keyMap","normalizeKeyName","ctrl","cmd","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","nextCh","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","onMouseDown","supportsTouch","clickInGutter","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","mouseMove","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","over","leave","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","copyableRanges","lineRange","disableBrowserMagic","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","dontDelegate","method","defineExtension","defineDocExtension","called"],"mappings":"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","file":"static/js/3.4b0dc9c3.chunk.js","sourcesContent":["var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var defineProperty = require(\"./defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nfunction normalizeIdentifier(value) {\n  return (\n    value // Collapse Markdown whitespace.\n      .replace(/[\\t\\n\\r ]+/g, ' ') // Trim.\n      .replace(/^ | $/g, '') // Some characters are considered uppercase, but if their lowercase\n      // counterpart is uppercased will result in a different uppercase\n      // character.\n      // Hence, to get that form, we perform both lower- and uppercase.\n      // Upper case makes sure keys will not interact with default prototypal\n      // methods: no object method is uppercase.\n      .toLowerCase()\n      .toUpperCase()\n  )\n}\n\nmodule.exports = normalizeIdentifier\n","'use strict'\n\nfunction miniflat(value) {\n  return value === null || value === undefined\n    ? []\n    : 'length' in value\n    ? value\n    : [value]\n}\n\nmodule.exports = miniflat\n","'use strict'\n\nvar chunkedSplice = require('./chunked-splice.js')\n\nfunction chunkedPush(list, items) {\n  if (list.length) {\n    chunkedSplice(list, list.length, 0, items)\n    return list\n  }\n\n  return items\n}\n\nmodule.exports = chunkedPush\n","'use strict'\n\nvar unicodePunctuationRegex = require('../constant/unicode-punctuation-regex.js')\nvar regexCheck = require('../util/regex-check.js')\n\n// In fact adds to the bundle size.\n\nvar unicodePunctuation = regexCheck(unicodePunctuationRegex)\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar unicodeWhitespace = regexCheck(/\\s/)\n\nmodule.exports = unicodeWhitespace\n","'use strict'\n\n// Note: EOF is seen as ASCII control here, because `null < 32 == true`.\nfunction asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code < 32 || code === 127\n  )\n}\n\nmodule.exports = asciiControl\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factoryTitle = require('./factory-title.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\n\nvar labelEnd = {\n  name: 'labelEnd',\n  tokenize: tokenizeLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  resolveAll: resolveAllLabelEnd\n}\nvar resourceConstruct = {\n  tokenize: tokenizeResource\n}\nvar fullReferenceConstruct = {\n  tokenize: tokenizeFullReference\n}\nvar collapsedReferenceConstruct = {\n  tokenize: tokenizeCollapsedReference\n}\n\nfunction resolveAllLabelEnd(events) {\n  var index = -1\n  var token\n\n  while (++index < events.length) {\n    token = events[index][1]\n\n    if (\n      !token._used &&\n      (token.type === 'labelImage' ||\n        token.type === 'labelLink' ||\n        token.type === 'labelEnd')\n    ) {\n      // Remove the marker.\n      events.splice(index + 1, token.type === 'labelImage' ? 4 : 2)\n      token.type = 'data'\n      index++\n    }\n  }\n\n  return events\n}\n\nfunction resolveToLabelEnd(events, context) {\n  var index = events.length\n  var offset = 0\n  var group\n  var label\n  var text\n  var token\n  var open\n  var close\n  var media // Find an opening.\n\n  while (index--) {\n    token = events[index][1]\n\n    if (open) {\n      // If we see another link, or inactive link label, weve been here before.\n      if (\n        token.type === 'link' ||\n        (token.type === 'labelLink' && token._inactive)\n      ) {\n        break\n      } // Mark other link openings as inactive, as we cant have links in\n      // links.\n\n      if (events[index][0] === 'enter' && token.type === 'labelLink') {\n        token._inactive = true\n      }\n    } else if (close) {\n      if (\n        events[index][0] === 'enter' &&\n        (token.type === 'labelImage' || token.type === 'labelLink') &&\n        !token._balanced\n      ) {\n        open = index\n\n        if (token.type !== 'labelLink') {\n          offset = 2\n          break\n        }\n      }\n    } else if (token.type === 'labelEnd') {\n      close = index\n    }\n  }\n\n  group = {\n    type: events[open][1].type === 'labelLink' ? 'link' : 'image',\n    start: shallow(events[open][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  }\n  label = {\n    type: 'label',\n    start: shallow(events[open][1].start),\n    end: shallow(events[close][1].end)\n  }\n  text = {\n    type: 'labelText',\n    start: shallow(events[open + offset + 2][1].end),\n    end: shallow(events[close - 2][1].start)\n  }\n  media = [\n    ['enter', group, context],\n    ['enter', label, context]\n  ] // Opening marker.\n\n  media = chunkedPush(media, events.slice(open + 1, open + offset + 3)) // Text open.\n\n  media = chunkedPush(media, [['enter', text, context]]) // Between.\n\n  media = chunkedPush(\n    media,\n    resolveAll(\n      context.parser.constructs.insideSpan.null,\n      events.slice(open + offset + 4, close - 3),\n      context\n    )\n  ) // Text close, marker close, label close.\n\n  media = chunkedPush(media, [\n    ['exit', text, context],\n    events[close - 2],\n    events[close - 1],\n    ['exit', label, context]\n  ]) // Reference, resource, or so.\n\n  media = chunkedPush(media, events.slice(close + 1)) // Media close.\n\n  media = chunkedPush(media, [['exit', group, context]])\n  chunkedSplice(events, open, events.length, media)\n  return events\n}\n\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var labelStart\n  var defined // Find an opening.\n\n  while (index--) {\n    if (\n      (self.events[index][1].type === 'labelImage' ||\n        self.events[index][1].type === 'labelLink') &&\n      !self.events[index][1]._balanced\n    ) {\n      labelStart = self.events[index][1]\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!labelStart) {\n      return nok(code)\n    } // Its a balanced bracket, but contains a link.\n\n    if (labelStart._inactive) return balanced(code)\n    defined =\n      self.parser.defined.indexOf(\n        normalizeIdentifier(\n          self.sliceSerialize({\n            start: labelStart.end,\n            end: self.now()\n          })\n        )\n      ) > -1\n    effects.enter('labelEnd')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelEnd')\n    return afterLabelEnd\n  }\n\n  function afterLabelEnd(code) {\n    // Resource: `[asd](fgh)`.\n    if (code === 40) {\n      return effects.attempt(\n        resourceConstruct,\n        ok,\n        defined ? ok : balanced\n      )(code)\n    } // Collapsed (`[asd][]`) or full (`[asd][fgh]`) reference?\n\n    if (code === 91) {\n      return effects.attempt(\n        fullReferenceConstruct,\n        ok,\n        defined\n          ? effects.attempt(collapsedReferenceConstruct, ok, balanced)\n          : balanced\n      )(code)\n    } // Shortcut reference: `[asd]`?\n\n    return defined ? ok(code) : balanced(code)\n  }\n\n  function balanced(code) {\n    labelStart._balanced = true\n    return nok(code)\n  }\n}\n\nfunction tokenizeResource(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('resource')\n    effects.enter('resourceMarker')\n    effects.consume(code)\n    effects.exit('resourceMarker')\n    return factoryWhitespace(effects, open)\n  }\n\n  function open(code) {\n    if (code === 41) {\n      return end(code)\n    }\n\n    return factoryDestination(\n      effects,\n      destinationAfter,\n      nok,\n      'resourceDestination',\n      'resourceDestinationLiteral',\n      'resourceDestinationLiteralMarker',\n      'resourceDestinationRaw',\n      'resourceDestinationString',\n      3\n    )(code)\n  }\n\n  function destinationAfter(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, between)(code)\n      : end(code)\n  }\n\n  function between(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factoryWhitespace(effects, end),\n        nok,\n        'resourceTitle',\n        'resourceTitleMarker',\n        'resourceTitleString'\n      )(code)\n    }\n\n    return end(code)\n  }\n\n  function end(code) {\n    if (code === 41) {\n      effects.enter('resourceMarker')\n      effects.consume(code)\n      effects.exit('resourceMarker')\n      effects.exit('resource')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeFullReference(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    return factoryLabel.call(\n      self,\n      effects,\n      afterLabel,\n      nok,\n      'reference',\n      'referenceMarker',\n      'referenceString'\n    )(code)\n  }\n\n  function afterLabel(code) {\n    return self.parser.defined.indexOf(\n      normalizeIdentifier(\n        self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n      )\n    ) < 0\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nfunction tokenizeCollapsedReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('reference')\n    effects.enter('referenceMarker')\n    effects.consume(code)\n    effects.exit('referenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 93) {\n      effects.enter('referenceMarker')\n      effects.consume(code)\n      effects.exit('referenceMarker')\n      effects.exit('reference')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = labelEnd\n","/*!\n * repeat-string <https://github.com/jonschlinkert/repeat-string>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\n/**\n * Results cache\n */\n\nvar res = '';\nvar cache;\n\n/**\n * Expose `repeat`\n */\n\nmodule.exports = repeat;\n\n/**\n * Repeat the given `string` the specified `number`\n * of times.\n *\n * **Example:**\n *\n * ```js\n * var repeat = require('repeat-string');\n * repeat('A', 5);\n * //=> AAAAA\n * ```\n *\n * @param {String} `string` The string to repeat\n * @param {Number} `number` The number of times to repeat the string\n * @return {String} Repeated string\n * @api public\n */\n\nfunction repeat(str, num) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  // cover common, quick use cases\n  if (num === 1) return str;\n  if (num === 2) return str + str;\n\n  var max = str.length * num;\n  if (cache !== str || typeof cache === 'undefined') {\n    cache = str;\n    res = '';\n  } else if (res.length >= max) {\n    return res.substr(0, max);\n  }\n\n  while (max > res.length && num > 1) {\n    if (num & 1) {\n      res += str;\n    }\n\n    num >>= 1;\n    str += str;\n  }\n\n  res += str;\n  res = res.substr(0, max);\n  return res;\n}\n","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"./index.less\");",null,"import { PropsWithChildren } from \"react\";\nimport Sortable, { Options } from \"sortablejs\";\nimport { MultiDragEvent } from \"./react-sortable\";\nimport { AllMethodNames, ItemInterface, ReactSortableProps } from \"./types\";\n\n/**\n * Removes the `node` from the DOM\n * @param node\n */\nexport function removeNode(node: HTMLElement): void {\n  if (node.parentElement !== null) node.parentElement.removeChild(node);\n}\n\n/**\n * Inserts the `newChild` node at the given index in a parent\n * @param parent The parent HTML Element.\n * @param newChild A HTML eement to add as a child of the parent.\n * @param index index of the parent to place the new child in.\n */\nexport function insertNodeAt(\n  parent: HTMLElement,\n  newChild: HTMLElement,\n  index: number\n): void {\n  const refChild = parent.children[index] || null;\n  parent.insertBefore(newChild, refChild);\n}\n\n// @todo - create a dom handler function for arrays or not at all\n\n/** removes stuff from the dom in a nice order */\n// @todo - do I need parenElement?\nexport function handleDOMChanges<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  removeNodes(customs);\n  insertNodes(customs);\n}\n\nexport function removeNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => removeNode(curr.element));\n}\n\nexport function insertNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => {\n    insertNodeAt(curr.parentElement, curr.element, curr.oldIndex);\n  });\n}\n\nexport function createCustoms<T extends ItemInterface>(\n  evt: MultiDragEvent,\n  list: T[]\n): Normalized<T>[] {\n  const mode = getMode(evt);\n  const parentElement = { parentElement: evt.from };\n  let custom = [];\n  switch (mode) {\n    case \"normal\":\n      /* eslint-disable */\n      const item = {\n        element: evt.item,\n        newIndex: evt.newIndex!,\n        oldIndex: evt.oldIndex!,\n        parentElement: evt.from,\n      };\n      custom = [item];\n      break;\n    case \"swap\":\n      const drag: Input = {\n        element: evt.item,\n        oldIndex: evt.oldIndex!,\n        newIndex: evt.newIndex!,\n        ...parentElement,\n      };\n      const swap: Input = {\n        element: evt.swapItem!,\n        oldIndex: evt.newIndex!,\n        newIndex: evt.oldIndex!,\n        ...parentElement,\n      };\n      custom = [drag, swap];\n      break;\n    case \"multidrag\":\n      custom = evt.oldIndicies.map<Input>((curr, index) => ({\n        element: curr.multiDragElement,\n        oldIndex: curr.index,\n        newIndex: evt.newIndicies[index].index,\n        ...parentElement,\n      }));\n      break;\n  }\n  /* eslint-enable */\n\n  const customs = createNormalized(custom, list);\n  return customs;\n}\n\n/** moves items form old index to new index without breaking anything ideally. */\nexport function handleStateChanges<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const a = handleStateRemove(normalized, list);\n  const b = handleStateAdd(normalized, a);\n  return b;\n}\n\nexport function handleStateRemove<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const newList = [...list];\n  normalized\n    .concat()\n    .reverse()\n    .forEach((curr) => newList.splice(curr.oldIndex, 1));\n  return newList;\n}\n\nexport function handleStateAdd<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[],\n  evt?: Sortable.SortableEvent,\n  clone?: ((currentItem: T, evt: Sortable.SortableEvent) => T) | undefined\n): T[] {\n  const newList = [...list];\n  normalized.forEach((curr) => {\n    const newItem = clone && evt && clone(curr.item, evt);\n    newList.splice(curr.newIndex, 0, newItem || curr.item);\n  });\n  return newList;\n}\n\nexport function getMode(evt: MultiDragEvent): \"multidrag\" | \"swap\" | \"normal\" {\n  if (evt.oldIndicies && evt.oldIndicies.length > 0) return \"multidrag\";\n  if (evt.swapItem) return \"swap\";\n  return \"normal\";\n}\n\nexport function createNormalized<T extends ItemInterface>(\n  inputs: Input[],\n  list: T[]\n): Normalized<T>[] {\n  const normalized = inputs\n    .map<Normalized<T>>((curr) => ({ ...curr, item: list[curr.oldIndex] }))\n    .sort((a, b) => a.oldIndex - b.oldIndex);\n  return normalized;\n}\n\nexport interface Input {\n  parentElement: HTMLElement;\n  element: HTMLElement;\n  oldIndex: number;\n  newIndex: number;\n}\n\nexport interface Normalized<T> extends Input {\n  item: T;\n}\n\n/**\n * Removes the following group of properties from `props`,\n * leaving only `Sortable.Options` without any `on` methods.\n * @param props `ReactSortable.Props`\n */\nexport function destructurePropsForOptions<T>(\n  props: PropsWithChildren<ReactSortableProps<T>>\n): Exclude<Options, AllMethodNames> {\n  /* eslint-disable */\n  const {\n    // react sortable props\n    list,\n    setList,\n    children,\n    tag,\n    style,\n    className,\n    clone,\n    // sortable options that have methods we want to overwrite\n    onAdd,\n    onChange,\n    onChoose,\n    onClone,\n    onEnd,\n    onFilter,\n    onRemove,\n    onSort,\n    onStart,\n    onUnchoose,\n    onUpdate,\n    onMove,\n    onSpill,\n    onSelect,\n    onDeselect,\n    ...options\n  } = props;\n  /* eslint-enable */\n  return options;\n}\n\n/**\n * Construct a type with the properties of T except for those in type K.\n * Including this allows for backwards compatibility with earlier versions of TS.\n */\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n","import classNames from \"classnames\";\nimport {\n  Children,\n  cloneElement,\n  Component,\n  createElement,\n  createRef,\n  ReactElement,\n  RefObject,\n} from \"react\";\nimport Sortable, { MoveEvent, Options, SortableEvent } from \"sortablejs\";\nimport invariant from \"tiny-invariant\";\nimport {\n  AllMethodsExceptMove,\n  HandledMethodNames,\n  ItemInterface,\n  ReactSortableProps,\n  Store,\n  UnHandledMethodNames,\n} from \"./types\";\nimport {\n  createCustoms,\n  destructurePropsForOptions,\n  getMode,\n  handleStateAdd,\n  handleStateChanges,\n  handleStateRemove,\n  insertNodes,\n  removeNode,\n  removeNodes,\n} from \"./util\";\n\n/** Holds a global reference for which react element is being dragged */\n// @todo - use context to manage this. How does one use 2 different providers?\nconst store: Store = { dragging: null };\n\nexport class ReactSortable<T extends ItemInterface> extends Component<\n  ReactSortableProps<T>\n> {\n  /* eslint-disable-next-line */\n  static defaultProps: Partial<ReactSortableProps<any>> = {\n    clone: (item) => item,\n  };\n\n  private ref: RefObject<HTMLElement>;\n  constructor(props: ReactSortableProps<T>) {\n    super(props);\n    // @todo forward ref this component\n    this.ref = createRef<HTMLElement>();\n\n    // make all state false because we can't change sortable unless a mouse gesture is made.\n    const newList = props.list.map((item) => ({\n      ...item,\n      chosen: false,\n      selected: false,\n    }));\n\n    props.setList(newList, this.sortable, store);\n    invariant(\n      //@ts-expect-error: Doesn't exist. Will deprecate soon.\n      !props.plugins,\n      `\nPlugins prop is no longer supported.\nInstead, mount it with \"Sortable.mount(new MultiDrag())\"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      `\n    );\n  }\n  componentDidMount(): void {\n    if (this.ref.current === null) return;\n    const newOptions = this.makeOptions();\n    Sortable.create(this.ref.current, newOptions);\n  }\n\n  render(): JSX.Element {\n    const { tag, style, className, id } = this.props;\n    const classicProps = { style, className, id };\n\n    // if no tag, default to a `div` element.\n    const newTag = !tag || tag === null ? \"div\" : tag;\n    return createElement(\n      newTag,\n      {\n        // @todo - find a way (perhaps with the callback) to allow AntD components to work\n        ref: this.ref,\n        ...classicProps,\n      },\n      this.getChildren()\n    );\n  }\n\n  private getChildren() {\n    const {\n      children,\n      dataIdAttr,\n      selectedClass = \"sortable-selected\",\n      chosenClass = \"sortable-chosen\",\n      /* eslint-disable */\n      dragClass = \"sortable-drag\",\n      fallbackClass = \"sortable-falback\",\n      ghostClass = \"sortable-ghost\",\n      swapClass = \"sortable-swap-highlight\",\n      /* eslint-enable */\n      filter = \"sortable-filter\",\n      list,\n    } = this.props;\n\n    // if no children, don't do anything.\n    if (!children || children == null) return null;\n    const dataid = dataIdAttr || \"data-id\";\n    /* eslint-disable-next-line */\n    return Children.map(children as ReactElement<any>[], (child, index) => {\n      const item = list[index];\n      const { className: prevClassName } = child.props;\n\n      // @todo - handle the function if avalable. I don't think anyone will be doing this soon.\n      const filtered = typeof filter === \"string\" && {\n        [filter.replace(\".\", \"\")]: !!item.filtered,\n      };\n\n      const className = classNames(prevClassName, {\n        [selectedClass]: item.selected,\n        [chosenClass]: item.chosen,\n        ...filtered,\n        // [dragClass]: true,\n        // [fallbackClass]: true,\n        // [ghostClass]: true,\n        // [swapClass]: true\n      });\n\n      return cloneElement(child, {\n        [dataid]: child.key,\n        className,\n      });\n    });\n  }\n\n  /** Appends the `sortable` property to this component */\n  private get sortable(): Sortable | null {\n    const el = this.ref.current;\n    if (el === null) return null;\n    const key = Object.keys(el).find((k) => k.includes(\"Sortable\"));\n    if (!key) return null;\n    //@ts-expect-error: fix me.\n    return el[key] as Sortable;\n  }\n\n  /** Converts all the props from `ReactSortable` into the `options` object that `Sortable.create(el, [options])` can use. */\n  makeOptions(): Options {\n    const DOMHandlers: HandledMethodNames[] = [\n      \"onAdd\",\n      \"onChoose\",\n      \"onDeselect\",\n      \"onEnd\",\n      \"onRemove\",\n      \"onSelect\",\n      \"onSpill\",\n      \"onStart\",\n      \"onUnchoose\",\n      \"onUpdate\",\n    ];\n    const NonDOMHandlers: UnHandledMethodNames[] = [\n      \"onChange\",\n      \"onClone\",\n      \"onFilter\",\n      \"onSort\",\n    ];\n    const newOptions: Options = destructurePropsForOptions(this.props);\n    DOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerPropAndDOM(name))\n    );\n    NonDOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerProp(name))\n    );\n\n    /** onMove has 2 arguments and needs to be handled seperately. */\n    const onMove = (evt: MoveEvent, originalEvt: Event) => {\n      const { onMove } = this.props;\n      const defaultValue = evt.willInsertAfter || -1;\n      if (!onMove) return defaultValue;\n      const result = onMove(evt, originalEvt, this.sortable, store);\n      if (typeof result === \"undefined\") return false;\n      return result;\n    };\n\n    return {\n      ...newOptions,\n      onMove,\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop & an `on[Handler]` ReactSortable method.  */\n  prepareOnHandlerPropAndDOM(\n    evtName: HandledMethodNames\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n      // calls state change\n      //@ts-expect-error: until @types multidrag item is in\n      this[evtName](evt);\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop */\n  prepareOnHandlerProp(\n    evtName: Exclude<AllMethodsExceptMove, HandledMethodNames>\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n    };\n  }\n\n  /** Calls the `props.on[Handler]` function */\n  callOnHandlerProp(evt: SortableEvent, evtName: AllMethodsExceptMove): void {\n    const propEvent = this.props[evtName];\n    if (propEvent) propEvent(evt, this.sortable, store);\n  }\n\n  // SORTABLE DOM HANDLING\n\n  onAdd(evt: MultiDragEvent): void {\n    const { list, setList, clone } = this.props;\n    /* eslint-disable-next-line */\n    const otherList = [...store.dragging!.props.list];\n    const customs = createCustoms(evt, otherList);\n    removeNodes(customs);\n    const newList = handleStateAdd(customs, list, evt, clone).map((item) => ({\n      ...item,\n      selected: false,\n    }));\n    setList(newList, this.sortable, store);\n  }\n\n  onRemove(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const mode = getMode(evt);\n    const customs = createCustoms(evt, list);\n    insertNodes(customs);\n\n    let newList = [...list];\n    // remove state if not in clone mode. otherwise, keep.\n    if (evt.pullMode !== \"clone\") newList = handleStateRemove(customs, newList);\n    // if clone, it doesn't really remove. instead it clones in place.\n    // @todo -\n    else {\n      // switch used to get the clone\n      let customClones = customs;\n      switch (mode) {\n        case \"multidrag\":\n          customClones = customs.map((item, index) => ({\n            ...item,\n            element: evt.clones[index],\n          }));\n          break;\n        case \"normal\":\n          customClones = customs.map((item) => ({\n            ...item,\n            element: evt.clone,\n          }));\n          break;\n        case \"swap\":\n        default: {\n          invariant(\n            true,\n            `mode \"${mode}\" cannot clone. Please remove \"props.clone\" from <ReactSortable/> when using the \"${mode}\" plugin`\n          );\n        }\n      }\n      removeNodes(customClones);\n\n      // replace selected items with cloned items\n      customs.forEach((curr) => {\n        const index = curr.oldIndex;\n        /* eslint-disable-next-line */\n        const newItem = this.props.clone!(curr.item, evt);\n        newList.splice(index, 1, newItem);\n      });\n    }\n\n    // remove item.selected from list\n    newList = newList.map((item) => ({ ...item, selected: false }));\n    setList(newList, this.sortable, store);\n  }\n\n  onUpdate(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const customs = createCustoms(evt, list);\n    removeNodes(customs);\n    insertNodes(customs);\n    const newList = handleStateChanges(customs, list);\n    return setList(newList, this.sortable, store);\n  }\n\n  onStart(): void {\n    store.dragging = this;\n  }\n\n  onEnd(): void {\n    store.dragging = null;\n  }\n\n  onChoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: true,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onUnchoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: false,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onSpill(evt: SortableEvent): void {\n    const { removeOnSpill, revertOnSpill } = this.props;\n    if (removeOnSpill && !revertOnSpill) removeNode(evt.item);\n  }\n\n  onSelect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) {\n        console.log(\n          `\"${evt.type}\" had indice of \"${curr.index}\", which is probably -1 and doesn't usually happen here.`\n        );\n        console.log(evt);\n        return;\n      }\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onDeselect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) return;\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n}\n\n// everything below this point can be removed\n// once @types has been merged. PR submited\ninterface MultiIndices {\n  multiDragElement: HTMLElement;\n  index: number;\n}\n\nexport interface MultiDragEvent extends SortableEvent {\n  // @todo - add this to @types\n  clones: HTMLElement[];\n  oldIndicies: MultiIndices[];\n  newIndicies: MultiIndices[];\n  swapItem: HTMLElement | null;\n}\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nvar xtend = require('xtend');\n\nvar unified = require('unified');\n\nvar parse = require('remark-parse');\n\nvar PropTypes = require('prop-types');\n\nvar addListMetadata = require('mdast-add-list-metadata');\n\nvar naiveHtml = require('./plugins/naive-html');\n\nvar disallowNode = require('./plugins/disallow-node');\n\nvar astToReact = require('./ast-to-react');\n\nvar wrapTableRows = require('./wrap-table-rows');\n\nvar getDefinitions = require('./get-definitions');\n\nvar uriTransformer = require('./uri-transformer');\n\nvar defaultRenderers = require('./renderers');\n\nvar symbols = require('./symbols');\n\nvar allTypes = Object.keys(defaultRenderers);\n\nvar ReactMarkdown = function ReactMarkdown(props) {\n  // To do in next major: remove `source`.\n  var src = props.source || props.children || '';\n\n  if (props.allowedTypes && props.disallowedTypes) {\n    throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');\n  }\n\n  var renderers = xtend(defaultRenderers, props.renderers);\n  var processor = unified().use(parse).use(props.plugins || []); // eslint-disable-next-line no-sync\n\n  var tree = processor.runSync(processor.parse(src));\n  var renderProps = xtend(props, {\n    renderers: renderers,\n    definitions: getDefinitions(tree)\n  });\n  determineAstToReactTransforms(props).forEach(function (transform) {\n    tree = transform(tree, renderProps);\n  });\n  return tree;\n};\n\nfunction determineAstToReactTransforms(props) {\n  var transforms = [wrapTableRows, addListMetadata()];\n  var disallowedTypes = props.disallowedTypes;\n\n  if (props.allowedTypes) {\n    disallowedTypes = allTypes.filter(function (type) {\n      return type !== 'root' && props.allowedTypes.indexOf(type) === -1;\n    });\n  }\n\n  var removalMethod = props.unwrapDisallowed ? 'unwrap' : 'remove';\n\n  if (disallowedTypes && disallowedTypes.length > 0) {\n    transforms.push(disallowNode.ofType(disallowedTypes, removalMethod));\n  }\n\n  if (props.allowNode) {\n    transforms.push(disallowNode.ifNotMatch(props.allowNode, removalMethod));\n  } // To do in next major: remove `escapeHtml`.\n\n\n  var renderHtml = (props.allowDangerousHtml || props.escapeHtml === false) && !props.skipHtml;\n  var hasHtmlParser = (props.astPlugins || []).some(function (transform) {\n    return transform.identity === symbols.HtmlParser;\n  });\n\n  if (renderHtml && !hasHtmlParser) {\n    transforms.push(naiveHtml);\n  }\n\n  if (props.astPlugins) {\n    transforms = transforms.concat(props.astPlugins);\n  } // Add the final transform to turn everything into React.\n\n\n  transforms.push(astToReact);\n  return transforms;\n}\n\nReactMarkdown.defaultProps = {\n  transformLinkUri: uriTransformer\n};\nReactMarkdown.propTypes = {\n  className: PropTypes.string,\n  source: PropTypes.string,\n  children: PropTypes.string,\n  sourcePos: PropTypes.bool,\n  rawSourcePos: PropTypes.bool,\n  escapeHtml: PropTypes.bool,\n  allowDangerousHtml: PropTypes.bool,\n  skipHtml: PropTypes.bool,\n  allowNode: PropTypes.func,\n  allowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  disallowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  transformLinkUri: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  linkTarget: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transformImageUri: PropTypes.func,\n  astPlugins: PropTypes.arrayOf(PropTypes.func),\n  unwrapDisallowed: PropTypes.bool,\n  renderers: PropTypes.object,\n  plugins: PropTypes.array\n};\nReactMarkdown.types = allTypes;\nReactMarkdown.renderers = defaultRenderers;\nReactMarkdown.uriTransformer = uriTransformer;\nmodule.exports = ReactMarkdown;","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = own\n","'use strict'\n\n// Counts tabs based on their expanded size, and CR+LF as one character.\n\nfunction sizeChunks(chunks) {\n  var index = -1\n  var size = 0\n\n  while (++index < chunks.length) {\n    size += typeof chunks[index] === 'string' ? chunks[index].length : 1\n  }\n\n  return size\n}\n\nmodule.exports = sizeChunks\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar shallow = require('./shallow.js')\n\nfunction subtokenize(events) {\n  var jumps = {}\n  var index = -1\n  var event\n  var lineIndex\n  var otherIndex\n  var otherEvent\n  var parameters\n  var subevents\n  var more\n\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index]\n    }\n\n    event = events[index] // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n\n    if (\n      index &&\n      event[1].type === 'chunkFlow' &&\n      events[index - 1][1].type === 'listItemPrefix'\n    ) {\n      subevents = event[1]._tokenizer.events\n      otherIndex = 0\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'lineEndingBlank'\n      ) {\n        otherIndex += 2\n      }\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'content'\n      ) {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === 'content') {\n            break\n          }\n\n          if (subevents[otherIndex][1].type === 'chunkText') {\n            subevents[otherIndex][1].isInFirstContentOfListItem = true\n            otherIndex++\n          }\n        }\n      }\n    } // Enter.\n\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        assign(jumps, subcontent(events, index))\n        index = jumps[index]\n        more = true\n      }\n    } // Exit.\n    else if (event[1]._container || event[1]._movePreviousLineEndings) {\n      otherIndex = index\n      lineIndex = undefined\n\n      while (otherIndex--) {\n        otherEvent = events[otherIndex]\n\n        if (\n          otherEvent[1].type === 'lineEnding' ||\n          otherEvent[1].type === 'lineEndingBlank'\n        ) {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events[lineIndex][1].type = 'lineEndingBlank'\n            }\n\n            otherEvent[1].type = 'lineEnding'\n            lineIndex = otherIndex\n          }\n        } else {\n          break\n        }\n      }\n\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = shallow(events[lineIndex][1].start) // Switch container exit w/ line endings.\n\n        parameters = events.slice(lineIndex, index)\n        parameters.unshift(event)\n        chunkedSplice(events, lineIndex, index - lineIndex + 1, parameters)\n      }\n    }\n  }\n\n  return !more\n}\n\nfunction subcontent(events, eventIndex) {\n  var token = events[eventIndex][1]\n  var context = events[eventIndex][2]\n  var startPosition = eventIndex - 1\n  var startPositions = []\n  var tokenizer =\n    token._tokenizer || context.parser[token.contentType](token.start)\n  var childEvents = tokenizer.events\n  var jumps = []\n  var gaps = {}\n  var stream\n  var previous\n  var index\n  var entered\n  var end\n  var adjust // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n\n  while (token) {\n    // Find the position of the event for this token.\n    while (events[++startPosition][1] !== token) {\n      // Empty.\n    }\n\n    startPositions.push(startPosition)\n\n    if (!token._tokenizer) {\n      stream = context.sliceStream(token)\n\n      if (!token.next) {\n        stream.push(null)\n      }\n\n      if (previous) {\n        tokenizer.defineSkip(token.start)\n      }\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true\n      }\n\n      tokenizer.write(stream)\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined\n      }\n    } // Unravel the next token.\n\n    previous = token\n    token = token.next\n  } // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n\n  token = previous\n  index = childEvents.length\n\n  while (index--) {\n    // Make sure weve at least seen something (final eol is part of the last\n    // token).\n    if (childEvents[index][0] === 'enter') {\n      entered = true\n    } else if (\n      // Find a void token that includes a break.\n      entered &&\n      childEvents[index][1].type === childEvents[index - 1][1].type &&\n      childEvents[index][1].start.line !== childEvents[index][1].end.line\n    ) {\n      add(childEvents.slice(index + 1, end))\n      // Help GC.\n      token._tokenizer = token.next = undefined\n      token = token.previous\n      end = index + 1\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = token._tokenizer = token.next = undefined // Do head:\n\n  add(childEvents.slice(0, end))\n  index = -1\n  adjust = 0\n\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1]\n    adjust += jumps[index][1] - jumps[index][0] - 1\n  }\n\n  return gaps\n\n  function add(slice) {\n    var start = startPositions.pop()\n    jumps.unshift([start, start + slice.length - 1])\n    chunkedSplice(events, start, 2, slice)\n  }\n}\n\nmodule.exports = subtokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar assign = require('../constant/assign.js')\nvar shallow = require('../util/shallow.js')\n\nvar text = initializeFactory('text')\nvar string = initializeFactory('string')\nvar resolver = {\n  resolveAll: createResolver()\n}\n\nfunction initializeFactory(field) {\n  return {\n    tokenize: initializeText,\n    resolveAll: createResolver(\n      field === 'text' ? resolveAllLineSuffixes : undefined\n    )\n  }\n\n  function initializeText(effects) {\n    var self = this\n    var constructs = this.parser.constructs[field]\n    var text = effects.attempt(constructs, start, notText)\n    return start\n\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code)\n    }\n\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code)\n        return\n      }\n\n      effects.enter('data')\n      effects.consume(code)\n      return data\n    }\n\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit('data')\n        return text(code)\n      } // Data.\n\n      effects.consume(code)\n      return data\n    }\n\n    function atBreak(code) {\n      var list = constructs[code]\n      var index = -1\n\n      if (code === null) {\n        return true\n      }\n\n      if (list) {\n        while (++index < list.length) {\n          if (\n            !list[index].previous ||\n            list[index].previous.call(self, self.previous)\n          ) {\n            return true\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction createResolver(extraResolver) {\n  return resolveAllText\n\n  function resolveAllText(events, context) {\n    var index = -1\n    var enter // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === 'data') {\n          enter = index\n          index++\n        }\n      } else if (!events[index] || events[index][1].type !== 'data') {\n        // Dont do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end\n          events.splice(enter + 2, index - enter - 2)\n          index = enter + 2\n        }\n\n        enter = undefined\n      }\n    }\n\n    return extraResolver ? extraResolver(events, context) : events\n  }\n} // A rather ugly set of instructions which again looks at chunks in the input\n// stream.\n// The reason to do this here is that it is *much* faster to parse in reverse.\n// And that we cant hook into `null` to split the line suffix before an EOF.\n// To do: figure out if we can make this into a clean utility, or even in core.\n// As it will be useful for GFMs literal autolink extension (and maybe even\n// tables?)\n\nfunction resolveAllLineSuffixes(events, context) {\n  var eventIndex = -1\n  var chunks\n  var data\n  var chunk\n  var index\n  var bufferIndex\n  var size\n  var tabs\n  var token\n\n  while (++eventIndex <= events.length) {\n    if (\n      (eventIndex === events.length ||\n        events[eventIndex][1].type === 'lineEnding') &&\n      events[eventIndex - 1][1].type === 'data'\n    ) {\n      data = events[eventIndex - 1][1]\n      chunks = context.sliceStream(data)\n      index = chunks.length\n      bufferIndex = -1\n      size = 0\n      tabs = undefined\n\n      while (index--) {\n        chunk = chunks[index]\n\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length\n\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++\n            bufferIndex--\n          }\n\n          if (bufferIndex) break\n          bufferIndex = -1\n        } // Number\n        else if (chunk === -2) {\n          tabs = true\n          size++\n        } else if (chunk === -1);\n        else {\n          // Replacement character, exit.\n          index++\n          break\n        }\n      }\n\n      if (size) {\n        token = {\n          type:\n            eventIndex === events.length || tabs || size < 2\n              ? 'lineSuffix'\n              : 'hardBreakTrailing',\n          start: {\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size,\n            _index: data.start._index + index,\n            _bufferIndex: index\n              ? bufferIndex\n              : data.start._bufferIndex + bufferIndex\n          },\n          end: shallow(data.end)\n        }\n        data.end = shallow(token.start)\n\n        if (data.start.offset === data.end.offset) {\n          assign(data, token)\n        } else {\n          events.splice(\n            eventIndex,\n            0,\n            ['enter', token, context],\n            ['exit', token, context]\n          )\n          eventIndex += 2\n        }\n      }\n\n      eventIndex++\n    }\n  }\n\n  return events\n}\n\nexports.resolver = resolver\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar hasOwnProperty = require('../constant/has-own-property.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\n\nfunction combineExtensions(extensions) {\n  var all = {}\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(all, extensions[index])\n  }\n\n  return all\n}\n\nfunction extension(all, extension) {\n  var hook\n  var left\n  var right\n  var code\n\n  for (hook in extension) {\n    left = hasOwnProperty.call(all, hook) ? all[hook] : (all[hook] = {})\n    right = extension[hook]\n\n    for (code in right) {\n      left[code] = constructs(\n        miniflat(right[code]),\n        hasOwnProperty.call(left, code) ? left[code] : []\n      )\n    }\n  }\n}\n\nfunction constructs(list, existing) {\n  var index = -1\n  var before = []\n\n  while (++index < list.length) {\n    ;(list[index].add === 'after' ? existing : before).push(list[index])\n  }\n\n  chunkedSplice(existing, 0, 0, before)\n  return existing\n}\n\nmodule.exports = combineExtensions\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar unicodePunctuation = require('../character/unicode-punctuation.js')\nvar unicodeWhitespace = require('../character/unicode-whitespace.js')\n\n// Classify whether a character is unicode whitespace, unicode punctuation, or\n// anything else.\n// Used for attention (emphasis, strong), whose sequences can open or close\n// based on the class of surrounding characters.\nfunction classifyCharacter(code) {\n  if (\n    code === null ||\n    markdownLineEndingOrSpace(code) ||\n    unicodeWhitespace(code)\n  ) {\n    return 1\n  }\n\n  if (unicodePunctuation(code)) {\n    return 2\n  }\n}\n\nmodule.exports = classifyCharacter\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiDigit = regexCheck(/\\d/)\n\nmodule.exports = asciiDigit\n","'use strict'\n\nvar asciiControl = require('../character/ascii-control.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\n// eslint-disable-next-line max-params\nfunction destinationFactory(\n  effects,\n  ok,\n  nok,\n  type,\n  literalType,\n  literalMarkerType,\n  rawType,\n  stringType,\n  max\n) {\n  var limit = max || Infinity\n  var balance = 0\n  return start\n\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type)\n      effects.enter(literalType)\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      return destinationEnclosedBefore\n    }\n\n    if (asciiControl(code) || code === 41) {\n      return nok(code)\n    }\n\n    effects.enter(type)\n    effects.enter(rawType)\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationRaw(code)\n  }\n\n  function destinationEnclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      effects.exit(literalType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationEnclosed(code)\n  }\n\n  function destinationEnclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      return destinationEnclosedBefore(code)\n    }\n\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? destinationEnclosedEscape : destinationEnclosed\n  }\n\n  function destinationEnclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code)\n      return destinationEnclosed\n    }\n\n    return destinationEnclosed(code)\n  }\n\n  function destinationRaw(code) {\n    if (code === 40) {\n      if (++balance > limit) return nok(code)\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === 41) {\n      if (!balance--) {\n        effects.exit('chunkString')\n        effects.exit(stringType)\n        effects.exit(rawType)\n        effects.exit(type)\n        return ok(code)\n      }\n\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      if (balance) return nok(code)\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      effects.exit(rawType)\n      effects.exit(type)\n      return ok(code)\n    }\n\n    if (asciiControl(code)) return nok(code)\n    effects.consume(code)\n    return code === 92 ? destinationRawEscape : destinationRaw\n  }\n\n  function destinationRawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    return destinationRaw(code)\n  }\n}\n\nmodule.exports = destinationFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\n\n// eslint-disable-next-line max-params\nfunction labelFactory(effects, ok, nok, type, markerType, stringType) {\n  var self = this\n  var size = 0\n  var data\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    effects.enter(stringType)\n    return atBreak\n  }\n\n  function atBreak(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      (code === 93 && !data) ||\n      /* c8 ignore next */\n      (code === 94 &&\n        /* c8 ignore next */\n        !size &&\n        /* c8 ignore next */\n        '_hiddenFootnoteSupport' in self.parser.constructs) ||\n      size > 999\n    ) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.exit(stringType)\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return atBreak\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return label(code)\n  }\n\n  function label(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      code === 93 ||\n      markdownLineEnding(code) ||\n      size++ > 999\n    ) {\n      effects.exit('chunkString')\n      return atBreak(code)\n    }\n\n    effects.consume(code)\n    data = data || !markdownSpace(code)\n    return code === 92 ? labelEscape : label\n  }\n\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code)\n      size++\n      return label\n    }\n\n    return label(code)\n  }\n}\n\nmodule.exports = labelFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction whitespaceFactory(effects, ok) {\n  var seen\n  return start\n\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      seen = true\n      return start\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(\n        effects,\n        start,\n        seen ? 'linePrefix' : 'lineSuffix'\n      )(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = whitespaceFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction titleFactory(effects, ok, nok, type, markerType, stringType) {\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    marker = code === 40 ? 41 : code\n    return atFirstTitleBreak\n  }\n\n  function atFirstTitleBreak(code) {\n    if (code === marker) {\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    return atTitleBreak(code)\n  }\n\n  function atTitleBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType)\n      return atFirstTitleBreak(marker)\n    }\n\n    if (code === null) {\n      return nok(code)\n    } // Note: blank lines cant exist in content.\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, atTitleBreak, 'linePrefix')\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return title(code)\n  }\n\n  function title(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      return atTitleBreak(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? titleEscape : title\n  }\n\n  function titleEscape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code)\n      return title\n    }\n\n    return title(code)\n  }\n}\n\nmodule.exports = titleFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n}\n\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  var size = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('thematicBreak')\n    marker = code\n    return atBreak(code)\n  }\n\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter('thematicBreakSequence')\n      return sequence(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, 'whitespace')(code)\n    }\n\n    if (size < 3 || (code !== null && !markdownLineEnding(code))) {\n      return nok(code)\n    }\n\n    effects.exit('thematicBreak')\n    return ok(code)\n  }\n\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      size++\n      return sequence\n    }\n\n    effects.exit('thematicBreakSequence')\n    return atBreak(code)\n  }\n}\n\nmodule.exports = thematicBreak\n","'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\nvar color = require('./color')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n  step = reverse ? -1 : 1\n\n  factory(tree, null, [])()\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {}\n    var name\n\n    if (typeof value.type === 'string') {\n      name =\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      visit.displayName =\n        'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')'\n    }\n\n    return visit\n\n    function visit() {\n      var grandparents = parents.concat(node)\n      var result = []\n      var subresult\n      var offset\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)()\n\n          if (subresult[0] === EXIT) {\n            return subresult\n          }\n\n          offset =\n            typeof subresult[1] === 'number' ? subresult[1] : offset + step\n        }\n      }\n\n      return result\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","'use strict'\n\nmodule.exports = convert\n\nfunction convert(test) {\n  if (test == null) {\n    return ok\n  }\n\n  if (typeof test === 'string') {\n    return typeFactory(test)\n  }\n\n  if (typeof test === 'object') {\n    return 'length' in test ? anyFactory(test) : allFactory(test)\n  }\n\n  if (typeof test === 'function') {\n    return test\n  }\n\n  throw new Error('Expected function, string, or object as test')\n}\n\n// Utility assert each property in `test` is represented in `node`, and each\n// values are strictly equal.\nfunction allFactory(test) {\n  return all\n\n  function all(node) {\n    var key\n\n    for (key in test) {\n      if (node[key] !== test[key]) return false\n    }\n\n    return true\n  }\n}\n\nfunction anyFactory(tests) {\n  var checks = []\n  var index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return any\n\n  function any() {\n    var index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, arguments)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n// Utility to convert a string into a function which checks a given nodes type\n// for said string.\nfunction typeFactory(test) {\n  return type\n\n  function type(node) {\n    return Boolean(node && node.type === test)\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","'use strict'\n\nvar syntax = require('micromark-extension-gfm')\nvar fromMarkdown = require('mdast-util-gfm/from-markdown')\nvar toMarkdown = require('mdast-util-gfm/to-markdown')\n\nvar warningIssued\n\nmodule.exports = gfm\n\nfunction gfm(options) {\n  var data = this.data()\n\n  /* istanbul ignore next - old remark. */\n  if (\n    !warningIssued &&\n    ((this.Parser &&\n      this.Parser.prototype &&\n      this.Parser.prototype.blockTokenizers) ||\n      (this.Compiler &&\n        this.Compiler.prototype &&\n        this.Compiler.prototype.visitors))\n  ) {\n    warningIssued = true\n    console.warn(\n      '[remark-gfm] Warning: please upgrade to remark 13 to use this plugin'\n    )\n  }\n\n  add('micromarkExtensions', syntax(options))\n  add('fromMarkdownExtensions', fromMarkdown)\n  add('toMarkdownExtensions', toMarkdown(options))\n\n  function add(field, value) {\n    /* istanbul ignore if - other extensions. */\n    if (data[field]) data[field].push(value)\n    else data[field] = [value]\n  }\n}\n","module.exports = phrasing\n\nfunction phrasing(parent, context, safeOptions) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var before = safeOptions.before\n  var after\n  var handle\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    if (index + 1 < children.length) {\n      handle = context.handle.handlers[children[index + 1].type]\n      if (handle && handle.peek) handle = handle.peek\n      after = handle\n        ? handle(children[index + 1], parent, context, {\n            before: '',\n            after: ''\n          }).charAt(0)\n        : ''\n    } else {\n      after = safeOptions.after\n    }\n\n    // In some cases, html (text) can be found in phrasing right after an eol.\n    // When wed serialize that, in most cases that would be seen as html\n    // (flow).\n    // As we cant escape or so to prevent it from happening, we take a somewhat\n    // reasonable approach: replace that eol with a space.\n    // See: <https://github.com/syntax-tree/mdast-util-to-markdown/issues/15>\n    if (\n      results.length > 0 &&\n      (before === '\\r' || before === '\\n') &&\n      child.type === 'html'\n    ) {\n      results[results.length - 1] = results[results.length - 1].replace(\n        /(\\r?\\n|\\r)$/,\n        ' '\n      )\n      before = ' '\n    }\n\n    results.push(\n      context.handle(child, parent, context, {\n        before: before,\n        after: after\n      })\n    )\n\n    before = results[results.length - 1].slice(-1)\n  }\n\n  return results.join('')\n}\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _omit = _interopRequireDefault(require(\"omit.js\"));\n\nvar _CloseOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseOutlined\"));\n\nvar _CheckableTag = _interopRequireDefault(require(\"./CheckableTag\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _colors = require(\"../_util/colors\");\n\nvar _wave = _interopRequireDefault(require(\"../_util/wave\"));\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar PresetColorRegex = new RegExp(\"^(\".concat(_colors.PresetColorTypes.join('|'), \")(-inverse)?$\"));\nvar PresetStatusColorRegex = new RegExp(\"^(\".concat(_colors.PresetStatusColorTypes.join('|'), \")$\"));\n\nvar InternalTag = function InternalTag(_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      style = _a.style,\n      children = _a.children,\n      icon = _a.icon,\n      color = _a.color,\n      onClose = _a.onClose,\n      closeIcon = _a.closeIcon,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? false : _a$closable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  React.useEffect(function () {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n\n  var isPresetColor = function isPresetColor() {\n    if (!color) {\n      return false;\n    }\n\n    return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n  };\n\n  var tagStyle = (0, _extends2[\"default\"])({\n    backgroundColor: color && !isPresetColor() ? color : undefined\n  }, style);\n  var presetColor = isPresetColor();\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var tagClassName = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(color), presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n\n  var handleCloseClick = function handleCloseClick(e) {\n    e.stopPropagation();\n\n    if (onClose) {\n      onClose(e);\n    }\n\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (!('visible' in props)) {\n      setVisible(false);\n    }\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    if (closable) {\n      return closeIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      }, closeIcon) : /*#__PURE__*/React.createElement(_CloseOutlined[\"default\"], {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      });\n    }\n\n    return null;\n  };\n\n  var isNeedWave = 'onClick' in props || children && children.type === 'a';\n  var tagProps = (0, _omit[\"default\"])(props, ['visible']);\n  var iconNode = icon || null;\n  var kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  var tagNode = /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, tagProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, renderCloseIcon());\n  return isNeedWave ? /*#__PURE__*/React.createElement(_wave[\"default\"], null, tagNode) : tagNode;\n};\n\nvar Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nTag.displayName = 'Tag';\nTag.CheckableTag = _CheckableTag[\"default\"];\nvar _default = Tag;\nexports[\"default\"] = _default;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","\nexport interface ILangData {\n  [key: string]: {\n    /**\n     * alias\n     */\n    a?: string | string[];\n    /**\n     * require\n     */\n    r?: string | string[];\n    /**\n     * peerDependencies\n     */\n    p?: string | string[];\n    /**\n     * file does not exist\n     */\n    e?: boolean;\n  }\n}\n\nconst langData: ILangData = {\n  meta: {},\n  markup: { a: ['html', 'xml', 'svg', 'mathml'] },\n  css: { p: 'markup' },\n  clike: {},\n  javascript: { p: 'markup', r: 'clike', a: 'js' },\n  abap: {},\n  abnf: {},\n  actionscript: { p: 'markup', r: 'javascript' },\n  ada: {},\n  apacheconf: {},\n  apl: {},\n  applescript: {},\n  arduino: { r: 'cpp' },\n  arff: {},\n  asciidoc: { a: 'adoc' },\n  asm6502: {},\n  aspnet: { r: ['markup', 'csharp'] },\n  autohotkey: {},\n  autoit: {},\n  bash: { a: 'shell' },\n  basic: {},\n  batch: {},\n  bison: { r: 'c' },\n  bnf: { a: 'rbnf' },\n  brainfuck: {},\n  bro: {},\n  c: { r: 'clike' },\n  csharp: { r: 'clike', a: ['cs', 'dotnet'] },\n  cpp: { r: 'c' },\n  cil: {},\n  coffeescript: { r: 'javascript', a: 'coffee' },\n  cmake: {},\n  clojure: {},\n  crystal: { r: 'ruby' },\n  csp: {},\n  'css-extras': { r: 'css' },\n  d: { r: 'clike' },\n  dart: { r: 'clike' },\n  diff: {},\n  django: { r: 'markup-templating', a: 'jinja2' },\n  'dns-zone-file': { a: 'dns-zone' },\n  docker: { a: 'dockerfile' },\n  ebnf: {},\n  eiffel: {},\n  ejs: { r: ['javascript', 'markup-templating'] },\n  elixir: {},\n  elm: {},\n  erb: { r: ['ruby', 'markup-templating'] },\n  erlang: {},\n  fsharp: { r: 'clike' },\n  flow: { r: 'javascript' },\n  fortran: {},\n  gcode: {},\n  gedcom: {},\n  gherkin: {},\n  git: {},\n  glsl: { r: 'clike' },\n  gml: { r: 'clike', a: 'gamemakerlanguage' },\n  go: { r: 'clike' },\n  graphql: {},\n  groovy: { r: 'clike' },\n  haml:\n  {\n    p: ['css', 'coffeescript', 'erb', 'javascript', 'less', 'markdown', 'ruby', 'scss', 'textile'],\n    r: 'ruby'\n  },\n  handlebars: { r: 'markup-templating' },\n  haskell: { a: 'hs' },\n  haxe: { r: 'clike' },\n  hcl: {},\n  http: { p: ['javascript', 'markup'] },\n  hpkp: {},\n  hsts: {},\n  ichigojam: {},\n  icon: {},\n  inform7: {},\n  ini: {},\n  io: {},\n  j: {},\n  java: { r: 'clike' },\n  javadoc: { p: ['scala'], r: ['markup', 'java', 'javadoclike'] },\n  javadoclike: { p: ['java', 'javascript', 'php'] },\n  javastacktrace: {},\n  jolie: { r: 'clike' },\n  jq: {},\n  jsdoc:\n  {\n    p: ['actionscript', 'coffeescript'],\n    r: ['javascript', 'javadoclike']\n  },\n  'js-extras':\n  {\n    p: ['actionscript', 'coffeescript', 'flow', 'n4js', 'typescript'],\n    r: 'javascript'\n  },\n  'js-templates':\n  {\n    p: ['css', 'css-extras', 'graphql', 'markdown', 'markup'],\n    r: 'javascript'\n  },\n  json: {},\n  jsonp: { r: 'json' },\n  json5: { r: 'json' },\n  julia: {},\n  keyman: {},\n  kotlin: { r: 'clike' },\n  latex: { a: ['tex', 'context'] },\n  less: { r: 'css' },\n  lilypond: { r: 'scheme', a: 'ly' },\n  liquid: {},\n  lisp: { a: ['emacs', 'elisp', 'emacs-lisp'] },\n  livescript: {},\n  lolcode: {},\n  lua: {},\n  makefile: {},\n  markdown: { r: 'markup', a: 'md' },\n  'markup-templating': { r: 'markup' },\n  matlab: {},\n  mel: {},\n  mizar: {},\n  monkey: {},\n  n1ql: {},\n  n4js: { p: ['jsdoc'], r: 'javascript', a: 'n4jsd' },\n  'nand2tetris-hdl': {},\n  nasm: {},\n  nginx: { r: 'clike' },\n  nim: {},\n  nix: {},\n  nsis: {},\n  objectivec: { r: 'c' },\n  ocaml: {},\n  opencl: { p: ['c', 'cpp'], r: 'cpp' },\n  oz: {},\n  parigp: {},\n  parser: { r: 'markup' },\n  pascal: { a: 'objectpascal' },\n  pascaligo: {},\n  pcaxis: { a: 'px' },\n  perl: {},\n  php: { r: ['clike', 'markup-templating'] },\n  phpdoc: { r: ['php', 'javadoclike'] },\n  'php-extras': { r: 'php' },\n  plsql: { r: 'sql' },\n  powershell: {},\n  processing: { r: 'clike' },\n  prolog: {},\n  properties: {},\n  protobuf: { r: 'clike' },\n  pug:\n  {\n    p: ['coffeescript', 'ejs', 'handlebars', 'less', 'livescript', 'markdown', 'scss', 'stylus', 'twig'],\n    r: ['markup', 'javascript']\n  },\n  puppet: {},\n  pure: { p: ['c', 'cpp', 'fortran'] },\n  python: { a: 'py' },\n  q: {},\n  qore: { r: 'clike' },\n  r: {},\n  jsx:\n  {\n    p: ['jsdoc', 'js-extras', 'js-templates'],\n    r: ['markup', 'javascript']\n  },\n  tsx: { r: ['jsx', 'typescript'] },\n  renpy: {},\n  reason: { r: 'clike' },\n  regex: { p: ['actionscript', 'coffeescript', 'flow', 'javascript', 'typescript', 'vala'] },\n  rest: {},\n  rip: {},\n  roboconf: {},\n  ruby: { r: 'clike', a: 'rb' },\n  rust: {},\n  sas: {},\n  sass: { r: 'css' },\n  scss: { r: 'css' },\n  scala: { r: 'java' },\n  scheme: {},\n  'shell-session': { r: 'bash' },\n  smalltalk: {},\n  smarty: { r: 'markup-templating' },\n  soy: { r: 'markup-templating' },\n  'splunk-spl': {},\n  sql: {},\n  stylus: {},\n  swift: { r: 'clike' },\n  tap: { r: 'yaml' },\n  tcl: {},\n  textile: { p: 'css', r: 'markup' },\n  toml: {},\n  tt2: { r: ['clike', 'markup-templating'] },\n  twig: { r: 'markup' },\n  typescript: { p: 'js-templates', r: 'javascript', a: 'ts' },\n  't4-cs': { r: ['t4-templating', 'csharp'], a: 't4' },\n  't4-vb': { r: ['t4-templating', 'visual-basic'] },\n  't4-templating': {},\n  vala: { r: 'clike' },\n  vbnet: { r: 'basic' },\n  velocity: { r: 'markup' },\n  verilog: {},\n  vhdl: {},\n  vim: {},\n  'visual-basic': { a: 'vb' },\n  wasm: {},\n  wiki: { r: 'markup' },\n  xeora: { r: 'markup', a: 'xeoracube' },\n  xojo: {},\n  xquery: { r: 'markup' },\n  yaml: { a: 'yml' }\n};\n\nexport async function loadLang(ext: string) {\n  let langs: string[] = [];\n  Object.keys(langData).forEach((item) => {\n    const { a: alias, r: require } = langData[item];\n    if (alias && (Array.isArray(alias) ? alias : [alias]).includes(ext)) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n    }\n    if (ext === item) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n      langs.push(ext);\n    }\n  });\n  try {\n    if (langs.length > 0) {\n      return Promise.all(langs.map((key) => import(`prismjs/components/prism-${key}`)));\n    }\n  } catch (error) { }\n}\n\nexport default langData;\n","import React, { useState, createRef, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\nimport CodeMirror, { ICodeMirror } from './components/CodeMirror';\nimport MarkdownPreview, { MarkdownPreviewProps } from '@uiw/react-markdown-preview';\nimport ToolBar, { IToolBarProps } from './components/ToolBar';\nimport { getCommands, getModeCommands } from './commands';\nimport './index.less';\n\nexport * from './commands';\n\nexport interface IMarkdownEditor extends ICodeMirror {\n  className?: string;\n  prefixCls?: string,\n  value?: string,\n  height?: number,\n  visible?: boolean,\n  visibleEditor?: boolean,\n  toolbars?: IToolBarProps['toolbars'],\n  toolbarsMode?: IToolBarProps['toolbars'],\n  previewProps?: MarkdownPreviewProps;\n  options?: CodeMirror.EditorConfiguration,\n}\n\nexport interface MarkdownEditorRef {\n  editor?: CodeMirror.Editor;\n  preview?: HTMLDivElement | null;\n}\n\nexport default React.forwardRef<MarkdownEditorRef, IMarkdownEditor>(MarkdownEditor);\n\nfunction MarkdownEditor(\n  props: IMarkdownEditor,\n  ref?:\n    | ((instance: MarkdownEditorRef) => void)\n    | React.RefObject<MarkdownEditorRef>\n    | null\n) {\n  const {\n    prefixCls = 'md-editor', className,\n    onChange,\n    toolbars = getCommands(),\n    toolbarsMode = getModeCommands(),\n    visible = true,\n    visibleEditor = true,\n    previewProps = {}, ...codemirrorProps } = props;\n  const [value, setValue] = useState(props.value || '');\n  const codeMirror = createRef<CodeMirror>();\n  const previewContainer = useRef<HTMLDivElement | null>()\n  const [editor, setEditor] = useState<CodeMirror.Editor>();\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst containerEditor = useRef<HTMLDivElement>(null);\n\n  useImperativeHandle(ref, () => ({\n    editor: editor,\n    preview: previewContainer.current,\n  }));\n\n  useEffect(() => {\n    if (codeMirror.current) {\n      setEditor(codeMirror.current.editor);\n    }\n  }, [codeMirror.current]);\n\n  const toolBarProps = {\n    editor,\n    preview: previewContainer.current,\n    container: container.current,\n    containerEditor: containerEditor.current,\n    editorProps: props\n  }\n  const codeEditor = useMemo(() => (\n    <CodeMirror\n      visibleEditor={visibleEditor}\n      {...codemirrorProps}\n      ref={codeMirror}\n      onChange={(editor, data) => {\n        setValue(editor.getValue());\n        onChange && onChange(editor, data, editor.getValue())\n      }}\n    />\n  ), [visibleEditor, codemirrorProps])\n  return (\n    <div ref={container}>\n      <div className={`${prefixCls || ''} ${className || ''}`}>\n        <ToolBar {...toolBarProps} toolbars={toolbarsMode} mode />\n        <ToolBar {...toolBarProps} toolbars={toolbars} />\n        <div className={`${prefixCls}-content`}>\n          <div className={`${prefixCls}-content-editor`} ref={containerEditor}>\n            {visibleEditor && codeEditor}\n          </div>\n          <MarkdownPreview\n            {...previewProps}\n            data-visible={!!visible}\n            className={`${prefixCls}-preview`}\n            ref={(instance) => {\n              if(instance && instance.mdp) {\n                previewContainer.current = instance.mdp.current\n              }\n            }}\n            source={value}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { ICommand } from './'\n\nexport const bold: ICommand = {\n  name: 'bold',\n  keyCommand: 'bold',\n  button: { 'aria-label': 'Add bold text' },\n  icon: (\n    <svg width=\"13\" height=\"13\" viewBox=\"0 0 384 512\">\n      <path fill=\"currentColor\" d=\"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `**${selection}**` : `****`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const italic: ICommand = {\n  name: 'italic',\n  keyCommand: 'italic',\n  button: { 'aria-label': 'Add italic text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 320 512\">\n      <path fill=\"currentColor\" d=\"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `*${selection}*` : `**`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const header: ICommand = {\n  name: 'header',\n  keyCommand: 'header',\n  button: { 'aria-label': 'Add header text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `# ${selection}` : '# ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const strike: ICommand = {\n  name: 'strike',\n  keyCommand: 'strike',\n  button: { 'aria-label': 'Add strike text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `~~${selection}~~` : '~~~~';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const underline: ICommand = {\n  name: 'underline',\n  keyCommand: 'underline',\n  button: { 'aria-label': 'Add underline text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M10 17c3.3 0 6-2.7 6-6V3.5c0-.8-.7-1.5-1.5-1.5S13 2.7 13 3.5V11c0 1.7-1.3 3-3 3s-3-1.3-3-3V3.5C7 2.7 6.3 2 5.5 2S4 2.7 4 3.5V11c0 3.3 2.7 6 6 6zM16.5 19h-13c-.3 0-.5.2-.5.5s.2.5.5.5h13c.3 0 .5-.2.5-.5s-.2-.5-.5-.5z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `<u>${selection}</u>` : '<u></u>';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const olist: ICommand = {\n  name: 'olist',\n  keyCommand: 'olist',\n  button: { 'aria-label': 'Add olist text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M12 2h20v4h-20v-4zM12 14h20v4h-20v-4zM12 26h20v4h-20v-4zM0 4c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 16c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 28c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- ${selection}` : '- ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const ulist: ICommand = {\n  name: 'ulist',\n  keyCommand: 'ulist',\n  button: { 'aria-label': 'Add ulist text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `1. ${selection}` : '1. ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const link: ICommand = {\n  name: 'link',\n  keyCommand: 'link',\n  button: { 'aria-label': 'Add link text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = '[]( \"\")';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const todo: ICommand = {\n  name: 'todo',\n  keyCommand: 'todo',\n  button: { 'aria-label': 'Add todo List' },\n  icon: (\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M224 800.256L223.712 224H320v31.68c0 35.456 28.64 64.32 63.872 64.32h256.256A64.16 64.16 0 0 0 704 255.68V224l96-0.256L800.256 800 224 800.256zM640 192.32L640.128 256 384 255.68V192.32L383.872 192 640 192.32zM799.84 160H695.04c-11.072-19.04-31.424-32-54.912-32h-256.256c-23.488 0-43.808 12.928-54.912 32H223.712A63.776 63.776 0 0 0 160 223.744v576.512C160 835.392 188.608 864 223.744 864h576.512A63.84 63.84 0 0 0 864 800.256V223.744A64 64 0 0 0 799.84 160zM619.072 429.088l-151.744 165.888-62.112-69.6a32 32 0 1 0-47.744 42.624l85.696 96a32 32 0 0 0 23.68 10.688h0.192c8.96 0 17.536-3.776 23.616-10.4l175.648-192a32 32 0 0 0-47.232-43.2\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- [ ] ${selection}` : '- [ ] ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 6;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const image: ICommand = {\n  name: 'image',\n  keyCommand: 'image',\n  button: { 'aria-label': 'Add image text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `${selection} ![]( \"\")` : '![]( \"\")\\n';\n    editor.replaceSelection(value);\n    // position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null | undefined;\n  container?: HTMLDivElement | null | undefined;\n  editor?: CodeMirror.Editor;\n}\n\nconst Fullscreen: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { container, preview, editor } } = props;\n  const [full, setFull] = useState(false);\n  const initEditorHeight = useRef(0);\n  const containerRef = useRef<HTMLDivElement | null>();\n  const editorRef = useRef<CodeMirror.Editor>();\n  function handleResize() {\n    if (containerRef.current && editorRef.current) {\n      editorRef.current.setSize('initial', containerRef.current.clientHeight - 35);\n    }\n  }\n  useEffect(() => {\n    window && window.addEventListener('resize', handleResize, true);\n    return () => {\n      window && window.removeEventListener('resize', handleResize, true);\n    }\n  }, []);\n  useEffect(() => {\n    if (editor) {\n      editorRef.current = editor;\n      const { clientHeight } = editor.getScrollInfo();\n      initEditorHeight.current = clientHeight;\n    }\n  }, [editor]);\n  useEffect(() => {\n    if (!document) return;\n    containerRef.current = container\n    document.body.style.overflow = full ? 'hidden' : 'initial';\n    if (container && full) {\n      container.style.zIndex = '999';\n      container.style.position = 'fixed';\n      container.style.top = '0px';\n      container.style.bottom = '0px';\n      container.style.left = '0px';\n      container.style.right = '0px';\n      editor!.setSize('initial', container.clientHeight - 35);\n    } else if (container) {\n      container.style.position = 'initial';\n      container.style.top = 'initial';\n      container.style.bottom = 'initial';\n      container.style.left = 'initial';\n      container.style.right = 'initial';\n      editor!.setSize('initial', initEditorHeight.current);\n    }\n  }, [full, container, preview]);\n  return (\n    <button\n      onClick={() => setFull(!full)}\n      type=\"button\"\n      className={full ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  );\n}\n\nexport const fullscreen: ICommand = {\n  name: 'fullscreen',\n  keyCommand: 'fullscreen',\n  button: (command, props, opts) => <Fullscreen command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M189.75 428.89a36.87 36.87 0 0 0 36.84-36.85V228.12h164a36.85 36.85 0 1 0 0-73.7H189.75a36.82 36.82 0 0 0-36.8 36.85v200.8a36.83 36.83 0 0 0 36.8 36.82zM834.26 595.06a36.82 36.82 0 0 0-36.8 36.84v164H633.41a36.85 36.85 0 0 0 0 73.7h200.85a36.87 36.87 0 0 0 36.84-36.85V631.9a36.86 36.86 0 0 0-36.84-36.84zM797.46 228.12v179.31a36.82 36.82 0 1 0 73.64 0V191.24a36.86 36.86 0 0 0-36.84-36.85H602.33a36.85 36.85 0 0 0 0 73.7zM421.62 795.9H226.54V616.56a36.82 36.82 0 1 0-73.64 0v216.19a36.83 36.83 0 0 0 36.85 36.85h231.87a36.85 36.85 0 0 0 0-73.7z\" />\n      <path fill=\"currentColor\" d=\"M306.5 307.94m32.95 0l345.1 0q32.95 0 32.95 32.95l0 342.22q0 32.95-32.95 32.95l-345.1 0q-32.95 0-32.95-32.95l0-342.22q0-32.95 32.95-32.95Z\" />\n    </svg>\n  ),\n};","import React, { useEffect, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  editor?: CodeMirror.Editor;\n}\n\nconst Preview: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { preview, containerEditor } } = props;\n  const [visible, setVisible] = useState(props.editorProps.visible);\n  useEffect(() => {\n    setVisible(props.editorProps.visible);\n  }, [props.editorProps.visible]);\n\n  useEffect(() => {\n    if (preview) {\n      preview.style.borderBottomRightRadius = '3px';\n    }\n    if (preview && visible) {\n      preview.style.width = '50%';\n      preview.style.overflow = 'auto';\n      preview.style.borderLeft = '1px solid #dfdfe0';\n      preview.style.padding = '20px';\n      if (containerEditor) {\n        containerEditor.style.width = '50%'\n      }\n    } else if (preview) {\n      preview.style.width = '0%';\n      preview.style.overflow = 'hidden';\n      preview.style.borderLeft = '0px';\n      preview.style.padding = '0';\n      if (containerEditor) {\n        containerEditor.style.width = '100%'\n      }\n    }\n  }, [preview, containerEditor, visible]);\n\n  return (\n    <button\n      onClick={() => setVisible(!visible)}\n      type=\"button\"\n      className={visible ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  )\n}\n\nexport const preview: ICommand = {\n  name: 'preview',\n  keyCommand: 'preview',\n  button: (command, props, opts) => <Preview command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M0 16c3.037-5.864 9.058-9.802 16-9.802s12.963 3.938 15.953 9.703l0.047 0.1c-3.037 5.864-9.058 9.802-16 9.802s-12.963-3.938-15.953-9.703l-0.047-0.1zM16 22.531c3.607 0 6.531-2.924 6.531-6.531s-2.924-6.531-6.531-6.531v0c-3.607 0-6.531 2.924-6.531 6.531s2.924 6.531 6.531 6.531v0zM16 19.265c-1.804 0-3.265-1.461-3.265-3.265s1.461-3.265 3.265-3.265v0c1.804 0 3.265 1.461 3.265 3.265s-1.461 3.265-3.265 3.265v0z\" />\n    </svg>\n  ),\n};","import { Editor, Position } from 'codemirror';\nimport { bold } from './bold';\nimport { italic } from './italic';\nimport { header } from './header';\nimport { strike } from './strike';\nimport { underline } from './underline';\nimport { olist } from './olist';\nimport { ulist } from './ulist';\nimport { link } from './link';\nimport { todo } from './todo';\nimport { image } from './image';\nimport { fullscreen } from './fullscreen';\nimport { preview } from './preview';\nimport { IMarkdownEditor } from '../';\n\nexport type ButtonHandle = (command: ICommand, props: IMarkdownEditor, options: {\n  preview?: HTMLDivElement | null,\n  container?: HTMLDivElement | null,\n  containerEditor?: HTMLDivElement | null;\n  editor?: Editor;\n}) => JSX.Element\n\nexport type ICommand = {\n  icon?: React.ReactElement;\n  name?: string;\n  keyCommand?: string;\n  button?: ButtonHandle | React.ButtonHTMLAttributes<HTMLButtonElement>;\n  execute?: (editor: Editor, selection: string, position: Position, opts: {\n    preview?: HTMLDivElement | null,\n    container?: HTMLDivElement | null,\n  }) => void;\n}\n\nexport const defaultCommands = { bold, italic, header, strike, underline, olist, ulist, link, todo, image, fullscreen, preview }\n\nexport const getCommands: () => ICommand[] = () => \n  Object.keys(defaultCommands).filter(key => !/^(fullscreen|preview)/.test(key))\n    .map((key) => defaultCommands[key as (keyof (typeof defaultCommands))]);\n\nexport const getModeCommands: () => ICommand[] = () => [preview, fullscreen];","import * as React from \"react\";\nimport CodeMirror from 'codemirror';\nimport './index.less';\nimport { ICommand, defaultCommands } from '../../commands';\nimport { IMarkdownEditor } from '../../';\n\nexport type IToolBarProps<T = (keyof (typeof defaultCommands)) | ICommand> = {\n  className?: string;\n  editorProps: IMarkdownEditor;\n  mode?: boolean;\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  prefixCls?: string;\n  editor?: CodeMirror.Editor;\n  toolbars?: T[];\n  onClick?: (type: string) => void;\n}\n\nexport default function ToolBar(props: IToolBarProps) {\n  const { prefixCls = 'md-editor', className, onClick, toolbars = [], editor, mode, preview, container, containerEditor, editorProps = {}, ...htmlProps } = props;\n  if (!toolbars || toolbars.length === 0) return null;\n  function handleClick(execute: ICommand['execute']) {\n    if (execute && editor) {\n      execute(editor, editor.getSelection(), editor.getCursor(), { preview, container });\n    }\n  }\n  return (\n    <div className={`${prefixCls}-toolbar ${className || ''} ${mode ? `${prefixCls}-toolbar-mode` : ''}`} {...htmlProps}>\n      {[...toolbars].map((command, key) => {\n        let buttonProps: React.ButtonHTMLAttributes<HTMLButtonElement> = {\n          type: 'button',\n        }\n        const obj = typeof command === 'string' ? defaultCommands[command] : command;\n        if (!obj) return;\n        buttonProps.children = obj.icon;\n        buttonProps.onClick = () => handleClick(obj.execute);\n        if (obj.button && typeof obj.button === 'object') {\n          const btn: React.ButtonHTMLAttributes<HTMLButtonElement> = obj.button;\n          (Object.keys(btn) as (keyof React.ButtonHTMLAttributes<HTMLButtonElement>)[]).forEach((key) => {\n            buttonProps[key] = btn[key];\n          });\n        } else if (typeof obj.button === 'function') {\n          return React.cloneElement(obj.button(obj, editorProps, { preview, container, containerEditor, editor }), { key });\n        }\n\n        return (\n          <button {...buttonProps} key={key} />\n        );\n      })}\n    </div>\n  );\n\n}\n","/**!\n * Sortable 1.13.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.13.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","import * as CodeMirror from 'codemirror';\nimport 'codemirror/mode/markdown/markdown';\nimport React, { Component } from 'react';\nimport { DomEvent, IDefineModeOptions, IEventDict, IGetSelectionOptions, IInstance, ISetScrollOptions, ISetSelectionOptions } from '../../common/codemirror';\nimport './codemirror.less';\nimport './index.less';\n\ndeclare let global: any;\ndeclare let require: any;\n\nconst SERVER_RENDERED = (typeof navigator === 'undefined' || global.PREVENT_CODEMIRROR_RENDER === true);\n\nlet cm: any;\nif (!SERVER_RENDERED) {\n  // tslint:disable-next-line: no-var-requires\n  cm = require('codemirror');\n}\n\nexport interface ICodeMirror {\n  value?: string,\n  width?: number | string,\n  height?: number | string,\n  className?: string;\n  cursor?: CodeMirror.Position;\n  defineMode?: IDefineModeOptions;\n  editorDidConfigure?: (editor: IInstance) => void;\n  editorDidMount?: (editor: IInstance, value: string, cb: () => void) => void;\n  editorWillMount?: () => void;\n  editorWillUnmount?: (lib: any) => void;\n  onClear?: (from: CodeMirror.Position, to: CodeMirror.Position) => void;\n  onBlur?: DomEvent;\n  onChange?: (editor: IInstance, data: CodeMirror.EditorChange, value: string) => void;\n  onContextMenu?: DomEvent;\n  onCopy?: DomEvent;\n  onCursor?: (editor: IInstance, data: CodeMirror.Position) => void;\n  onCut?: DomEvent;\n  onCursorActivity?: (editor: IInstance) => void;\n  onDblClick?: DomEvent;\n  onDragEnter?: DomEvent;\n  onDragLeave?: DomEvent;\n  onDragOver?: DomEvent\n  onDragStart?: DomEvent;\n  onDrop?: DomEvent;\n  onFocus?: DomEvent\n  onGutterClick?: (editor: IInstance, lineNumber: number, gutter: string, event: Event) => void;\n  onKeyDown?: DomEvent;\n  onKeyPress?: DomEvent;\n  onKeyUp?: DomEvent;\n  onMouseDown?: DomEvent;\n  onPaste?: DomEvent;\n  onRenderLine?: (editor: IInstance, line: CodeMirror.LineHandle, element: HTMLElement) => void;\n  onScroll?: (editor: IInstance, data: CodeMirror.ScrollInfo) => void;\n  onSelection?: (editor: IInstance, data: IGetSelectionOptions) => void;\n  onTouchStart?: DomEvent;\n  onUpdate?: (editor: IInstance) => void;\n  onViewportChange?: (editor: IInstance, start: number, end: number) => void;\n  options?: CodeMirror.EditorConfiguration\n  selection?: { ranges: ISetSelectionOptions[], focus?: boolean };\n  scroll?: ISetScrollOptions;\n  [key: string]: any,\n}\n\nexport interface ICodeMirrorState {\n  value: string;\n}\n\nexport default class ReactCodeMirror extends Component<ICodeMirror, ICodeMirrorState> {\n  public static defaultProps: ICodeMirror = {\n    height: '100%',\n    options: {\n      lineNumbers: true,\n      mode: 'markdown',\n      tabSize: 2,\n    },\n    value: '',\n    width: '100%',\n  }\n  public textarea!: HTMLTextAreaElement;\n  public editor!: CodeMirror.Editor;\n  // public editor!: Doc | Editor | EditorFromTextArea | Editor;\n  public constructor(props: Readonly<ICodeMirror>) {\n    super(props);\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    if (this.props.editorWillMount) {\n      this.props.editorWillMount();\n    }\n  }\n  public render() {\n    return (\n      <textarea ref={(instance: HTMLTextAreaElement) => this.textarea = instance} />\n    );\n  }\n\n  public componentDidMount() {\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    const { options } = this.props;\n    if (this.props.defineMode) {\n      if (this.props.defineMode.name && this.props.defineMode.fn) {\n        cm.defineMode(this.props.defineMode.name, this.props.defineMode.fn);\n      }\n    }\n\n    const editorOption = { tabSize: 2, lineNumbers: true, ...options, mode: 'markdown' };\n    // codemirror\n    this.editor = cm.fromTextArea(this.textarea, editorOption) as CodeMirror.EditorFromTextArea;\n    this.renderCodeMirror(this.props);\n  }\n\n  componentDidUpdate(prevProps: ICodeMirror) {\n    const { value, width, height } = this.props;\n    if (this.editor.getValue() !== value && value !== prevProps.value) {\n      this.editor.setValue(value || '');\n    }\n    if (width !== prevProps.width || height !== prevProps.height) {\n      // Setting Size\n      this.editor.setSize(width, height);\n    }\n  }\n\n  public shouldComponentUpdate(nextProps: ICodeMirror, nextState: ICodeMirrorState) {\n    return nextProps.value !== this.props.value \n    || nextProps.options !== this.props.options\n    || nextProps.height !== this.props.height\n    || nextProps.width !== this.props.width;\n  }\n  //  props \n  public getEventHandleFromProps(): IEventDict {\n    const propNames = Object.keys(this.props);\n    const eventHandle = propNames.filter((prop) => {\n      return /^on+/.test(prop);\n    });\n\n    const eventDict: IEventDict = {};\n    eventHandle.forEach((ele) => {\n      eventDict[ele] = ele.replace(/^on[A-Z]/g, s => s.slice(2).toLowerCase()) as string;\n    });\n\n    return eventDict;\n  }\n\n  private renderCodeMirror(props: ICodeMirror) {\n    const { value, width, height } = props;\n    // CodeMirror\n    // \n    const eventDict = this.getEventHandleFromProps();\n    Object.keys(eventDict).forEach((event: string) => {\n      const handle = this.props[event];\n      this.editor.on(eventDict[event], handle);\n    });\n    // Init value\n    this.editor.setValue(value || '');\n    // this.editor.setOption(name, editorOption.mode);\n\n    if (width || height) {\n      // Setting size\n      this.editor.setSize(width, height);\n    }\n  }\n}","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","'use strict'\n\nvar bail = require('bail')\nvar buffer = require('is-buffer')\nvar extend = require('extend')\nvar plain = require('is-plain-obj')\nvar trough = require('trough')\nvar vfile = require('vfile')\n\n// Expose a frozen processor.\nmodule.exports = unified().freeze()\n\nvar slice = [].slice\nvar own = {}.hasOwnProperty\n\n// Process pipeline.\nvar pipeline = trough()\n  .use(pipelineParse)\n  .use(pipelineRun)\n  .use(pipelineStringify)\n\nfunction pipelineParse(p, ctx) {\n  ctx.tree = p.parse(ctx.file)\n}\n\nfunction pipelineRun(p, ctx, next) {\n  p.run(ctx.tree, ctx.file, done)\n\n  function done(error, tree, file) {\n    if (error) {\n      next(error)\n    } else {\n      ctx.tree = tree\n      ctx.file = file\n      next()\n    }\n  }\n}\n\nfunction pipelineStringify(p, ctx) {\n  var result = p.stringify(ctx.tree, ctx.file)\n\n  if (result === undefined || result === null) {\n    // Empty.\n  } else if (typeof result === 'string' || buffer(result)) {\n    ctx.file.contents = result\n  } else {\n    ctx.file.result = result\n  }\n}\n\n// Function to create the first processor.\nfunction unified() {\n  var attachers = []\n  var transformers = trough()\n  var namespace = {}\n  var freezeIndex = -1\n  var frozen\n\n  // Data management.\n  processor.data = data\n\n  // Lock.\n  processor.freeze = freeze\n\n  // Plugins.\n  processor.attachers = attachers\n  processor.use = use\n\n  // API.\n  processor.parse = parse\n  processor.stringify = stringify\n  processor.run = run\n  processor.runSync = runSync\n  processor.process = process\n  processor.processSync = processSync\n\n  // Expose.\n  return processor\n\n  // Create a new processor based on the processor in the current scope.\n  function processor() {\n    var destination = unified()\n    var index = -1\n\n    while (++index < attachers.length) {\n      destination.use.apply(null, attachers[index])\n    }\n\n    destination.data(extend(true, {}, namespace))\n\n    return destination\n  }\n\n  // Freeze: used to signal a processor that has finished configuration.\n  //\n  // For example, take unified itself: its frozen.\n  // Plugins should not be added to it.\n  // Rather, it should be extended, by invoking it, before modifying it.\n  //\n  // In essence, always invoke this when exporting a processor.\n  function freeze() {\n    var values\n    var transformer\n\n    if (frozen) {\n      return processor\n    }\n\n    while (++freezeIndex < attachers.length) {\n      values = attachers[freezeIndex]\n\n      if (values[1] === false) {\n        continue\n      }\n\n      if (values[1] === true) {\n        values[1] = undefined\n      }\n\n      transformer = values[0].apply(processor, values.slice(1))\n\n      if (typeof transformer === 'function') {\n        transformers.use(transformer)\n      }\n    }\n\n    frozen = true\n    freezeIndex = Infinity\n\n    return processor\n  }\n\n  // Data management.\n  // Getter / setter for processor-specific informtion.\n  function data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', frozen)\n        namespace[key] = value\n        return processor\n      }\n\n      // Get `key`.\n      return (own.call(namespace, key) && namespace[key]) || null\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', frozen)\n      namespace = key\n      return processor\n    }\n\n    // Get space.\n    return namespace\n  }\n\n  // Plugin management.\n  //\n  // Pass it:\n  // *   an attacher and options,\n  // *   a preset,\n  // *   a list of presets, attachers, and arguments (list of attachers and\n  //     options).\n  function use(value) {\n    var settings\n\n    assertUnfrozen('use', frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin.apply(null, arguments)\n    } else if (typeof value === 'object') {\n      if ('length' in value) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new Error('Expected usable value, not `' + value + '`')\n    }\n\n    if (settings) {\n      namespace.settings = extend(namespace.settings || {}, settings)\n    }\n\n    return processor\n\n    function addPreset(result) {\n      addList(result.plugins)\n\n      if (result.settings) {\n        settings = extend(settings || {}, result.settings)\n      }\n    }\n\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value)\n      } else if (typeof value === 'object') {\n        if ('length' in value) {\n          addPlugin.apply(null, value)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new Error('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    function addList(plugins) {\n      var index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (typeof plugins === 'object' && 'length' in plugins) {\n        while (++index < plugins.length) {\n          add(plugins[index])\n        }\n      } else {\n        throw new Error('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    function addPlugin(plugin, value) {\n      var entry = find(plugin)\n\n      if (entry) {\n        if (plain(entry[1]) && plain(value)) {\n          value = extend(true, entry[1], value)\n        }\n\n        entry[1] = value\n      } else {\n        attachers.push(slice.call(arguments))\n      }\n    }\n  }\n\n  function find(plugin) {\n    var index = -1\n\n    while (++index < attachers.length) {\n      if (attachers[index][0] === plugin) {\n        return attachers[index]\n      }\n    }\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor.\n  function parse(doc) {\n    var file = vfile(doc)\n    var Parser\n\n    freeze()\n    Parser = processor.Parser\n    assertParser('parse', Parser)\n\n    if (newable(Parser, 'parse')) {\n      return new Parser(String(file), file).parse()\n    }\n\n    return Parser(String(file), file) // eslint-disable-line new-cap\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), async.\n  function run(node, file, cb) {\n    assertNode(node)\n    freeze()\n\n    if (!cb && typeof file === 'function') {\n      cb = file\n      file = null\n    }\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      transformers.run(node, vfile(file), done)\n\n      function done(error, tree, file) {\n        tree = tree || node\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(tree)\n        } else {\n          cb(null, tree, file)\n        }\n      }\n    }\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), sync.\n  function runSync(node, file) {\n    var result\n    var complete\n\n    run(node, file, done)\n\n    assertDone('runSync', 'run', complete)\n\n    return result\n\n    function done(error, tree) {\n      complete = true\n      result = tree\n      bail(error)\n    }\n  }\n\n  // Stringify a unist node representation of a file (in string or vfile\n  // representation) into a string using the `Compiler` on the processor.\n  function stringify(node, doc) {\n    var file = vfile(doc)\n    var Compiler\n\n    freeze()\n    Compiler = processor.Compiler\n    assertCompiler('stringify', Compiler)\n    assertNode(node)\n\n    if (newable(Compiler, 'compile')) {\n      return new Compiler(node, file).compile()\n    }\n\n    return Compiler(node, file) // eslint-disable-line new-cap\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor, then run transforms on that node, and\n  // compile the resulting node using the `Compiler` on the processor, and\n  // store that result on the vfile.\n  function process(doc, cb) {\n    freeze()\n    assertParser('process', processor.Parser)\n    assertCompiler('process', processor.Compiler)\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      var file = vfile(doc)\n\n      pipeline.run(processor, {file: file}, done)\n\n      function done(error) {\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          cb(null, file)\n        }\n      }\n    }\n  }\n\n  // Process the given document (in string or vfile representation), sync.\n  function processSync(doc) {\n    var file\n    var complete\n\n    freeze()\n    assertParser('processSync', processor.Parser)\n    assertCompiler('processSync', processor.Compiler)\n    file = vfile(doc)\n\n    process(file, done)\n\n    assertDone('processSync', 'process', complete)\n\n    return file\n\n    function done(error) {\n      complete = true\n      bail(error)\n    }\n  }\n}\n\n// Check if `value` is a constructor.\nfunction newable(value, name) {\n  return (\n    typeof value === 'function' &&\n    value.prototype &&\n    // A function with keys in its prototype is probably a constructor.\n    // Classes prototype methods are not enumerable, so we check if some value\n    // exists in the prototype.\n    (keys(value.prototype) || name in value.prototype)\n  )\n}\n\n// Check if `value` is an object with keys.\nfunction keys(value) {\n  var key\n  for (key in value) {\n    return true\n  }\n\n  return false\n}\n\n// Assert a parser is available.\nfunction assertParser(name, Parser) {\n  if (typeof Parser !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Parser`')\n  }\n}\n\n// Assert a compiler is available.\nfunction assertCompiler(name, Compiler) {\n  if (typeof Compiler !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Compiler`')\n  }\n}\n\n// Assert the processor is not frozen.\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot invoke `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n// Assert `node` is a unist node.\nfunction assertNode(node) {\n  if (!node || typeof node.type !== 'string') {\n    throw new Error('Expected node, got `' + node + '`')\n  }\n}\n\n// Assert that `complete` is `true`.\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = bail\n\nfunction bail(err) {\n  if (err) {\n    throw err\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict'\n\nvar wrap = require('./wrap.js')\n\nmodule.exports = trough\n\ntrough.wrap = wrap\n\nvar slice = [].slice\n\n// Create new middleware.\nfunction trough() {\n  var fns = []\n  var middleware = {}\n\n  middleware.run = run\n  middleware.use = use\n\n  return middleware\n\n  // Run `fns`.  Last argument must be a completion handler.\n  function run() {\n    var index = -1\n    var input = slice.call(arguments, 0, -1)\n    var done = arguments[arguments.length - 1]\n\n    if (typeof done !== 'function') {\n      throw new Error('Expected function as last argument, not ' + done)\n    }\n\n    next.apply(null, [null].concat(input))\n\n    // Run the next `fn`, if any.\n    function next(err) {\n      var fn = fns[++index]\n      var params = slice.call(arguments, 0)\n      var values = params.slice(1)\n      var length = input.length\n      var pos = -1\n\n      if (err) {\n        done(err)\n        return\n      }\n\n      // Copy non-nully input into values.\n      while (++pos < length) {\n        if (values[pos] === null || values[pos] === undefined) {\n          values[pos] = input[pos]\n        }\n      }\n\n      input = values\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next).apply(null, input)\n      } else {\n        done.apply(null, [null].concat(input))\n      }\n    }\n  }\n\n  // Add `fn` to the list.\n  function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected `fn` to be a function, not ' + fn)\n    }\n\n    fns.push(fn)\n\n    return middleware\n  }\n}\n","'use strict'\n\nvar slice = [].slice\n\nmodule.exports = wrap\n\n// Wrap `fn`.\n// Can be sync or async; return a promise, receive a completion handler, return\n// new values and errors.\nfunction wrap(fn, callback) {\n  var invoked\n\n  return wrapped\n\n  function wrapped() {\n    var params = slice.call(arguments, 0)\n    var callback = fn.length > params.length\n    var result\n\n    if (callback) {\n      params.push(done)\n    }\n\n    try {\n      result = fn.apply(null, params)\n    } catch (error) {\n      // Well, this is quite the pickle.\n      // `fn` received a callback and invoked it (thus continuing the pipeline),\n      // but later also threw an error.\n      // Were not about to restart the pipeline again, so the only thing left\n      // to do is to throw the thing instead.\n      if (callback && invoked) {\n        throw error\n      }\n\n      return done(error)\n    }\n\n    if (!callback) {\n      if (result && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  // Invoke `next`, only once.\n  function done() {\n    if (!invoked) {\n      invoked = true\n\n      callback.apply(null, arguments)\n    }\n  }\n\n  // Invoke `done` with one value.\n  // Tracks if an error is passed, too.\n  function then(value) {\n    done(null, value)\n  }\n}\n","'use strict'\n\nmodule.exports = require('./lib')\n","'use strict'\n\nvar VMessage = require('vfile-message')\nvar VFile = require('./core.js')\n\nmodule.exports = VFile\n\nVFile.prototype.message = message\nVFile.prototype.info = info\nVFile.prototype.fail = fail\n\n// Create a message with `reason` at `position`.\n// When an error is passed in as `reason`, copies the stack.\nfunction message(reason, position, origin) {\n  var message = new VMessage(reason, position, origin)\n\n  if (this.path) {\n    message.name = this.path + ':' + message.name\n    message.file = this.path\n  }\n\n  message.fatal = false\n\n  this.messages.push(message)\n\n  return message\n}\n\n// Fail: creates a vmessage, associates it with the file, and throws it.\nfunction fail() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = true\n\n  throw message\n}\n\n// Info: creates a vmessage, associates it with the file, and marks the fatality\n// as null.\nfunction info() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = null\n\n  return message\n}\n","'use strict'\n\nvar stringify = require('unist-util-stringify-position')\n\nmodule.exports = VMessage\n\n// Inherit from `Error#`.\nfunction VMessagePrototype() {}\nVMessagePrototype.prototype = Error.prototype\nVMessage.prototype = new VMessagePrototype()\n\n// Message properties.\nvar proto = VMessage.prototype\n\nproto.file = ''\nproto.name = ''\nproto.reason = ''\nproto.message = ''\nproto.stack = ''\nproto.fatal = null\nproto.column = null\nproto.line = null\n\n// Construct a new VMessage.\n//\n// Note: We cannot invoke `Error` on the created context, as that adds readonly\n// `line` and `column` attributes on Safari 9, thus throwing and failing the\n// data.\nfunction VMessage(reason, position, origin) {\n  var parts\n  var range\n  var location\n\n  if (typeof position === 'string') {\n    origin = position\n    position = null\n  }\n\n  parts = parseOrigin(origin)\n  range = stringify(position) || '1:1'\n\n  location = {\n    start: {line: null, column: null},\n    end: {line: null, column: null}\n  }\n\n  // Node.\n  if (position && position.position) {\n    position = position.position\n  }\n\n  if (position) {\n    // Position.\n    if (position.start) {\n      location = position\n      position = position.start\n    } else {\n      // Point.\n      location.start = position\n    }\n  }\n\n  if (reason.stack) {\n    this.stack = reason.stack\n    reason = reason.message\n  }\n\n  this.message = reason\n  this.name = range\n  this.reason = reason\n  this.line = position ? position.line : null\n  this.column = position ? position.column : null\n  this.location = location\n  this.source = parts[0]\n  this.ruleId = parts[1]\n}\n\nfunction parseOrigin(origin) {\n  var result = [null, null]\n  var index\n\n  if (typeof origin === 'string') {\n    index = origin.indexOf(':')\n\n    if (index === -1) {\n      result[1] = origin\n    } else {\n      result[0] = origin.slice(0, index)\n      result[1] = origin.slice(index + 1)\n    }\n  }\n\n  return result\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","'use strict'\n\nvar p = require('./minpath')\nvar proc = require('./minproc')\nvar buffer = require('is-buffer')\n\nmodule.exports = VFile\n\nvar own = {}.hasOwnProperty\n\n// Order of setting (least specific to most), we need this because otherwise\n// `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n// stem can be set.\nvar order = ['history', 'path', 'basename', 'stem', 'extname', 'dirname']\n\nVFile.prototype.toString = toString\n\n// Access full path (`~/index.min.js`).\nObject.defineProperty(VFile.prototype, 'path', {get: getPath, set: setPath})\n\n// Access parent path (`~`).\nObject.defineProperty(VFile.prototype, 'dirname', {\n  get: getDirname,\n  set: setDirname\n})\n\n// Access basename (`index.min.js`).\nObject.defineProperty(VFile.prototype, 'basename', {\n  get: getBasename,\n  set: setBasename\n})\n\n// Access extname (`.js`).\nObject.defineProperty(VFile.prototype, 'extname', {\n  get: getExtname,\n  set: setExtname\n})\n\n// Access stem (`index.min`).\nObject.defineProperty(VFile.prototype, 'stem', {get: getStem, set: setStem})\n\n// Construct a new file.\nfunction VFile(options) {\n  var prop\n  var index\n\n  if (!options) {\n    options = {}\n  } else if (typeof options === 'string' || buffer(options)) {\n    options = {contents: options}\n  } else if ('message' in options && 'messages' in options) {\n    return options\n  }\n\n  if (!(this instanceof VFile)) {\n    return new VFile(options)\n  }\n\n  this.data = {}\n  this.messages = []\n  this.history = []\n  this.cwd = proc.cwd()\n\n  // Set path related properties in the correct order.\n  index = -1\n\n  while (++index < order.length) {\n    prop = order[index]\n\n    if (own.call(options, prop)) {\n      this[prop] = options[prop]\n    }\n  }\n\n  // Set non-path related properties.\n  for (prop in options) {\n    if (order.indexOf(prop) < 0) {\n      this[prop] = options[prop]\n    }\n  }\n}\n\nfunction getPath() {\n  return this.history[this.history.length - 1]\n}\n\nfunction setPath(path) {\n  assertNonEmpty(path, 'path')\n\n  if (this.path !== path) {\n    this.history.push(path)\n  }\n}\n\nfunction getDirname() {\n  return typeof this.path === 'string' ? p.dirname(this.path) : undefined\n}\n\nfunction setDirname(dirname) {\n  assertPath(this.path, 'dirname')\n  this.path = p.join(dirname || '', this.basename)\n}\n\nfunction getBasename() {\n  return typeof this.path === 'string' ? p.basename(this.path) : undefined\n}\n\nfunction setBasename(basename) {\n  assertNonEmpty(basename, 'basename')\n  assertPart(basename, 'basename')\n  this.path = p.join(this.dirname || '', basename)\n}\n\nfunction getExtname() {\n  return typeof this.path === 'string' ? p.extname(this.path) : undefined\n}\n\nfunction setExtname(extname) {\n  assertPart(extname, 'extname')\n  assertPath(this.path, 'extname')\n\n  if (extname) {\n    if (extname.charCodeAt(0) !== 46 /* `.` */) {\n      throw new Error('`extname` must start with `.`')\n    }\n\n    if (extname.indexOf('.', 1) > -1) {\n      throw new Error('`extname` cannot contain multiple dots')\n    }\n  }\n\n  this.path = p.join(this.dirname, this.stem + (extname || ''))\n}\n\nfunction getStem() {\n  return typeof this.path === 'string'\n    ? p.basename(this.path, this.extname)\n    : undefined\n}\n\nfunction setStem(stem) {\n  assertNonEmpty(stem, 'stem')\n  assertPart(stem, 'stem')\n  this.path = p.join(this.dirname || '', stem + (this.extname || ''))\n}\n\n// Get the value of the file.\nfunction toString(encoding) {\n  return (this.contents || '').toString(encoding)\n}\n\n// Assert that `part` is not a path (i.e., does not contain `p.sep`).\nfunction assertPart(part, name) {\n  if (part && part.indexOf(p.sep) > -1) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + p.sep + '`'\n    )\n  }\n}\n\n// Assert that `part` is not empty.\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n// Assert `path` exists.\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n","'use strict'\n\n// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexports.basename = basename\nexports.dirname = dirname\nexports.extname = extname\nexports.join = join\nexports.sep = '/'\n\nfunction basename(path, ext) {\n  var start = 0\n  var end = -1\n  var index\n  var firstNonSlashEnd\n  var seenNonSlash\n  var extIndex\n\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  index = path.length\n\n  if (ext === undefined || !ext.length || ext.length > path.length) {\n    while (index--) {\n      if (path.charCodeAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  firstNonSlashEnd = -1\n  extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.charCodeAt(index) === ext.charCodeAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\nfunction dirname(path) {\n  var end\n  var unmatchedSlash\n  var index\n\n  assertPath(path)\n\n  if (!path.length) {\n    return '.'\n  }\n\n  end = -1\n  index = path.length\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.charCodeAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.charCodeAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\nfunction extname(path) {\n  var startDot = -1\n  var startPart = 0\n  var end = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  var preDotState = 0\n  var unmatchedSlash\n  var code\n  var index\n\n  assertPath(path)\n\n  index = path.length\n\n  while (index--) {\n    code = path.charCodeAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\nfunction join() {\n  var index = -1\n  var joined\n\n  while (++index < arguments.length) {\n    assertPath(arguments[index])\n\n    if (arguments[index]) {\n      joined =\n        joined === undefined\n          ? arguments[index]\n          : joined + '/' + arguments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  var absolute\n  var value\n\n  assertPath(path)\n\n  absolute = path.charCodeAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  value = normalizeString(path, !absolute)\n\n  if (!value.length && !absolute) {\n    value = '.'\n  }\n\n  if (value.length && path.charCodeAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n// Resolve `.` and `..` elements in a path with directory names.\nfunction normalizeString(path, allowAboveRoot) {\n  var result = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var index = -1\n  var code\n  var lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.charCodeAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.charCodeAt(result.length - 1) !== 46 /* `.` */ ||\n          result.charCodeAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            /* istanbul ignore else - No clue how to cover it. */\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n","'use strict'\n\n// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexports.cwd = cwd\n\nfunction cwd() {\n  return '/'\n}\n","'use strict'\n\nmodule.exports = parse\n\nvar fromMarkdown = require('mdast-util-from-markdown')\n\nfunction parse(options) {\n  var self = this\n\n  this.Parser = parse\n\n  function parse(doc) {\n    return fromMarkdown(\n      doc,\n      Object.assign({}, self.data('settings'), options, {\n        // Note: these options are not in the readme.\n        // The goal is for them to be set by plugins on `data` instead of being\n        // passed by users.\n        extensions: self.data('micromarkExtensions') || [],\n        mdastExtensions: self.data('fromMarkdownExtensions') || []\n      })\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = require('./dist')\n","'use strict'\n\nmodule.exports = fromMarkdown\n\n// These three are compiled away in the `dist/`\n\nvar toString = require('mdast-util-to-string')\nvar assign = require('micromark/dist/constant/assign')\nvar own = require('micromark/dist/constant/has-own-property')\nvar normalizeIdentifier = require('micromark/dist/util/normalize-identifier')\nvar safeFromInt = require('micromark/dist/util/safe-from-int')\nvar parser = require('micromark/dist/parse')\nvar preprocessor = require('micromark/dist/preprocess')\nvar postprocess = require('micromark/dist/postprocess')\nvar decode = require('parse-entities/decode-entity')\nvar stringifyPosition = require('unist-util-stringify-position')\n\nfunction fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding\n    encoding = undefined\n  }\n\n  return compiler(options)(\n    postprocess(\n      parser(options).document().write(preprocessor()(value, encoding, true))\n    )\n  )\n}\n\n// Note this compiler only understand complete buffering, not streaming.\nfunction compiler(options) {\n  var settings = options || {}\n  var config = configure(\n    {\n      transforms: [],\n      canContainEols: [\n        'emphasis',\n        'fragment',\n        'heading',\n        'paragraph',\n        'strong'\n      ],\n\n      enter: {\n        autolink: opener(link),\n        autolinkProtocol: onenterdata,\n        autolinkEmail: onenterdata,\n        atxHeading: opener(heading),\n        blockQuote: opener(blockQuote),\n        characterEscape: onenterdata,\n        characterReference: onenterdata,\n        codeFenced: opener(codeFlow),\n        codeFencedFenceInfo: buffer,\n        codeFencedFenceMeta: buffer,\n        codeIndented: opener(codeFlow, buffer),\n        codeText: opener(codeText, buffer),\n        codeTextData: onenterdata,\n        data: onenterdata,\n        codeFlowValue: onenterdata,\n        definition: opener(definition),\n        definitionDestinationString: buffer,\n        definitionLabelString: buffer,\n        definitionTitleString: buffer,\n        emphasis: opener(emphasis),\n        hardBreakEscape: opener(hardBreak),\n        hardBreakTrailing: opener(hardBreak),\n        htmlFlow: opener(html, buffer),\n        htmlFlowData: onenterdata,\n        htmlText: opener(html, buffer),\n        htmlTextData: onenterdata,\n        image: opener(image),\n        label: buffer,\n        link: opener(link),\n        listItem: opener(listItem),\n        listItemValue: onenterlistitemvalue,\n        listOrdered: opener(list, onenterlistordered),\n        listUnordered: opener(list),\n        paragraph: opener(paragraph),\n        reference: onenterreference,\n        referenceString: buffer,\n        resourceDestinationString: buffer,\n        resourceTitleString: buffer,\n        setextHeading: opener(heading),\n        strong: opener(strong),\n        thematicBreak: opener(thematicBreak)\n      },\n\n      exit: {\n        atxHeading: closer(),\n        atxHeadingSequence: onexitatxheadingsequence,\n        autolink: closer(),\n        autolinkEmail: onexitautolinkemail,\n        autolinkProtocol: onexitautolinkprotocol,\n        blockQuote: closer(),\n        characterEscapeValue: onexitdata,\n        characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n        characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n        characterReferenceValue: onexitcharacterreferencevalue,\n        codeFenced: closer(onexitcodefenced),\n        codeFencedFence: onexitcodefencedfence,\n        codeFencedFenceInfo: onexitcodefencedfenceinfo,\n        codeFencedFenceMeta: onexitcodefencedfencemeta,\n        codeFlowValue: onexitdata,\n        codeIndented: closer(onexitcodeindented),\n        codeText: closer(onexitcodetext),\n        codeTextData: onexitdata,\n        data: onexitdata,\n        definition: closer(),\n        definitionDestinationString: onexitdefinitiondestinationstring,\n        definitionLabelString: onexitdefinitionlabelstring,\n        definitionTitleString: onexitdefinitiontitlestring,\n        emphasis: closer(),\n        hardBreakEscape: closer(onexithardbreak),\n        hardBreakTrailing: closer(onexithardbreak),\n        htmlFlow: closer(onexithtmlflow),\n        htmlFlowData: onexitdata,\n        htmlText: closer(onexithtmltext),\n        htmlTextData: onexitdata,\n        image: closer(onexitimage),\n        label: onexitlabel,\n        labelText: onexitlabeltext,\n        lineEnding: onexitlineending,\n        link: closer(onexitlink),\n        listItem: closer(),\n        listOrdered: closer(),\n        listUnordered: closer(),\n        paragraph: closer(),\n        referenceString: onexitreferencestring,\n        resourceDestinationString: onexitresourcedestinationstring,\n        resourceTitleString: onexitresourcetitlestring,\n        resource: onexitresource,\n        setextHeading: closer(onexitsetextheading),\n        setextHeadingLineSequence: onexitsetextheadinglinesequence,\n        setextHeadingText: onexitsetextheadingtext,\n        strong: closer(),\n        thematicBreak: closer()\n      }\n    },\n\n    settings.mdastExtensions || []\n  )\n\n  var data = {}\n\n  return compile\n\n  function compile(events) {\n    var tree = {type: 'root', children: []}\n    var stack = [tree]\n    var tokenStack = []\n    var listStack = []\n    var index = -1\n    var handler\n    var listStart\n\n    var context = {\n      stack: stack,\n      tokenStack: tokenStack,\n      config: config,\n      enter: enter,\n      exit: exit,\n      buffer: buffer,\n      resume: resume,\n      setData: setData,\n      getData: getData\n    }\n\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (\n        events[index][1].type === 'listOrdered' ||\n        events[index][1].type === 'listUnordered'\n      ) {\n        if (events[index][0] === 'enter') {\n          listStack.push(index)\n        } else {\n          listStart = listStack.pop(index)\n          index = prepareList(events, listStart, index)\n        }\n      }\n    }\n\n    index = -1\n\n    while (++index < events.length) {\n      handler = config[events[index][0]]\n\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(\n          assign({sliceSerialize: events[index][2].sliceSerialize}, context),\n          events[index][1]\n        )\n      }\n    }\n\n    if (tokenStack.length) {\n      throw new Error(\n        'Cannot close document, a token (`' +\n          tokenStack[tokenStack.length - 1].type +\n          '`, ' +\n          stringifyPosition({\n            start: tokenStack[tokenStack.length - 1].start,\n            end: tokenStack[tokenStack.length - 1].end\n          }) +\n          ') is still open'\n      )\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(\n        events.length ? events[0][1].start : {line: 1, column: 1, offset: 0}\n      ),\n\n      end: point(\n        events.length\n          ? events[events.length - 2][1].end\n          : {line: 1, column: 1, offset: 0}\n      )\n    }\n\n    index = -1\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree\n    }\n\n    return tree\n  }\n\n  function prepareList(events, start, length) {\n    var index = start - 1\n    var containerBalance = -1\n    var listSpread = false\n    var listItem\n    var tailIndex\n    var lineIndex\n    var tailEvent\n    var event\n    var firstBlankLineIndex\n    var atMarker\n\n    while (++index <= length) {\n      event = events[index]\n\n      if (\n        event[1].type === 'listUnordered' ||\n        event[1].type === 'listOrdered' ||\n        event[1].type === 'blockQuote'\n      ) {\n        if (event[0] === 'enter') {\n          containerBalance++\n        } else {\n          containerBalance--\n        }\n\n        atMarker = undefined\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (\n            listItem &&\n            !atMarker &&\n            !containerBalance &&\n            !firstBlankLineIndex\n          ) {\n            firstBlankLineIndex = index\n          }\n\n          atMarker = undefined\n        }\n      } else if (\n        event[1].type === 'linePrefix' ||\n        event[1].type === 'listItemValue' ||\n        event[1].type === 'listItemMarker' ||\n        event[1].type === 'listItemPrefix' ||\n        event[1].type === 'listItemPrefixWhitespace'\n      ) {\n        // Empty.\n      } else {\n        atMarker = undefined\n      }\n\n      if (\n        (!containerBalance &&\n          event[0] === 'enter' &&\n          event[1].type === 'listItemPrefix') ||\n        (containerBalance === -1 &&\n          event[0] === 'exit' &&\n          (event[1].type === 'listUnordered' ||\n            event[1].type === 'listOrdered'))\n      ) {\n        if (listItem) {\n          tailIndex = index\n          lineIndex = undefined\n\n          while (tailIndex--) {\n            tailEvent = events[tailIndex]\n\n            if (\n              tailEvent[1].type === 'lineEnding' ||\n              tailEvent[1].type === 'lineEndingBlank'\n            ) {\n              if (tailEvent[0] === 'exit') continue\n\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank'\n                listSpread = true\n              }\n\n              tailEvent[1].type = 'lineEnding'\n              lineIndex = tailIndex\n            } else if (\n              tailEvent[1].type === 'linePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefixWhitespace' ||\n              tailEvent[1].type === 'blockQuoteMarker' ||\n              tailEvent[1].type === 'listItemIndent'\n            ) {\n              // Empty\n            } else {\n              break\n            }\n          }\n\n          if (\n            firstBlankLineIndex &&\n            (!lineIndex || firstBlankLineIndex < lineIndex)\n          ) {\n            listItem._spread = true\n          }\n\n          // Fix position.\n          listItem.end = point(\n            lineIndex ? events[lineIndex][1].start : event[1].end\n          )\n\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]])\n          index++\n          length++\n        }\n\n        // Create a new list item.\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: point(event[1].start)\n          }\n\n          events.splice(index, 0, ['enter', listItem, event[2]])\n          index++\n          length++\n          firstBlankLineIndex = undefined\n          atMarker = true\n        }\n      }\n    }\n\n    events[start][1]._spread = listSpread\n    return length\n  }\n\n  function setData(key, value) {\n    data[key] = value\n  }\n\n  function getData(key) {\n    return data[key]\n  }\n\n  function point(d) {\n    return {line: d.line, column: d.column, offset: d.offset}\n  }\n\n  function opener(create, and) {\n    return open\n\n    function open(token) {\n      enter.call(this, create(token), token)\n      if (and) and.call(this, token)\n    }\n  }\n\n  function buffer() {\n    this.stack.push({type: 'fragment', children: []})\n  }\n\n  function enter(node, token) {\n    this.stack[this.stack.length - 1].children.push(node)\n    this.stack.push(node)\n    this.tokenStack.push(token)\n    node.position = {start: point(token.start)}\n    return node\n  }\n\n  function closer(and) {\n    return close\n\n    function close(token) {\n      if (and) and.call(this, token)\n      exit.call(this, token)\n    }\n  }\n\n  function exit(token) {\n    var node = this.stack.pop()\n    var open = this.tokenStack.pop()\n\n    if (!open) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): its not open'\n      )\n    } else if (open.type !== token.type) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): a different token (`' +\n          open.type +\n          '`, ' +\n          stringifyPosition({start: open.start, end: open.end}) +\n          ') is open'\n      )\n    }\n\n    node.position.end = point(token.end)\n    return node\n  }\n\n  function resume() {\n    return toString(this.stack.pop())\n  }\n\n  //\n  // Handlers.\n  //\n\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true)\n  }\n\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      this.stack[this.stack.length - 2].start = parseInt(\n        this.sliceSerialize(token),\n        10\n      )\n\n      setData('expectingFirstListItemValue')\n    }\n  }\n\n  function onexitcodefencedfenceinfo() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].lang = data\n  }\n\n  function onexitcodefencedfencemeta() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].meta = data\n  }\n\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return\n    this.buffer()\n    setData('flowCodeInside', true)\n  }\n\n  function onexitcodefenced() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data.replace(\n      /^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g,\n      ''\n    )\n\n    setData('flowCodeInside')\n  }\n\n  function onexitcodeindented() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitdefinitionlabelstring(token) {\n    // Discard label, use the source content instead.\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitdefinitiontitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitdefinitiondestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitatxheadingsequence(token) {\n    if (!this.stack[this.stack.length - 1].depth) {\n      this.stack[this.stack.length - 1].depth = this.sliceSerialize(\n        token\n      ).length\n    }\n  }\n\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true)\n  }\n\n  function onexitsetextheadinglinesequence(token) {\n    this.stack[this.stack.length - 1].depth =\n      this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2\n  }\n\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding')\n  }\n\n  function onenterdata(token) {\n    var siblings = this.stack[this.stack.length - 1].children\n    var tail = siblings[siblings.length - 1]\n\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text()\n      tail.position = {start: point(token.start)}\n      this.stack[this.stack.length - 1].children.push(tail)\n    }\n\n    this.stack.push(tail)\n  }\n\n  function onexitdata(token) {\n    var tail = this.stack.pop()\n    tail.value += this.sliceSerialize(token)\n    tail.position.end = point(token.end)\n  }\n\n  function onexitlineending(token) {\n    var context = this.stack[this.stack.length - 1]\n\n    // If were at a hard break, include the line ending in there.\n    if (getData('atHardBreak')) {\n      context.children[context.children.length - 1].position.end = point(\n        token.end\n      )\n\n      setData('atHardBreak')\n      return\n    }\n\n    if (\n      !getData('setextHeadingSlurpLineEnding') &&\n      config.canContainEols.indexOf(context.type) > -1\n    ) {\n      onenterdata.call(this, token)\n      onexitdata.call(this, token)\n    }\n  }\n\n  function onexithardbreak() {\n    setData('atHardBreak', true)\n  }\n\n  function onexithtmlflow() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexithtmltext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitcodetext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitlink() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitimage() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitlabeltext(token) {\n    this.stack[this.stack.length - 2].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitlabel() {\n    var fragment = this.stack[this.stack.length - 1]\n    var value = this.resume()\n\n    this.stack[this.stack.length - 1].label = value\n\n    // Assume a reference.\n    setData('inReference', true)\n\n    if (this.stack[this.stack.length - 1].type === 'link') {\n      this.stack[this.stack.length - 1].children = fragment.children\n    } else {\n      this.stack[this.stack.length - 1].alt = value\n    }\n  }\n\n  function onexitresourcedestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitresourcetitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitresource() {\n    setData('inReference')\n  }\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed')\n  }\n\n  function onexitreferencestring(token) {\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n    setData('referenceType', 'full')\n  }\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type)\n  }\n\n  function onexitcharacterreferencevalue(token) {\n    var data = this.sliceSerialize(token)\n    var type = getData('characterReferenceType')\n    var value\n    var tail\n\n    if (type) {\n      value = safeFromInt(\n        data,\n        type === 'characterReferenceMarkerNumeric' ? 10 : 16\n      )\n\n      setData('characterReferenceType')\n    } else {\n      value = decode(data)\n    }\n\n    tail = this.stack.pop()\n    tail.value += value\n    tail.position.end = point(token.end)\n  }\n\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url = this.sliceSerialize(token)\n  }\n\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url =\n      'mailto:' + this.sliceSerialize(token)\n  }\n\n  //\n  // Creaters.\n  //\n\n  function blockQuote() {\n    return {type: 'blockquote', children: []}\n  }\n\n  function codeFlow() {\n    return {type: 'code', lang: null, meta: null, value: ''}\n  }\n\n  function codeText() {\n    return {type: 'inlineCode', value: ''}\n  }\n\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    }\n  }\n\n  function emphasis() {\n    return {type: 'emphasis', children: []}\n  }\n\n  function heading() {\n    return {type: 'heading', depth: undefined, children: []}\n  }\n\n  function hardBreak() {\n    return {type: 'break'}\n  }\n\n  function html() {\n    return {type: 'html', value: ''}\n  }\n\n  function image() {\n    return {type: 'image', title: null, url: '', alt: null}\n  }\n\n  function link() {\n    return {type: 'link', title: null, url: '', children: []}\n  }\n\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    }\n  }\n\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    }\n  }\n\n  function paragraph() {\n    return {type: 'paragraph', children: []}\n  }\n\n  function strong() {\n    return {type: 'strong', children: []}\n  }\n\n  function text() {\n    return {type: 'text', value: ''}\n  }\n\n  function thematicBreak() {\n    return {type: 'thematicBreak'}\n  }\n}\n\nfunction configure(config, extensions) {\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, extension[key])\n    } else {\n      Object.assign(left, extension[key])\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = toString\n\n// Get the text content of a node.\n// Prefer the nodes plain-text fields, otherwise serialize its children,\n// and if the given value is an array, serialize the nodes in it.\nfunction toString(node) {\n  return (\n    (node &&\n      (node.value ||\n        node.alt ||\n        node.title ||\n        ('children' in node && all(node.children)) ||\n        ('length' in node && all(node)))) ||\n    ''\n  )\n}\n\nfunction all(values) {\n  var result = []\n  var index = -1\n\n  while (++index < values.length) {\n    result[index] = toString(values[index])\n  }\n\n  return result.join('')\n}\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction safeFromInt(value, base) {\n  var code = parseInt(value, base)\n\n  if (\n    // C0 except for HT, LF, FF, CR, space\n    code < 9 ||\n    code === 11 ||\n    (code > 13 && code < 32) || // Control character (DEL) of the basic block and C1 controls.\n    (code > 126 && code < 160) || // Lone high surrogates and low surrogates.\n    (code > 55295 && code < 57344) || // Noncharacters.\n    (code > 64975 && code < 65008) ||\n    (code & 65535) === 65535 ||\n    (code & 65535) === 65534 || // Out of range\n    code > 1114111\n  ) {\n    return '\\uFFFD'\n  }\n\n  return fromCharCode(code)\n}\n\nmodule.exports = safeFromInt\n","'use strict'\n\nvar content = require('./initialize/content.js')\nvar document = require('./initialize/document.js')\nvar flow = require('./initialize/flow.js')\nvar text = require('./initialize/text.js')\nvar combineExtensions = require('./util/combine-extensions.js')\nvar createTokenizer = require('./util/create-tokenizer.js')\nvar miniflat = require('./util/miniflat.js')\nvar constructs = require('./constructs.js')\n\nfunction parse(options) {\n  var settings = options || {}\n  var parser = {\n    defined: [],\n    constructs: combineExtensions(\n      [constructs].concat(miniflat(settings.extensions))\n    ),\n    content: create(content),\n    document: create(document),\n    flow: create(flow),\n    string: create(text.string),\n    text: create(text.text)\n  }\n  return parser\n\n  function create(initializer) {\n    return creator\n\n    function creator(from) {\n      return createTokenizer(parser, initializer, from)\n    }\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\n\nvar tokenize = initializeContent\n\nfunction initializeContent(effects) {\n  var contentStart = effects.attempt(\n    this.parser.constructs.contentInitial,\n    afterContentStartConstruct,\n    paragraphInitial\n  )\n  var previous\n  return contentStart\n\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, contentStart, 'linePrefix')\n  }\n\n  function paragraphInitial(code) {\n    effects.enter('paragraph')\n    return lineStart(code)\n  }\n\n  function lineStart(code) {\n    var token = effects.enter('chunkText', {\n      contentType: 'text',\n      previous: previous\n    })\n\n    if (previous) {\n      previous.next = token\n    }\n\n    previous = token\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      effects.exit('chunkText')\n      effects.exit('paragraph')\n      effects.consume(code)\n      return\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      effects.exit('chunkText')\n      return lineStart\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeDocument\nvar containerConstruct = {\n  tokenize: tokenizeContainer\n}\nvar lazyFlowConstruct = {\n  tokenize: tokenizeLazyFlow\n}\n\nfunction initializeDocument(effects) {\n  var self = this\n  var stack = []\n  var continued = 0\n  var inspectConstruct = {\n    tokenize: tokenizeInspect,\n    partial: true\n  }\n  var inspectResult\n  var childFlow\n  var childToken\n  return start\n\n  function start(code) {\n    if (continued < stack.length) {\n      self.containerState = stack[continued][1]\n      return effects.attempt(\n        stack[continued][0].continuation,\n        documentContinue,\n        documentContinued\n      )(code)\n    }\n\n    return documentContinued(code)\n  }\n\n  function documentContinue(code) {\n    continued++\n    return start(code)\n  }\n\n  function documentContinued(code) {\n    // If were in a concrete construct (such as when expecting another line of\n    // HTML, or we resulted in lazy content), we can immediately start flow.\n    if (inspectResult && inspectResult.flowContinue) {\n      return flowStart(code)\n    }\n\n    self.interrupt =\n      childFlow &&\n      childFlow.currentConstruct &&\n      childFlow.currentConstruct.interruptible\n    self.containerState = {}\n    return effects.attempt(\n      containerConstruct,\n      containerContinue,\n      flowStart\n    )(code)\n  }\n\n  function containerContinue(code) {\n    stack.push([self.currentConstruct, self.containerState])\n    self.containerState = undefined\n    return documentContinued(code)\n  }\n\n  function flowStart(code) {\n    if (code === null) {\n      exitContainers(0, true)\n      effects.consume(code)\n      return\n    }\n\n    childFlow = childFlow || self.parser.flow(self.now())\n    effects.enter('chunkFlow', {\n      contentType: 'flow',\n      previous: childToken,\n      _tokenizer: childFlow\n    })\n    return flowContinue(code)\n  }\n\n  function flowContinue(code) {\n    if (code === null) {\n      continueFlow(effects.exit('chunkFlow'))\n      return flowStart(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      continueFlow(effects.exit('chunkFlow'))\n      return effects.check(inspectConstruct, documentAfterPeek)\n    }\n\n    effects.consume(code)\n    return flowContinue\n  }\n\n  function documentAfterPeek(code) {\n    exitContainers(\n      inspectResult.continued,\n      inspectResult && inspectResult.flowEnd\n    )\n    continued = 0\n    return start(code)\n  }\n\n  function continueFlow(token) {\n    if (childToken) childToken.next = token\n    childToken = token\n    childFlow.lazy = inspectResult && inspectResult.lazy\n    childFlow.defineSkip(token.start)\n    childFlow.write(self.sliceStream(token))\n  }\n\n  function exitContainers(size, end) {\n    var index = stack.length // Close the flow.\n\n    if (childFlow && end) {\n      childFlow.write([null])\n      childToken = childFlow = undefined\n    } // Exit open containers.\n\n    while (index-- > size) {\n      self.containerState = stack[index][1]\n      stack[index][0].exit.call(self, effects)\n    }\n\n    stack.length = size\n  }\n\n  function tokenizeInspect(effects, ok) {\n    var subcontinued = 0\n    inspectResult = {}\n    return inspectStart\n\n    function inspectStart(code) {\n      if (subcontinued < stack.length) {\n        self.containerState = stack[subcontinued][1]\n        return effects.attempt(\n          stack[subcontinued][0].continuation,\n          inspectContinue,\n          inspectLess\n        )(code)\n      } // If were continued but in a concrete flow, we cant have more\n      // containers.\n\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        inspectResult.flowContinue = true\n        return inspectDone(code)\n      }\n\n      self.interrupt =\n        childFlow.currentConstruct && childFlow.currentConstruct.interruptible\n      self.containerState = {}\n      return effects.attempt(\n        containerConstruct,\n        inspectFlowEnd,\n        inspectDone\n      )(code)\n    }\n\n    function inspectContinue(code) {\n      subcontinued++\n      return self.containerState._closeFlow\n        ? inspectFlowEnd(code)\n        : inspectStart(code)\n    }\n\n    function inspectLess(code) {\n      if (childFlow.currentConstruct && childFlow.currentConstruct.lazy) {\n        // Maybe another container?\n        self.containerState = {}\n        return effects.attempt(\n          containerConstruct,\n          inspectFlowEnd, // Maybe flow, or a blank line?\n          effects.attempt(\n            lazyFlowConstruct,\n            inspectFlowEnd,\n            effects.check(partialBlankLine, inspectFlowEnd, inspectLazy)\n          )\n        )(code)\n      } // Otherwise were interrupting.\n\n      return inspectFlowEnd(code)\n    }\n\n    function inspectLazy(code) {\n      // Act as if all containers are continued.\n      subcontinued = stack.length\n      inspectResult.lazy = true\n      inspectResult.flowContinue = true\n      return inspectDone(code)\n    } // Were done with flow if we have more containers, or an interruption.\n\n    function inspectFlowEnd(code) {\n      inspectResult.flowEnd = true\n      return inspectDone(code)\n    }\n\n    function inspectDone(code) {\n      inspectResult.continued = subcontinued\n      self.interrupt = self.containerState = undefined\n      return ok(code)\n    }\n  }\n}\n\nfunction tokenizeContainer(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(this.parser.constructs.document, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction tokenizeLazyFlow(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.lazy(this.parser.constructs.flow, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar content = require('../tokenize/content.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeFlow\n\nfunction initializeFlow(effects) {\n  var self = this\n  var initial = effects.attempt(\n    // Try to parse a blank line.\n    partialBlankLine,\n    atBlankEnding, // Try to parse initial flow (essentially, only code).\n    effects.attempt(\n      this.parser.constructs.flowInitial,\n      afterConstruct,\n      factorySpace(\n        effects,\n        effects.attempt(\n          this.parser.constructs.flow,\n          afterConstruct,\n          effects.attempt(content, afterConstruct)\n        ),\n        'linePrefix'\n      )\n    )\n  )\n  return initial\n\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    self.currentConstruct = undefined\n    return initial\n  }\n\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    self.currentConstruct = undefined\n    return initial\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar subtokenize = require('../util/subtokenize.js')\nvar factorySpace = require('./factory-space.js')\n\n// No name because it must not be turned off.\nvar content = {\n  tokenize: tokenizeContent,\n  resolve: resolveContent,\n  interruptible: true,\n  lazy: true\n}\nvar continuationConstruct = {\n  tokenize: tokenizeContinuation,\n  partial: true\n} // Content is transparent: its parsed right now. That way, definitions are also\n// parsed right now: before text in paragraphs (specifically, media) are parsed.\n\nfunction resolveContent(events) {\n  subtokenize(events)\n  return events\n}\n\nfunction tokenizeContent(effects, ok) {\n  var previous\n  return start\n\n  function start(code) {\n    effects.enter('content')\n    previous = effects.enter('chunkContent', {\n      contentType: 'content'\n    })\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      return contentEnd(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.check(\n        continuationConstruct,\n        contentContinue,\n        contentEnd\n      )(code)\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n\n  function contentEnd(code) {\n    effects.exit('chunkContent')\n    effects.exit('content')\n    return ok(code)\n  }\n\n  function contentContinue(code) {\n    effects.consume(code)\n    effects.exit('chunkContent')\n    previous = previous.next = effects.enter('chunkContent', {\n      contentType: 'content',\n      previous: previous\n    })\n    return data\n  }\n}\n\nfunction tokenizeContinuation(effects, ok, nok) {\n  var self = this\n  return startLookahead\n\n  function startLookahead(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, prefixed, 'linePrefix')\n  }\n\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    if (\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1 ||\n      prefixSize(self.events, 'linePrefix') < 4\n    ) {\n      return effects.interrupt(self.parser.constructs.flow, nok, ok)(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = content\n","'use strict'\n\nvar splice = [].splice\n\nmodule.exports = splice\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedPush = require('./chunked-push.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\nvar resolveAll = require('./resolve-all.js')\nvar serializeChunks = require('./serialize-chunks.js')\nvar shallow = require('./shallow.js')\nvar sliceChunks = require('./slice-chunks.js')\n\n// Create a tokenizer.\n// Tokenizers deal with one type of data (e.g., containers, flow, text).\n// The parser is the object dealing with it all.\n// `initialize` works like other constructs, except that only its `tokenize`\n// function is used, in which case it doesnt receive an `ok` or `nok`.\n// `from` can be given to set the point before the first character, although\n// when further lines are indented, they must be set with `defineSkip`.\nfunction createTokenizer(parser, initialize, from) {\n  var point = from\n    ? shallow(from)\n    : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }\n  var columnStart = {}\n  var resolveAllConstructs = []\n  var chunks = []\n  var stack = []\n\n  var effects = {\n    consume: consume,\n    enter: enter,\n    exit: exit,\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    }),\n    lazy: constructFactory(onsuccessfulcheck, {\n      lazy: true\n    })\n  } // State and tools for resolving and serializing.\n\n  var context = {\n    previous: null,\n    events: [],\n    parser: parser,\n    sliceStream: sliceStream,\n    sliceSerialize: sliceSerialize,\n    now: now,\n    defineSkip: skip,\n    write: write\n  } // The state function.\n\n  var state = initialize.tokenize.call(context, effects) // Track which character we expect to be consumed, to catch bugs.\n\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize)\n  } // Store where we are in the input stream.\n\n  point._index = 0\n  point._bufferIndex = -1\n  return context\n\n  function write(slice) {\n    chunks = chunkedPush(chunks, slice)\n    main() // Exit if were not done, resolve might change stuff.\n\n    if (chunks[chunks.length - 1] !== null) {\n      return []\n    }\n\n    addResult(initialize, 0) // Otherwise, resolve, and exit.\n\n    context.events = resolveAll(resolveAllConstructs, context.events, context)\n    return context.events\n  } //\n  // Tools.\n  //\n\n  function sliceSerialize(token) {\n    return serializeChunks(sliceStream(token))\n  }\n\n  function sliceStream(token) {\n    return sliceChunks(chunks, token)\n  }\n\n  function now() {\n    return shallow(point)\n  }\n\n  function skip(value) {\n    columnStart[value.line] = value.column\n    accountForPotentialSkip()\n  } //\n  // State management.\n  //\n  // Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n  // `consume`).\n  // Here is where we walk through the chunks, which either include strings of\n  // several characters, or numerical character codes.\n  // The reason to do this in a loop instead of a call is so the stack can\n  // drain.\n\n  function main() {\n    var chunkIndex\n    var chunk\n\n    while (point._index < chunks.length) {\n      chunk = chunks[point._index] // If were in a buffer chunk, loop through it.\n\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index\n\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0\n        }\n\n        while (\n          point._index === chunkIndex &&\n          point._bufferIndex < chunk.length\n        ) {\n          go(chunk.charCodeAt(point._bufferIndex))\n        }\n      } else {\n        go(chunk)\n      }\n    }\n  } // Deal with one code.\n\n  function go(code) {\n    state = state(code)\n  } // Move a character forward.\n\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++\n      point.column = 1\n      point.offset += code === -3 ? 2 : 1\n      accountForPotentialSkip()\n    } else if (code !== -1) {\n      point.column++\n      point.offset++\n    } // Not in a string chunk.\n\n    if (point._bufferIndex < 0) {\n      point._index++\n    } else {\n      point._bufferIndex++ // At end of string chunk.\n\n      if (point._bufferIndex === chunks[point._index].length) {\n        point._bufferIndex = -1\n        point._index++\n      }\n    } // Expose the previous character.\n\n    context.previous = code // Mark as consumed.\n  } // Start a token.\n\n  function enter(type, fields) {\n    var token = fields || {}\n    token.type = type\n    token.start = now()\n    context.events.push(['enter', token, context])\n    stack.push(token)\n    return token\n  } // Stop a token.\n\n  function exit(type) {\n    var token = stack.pop()\n    token.end = now()\n    context.events.push(['exit', token, context])\n    return token\n  } // Use results.\n\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from)\n  } // Discard results.\n\n  function onsuccessfulcheck(construct, info) {\n    info.restore()\n  } // Factory to attempt/check/interrupt.\n\n  function constructFactory(onreturn, fields) {\n    return hook // Handle either an object mapping codes to constructs, a list of\n    // constructs, or a single construct.\n\n    function hook(constructs, returnState, bogusState) {\n      var listOfConstructs\n      var constructIndex\n      var currentConstruct\n      var info\n      return constructs.tokenize || 'length' in constructs\n        ? handleListOfConstructs(miniflat(constructs))\n        : handleMapOfConstructs\n\n      function handleMapOfConstructs(code) {\n        if (code in constructs || null in constructs) {\n          return handleListOfConstructs(\n            constructs.null\n              ? /* c8 ignore next */\n                miniflat(constructs[code]).concat(miniflat(constructs.null))\n              : constructs[code]\n          )(code)\n        }\n\n        return bogusState(code)\n      }\n\n      function handleListOfConstructs(list) {\n        listOfConstructs = list\n        constructIndex = 0\n        return handleConstruct(list[constructIndex])\n      }\n\n      function handleConstruct(construct) {\n        return start\n\n        function start(code) {\n          // To do: not nede to store if there is no bogus state, probably?\n          // Currently doesnt work because `inspect` in document does a check\n          // w/o a bogus, which doesnt make sense. But it does seem to help perf\n          // by not storing.\n          info = store()\n          currentConstruct = construct\n\n          if (!construct.partial) {\n            context.currentConstruct = construct\n          }\n\n          if (\n            construct.name &&\n            context.parser.constructs.disable.null.indexOf(construct.name) > -1\n          ) {\n            return nok()\n          }\n\n          return construct.tokenize.call(\n            fields ? assign({}, context, fields) : context,\n            effects,\n            ok,\n            nok\n          )(code)\n        }\n      }\n\n      function ok(code) {\n        onreturn(currentConstruct, info)\n        return returnState\n      }\n\n      function nok(code) {\n        info.restore()\n\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex])\n        }\n\n        return bogusState\n      }\n    }\n  }\n\n  function addResult(construct, from) {\n    if (construct.resolveAll && resolveAllConstructs.indexOf(construct) < 0) {\n      resolveAllConstructs.push(construct)\n    }\n\n    if (construct.resolve) {\n      chunkedSplice(\n        context.events,\n        from,\n        context.events.length - from,\n        construct.resolve(context.events.slice(from), context)\n      )\n    }\n\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context)\n    }\n  }\n\n  function store() {\n    var startPoint = now()\n    var startPrevious = context.previous\n    var startCurrentConstruct = context.currentConstruct\n    var startEventsIndex = context.events.length\n    var startStack = Array.from(stack)\n    return {\n      restore: restore,\n      from: startEventsIndex\n    }\n\n    function restore() {\n      point = startPoint\n      context.previous = startPrevious\n      context.currentConstruct = startCurrentConstruct\n      context.events.length = startEventsIndex\n      stack = startStack\n      accountForPotentialSkip()\n    }\n  }\n\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line]\n      point.offset += columnStart[point.line] - 1\n    }\n  }\n}\n\nmodule.exports = createTokenizer\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction serializeChunks(chunks) {\n  var index = -1\n  var result = []\n  var chunk\n  var value\n  var atTab\n\n  while (++index < chunks.length) {\n    chunk = chunks[index]\n\n    if (typeof chunk === 'string') {\n      value = chunk\n    } else if (chunk === -5) {\n      value = '\\r'\n    } else if (chunk === -4) {\n      value = '\\n'\n    } else if (chunk === -3) {\n      value = '\\r' + '\\n'\n    } else if (chunk === -2) {\n      value = '\\t'\n    } else if (chunk === -1) {\n      if (atTab) continue\n      value = ' '\n    } else {\n      // Currently only replacement character.\n      value = fromCharCode(chunk)\n    }\n\n    atTab = chunk === -2\n    result.push(value)\n  }\n\n  return result.join('')\n}\n\nmodule.exports = serializeChunks\n","'use strict'\n\nfunction sliceChunks(chunks, token) {\n  var startIndex = token.start._index\n  var startBufferIndex = token.start._bufferIndex\n  var endIndex = token.end._index\n  var endBufferIndex = token.end._bufferIndex\n  var view\n\n  if (startIndex === endIndex) {\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)]\n  } else {\n    view = chunks.slice(startIndex, endIndex)\n\n    if (startBufferIndex > -1) {\n      view[0] = view[0].slice(startBufferIndex)\n    }\n\n    if (endBufferIndex > 0) {\n      view.push(chunks[endIndex].slice(0, endBufferIndex))\n    }\n  }\n\n  return view\n}\n\nmodule.exports = sliceChunks\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar text$1 = require('./initialize/text.js')\nvar attention = require('./tokenize/attention.js')\nvar autolink = require('./tokenize/autolink.js')\nvar blockQuote = require('./tokenize/block-quote.js')\nvar characterEscape = require('./tokenize/character-escape.js')\nvar characterReference = require('./tokenize/character-reference.js')\nvar codeFenced = require('./tokenize/code-fenced.js')\nvar codeIndented = require('./tokenize/code-indented.js')\nvar codeText = require('./tokenize/code-text.js')\nvar definition = require('./tokenize/definition.js')\nvar hardBreakEscape = require('./tokenize/hard-break-escape.js')\nvar headingAtx = require('./tokenize/heading-atx.js')\nvar htmlFlow = require('./tokenize/html-flow.js')\nvar htmlText = require('./tokenize/html-text.js')\nvar labelEnd = require('./tokenize/label-end.js')\nvar labelStartImage = require('./tokenize/label-start-image.js')\nvar labelStartLink = require('./tokenize/label-start-link.js')\nvar lineEnding = require('./tokenize/line-ending.js')\nvar list = require('./tokenize/list.js')\nvar setextUnderline = require('./tokenize/setext-underline.js')\nvar thematicBreak = require('./tokenize/thematic-break.js')\n\nvar document = {\n  42: list,\n  // Asterisk\n  43: list,\n  // Plus sign\n  45: list,\n  // Dash\n  48: list,\n  // 0\n  49: list,\n  // 1\n  50: list,\n  // 2\n  51: list,\n  // 3\n  52: list,\n  // 4\n  53: list,\n  // 5\n  54: list,\n  // 6\n  55: list,\n  // 7\n  56: list,\n  // 8\n  57: list,\n  // 9\n  62: blockQuote // Greater than\n}\nvar contentInitial = {\n  91: definition // Left square bracket\n}\nvar flowInitial = {\n  '-2': codeIndented,\n  // Horizontal tab\n  '-1': codeIndented,\n  // Virtual space\n  32: codeIndented // Space\n}\nvar flow = {\n  35: headingAtx,\n  // Number sign\n  42: thematicBreak,\n  // Asterisk\n  45: [setextUnderline, thematicBreak],\n  // Dash\n  60: htmlFlow,\n  // Less than\n  61: setextUnderline,\n  // Equals to\n  95: thematicBreak,\n  // Underscore\n  96: codeFenced,\n  // Grave accent\n  126: codeFenced // Tilde\n}\nvar string = {\n  38: characterReference,\n  // Ampersand\n  92: characterEscape // Backslash\n}\nvar text = {\n  '-5': lineEnding,\n  // Carriage return\n  '-4': lineEnding,\n  // Line feed\n  '-3': lineEnding,\n  // Carriage return + line feed\n  33: labelStartImage,\n  // Exclamation mark\n  38: characterReference,\n  // Ampersand\n  42: attention,\n  // Asterisk\n  60: [autolink, htmlText],\n  // Less than\n  91: labelStartLink,\n  // Left square bracket\n  92: [hardBreakEscape, characterEscape],\n  // Backslash\n  93: labelEnd,\n  // Right square bracket\n  95: attention,\n  // Underscore\n  96: codeText // Grave accent\n}\nvar insideSpan = {\n  null: [attention, text$1.resolver]\n}\nvar disable = {\n  null: []\n}\n\nexports.contentInitial = contentInitial\nexports.disable = disable\nexports.document = document\nexports.flow = flow\nexports.flowInitial = flowInitial\nexports.insideSpan = insideSpan\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar classifyCharacter = require('../util/classify-character.js')\nvar movePoint = require('../util/move-point.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\n\nvar attention = {\n  name: 'attention',\n  tokenize: tokenizeAttention,\n  resolveAll: resolveAllAttention\n}\n\nfunction resolveAllAttention(events, context) {\n  var index = -1\n  var open\n  var group\n  var text\n  var openingSequence\n  var closingSequence\n  var use\n  var nextEvents\n  var offset // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but its\n  // a bottleneck for malicious stuff.\n\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (\n      events[index][0] === 'enter' &&\n      events[index][1].type === 'attentionSequence' &&\n      events[index][1]._close\n    ) {\n      open = index // Now walk back to find an opener.\n\n      while (open--) {\n        // Find a token that can open the closer.\n        if (\n          events[open][0] === 'exit' &&\n          events[open][1].type === 'attentionSequence' &&\n          events[open][1]._open && // If the markers are the same:\n          context.sliceSerialize(events[open][1]).charCodeAt(0) ===\n            context.sliceSerialize(events[index][1]).charCodeAt(0)\n        ) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then dont match.\n          if (\n            (events[open][1]._close || events[index][1]._open) &&\n            (events[index][1].end.offset - events[index][1].start.offset) % 3 &&\n            !(\n              (events[open][1].end.offset -\n                events[open][1].start.offset +\n                events[index][1].end.offset -\n                events[index][1].start.offset) %\n              3\n            )\n          ) {\n            continue\n          } // Number of markers to use from the sequence.\n\n          use =\n            events[open][1].end.offset - events[open][1].start.offset > 1 &&\n            events[index][1].end.offset - events[index][1].start.offset > 1\n              ? 2\n              : 1\n          openingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: movePoint(shallow(events[open][1].end), -use),\n            end: shallow(events[open][1].end)\n          }\n          closingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: shallow(events[index][1].start),\n            end: movePoint(shallow(events[index][1].start), use)\n          }\n          text = {\n            type: use > 1 ? 'strongText' : 'emphasisText',\n            start: shallow(events[open][1].end),\n            end: shallow(events[index][1].start)\n          }\n          group = {\n            type: use > 1 ? 'strong' : 'emphasis',\n            start: shallow(openingSequence.start),\n            end: shallow(closingSequence.end)\n          }\n          events[open][1].end = shallow(openingSequence.start)\n          events[index][1].start = shallow(closingSequence.end)\n          nextEvents = [] // If there are more markers in the opening, add them before.\n\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context]\n            ])\n          } // Opening.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['enter', group, context],\n            ['enter', openingSequence, context],\n            ['exit', openingSequence, context],\n            ['enter', text, context]\n          ]) // Between.\n\n          nextEvents = chunkedPush(\n            nextEvents,\n            resolveAll(\n              context.parser.constructs.insideSpan.null,\n              events.slice(open + 1, index),\n              context\n            )\n          ) // Closing.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['exit', text, context],\n            ['enter', closingSequence, context],\n            ['exit', closingSequence, context],\n            ['exit', group, context]\n          ]) // If there are more markers in the closing, add them after.\n\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context]\n            ])\n          } else {\n            offset = 0\n          }\n\n          chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n          index = open + nextEvents.length - offset - 2\n          break\n        }\n      }\n    }\n  } // Remove remaining sequences.\n\n  index = -1\n\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeAttention(effects, ok) {\n  var before = classifyCharacter(this.previous)\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('attentionSequence')\n    marker = code\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    var token\n    var after\n    var open\n    var close\n\n    if (code === marker) {\n      effects.consume(code)\n      return sequence\n    }\n\n    token = effects.exit('attentionSequence')\n    after = classifyCharacter(code)\n    open = !after || (after === 2 && before)\n    close = !before || (before === 2 && after)\n    token._open = marker === 42 ? open : open && (before || !close)\n    token._close = marker === 42 ? close : close && (after || !open)\n    return ok(code)\n  }\n}\n\nmodule.exports = attention\n","'use strict'\n\n// This module is generated by `script/`.\n//\n// CommonMark handles attention (emphasis, strong) markers based on what comes\n// before or after them.\n// One such difference is if those characters are Unicode punctuation.\n// This script is generated from the Unicode data.\nvar unicodePunctuation = /[!-\\/:-@\\[-`\\{-~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\n// chunks (replacement characters, tabs, or line endings).\n\nfunction movePoint(point, offset) {\n  point.column += offset\n  point.offset += offset\n  point._bufferIndex += offset\n  return point\n}\n\nmodule.exports = movePoint\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiAtext = require('../character/ascii-atext.js')\nvar asciiControl = require('../character/ascii-control.js')\n\nvar autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n}\n\nfunction tokenizeAutolink(effects, ok, nok) {\n  var size = 1\n  return start\n\n  function start(code) {\n    effects.enter('autolink')\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.enter('autolinkProtocol')\n    return open\n  }\n\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return schemeOrEmailAtext\n    }\n\n    return asciiAtext(code) ? emailAtext(code) : nok(code)\n  }\n\n  function schemeOrEmailAtext(code) {\n    return code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)\n      ? schemeInsideOrEmailAtext(code)\n      : emailAtext(code)\n  }\n\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code)\n      return urlInside\n    }\n\n    if (\n      (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) &&\n      size++ < 32\n    ) {\n      effects.consume(code)\n      return schemeInsideOrEmailAtext\n    }\n\n    return emailAtext(code)\n  }\n\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol')\n      return end(code)\n    }\n\n    if (code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return urlInside\n  }\n\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (asciiAtext(code)) {\n      effects.consume(code)\n      return emailAtext\n    }\n\n    return nok(code)\n  }\n\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code)\n  }\n\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (code === 62) {\n      // Exit, then change the type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail'\n      return end(code)\n    }\n\n    return emailValue(code)\n  }\n\n  function emailValue(code) {\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      effects.consume(code)\n      return code === 45 ? emailValue : emailLabel\n    }\n\n    return nok(code)\n  }\n\n  function end(code) {\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.exit('autolink')\n    return ok\n  }\n}\n\nmodule.exports = autolink\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/)\n\nmodule.exports = asciiAtext\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar blockQuote = {\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart,\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit: exit\n}\n\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    if (code === 62) {\n      if (!self.containerState.open) {\n        effects.enter('blockQuote', {\n          _container: true\n        })\n        self.containerState.open = true\n      }\n\n      effects.enter('blockQuotePrefix')\n      effects.enter('blockQuoteMarker')\n      effects.consume(code)\n      effects.exit('blockQuoteMarker')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter('blockQuotePrefixWhitespace')\n      effects.consume(code)\n      effects.exit('blockQuotePrefixWhitespace')\n      effects.exit('blockQuotePrefix')\n      return ok\n    }\n\n    effects.exit('blockQuotePrefix')\n    return ok(code)\n  }\n}\n\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(blockQuote, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction exit(effects) {\n  effects.exit('blockQuote')\n}\n\nmodule.exports = blockQuote\n","'use strict'\n\nvar asciiPunctuation = require('../character/ascii-punctuation.js')\n\nvar characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n}\n\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('characterEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    effects.exit('escapeMarker')\n    return open\n  }\n\n  function open(code) {\n    if (asciiPunctuation(code)) {\n      effects.enter('characterEscapeValue')\n      effects.consume(code)\n      effects.exit('characterEscapeValue')\n      effects.exit('characterEscape')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterEscape\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/)\n\nmodule.exports = asciiPunctuation\n","'use strict'\n\nvar decodeEntity = require('parse-entities/decode-entity.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiDigit = require('../character/ascii-digit.js')\nvar asciiHexDigit = require('../character/ascii-hex-digit.js')\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {default: e}\n}\n\nvar decodeEntity__default = /*#__PURE__*/ _interopDefaultLegacy(decodeEntity)\n\nvar characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n}\n\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  var self = this\n  var size = 0\n  var max\n  var test\n  return start\n\n  function start(code) {\n    effects.enter('characterReference')\n    effects.enter('characterReferenceMarker')\n    effects.consume(code)\n    effects.exit('characterReferenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 35) {\n      effects.enter('characterReferenceMarkerNumeric')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerNumeric')\n      return numeric\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 31\n    test = asciiAlphanumeric\n    return value(code)\n  }\n\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter('characterReferenceMarkerHexadecimal')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerHexadecimal')\n      effects.enter('characterReferenceValue')\n      max = 6\n      test = asciiHexDigit\n      return value\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 7\n    test = asciiDigit\n    return value(code)\n  }\n\n  function value(code) {\n    var token\n\n    if (code === 59 && size) {\n      token = effects.exit('characterReferenceValue')\n\n      if (\n        test === asciiAlphanumeric &&\n        !decodeEntity__default['default'](self.sliceSerialize(token))\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('characterReferenceMarker')\n      effects.consume(code)\n      effects.exit('characterReferenceMarker')\n      effects.exit('characterReference')\n      return ok\n    }\n\n    if (test(code) && size++ < max) {\n      effects.consume(code)\n      return value\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterReference\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiHexDigit = regexCheck(/[\\dA-Fa-f]/)\n\nmodule.exports = asciiHexDigit\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeFenced = {\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced,\n  concrete: true\n}\n\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  var self = this\n  var closingFenceConstruct = {\n    tokenize: tokenizeClosingFence,\n    partial: true\n  }\n  var initialPrefix = prefixSize(this.events, 'linePrefix')\n  var sizeOpen = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('codeFenced')\n    effects.enter('codeFencedFence')\n    effects.enter('codeFencedFenceSequence')\n    marker = code\n    return sequenceOpen(code)\n  }\n\n  function sequenceOpen(code) {\n    if (code === marker) {\n      effects.consume(code)\n      sizeOpen++\n      return sequenceOpen\n    }\n\n    effects.exit('codeFencedFenceSequence')\n    return sizeOpen < 3\n      ? nok(code)\n      : factorySpace(effects, infoOpen, 'whitespace')(code)\n  }\n\n  function infoOpen(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceInfo')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return info(code)\n  }\n\n  function info(code) {\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceInfo')\n      return factorySpace(effects, infoAfter, 'whitespace')(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return info\n  }\n\n  function infoAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceMeta')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return meta(code)\n  }\n\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceMeta')\n      return openAfter(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return meta\n  }\n\n  function openAfter(code) {\n    effects.exit('codeFencedFence')\n    return self.interrupt ? ok(code) : content(code)\n  }\n\n  function content(code) {\n    if (code === null) {\n      return after(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return effects.attempt(\n        closingFenceConstruct,\n        after,\n        initialPrefix\n          ? factorySpace(effects, content, 'linePrefix', initialPrefix + 1)\n          : content\n      )\n    }\n\n    effects.enter('codeFlowValue')\n    return contentContinue(code)\n  }\n\n  function contentContinue(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return content(code)\n    }\n\n    effects.consume(code)\n    return contentContinue\n  }\n\n  function after(code) {\n    effects.exit('codeFenced')\n    return ok(code)\n  }\n\n  function tokenizeClosingFence(effects, ok, nok) {\n    var size = 0\n    return factorySpace(\n      effects,\n      closingSequenceStart,\n      'linePrefix',\n      this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n\n    function closingSequenceStart(code) {\n      effects.enter('codeFencedFence')\n      effects.enter('codeFencedFenceSequence')\n      return closingSequence(code)\n    }\n\n    function closingSequence(code) {\n      if (code === marker) {\n        effects.consume(code)\n        size++\n        return closingSequence\n      }\n\n      if (size < sizeOpen) return nok(code)\n      effects.exit('codeFencedFenceSequence')\n      return factorySpace(effects, closingSequenceEnd, 'whitespace')(code)\n    }\n\n    function closingSequenceEnd(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit('codeFencedFence')\n        return ok(code)\n      }\n\n      return nok(code)\n    }\n  }\n}\n\nmodule.exports = codeFenced\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented,\n  resolve: resolveCodeIndented\n}\nvar indentedContentConstruct = {\n  tokenize: tokenizeIndentedContent,\n  partial: true\n}\n\nfunction resolveCodeIndented(events, context) {\n  var code = {\n    type: 'codeIndented',\n    start: events[0][1].start,\n    end: events[events.length - 1][1].end\n  }\n  chunkedSplice(events, 0, 0, [['enter', code, context]])\n  chunkedSplice(events, events.length, 0, [['exit', code, context]])\n  return events\n}\n\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  return effects.attempt(indentedContentConstruct, afterPrefix, nok)\n\n  function afterPrefix(code) {\n    if (code === null) {\n      return ok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.attempt(indentedContentConstruct, afterPrefix, ok)(code)\n    }\n\n    effects.enter('codeFlowValue')\n    return content(code)\n  }\n\n  function content(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return afterPrefix(code)\n    }\n\n    effects.consume(code)\n    return content\n  }\n}\n\nfunction tokenizeIndentedContent(effects, ok, nok) {\n  var self = this\n  return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n\n  function afterPrefix(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n    }\n\n    return prefixSize(self.events, 'linePrefix') < 4 ? nok(code) : ok(code)\n  }\n}\n\nmodule.exports = codeIndented\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar codeText = {\n  name: 'codeText',\n  tokenize: tokenizeCodeText,\n  resolve: resolveCodeText,\n  previous: previous\n}\n\nfunction resolveCodeText(events) {\n  var tailExitIndex = events.length - 4\n  var headEnterIndex = 3\n  var index\n  var enter // If we start and end with an EOL or a space.\n\n  if (\n    (events[headEnterIndex][1].type === 'lineEnding' ||\n      events[headEnterIndex][1].type === 'space') &&\n    (events[tailExitIndex][1].type === 'lineEnding' ||\n      events[tailExitIndex][1].type === 'space')\n  ) {\n    index = headEnterIndex // And we have data.\n\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === 'codeTextData') {\n        // Then we have padding.\n        events[tailExitIndex][1].type = events[headEnterIndex][1].type =\n          'codeTextPadding'\n        headEnterIndex += 2\n        tailExitIndex -= 2\n        break\n      }\n    }\n  } // Merge adjacent spaces and data.\n\n  index = headEnterIndex - 1\n  tailExitIndex++\n\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== 'lineEnding') {\n        enter = index\n      }\n    } else if (\n      index === tailExitIndex ||\n      events[index][1].type === 'lineEnding'\n    ) {\n      events[enter][1].type = 'codeTextData'\n\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end\n        events.splice(enter + 2, index - enter - 2)\n        tailExitIndex -= index - enter - 2\n        index = enter + 2\n      }\n\n      enter = undefined\n    }\n  }\n\n  return events\n}\n\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return (\n    code !== 96 ||\n    this.events[this.events.length - 1][1].type === 'characterEscape'\n  )\n}\n\nfunction tokenizeCodeText(effects, ok, nok) {\n  var sizeOpen = 0\n  var size\n  var token\n  return start\n\n  function start(code) {\n    effects.enter('codeText')\n    effects.enter('codeTextSequence')\n    return openingSequence(code)\n  }\n\n  function openingSequence(code) {\n    if (code === 96) {\n      effects.consume(code)\n      sizeOpen++\n      return openingSequence\n    }\n\n    effects.exit('codeTextSequence')\n    return gap(code)\n  }\n\n  function gap(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code)\n    } // Closing fence?\n    // Could also be data.\n\n    if (code === 96) {\n      token = effects.enter('codeTextSequence')\n      size = 0\n      return closingSequence(code)\n    } // Tabs dont work, and virtual spaces dont make sense.\n\n    if (code === 32) {\n      effects.enter('space')\n      effects.consume(code)\n      effects.exit('space')\n      return gap\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return gap\n    } // Data.\n\n    effects.enter('codeTextData')\n    return data(code)\n  } // In code.\n\n  function data(code) {\n    if (\n      code === null ||\n      code === 32 ||\n      code === 96 ||\n      markdownLineEnding(code)\n    ) {\n      effects.exit('codeTextData')\n      return gap(code)\n    }\n\n    effects.consume(code)\n    return data\n  } // Closing fence.\n\n  function closingSequence(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code)\n      size++\n      return closingSequence\n    } // Done!\n\n    if (size === sizeOpen) {\n      effects.exit('codeTextSequence')\n      effects.exit('codeText')\n      return ok(code)\n    } // More or less accents: mark as data.\n\n    token.type = 'codeTextData'\n    return data(code)\n  }\n}\n\nmodule.exports = codeText\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factorySpace = require('./factory-space.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\nvar factoryTitle = require('./factory-title.js')\n\nvar definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n}\nvar titleConstruct = {\n  tokenize: tokenizeTitle,\n  partial: true\n}\n\nfunction tokenizeDefinition(effects, ok, nok) {\n  var self = this\n  var identifier\n  return start\n\n  function start(code) {\n    effects.enter('definition')\n    return factoryLabel.call(\n      self,\n      effects,\n      labelAfter,\n      nok,\n      'definitionLabel',\n      'definitionLabelMarker',\n      'definitionLabelString'\n    )(code)\n  }\n\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(\n      self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n    )\n\n    if (code === 58) {\n      effects.enter('definitionMarker')\n      effects.consume(code)\n      effects.exit('definitionMarker') // Note: blank lines cant exist in content.\n\n      return factoryWhitespace(\n        effects,\n        factoryDestination(\n          effects,\n          effects.attempt(\n            titleConstruct,\n            factorySpace(effects, after, 'whitespace'),\n            factorySpace(effects, after, 'whitespace')\n          ),\n          nok,\n          'definitionDestination',\n          'definitionDestinationLiteral',\n          'definitionDestinationLiteralMarker',\n          'definitionDestinationRaw',\n          'definitionDestinationString'\n        )\n      )\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('definition')\n\n      if (self.parser.defined.indexOf(identifier) < 0) {\n        self.parser.defined.push(identifier)\n      }\n\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeTitle(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, before)(code)\n      : nok(code)\n  }\n\n  function before(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factorySpace(effects, after, 'whitespace'),\n        nok,\n        'definitionTitle',\n        'definitionTitleMarker',\n        'definitionTitleString'\n      )(code)\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = definition\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n}\n\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('hardBreakEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit('escapeMarker')\n      effects.exit('hardBreakEscape')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = hardBreakEscape\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar factorySpace = require('./factory-space.js')\n\nvar headingAtx = {\n  name: 'headingAtx',\n  tokenize: tokenizeHeadingAtx,\n  resolve: resolveHeadingAtx\n}\n\nfunction resolveHeadingAtx(events, context) {\n  var contentEnd = events.length - 2\n  var contentStart = 3\n  var content\n  var text // Prefix whitespace, part of the opening.\n\n  if (events[contentStart][1].type === 'whitespace') {\n    contentStart += 2\n  } // Suffix whitespace, part of the closing.\n\n  if (\n    contentEnd - 2 > contentStart &&\n    events[contentEnd][1].type === 'whitespace'\n  ) {\n    contentEnd -= 2\n  }\n\n  if (\n    events[contentEnd][1].type === 'atxHeadingSequence' &&\n    (contentStart === contentEnd - 1 ||\n      (contentEnd - 4 > contentStart &&\n        events[contentEnd - 2][1].type === 'whitespace'))\n  ) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4\n  }\n\n  if (contentEnd > contentStart) {\n    content = {\n      type: 'atxHeadingText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    }\n    text = {\n      type: 'chunkText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: 'text'\n    }\n    chunkedSplice(events, contentStart, contentEnd - contentStart + 1, [\n      ['enter', content, context],\n      ['enter', text, context],\n      ['exit', text, context],\n      ['exit', content, context]\n    ])\n  }\n\n  return events\n}\n\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  var self = this\n  var size = 0\n  return start\n\n  function start(code) {\n    effects.enter('atxHeading')\n    effects.enter('atxHeadingSequence')\n    return fenceOpenInside(code)\n  }\n\n  function fenceOpenInside(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code)\n      return fenceOpenInside\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingSequence')\n      return self.interrupt ? ok(code) : headingBreak(code)\n    }\n\n    return nok(code)\n  }\n\n  function headingBreak(code) {\n    if (code === 35) {\n      effects.enter('atxHeadingSequence')\n      return sequence(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('atxHeading')\n      return ok(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headingBreak, 'whitespace')(code)\n    }\n\n    effects.enter('atxHeadingText')\n    return data(code)\n  }\n\n  function sequence(code) {\n    if (code === 35) {\n      effects.consume(code)\n      return sequence\n    }\n\n    effects.exit('atxHeadingSequence')\n    return headingBreak(code)\n  }\n\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingText')\n      return headingBreak(code)\n    }\n\n    effects.consume(code)\n    return data\n  }\n}\n\nmodule.exports = headingAtx\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar fromCharCode = require('../constant/from-char-code.js')\nvar htmlBlockNames = require('../constant/html-block-names.js')\nvar htmlRawNames = require('../constant/html-raw-names.js')\nvar partialBlankLine = require('./partial-blank-line.js')\n\nvar htmlFlow = {\n  name: 'htmlFlow',\n  tokenize: tokenizeHtmlFlow,\n  resolveTo: resolveToHtmlFlow,\n  concrete: true\n}\nvar nextBlankConstruct = {\n  tokenize: tokenizeNextBlank,\n  partial: true\n}\n\nfunction resolveToHtmlFlow(events) {\n  var index = events.length\n\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === 'htmlFlow') {\n      break\n    }\n  }\n\n  if (index > 1 && events[index - 2][1].type === 'linePrefix') {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start // Add the prefix start to the HTML line token.\n\n    events[index + 1][1].start = events[index - 2][1].start // Remove the line prefix.\n\n    events.splice(index - 2, 2)\n  }\n\n  return events\n}\n\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  var self = this\n  var kind\n  var startTag\n  var buffer\n  var index\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('htmlFlow')\n    effects.enter('htmlFlowData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationStart\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      kind = 3 // While were in an instruction instead of a declaration, were on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      startTag = true\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function declarationStart(code) {\n    if (code === 45) {\n      effects.consume(code)\n      kind = 2\n      return commentOpenInside\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      kind = 5\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpenInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      kind = 4\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function cdataOpenInside(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length\n        ? self.interrupt\n          ? ok\n          : continuation\n        : cdataOpenInside\n    }\n\n    return nok(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function tagName(code) {\n    if (\n      code === null ||\n      code === 47 ||\n      code === 62 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      if (\n        code !== 47 &&\n        startTag &&\n        htmlRawNames.indexOf(buffer.toLowerCase()) > -1\n      ) {\n        kind = 1\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      if (htmlBlockNames.indexOf(buffer.toLowerCase()) > -1) {\n        kind = 6\n\n        if (code === 47) {\n          effects.consume(code)\n          return basicSelfClosing\n        }\n\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      kind = 7 // Do not support complete HTML when interrupting.\n\n      return self.interrupt\n        ? nok(code)\n        : startTag\n        ? completeAttributeNameBefore(code)\n        : completeClosingTagAfter(code)\n    }\n\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuation\n    }\n\n    return nok(code)\n  }\n\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeClosingTagAfter\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return completeEnd\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameBefore\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    return completeAttributeNameAfter(code)\n  }\n\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameAfter\n    }\n\n    return completeAttributeNameBefore(code)\n  }\n\n  function completeAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return completeAttributeValueQuoted\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    marker = undefined\n    return completeAttributeValueUnquoted(code)\n  }\n\n  function completeAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return completeAttributeValueQuotedAfter\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueQuoted\n  }\n\n  function completeAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      return completeAttributeNameAfter(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueUnquoted\n  }\n\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code)\n    }\n\n    return nok(code)\n  }\n\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return nok(code)\n  }\n\n  function completeAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return code === null || markdownLineEnding(code)\n      ? continuation(code)\n      : nok(code)\n  }\n\n  function continuation(code) {\n    if (code === 45 && kind === 2) {\n      effects.consume(code)\n      return continuationCommentInside\n    }\n\n    if (code === 60 && kind === 1) {\n      effects.consume(code)\n      return continuationRawTagOpen\n    }\n\n    if (code === 62 && kind === 4) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (code === 63 && kind === 3) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    if (code === 93 && kind === 5) {\n      effects.consume(code)\n      return continuationCharacterDataInside\n    }\n\n    if (markdownLineEnding(code) && (kind === 6 || kind === 7)) {\n      return effects.check(\n        nextBlankConstruct,\n        continuationClose,\n        continuationAtLineEnding\n      )(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return continuationAtLineEnding(code)\n    }\n\n    effects.consume(code)\n    return continuation\n  }\n\n  function continuationAtLineEnding(code) {\n    effects.exit('htmlFlowData')\n    return htmlContinueStart(code)\n  }\n\n  function htmlContinueStart(code) {\n    if (code === null) {\n      return done(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return htmlContinueStart\n    }\n\n    effects.enter('htmlFlowData')\n    return continuation(code)\n  }\n\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code)\n      buffer = ''\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawEndTag(code) {\n    if (code === 62 && htmlRawNames.indexOf(buffer.toLowerCase()) > -1) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (asciiAlpha(code) && buffer.length < 8) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationCharacterDataInside(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    return continuation(code)\n  }\n\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('htmlFlowData')\n      return done(code)\n    }\n\n    effects.consume(code)\n    return continuationClose\n  }\n\n  function done(code) {\n    effects.exit('htmlFlow')\n    return ok(code)\n  }\n}\n\nfunction tokenizeNextBlank(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.exit('htmlFlowData')\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    return effects.attempt(partialBlankLine, ok, nok)\n  }\n}\n\nmodule.exports = htmlFlow\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar basics = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n]\n\nmodule.exports = basics\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar raws = ['pre', 'script', 'style', 'textarea']\n\nmodule.exports = raws\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n}\n\nfunction tokenizeHtmlText(effects, ok, nok) {\n  var self = this\n  var marker\n  var buffer\n  var index\n  var returnState\n  return start\n\n  function start(code) {\n    effects.enter('htmlText')\n    effects.enter('htmlTextData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationOpen\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instruction\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    return nok(code)\n  }\n\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentOpen\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpen\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return declaration\n    }\n\n    return nok(code)\n  }\n\n  function commentOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentStart\n    }\n\n    return nok(code)\n  }\n\n  function commentStart(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentStartDash\n    }\n\n    return comment(code)\n  }\n\n  function commentStartDash(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    return comment(code)\n  }\n\n  function comment(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = comment\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return comment\n  }\n\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return end\n    }\n\n    return comment(code)\n  }\n\n  function cdataOpen(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length ? cdata : cdataOpen\n    }\n\n    return nok(code)\n  }\n\n  function cdata(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = cdata\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return cdata\n  }\n\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = declaration\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return declaration\n  }\n\n  function instruction(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instructionClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = instruction\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return instruction\n  }\n\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return nok(code)\n  }\n\n  function tagClose(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return tagCloseBetween(code)\n  }\n\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagCloseBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpen(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return end\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpenAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    return tagOpenAttributeNameAfter(code)\n  }\n\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeNameAfter\n    }\n\n    return tagOpenBetween(code)\n  }\n\n  function tagOpenAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return tagOpenAttributeValueQuoted\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    effects.consume(code)\n    marker = undefined\n    return tagOpenAttributeValueUnquoted\n  }\n\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return tagOpenAttributeValueQuotedAfter\n    }\n\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueQuoted\n  }\n\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 62 || code === 47 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueUnquoted\n  } // We cant have blank lines in content, so no need to worry about empty\n  // tokens.\n\n  function atLineEnding(code) {\n    effects.exit('htmlTextData')\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(\n      effects,\n      afterPrefix,\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n  }\n\n  function afterPrefix(code) {\n    effects.enter('htmlTextData')\n    return returnState(code)\n  }\n\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code)\n      effects.exit('htmlTextData')\n      effects.exit('htmlText')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = htmlText\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartImage = {\n  name: 'labelStartImage',\n  tokenize: tokenizeLabelStartImage,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelImage')\n    effects.enter('labelImageMarker')\n    effects.consume(code)\n    effects.exit('labelImageMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 91) {\n      effects.enter('labelMarker')\n      effects.consume(code)\n      effects.exit('labelMarker')\n      effects.exit('labelImage')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartImage\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartLink = {\n  name: 'labelStartLink',\n  tokenize: tokenizeLabelStartLink,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelLink')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelLink')\n    return after\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartLink\n","'use strict'\n\nvar factorySpace = require('./factory-space.js')\n\nvar lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n}\n\nfunction tokenizeLineEnding(effects, ok) {\n  return start\n\n  function start(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, ok, 'linePrefix')\n  }\n}\n\nmodule.exports = lineEnding\n","'use strict'\n\nvar asciiDigit = require('../character/ascii-digit.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar sizeChunks = require('../util/size-chunks.js')\nvar factorySpace = require('./factory-space.js')\nvar partialBlankLine = require('./partial-blank-line.js')\nvar thematicBreak = require('./thematic-break.js')\n\nvar list = {\n  name: 'list',\n  tokenize: tokenizeListStart,\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd\n}\nvar listItemPrefixWhitespaceConstruct = {\n  tokenize: tokenizeListItemPrefixWhitespace,\n  partial: true\n}\nvar indentConstruct = {\n  tokenize: tokenizeIndent,\n  partial: true\n}\n\nfunction tokenizeListStart(effects, ok, nok) {\n  var self = this\n  var initialSize = prefixSize(self.events, 'linePrefix')\n  var size = 0\n  return start\n\n  function start(code) {\n    var kind =\n      self.containerState.type ||\n      (code === 42 || code === 43 || code === 45\n        ? 'listUnordered'\n        : 'listOrdered')\n\n    if (\n      kind === 'listUnordered'\n        ? !self.containerState.marker || code === self.containerState.marker\n        : asciiDigit(code)\n    ) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind\n        effects.enter(kind, {\n          _container: true\n        })\n      }\n\n      if (kind === 'listUnordered') {\n        effects.enter('listItemPrefix')\n        return code === 42 || code === 45\n          ? effects.check(thematicBreak, nok, atMarker)(code)\n          : atMarker(code)\n      }\n\n      if (!self.interrupt || code === 49) {\n        effects.enter('listItemPrefix')\n        effects.enter('listItemValue')\n        return inside(code)\n      }\n    }\n\n    return nok(code)\n  }\n\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code)\n      return inside\n    }\n\n    if (\n      (!self.interrupt || size < 2) &&\n      (self.containerState.marker\n        ? code === self.containerState.marker\n        : code === 41 || code === 46)\n    ) {\n      effects.exit('listItemValue')\n      return atMarker(code)\n    }\n\n    return nok(code)\n  }\n\n  function atMarker(code) {\n    effects.enter('listItemMarker')\n    effects.consume(code)\n    effects.exit('listItemMarker')\n    self.containerState.marker = self.containerState.marker || code\n    return effects.check(\n      partialBlankLine, // Cant be empty when interrupting.\n      self.interrupt ? nok : onBlank,\n      effects.attempt(\n        listItemPrefixWhitespaceConstruct,\n        endOfPrefix,\n        otherPrefix\n      )\n    )\n  }\n\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true\n    initialSize++\n    return endOfPrefix(code)\n  }\n\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter('listItemPrefixWhitespace')\n      effects.consume(code)\n      effects.exit('listItemPrefixWhitespace')\n      return endOfPrefix\n    }\n\n    return nok(code)\n  }\n\n  function endOfPrefix(code) {\n    self.containerState.size =\n      initialSize + sizeChunks(self.sliceStream(effects.exit('listItemPrefix')))\n    return ok(code)\n  }\n}\n\nfunction tokenizeListContinuation(effects, ok, nok) {\n  var self = this\n  self.containerState._closeFlow = undefined\n  return effects.check(partialBlankLine, onBlank, notBlank)\n\n  function onBlank(code) {\n    self.containerState.furtherBlankLines =\n      self.containerState.furtherBlankLines ||\n      self.containerState.initialBlankLine // We have a blank line.\n    // Still, try to consume at most the items size.\n\n    return factorySpace(\n      effects,\n      ok,\n      'listItemIndent',\n      self.containerState.size + 1\n    )(code)\n  }\n\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n      return notInCurrentItem(code)\n    }\n\n    self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code)\n  }\n\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true // As were closing flow, were no longer interrupting.\n\n    self.interrupt = undefined\n    return factorySpace(\n      effects,\n      effects.attempt(list, ok, nok),\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )(code)\n  }\n}\n\nfunction tokenizeIndent(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemIndent',\n    self.containerState.size + 1\n  )\n\n  function afterPrefix(code) {\n    return prefixSize(self.events, 'listItemIndent') ===\n      self.containerState.size\n      ? ok(code)\n      : nok(code)\n  }\n}\n\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type)\n}\n\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemPrefixWhitespace',\n    self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4 + 1\n  )\n\n  function afterPrefix(code) {\n    return markdownSpace(code) ||\n      !prefixSize(self.events, 'listItemPrefixWhitespace')\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = list\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar shallow = require('../util/shallow.js')\nvar factorySpace = require('./factory-space.js')\n\nvar setextUnderline = {\n  name: 'setextUnderline',\n  tokenize: tokenizeSetextUnderline,\n  resolveTo: resolveToSetextUnderline\n}\n\nfunction resolveToSetextUnderline(events, context) {\n  var index = events.length\n  var content\n  var text\n  var definition\n  var heading // Find the opening of the content.\n  // Itll always exist: we dont tokenize if it isnt there.\n\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === 'content') {\n        content = index\n        break\n      }\n\n      if (events[index][1].type === 'paragraph') {\n        text = index\n      }\n    } // Exit\n    else {\n      if (events[index][1].type === 'content') {\n        // Remove the content end (if needed well add it later)\n        events.splice(index, 1)\n      }\n\n      if (!definition && events[index][1].type === 'definition') {\n        definition = index\n      }\n    }\n  }\n\n  heading = {\n    type: 'setextHeading',\n    start: shallow(events[text][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  } // Change the paragraph to setext heading text.\n\n  events[text][1].type = 'setextHeadingText' // If we have definitions in the content, well keep on having content,\n  // but we need move it.\n\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context])\n    events.splice(definition + 1, 0, ['exit', events[content][1], context])\n    events[content][1].end = shallow(events[definition][1].end)\n  } else {\n    events[content][1] = heading\n  } // Add the heading exit at the end.\n\n  events.push(['exit', heading, context])\n  return events\n}\n\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var marker\n  var paragraph // Find an opening.\n\n  while (index--) {\n    // Skip enter/exit of line ending, line prefix, and content.\n    // We can now either have a definition or a paragraph.\n    if (\n      self.events[index][1].type !== 'lineEnding' &&\n      self.events[index][1].type !== 'linePrefix' &&\n      self.events[index][1].type !== 'content'\n    ) {\n      paragraph = self.events[index][1].type === 'paragraph'\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!self.lazy && (self.interrupt || paragraph)) {\n      effects.enter('setextHeadingLine')\n      effects.enter('setextHeadingLineSequence')\n      marker = code\n      return closingSequence(code)\n    }\n\n    return nok(code)\n  }\n\n  function closingSequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return closingSequence\n    }\n\n    effects.exit('setextHeadingLineSequence')\n    return factorySpace(effects, closingSequenceEnd, 'lineSuffix')(code)\n  }\n\n  function closingSequenceEnd(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('setextHeadingLine')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = setextUnderline\n","'use strict'\n\nvar search = /[\\0\\t\\n\\r]/g\n\nfunction preprocess() {\n  var start = true\n  var column = 1\n  var buffer = ''\n  var atCarriageReturn\n  return preprocessor\n\n  function preprocessor(value, encoding, end) {\n    var chunks = []\n    var match\n    var next\n    var startPosition\n    var endPosition\n    var code\n    value = buffer + value.toString(encoding)\n    startPosition = 0\n    buffer = ''\n\n    if (start) {\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++\n      }\n\n      start = undefined\n    }\n\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition\n      match = search.exec(value)\n      endPosition = match ? match.index : value.length\n      code = value.charCodeAt(endPosition)\n\n      if (!match) {\n        buffer = value.slice(startPosition)\n        break\n      }\n\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3)\n        atCarriageReturn = undefined\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5)\n          atCarriageReturn = undefined\n        }\n\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition))\n          column += endPosition - startPosition\n        }\n\n        if (code === 0) {\n          chunks.push(65533)\n          column++\n        } else if (code === 9) {\n          next = Math.ceil(column / 4) * 4\n          chunks.push(-2)\n\n          while (column++ < next) chunks.push(-1)\n        } else if (code === 10) {\n          chunks.push(-4)\n          column = 1\n        } // Must be carriage return.\n        else {\n          atCarriageReturn = true\n          column = 1\n        }\n      }\n\n      startPosition = endPosition + 1\n    }\n\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5)\n      if (buffer) chunks.push(buffer)\n      chunks.push(null)\n    }\n\n    return chunks\n  }\n}\n\nmodule.exports = preprocess\n","'use strict'\n\nvar subtokenize = require('./util/subtokenize.js')\n\nfunction postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n\n  return events\n}\n\nmodule.exports = postprocess\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","var visitWithParents = require('unist-util-visit-parents');\n\nfunction addListMetadata() {\n  return function (ast) {\n    visitWithParents(ast, 'list', function (listNode, parents) {\n      var depth = 0, i, n;\n      for (i = 0, n = parents.length; i < n; i++) {\n        if (parents[i].type === 'list') depth += 1;\n      }\n      for (i = 0, n = listNode.children.length; i < n; i++) {\n        var child = listNode.children[i];\n        child.index = i;\n        child.ordered = listNode.ordered;\n      }\n      listNode.depth = depth;\n    });\n    return ast;\n  };\n}\n\nmodule.exports = addListMetadata;\n","'use strict'\n\n/* Expose. */\nmodule.exports = visitParents\n\n/* Visit. */\nfunction visitParents(tree, type, visitor) {\n  var stack = []\n\n  if (typeof type === 'function') {\n    visitor = type\n    type = null\n  }\n\n  one(tree)\n\n  /* Visit a single node. */\n  function one(node) {\n    var result\n\n    if (!type || node.type === type) {\n      result = visitor(node, stack.concat())\n    }\n\n    if (node.children && result !== false) {\n      return all(node.children, node)\n    }\n\n    return result\n  }\n\n  /* Visit children in `parent`. */\n  function all(children, parent) {\n    var length = children.length\n    var index = -1\n    var child\n\n    stack.push(parent)\n\n    while (++index < length) {\n      child = children[index]\n\n      if (child && one(child) === false) {\n        return false\n      }\n    }\n\n    stack.pop()\n\n    return true\n  }\n}\n","\"use strict\";\n\n/**\n * Naive, simple plugin to match inline nodes without attributes\n * This allows say <strong>foo</strong>, but not <strong class=\"very\">foo</strong>\n * For proper HTML support, you'll want a different plugin\n **/\nvar visit = require('unist-util-visit');\n\nvar type = 'virtualHtml';\nvar selfClosingRe = /^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\s*\\/?>$/i;\nvar simpleTagRe = /^<(\\/?)([a-z]+)\\s*>$/;\n\nmodule.exports = function (tree) {\n  var open;\n  var currentParent;\n  visit(tree, 'html', function (node, index, parent) {\n    if (currentParent !== parent) {\n      open = [];\n      currentParent = parent;\n    }\n\n    var selfClosing = getSelfClosing(node);\n\n    if (selfClosing) {\n      parent.children.splice(index, 1, {\n        type: type,\n        tag: selfClosing,\n        position: node.position\n      });\n      return true;\n    }\n\n    var current = getSimpleTag(node, parent);\n\n    if (!current) {\n      return true;\n    }\n\n    var matching = findAndPull(open, current.tag);\n\n    if (matching) {\n      parent.children.splice(index, 0, virtual(current, matching, parent));\n    } else if (!current.opening) {\n      open.push(current);\n    }\n\n    return true;\n  }, true // Iterate in reverse\n  );\n  return tree;\n};\n\nfunction findAndPull(open, matchingTag) {\n  var i = open.length;\n\n  while (i--) {\n    if (open[i].tag === matchingTag) {\n      return open.splice(i, 1)[0];\n    }\n  }\n\n  return false;\n}\n\nfunction getSimpleTag(node, parent) {\n  var match = node.value.match(simpleTagRe);\n  return match ? {\n    tag: match[2],\n    opening: !match[1],\n    node: node\n  } : false;\n}\n\nfunction getSelfClosing(node) {\n  var match = node.value.match(selfClosingRe);\n  return match ? match[1] : false;\n}\n\nfunction virtual(fromNode, toNode, parent) {\n  var fromIndex = parent.children.indexOf(fromNode.node);\n  var toIndex = parent.children.indexOf(toNode.node);\n  var extracted = parent.children.splice(fromIndex, toIndex - fromIndex + 1);\n  var children = extracted.slice(1, -1);\n  return {\n    type: type,\n    children: children,\n    tag: fromNode.tag,\n    position: {\n      start: fromNode.node.position.start,\n      end: toNode.node.position.end,\n      indent: []\n    }\n  };\n}","module.exports = identity\nfunction identity(d) {\n  return d\n}\n","\"use strict\";\n\nvar visit = require('unist-util-visit');\n\nvar splice = [].splice;\n\nexports.ofType = function (types, mode) {\n  return ifNotMatch(allow, mode);\n\n  function allow(node, index, parent) {\n    return !types.includes(node.type);\n  }\n};\n\nexports.ifNotMatch = ifNotMatch;\n\nfunction ifNotMatch(allow, mode) {\n  return transform;\n\n  function transform(tree) {\n    visit(tree, filter);\n    return tree;\n  } // eslint-disable-next-line consistent-return\n\n\n  function filter(node, index, parent) {\n    if (parent && !allow(node, index, parent)) {\n      var parameters = [index, 1];\n\n      if (mode === 'unwrap' && node.children) {\n        parameters = parameters.concat(node.children);\n      }\n\n      splice.apply(parent.children, parameters);\n      return index;\n    }\n  }\n}","'use strict';\n\nvar React = require('react');\n\nvar xtend = require('xtend');\n\nvar ReactIs = require('react-is');\n\nfunction astToReact(node, options) {\n  var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var renderer = options.renderers[node.type]; // Nodes created by plugins do not have positional info, in which case we set\n  // an object that matches the positon interface.\n\n  if (!node.position) {\n    node.position = {\n      start: {\n        line: null,\n        column: null,\n        offset: null\n      },\n      end: {\n        line: null,\n        column: null,\n        offset: null\n      }\n    };\n  }\n\n  var pos = node.position.start;\n  var key = [node.type, pos.line, pos.column, index].join('-');\n\n  if (!ReactIs.isValidElementType(renderer)) {\n    throw new Error(\"Renderer for type `\".concat(node.type, \"` not defined or is not renderable\"));\n  }\n\n  var nodeProps = getNodeProps(node, key, options, renderer, parent, index);\n  return React.createElement(renderer, nodeProps, nodeProps.children || resolveChildren() || undefined);\n\n  function resolveChildren() {\n    return node.children && node.children.map(function (childNode, i) {\n      return astToReact(childNode, options, {\n        node: node,\n        props: nodeProps\n      }, i);\n    });\n  }\n} // eslint-disable-next-line max-params, complexity\n\n\nfunction getNodeProps(node, key, opts, renderer, parent, index) {\n  var props = {\n    key: key\n  };\n  var isSimpleRenderer = typeof renderer === 'string' || renderer === React.Fragment; // `sourcePos` is true if the user wants source information (line/column info from markdown source)\n\n  if (opts.sourcePos && node.position) {\n    props['data-sourcepos'] = flattenPosition(node.position);\n  }\n\n  if (opts.rawSourcePos && !isSimpleRenderer) {\n    props.sourcePosition = node.position;\n  } // If `includeNodeIndex` is true, pass node index info to all non-tag renderers\n\n\n  if (opts.includeNodeIndex && parent.node && parent.node.children && !isSimpleRenderer) {\n    props.index = parent.node.children.indexOf(node);\n    props.parentChildCount = parent.node.children.length;\n  }\n\n  var ref = node.identifier !== null && node.identifier !== undefined ?\n  /* istanbul ignore next - plugins could inject an undefined reference. */\n  opts.definitions[node.identifier.toUpperCase()] || {} : null;\n\n  switch (node.type) {\n    case 'root':\n      assignDefined(props, {\n        className: opts.className\n      });\n      break;\n\n    case 'text':\n      props.nodeKey = key;\n      props.children = node.value;\n      break;\n\n    case 'heading':\n      props.level = node.depth;\n      break;\n\n    case 'list':\n      props.start = node.start;\n      props.ordered = node.ordered;\n      props.spread = node.spread;\n      props.depth = node.depth;\n      break;\n\n    case 'listItem':\n      props.checked = node.checked;\n      props.spread = node.spread;\n      props.ordered = node.ordered;\n      props.index = node.index;\n      props.children = getListItemChildren(node, parent).map(function (childNode, i) {\n        return astToReact(childNode, opts, {\n          node: node,\n          props: props\n        }, i);\n      });\n      break;\n\n    case 'definition':\n      assignDefined(props, {\n        identifier: node.identifier,\n        title: node.title,\n        url: node.url\n      });\n      break;\n\n    case 'code':\n      assignDefined(props, {\n        language: node.lang && node.lang.split(/\\s/, 1)[0]\n      });\n      break;\n\n    case 'inlineCode':\n      props.children = node.value;\n      props.inline = true;\n      break;\n\n    case 'link':\n      assignDefined(props, {\n        title: node.title || undefined,\n        target: typeof opts.linkTarget === 'function' ? opts.linkTarget(node.url, node.children, node.title) : opts.linkTarget,\n        href: opts.transformLinkUri ? opts.transformLinkUri(node.url, node.children, node.title) : node.url\n      });\n      break;\n\n    case 'image':\n      assignDefined(props, {\n        src: opts.transformImageUri ? opts.transformImageUri(node.url, node.children, node.title, node.alt) : node.url,\n        alt: node.alt || '',\n        title: node.title || undefined\n      });\n      break;\n\n    case 'linkReference':\n      assignDefined(props, xtend(ref, {\n        href: opts.transformLinkUri ? opts.transformLinkUri(ref.href) : ref.href\n      }));\n      break;\n\n    case 'imageReference':\n      assignDefined(props, {\n        src: opts.transformImageUri && ref.href ? opts.transformImageUri(ref.href, node.children, ref.title, node.alt) : ref.href,\n        alt: node.alt || '',\n        title: ref.title || undefined\n      });\n      break;\n\n    case 'table':\n    case 'tableHead':\n    case 'tableBody':\n      props.columnAlignment = node.align;\n      break;\n\n    case 'tableRow':\n      props.isHeader = parent.node.type === 'tableHead';\n      props.columnAlignment = parent.props.columnAlignment;\n      break;\n\n    case 'tableCell':\n      assignDefined(props, {\n        isHeader: parent.props.isHeader,\n        align: parent.props.columnAlignment[index]\n      });\n      break;\n\n    case 'virtualHtml':\n      props.tag = node.tag;\n      break;\n\n    case 'html':\n      // @todo find a better way than this\n      props.isBlock = node.position.start.line !== node.position.end.line;\n      props.allowDangerousHtml = opts.allowDangerousHtml;\n      props.escapeHtml = opts.escapeHtml;\n      props.skipHtml = opts.skipHtml;\n      break;\n\n    case 'parsedHtml':\n      {\n        var parsedChildren;\n\n        if (node.children) {\n          parsedChildren = node.children.map(function (child, i) {\n            return astToReact(child, opts, {\n              node: node,\n              props: props\n            }, i);\n          });\n        }\n\n        props.allowDangerousHtml = opts.allowDangerousHtml;\n        props.escapeHtml = opts.escapeHtml;\n        props.skipHtml = opts.skipHtml;\n        props.element = node.element ? mergeNodeChildren(node, parsedChildren) : null;\n        break;\n      }\n\n    default:\n      assignDefined(props, xtend(node, {\n        type: undefined,\n        position: undefined,\n        children: undefined\n      }));\n  }\n\n  if (!isSimpleRenderer && node.value) {\n    props.value = node.value;\n  }\n\n  if (!isSimpleRenderer) {\n    props.node = node;\n  }\n\n  return props;\n}\n\nfunction assignDefined(target, attrs) {\n  for (var key in attrs) {\n    if (typeof attrs[key] !== 'undefined') {\n      target[key] = attrs[key];\n    }\n  }\n}\n\nfunction mergeNodeChildren(node, parsedChildren) {\n  var el = node.element;\n\n  if (Array.isArray(el)) {\n    /* istanbul ignore next - `div` fallback for old React. */\n    var Fragment = React.Fragment || 'div';\n    return React.createElement(Fragment, null, el);\n  }\n\n  if (el.props.children || parsedChildren) {\n    var children = React.Children.toArray(el.props.children).concat(parsedChildren);\n    return React.cloneElement(el, null, children);\n  }\n\n  return React.cloneElement(el, null);\n}\n\nfunction flattenPosition(pos) {\n  return [pos.start.line, ':', pos.start.column, '-', pos.end.line, ':', pos.end.column].map(String).join('');\n}\n\nfunction getListItemChildren(node, parent) {\n  /* istanbul ignore next - list items are always in a list, but best to be sure. */\n  var loose = parent && parent.node ? listLoose(parent.node) : listItemLoose(node);\n  return loose ? node.children : unwrapParagraphs(node);\n}\n\nfunction unwrapParagraphs(node) {\n  return node.children.reduce(function (array, child) {\n    return array.concat(child.type === 'paragraph' ? child.children : [child]);\n  }, []);\n}\n\nfunction listLoose(node) {\n  var children = node.children;\n  var loose = node.spread;\n  var index = -1;\n\n  while (!loose && ++index < children.length) {\n    loose = listItemLoose(children[index]);\n  }\n\n  return loose;\n}\n\nfunction listItemLoose(node) {\n  var spread = node.spread;\n  /* istanbul ignore next - spread is present from remark-parse, but maybe plugins dont set it. */\n\n  return spread === undefined || spread === null ? node.children.length > 1 : spread;\n}\n\nmodule.exports = astToReact;","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function (node) {\n  visit(node, 'table', wrap);\n  return node;\n};\n\nfunction wrap(table) {\n  var children = table.children;\n  table.children = [{\n    type: 'tableHead',\n    align: table.align,\n    children: [children[0]],\n    position: children[0].position\n  }];\n\n  if (children.length > 1) {\n    table.children.push({\n      type: 'tableBody',\n      align: table.align,\n      children: children.slice(1),\n      position: {\n        start: children[1].position.start,\n        end: children[children.length - 1].position.end\n      }\n    });\n  }\n}","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function getDefinitions(tree) {\n  var definitions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  visit(tree, 'definition', function (node) {\n    var identifier = node.identifier.toUpperCase();\n    if (identifier in definitions) return;\n    definitions[identifier] = {\n      href: node.url,\n      title: node.title\n    };\n  });\n  return definitions;\n};","\"use strict\";\n\nvar protocols = ['http', 'https', 'mailto', 'tel'];\n\nmodule.exports = function uriTransformer(uri) {\n  var url = (uri || '').trim();\n  var first = url.charAt(0);\n\n  if (first === '#' || first === '/') {\n    return url;\n  }\n\n  var colon = url.indexOf(':');\n\n  if (colon === -1) {\n    return url;\n  }\n\n  var length = protocols.length;\n  var index = -1;\n\n  while (++index < length) {\n    var protocol = protocols[index];\n\n    if (colon === protocol.length && url.slice(0, protocol.length).toLowerCase() === protocol) {\n      return url;\n    }\n  }\n\n  index = url.indexOf('?');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  }\n\n  index = url.indexOf('#');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  } // eslint-disable-next-line no-script-url\n\n\n  return 'javascript:void(0)';\n};","/* eslint-disable react/prop-types, react/no-multi-comp */\n'use strict';\n\nvar xtend = require('xtend');\n\nvar React = require('react');\n/* istanbul ignore next - Dont crash on old React. */\n\n\nvar supportsStringRender = parseInt((React.version || '16').slice(0, 2), 10) >= 16;\nvar createElement = React.createElement;\nmodule.exports = {\n  break: 'br',\n  paragraph: 'p',\n  emphasis: 'em',\n  strong: 'strong',\n  thematicBreak: 'hr',\n  blockquote: 'blockquote',\n  delete: 'del',\n  link: 'a',\n  image: 'img',\n  linkReference: 'a',\n  imageReference: 'img',\n  table: SimpleRenderer.bind(null, 'table'),\n  tableHead: SimpleRenderer.bind(null, 'thead'),\n  tableBody: SimpleRenderer.bind(null, 'tbody'),\n  tableRow: SimpleRenderer.bind(null, 'tr'),\n  tableCell: TableCell,\n  root: Root,\n  text: TextRenderer,\n  list: List,\n  listItem: ListItem,\n  definition: NullRenderer,\n  heading: Heading,\n  inlineCode: InlineCode,\n  code: CodeBlock,\n  html: Html,\n  virtualHtml: VirtualHtml,\n  parsedHtml: ParsedHtml\n};\n\nfunction TextRenderer(props) {\n  /* istanbul ignore next - a text node w/o a value could be injected by plugins */\n  var children = props.children || '';\n  /* istanbul ignore next - `span` is a fallback for old React. */\n\n  return supportsStringRender ? children : createElement('span', null, children);\n}\n\nfunction Root(props) {\n  var className = props.className;\n  var root = !className && React.Fragment || 'div';\n  return createElement(root, className ? {\n    className: className\n  } : null, props.children);\n}\n\nfunction SimpleRenderer(tag, props) {\n  return createElement(tag, getCoreProps(props), props.children);\n}\n\nfunction TableCell(props) {\n  var style = props.align ? {\n    textAlign: props.align\n  } : undefined;\n  var coreProps = getCoreProps(props);\n  return createElement(props.isHeader ? 'th' : 'td', style ? xtend({\n    style: style\n  }, coreProps) : coreProps, props.children);\n}\n\nfunction Heading(props) {\n  return createElement(\"h\".concat(props.level), getCoreProps(props), props.children);\n}\n\nfunction List(props) {\n  var attrs = getCoreProps(props);\n\n  if (props.start !== null && props.start !== 1 && props.start !== undefined) {\n    attrs.start = props.start.toString();\n  }\n\n  return createElement(props.ordered ? 'ol' : 'ul', attrs, props.children);\n}\n\nfunction ListItem(props) {\n  var checkbox = null;\n\n  if (props.checked !== null && props.checked !== undefined) {\n    var checked = props.checked;\n    checkbox = createElement('input', {\n      type: 'checkbox',\n      checked: checked,\n      readOnly: true\n    });\n  }\n\n  return createElement('li', getCoreProps(props), checkbox, props.children);\n}\n\nfunction CodeBlock(props) {\n  var className = props.language && \"language-\".concat(props.language);\n  var code = createElement('code', className ? {\n    className: className\n  } : null, props.value);\n  return createElement('pre', getCoreProps(props), code);\n}\n\nfunction InlineCode(props) {\n  return createElement('code', getCoreProps(props), props.children);\n}\n\nfunction Html(props) {\n  if (props.skipHtml) {\n    return null;\n  }\n\n  var dangerous = props.allowDangerousHtml || props.escapeHtml === false;\n  var tag = props.isBlock ? 'div' : 'span';\n\n  if (!dangerous) {\n    /* istanbul ignore next - `tag` is a fallback for old React. */\n    return createElement(React.Fragment || tag, null, props.value);\n  }\n\n  var nodeProps = {\n    dangerouslySetInnerHTML: {\n      __html: props.value\n    }\n  };\n  return createElement(tag, nodeProps);\n}\n\nfunction ParsedHtml(props) {\n  /* To do: `React.cloneElement` is slow, is it really needed? */\n  return props['data-sourcepos'] ? React.cloneElement(props.element, {\n    'data-sourcepos': props['data-sourcepos']\n  }) : props.element;\n}\n\nfunction VirtualHtml(props) {\n  return createElement(props.tag, getCoreProps(props), props.children);\n}\n\nfunction NullRenderer() {\n  return null;\n}\n\nfunction getCoreProps(props) {\n  var source = props['data-sourcepos'];\n  /* istanbul ignore next - nodes from plugins w/o position */\n\n  return source ? {\n    'data-sourcepos': source\n  } : {};\n}","\"use strict\";\n\nvar HtmlParser = '__RMD_HTML_PARSER__';\n/* istanbul ignore next - Fallback for `Symbol`. */\n\nexports.HtmlParser = typeof Symbol === 'undefined' ? HtmlParser : Symbol(HtmlParser);","module.exports = require('./syntax')\n","var combine = require('micromark/dist/util/combine-extensions')\nvar autolink = require('micromark-extension-gfm-autolink-literal')\nvar strikethrough = require('micromark-extension-gfm-strikethrough')\nvar table = require('micromark-extension-gfm-table')\nvar tasklist = require('micromark-extension-gfm-task-list-item')\n\nmodule.exports = create\n\nfunction create(options) {\n  return combine([autolink, strikethrough(options), table, tasklist])\n}\n","module.exports = require('./syntax')\n","var asciiAlpha = require('micromark/dist/character/ascii-alpha')\nvar asciiAlphanumeric = require('micromark/dist/character/ascii-alphanumeric')\nvar asciiControl = require('micromark/dist/character/ascii-control')\nvar markdownLineEnding = require('micromark/dist/character/markdown-line-ending')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nvar www = {tokenize: tokenizeWww, partial: true}\nvar domain = {tokenize: tokenizeDomain, partial: true}\nvar path = {tokenize: tokenizePath, partial: true}\nvar punctuation = {tokenize: tokenizePunctuation, partial: true}\nvar namedCharacterReference = {\n  tokenize: tokenizeNamedCharacterReference,\n  partial: true\n}\n\nvar wwwAutolink = {tokenize: tokenizeWwwAutolink, previous: previousWww}\nvar httpAutolink = {tokenize: tokenizeHttpAutolink, previous: previousHttp}\nvar emailAutolink = {tokenize: tokenizeEmailAutolink, previous: previousEmail}\n\nvar text = {}\n\n// Export hooked constructs.\nexports.text = text\n\n// `0`\nvar code = 48\n\n// While the code is smaller than `{`.\nwhile (code < 123) {\n  text[code] = emailAutolink\n  code++\n  // Jump from `:` -> `A`\n  if (code === 58) code = 65\n  // Jump from `[` -> `a`\n  else if (code === 91) code = 97\n}\n\n// `+`\ntext[43] = emailAutolink\n// `-`\ntext[45] = emailAutolink\n// `.`\ntext[46] = emailAutolink\n// `_`\ntext[95] = emailAutolink\n// `h`.\ntext[72] = [emailAutolink, httpAutolink]\ntext[104] = [emailAutolink, httpAutolink]\n// `w`.\ntext[87] = [emailAutolink, wwwAutolink]\ntext[119] = [emailAutolink, wwwAutolink]\n\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  var self = this\n  var hasDot\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      !gfmAtext(code) ||\n      !previousEmail(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkEmail')\n    return atext(code)\n  }\n\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code)\n      return atext\n    }\n\n    // `@`\n    if (code === 64) {\n      effects.consume(code)\n      return label\n    }\n\n    return nok(code)\n  }\n\n  function label(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, done, dotContinuation)(code)\n    }\n\n    if (\n      // `-`\n      code === 45 ||\n      // `_`\n      code === 95\n    ) {\n      return effects.check(punctuation, nok, dashOrUnderscoreContinuation)(code)\n    }\n\n    if (asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return label\n    }\n\n    return done(code)\n  }\n\n  function dotContinuation(code) {\n    effects.consume(code)\n    hasDot = true\n    return label\n  }\n\n  function dashOrUnderscoreContinuation(code) {\n    effects.consume(code)\n    return afterDashOrUnderscore\n  }\n\n  function afterDashOrUnderscore(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, nok, dotContinuation)(code)\n    }\n\n    return label(code)\n  }\n\n  function done(code) {\n    if (hasDot) {\n      effects.exit('literalAutolinkEmail')\n      effects.exit('literalAutolink')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 87 && code - 32 !== 87) ||\n      !previousWww(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkWww')\n    // For `www.` we check instead of attempt, because when it matches, GH\n    // treats it as part of a domain (yes, it says a valid domain must come\n    // after `www.`, but thats not how its implemented by them).\n    return effects.check(\n      www,\n      effects.attempt(domain, effects.attempt(path, done), nok),\n      nok\n    )(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkWww')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeHttpAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 72 && code - 32 !== 72) ||\n      !previousHttp(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkHttp')\n    effects.consume(code)\n    return t1\n  }\n\n  function t1(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return t2\n    }\n\n    return nok(code)\n  }\n\n  function t2(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return p\n    }\n\n    return nok(code)\n  }\n\n  function p(code) {\n    // `p`\n    if (code === 80 || code - 32 === 80) {\n      effects.consume(code)\n      return s\n    }\n\n    return nok(code)\n  }\n\n  function s(code) {\n    // `s`\n    if (code === 83 || code - 32 === 83) {\n      effects.consume(code)\n      return colon\n    }\n\n    return colon(code)\n  }\n\n  function colon(code) {\n    // `:`\n    if (code === 58) {\n      effects.consume(code)\n      return slash1\n    }\n\n    return nok(code)\n  }\n\n  function slash1(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return slash2\n    }\n\n    return nok(code)\n  }\n\n  function slash2(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      unicodePunctuation(code)\n      ? nok(code)\n      : effects.attempt(domain, effects.attempt(path, done), nok)(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkHttp')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeWww(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume a `w`.\n    effects.consume(code)\n    return w2\n  }\n\n  function w2(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return w3\n    }\n\n    return nok(code)\n  }\n\n  function w3(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return dot\n    }\n\n    return nok(code)\n  }\n\n  function dot(code) {\n    // `.`\n    if (code === 46) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? nok(code) : ok(code)\n  }\n}\n\nfunction tokenizeDomain(effects, ok, nok) {\n  var hasUnderscoreInLastSegment\n  var hasUnderscoreInLastLastSegment\n\n  return domain\n\n  function domain(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        done,\n        punctuationContinuation\n      )(code)\n    }\n\n    if (code === 46 /* `.` */ || code === 95 /* `_` */) {\n      return effects.check(punctuation, done, punctuationContinuation)(code)\n    }\n\n    // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www..com`,\n    // so thats Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n    if (\n      asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      (code !== 45 /* `-` */ && unicodePunctuation(code))\n    ) {\n      return done(code)\n    }\n\n    effects.consume(code)\n    return domain\n  }\n\n  function punctuationContinuation(code) {\n    // `.`\n    if (code === 46) {\n      hasUnderscoreInLastLastSegment = hasUnderscoreInLastSegment\n      hasUnderscoreInLastSegment = undefined\n      effects.consume(code)\n      return domain\n    }\n\n    // `_`\n    if (code === 95) hasUnderscoreInLastSegment = true\n\n    effects.consume(code)\n    return domain\n  }\n\n  function done(code) {\n    if (!hasUnderscoreInLastLastSegment && !hasUnderscoreInLastSegment) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizePath(effects, ok) {\n  var balance = 0\n\n  return inPath\n\n  function inPath(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        ok,\n        continuedPunctuation\n      )(code)\n    }\n\n    // `(`\n    if (code === 40) {\n      balance++\n    }\n\n    // `)`\n    if (code === 41) {\n      return effects.check(\n        punctuation,\n        parenAtPathEnd,\n        continuedPunctuation\n      )(code)\n    }\n\n    if (pathEnd(code)) {\n      return ok(code)\n    }\n\n    if (trailingPunctuation(code)) {\n      return effects.check(punctuation, ok, continuedPunctuation)(code)\n    }\n\n    effects.consume(code)\n    return inPath\n  }\n\n  function continuedPunctuation(code) {\n    effects.consume(code)\n    return inPath\n  }\n\n  function parenAtPathEnd(code) {\n    balance--\n    return balance < 0 ? ok(code) : continuedPunctuation(code)\n  }\n}\n\nfunction tokenizeNamedCharacterReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume an ampersand.\n    effects.consume(code)\n    return inside\n  }\n\n  function inside(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return inside\n    }\n\n    // `;`\n    if (code === 59) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    // If the named character reference is followed by the end of the path, its\n    // not continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction tokenizePunctuation(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Always a valid trailing punctuation marker.\n    effects.consume(code)\n    return after\n  }\n\n  function after(code) {\n    // Check the next.\n    if (trailingPunctuation(code)) {\n      effects.consume(code)\n      return after\n    }\n\n    // If the punctuation marker is followed by the end of the path, its not\n    // continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction trailingPunctuation(code) {\n  return (\n    // `!`\n    code === 33 ||\n    // `\"`\n    code === 34 ||\n    // `'`\n    code === 39 ||\n    // `)`\n    code === 41 ||\n    // `*`\n    code === 42 ||\n    // `,`\n    code === 44 ||\n    // `.`\n    code === 46 ||\n    // `:`\n    code === 58 ||\n    // `;`\n    code === 59 ||\n    // `<`\n    code === 60 ||\n    // `?`\n    code === 63 ||\n    // `_`.\n    code === 95 ||\n    // `~`\n    code === 126\n  )\n}\n\nfunction pathEnd(code) {\n  return (\n    // EOF.\n    code === null ||\n    // CR, LF, CRLF, HT, VS.\n    code < 0 ||\n    // Space.\n    code === 32 ||\n    // `<`\n    code === 60\n  )\n}\n\nfunction gfmAtext(code) {\n  return (\n    code === 43 /* `+` */ ||\n    code === 45 /* `-` */ ||\n    code === 46 /* `.` */ ||\n    code === 95 /* `_` */ ||\n    asciiAlphanumeric(code)\n  )\n}\n\nfunction previousWww(code) {\n  return (\n    code === null ||\n    code < 0 ||\n    code === 32 /* ` ` */ ||\n    code === 40 /* `(` */ ||\n    code === 42 /* `*` */ ||\n    code === 95 /* `_` */ ||\n    code === 126 /* `~` */\n  )\n}\n\nfunction previousHttp(code) {\n  return code === null || !asciiAlpha(code)\n}\n\nfunction previousEmail(code) {\n  return code !== 47 /* `/` */ && previousHttp(code)\n}\n\nfunction previous(events) {\n  var index = events.length\n\n  while (index--) {\n    if (\n      (events[index][1].type === 'labelLink' ||\n        events[index][1].type === 'labelImage') &&\n      !events[index][1]._balanced\n    ) {\n      return true\n    }\n  }\n}\n","module.exports = create\n\nvar classifyCharacter = require('micromark/dist/util/classify-character')\nvar chunkedSplice = require('micromark/dist/util/chunked-splice')\nvar resolveAll = require('micromark/dist/util/resolve-all')\nvar shallow = require('micromark/dist/util/shallow')\n\nfunction create(options) {\n  var settings = options || {}\n  var single = settings.singleTilde\n  var tokenizer = {\n    tokenize: tokenizeStrikethrough,\n    resolveAll: resolveAllStrikethrough\n  }\n\n  if (single === null || single === undefined) {\n    single = true\n  }\n\n  return {text: {126: tokenizer}, insideSpan: {null: tokenizer}}\n\n  // Take events and resolve strikethrough.\n  function resolveAllStrikethrough(events, context) {\n    var index = -1\n    var strikethrough\n    var text\n    var open\n    var nextEvents\n\n    // Walk through all events.\n    while (++index < events.length) {\n      // Find a token that can close.\n      if (\n        events[index][0] === 'enter' &&\n        events[index][1].type === 'strikethroughSequenceTemporary' &&\n        events[index][1]._close\n      ) {\n        open = index\n\n        // Now walk back to find an opener.\n        while (open--) {\n          // Find a token that can open the closer.\n          if (\n            events[open][0] === 'exit' &&\n            events[open][1].type === 'strikethroughSequenceTemporary' &&\n            events[open][1]._open &&\n            // If the sizes are the same:\n            events[index][1].end.offset - events[index][1].start.offset ===\n              events[open][1].end.offset - events[open][1].start.offset\n          ) {\n            events[index][1].type = 'strikethroughSequence'\n            events[open][1].type = 'strikethroughSequence'\n\n            strikethrough = {\n              type: 'strikethrough',\n              start: shallow(events[open][1].start),\n              end: shallow(events[index][1].end)\n            }\n\n            text = {\n              type: 'strikethroughText',\n              start: shallow(events[open][1].end),\n              end: shallow(events[index][1].start)\n            }\n\n            // Opening.\n            nextEvents = [\n              ['enter', strikethrough, context],\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context],\n              ['enter', text, context]\n            ]\n\n            // Between.\n            chunkedSplice(\n              nextEvents,\n              nextEvents.length,\n              0,\n              resolveAll(\n                context.parser.constructs.insideSpan.null,\n                events.slice(open + 1, index),\n                context\n              )\n            )\n\n            // Closing.\n            chunkedSplice(nextEvents, nextEvents.length, 0, [\n              ['exit', text, context],\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context],\n              ['exit', strikethrough, context]\n            ])\n\n            chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n\n            index = open + nextEvents.length - 2\n            break\n          }\n        }\n      }\n    }\n\n    return removeRemainingSequences(events)\n  }\n\n  function removeRemainingSequences(events) {\n    var index = -1\n    var length = events.length\n\n    while (++index < length) {\n      if (events[index][1].type === 'strikethroughSequenceTemporary') {\n        events[index][1].type = 'data'\n      }\n    }\n\n    return events\n  }\n\n  function tokenizeStrikethrough(effects, ok, nok) {\n    var previous = this.previous\n    var events = this.events\n    var size = 0\n\n    return start\n\n    function start(code) {\n      if (\n        code !== 126 ||\n        (previous === 126 &&\n          events[events.length - 1][1].type !== 'characterEscape')\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('strikethroughSequenceTemporary')\n      return more(code)\n    }\n\n    function more(code) {\n      var before = classifyCharacter(previous)\n      var token\n      var after\n\n      if (code === 126) {\n        // If this is the third marker, exit.\n        if (size > 1) return nok(code)\n        effects.consume(code)\n        size++\n        return more\n      }\n\n      if (size < 2 && !single) return nok(code)\n      token = effects.exit('strikethroughSequenceTemporary')\n      after = classifyCharacter(code)\n      token._open = !after || (after === 2 && before)\n      token._close = !before || (before === 2 && after)\n      return ok(code)\n    }\n  }\n}\n","module.exports = require('./syntax')\n","exports.flow = {\n  null: {tokenize: tokenizeTable, resolve: resolveTable, interruptible: true}\n}\n\nvar createSpace = require('micromark/dist/tokenize/factory-space')\n\nvar setextUnderlineMini = {tokenize: tokenizeSetextUnderlineMini, partial: true}\nvar nextPrefixedOrBlank = {tokenize: tokenizeNextPrefixedOrBlank, partial: true}\n\nfunction resolveTable(events, context) {\n  var length = events.length\n  var index = -1\n  var token\n  var inHead\n  var inDelimiterRow\n  var inRow\n  var cell\n  var content\n  var text\n  var contentStart\n  var contentEnd\n  var cellStart\n\n  while (++index < length) {\n    token = events[index][1]\n\n    if (inRow) {\n      if (token.type === 'temporaryTableCellContent') {\n        contentStart = contentStart || index\n        contentEnd = index\n      }\n\n      if (\n        // Combine separate content parts into one.\n        (token.type === 'tableCellDivider' || token.type === 'tableRow') &&\n        contentEnd\n      ) {\n        content = {\n          type: 'tableContent',\n          start: events[contentStart][1].start,\n          end: events[contentEnd][1].end\n        }\n        text = {\n          type: 'chunkText',\n          start: content.start,\n          end: content.end,\n          contentType: 'text'\n        }\n\n        events.splice(\n          contentStart,\n          contentEnd - contentStart + 1,\n          ['enter', content, context],\n          ['enter', text, context],\n          ['exit', text, context],\n          ['exit', content, context]\n        )\n        index -= contentEnd - contentStart - 3\n        length = events.length\n        contentStart = undefined\n        contentEnd = undefined\n      }\n    }\n\n    if (\n      events[index][0] === 'exit' &&\n      cellStart &&\n      cellStart + 1 < index &&\n      (token.type === 'tableCellDivider' ||\n        (token.type === 'tableRow' &&\n          (cellStart + 3 < index ||\n            events[cellStart][1].type !== 'whitespace')))\n    ) {\n      cell = {\n        type: inDelimiterRow\n          ? 'tableDelimiter'\n          : inHead\n          ? 'tableHeader'\n          : 'tableData',\n        start: events[cellStart][1].start,\n        end: events[index][1].end\n      }\n      events.splice(index + (token.type === 'tableCellDivider' ? 1 : 0), 0, [\n        'exit',\n        cell,\n        context\n      ])\n      events.splice(cellStart, 0, ['enter', cell, context])\n      index += 2\n      length = events.length\n      cellStart = index + 1\n    }\n\n    if (token.type === 'tableRow') {\n      inRow = events[index][0] === 'enter'\n\n      if (inRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableDelimiterRow') {\n      inDelimiterRow = events[index][0] === 'enter'\n\n      if (inDelimiterRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableHead') {\n      inHead = events[index][0] === 'enter'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeTable(effects, ok, nok) {\n  var align = []\n  var tableHeaderCount = 0\n  var seenDelimiter\n  var hasDash\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore if - used to be passed in beta micromark versions. */\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return nok(code)\n    }\n\n    effects.enter('table')._align = align\n    effects.enter('tableHead')\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    tableHeaderCount++\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentHead(code)\n  }\n\n  function cellDividerHead(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    seenDelimiter = true\n    return cellBreakHead\n  }\n\n  function cellBreakHead(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndHead(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    if (seenDelimiter) {\n      seenDelimiter = undefined\n      tableHeaderCount++\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentHead(code)\n  }\n\n  function inWhitespaceHead(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    effects.exit('whitespace')\n    return cellBreakHead(code)\n  }\n\n  function inCellContentHead(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakHead(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeHead : inCellContentHead\n  }\n\n  function inCellContentEscapeHead(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentHead\n    }\n\n    // Anything else.\n    return inCellContentHead(code)\n  }\n\n  function atRowEndHead(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    effects.exit('tableRow')\n    effects.exit('tableHead')\n\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n\n    // If a setext heading, exit.\n    return effects.check(\n      setextUnderlineMini,\n      nok,\n      // Support an indent before the delimiter row.\n      createSpace(effects, rowStartDelimiter, 'linePrefix', 4)\n    )\n  }\n\n  function rowStartDelimiter(code) {\n    // If theres another space, or were at the EOL/EOF, exit.\n    if (code === null || code < 0 || code === 32) {\n      return nok(code)\n    }\n\n    effects.enter('tableDelimiterRow')\n    return atDelimiterRowBreak(code)\n  }\n\n  function atDelimiterRowBreak(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      align.push(null)\n      return inFillerDelimiter\n    }\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n      align.push('left')\n      return afterLeftAlignment\n    }\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function inWhitespaceDelimiter(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    effects.exit('whitespace')\n    return atDelimiterRowBreak(code)\n  }\n\n  function inFillerDelimiter(code) {\n    // `-`\n    if (code === 45) {\n      effects.consume(code)\n      return inFillerDelimiter\n    }\n\n    effects.exit('tableDelimiterFiller')\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n\n      align[align.length - 1] =\n        align[align.length - 1] === 'left' ? 'center' : 'right'\n\n      return afterRightAlignment\n    }\n\n    return atDelimiterRowBreak(code)\n  }\n\n  function afterLeftAlignment(code) {\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      return inFillerDelimiter\n    }\n\n    // Anything else is not ok.\n    return nok(code)\n  }\n\n  function afterRightAlignment(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `|`\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function rowEndDelimiter(code) {\n    effects.exit('tableDelimiterRow')\n\n    // Exit if there was no dash at all, or if the header cell count is not the\n    // delimiter cell count.\n    if (!hasDash || tableHeaderCount !== align.length) {\n      return nok(code)\n    }\n\n    if (code === null) {\n      return tableClose(code)\n    }\n\n    return effects.check(nextPrefixedOrBlank, tableClose, tableContinue)(code)\n  }\n\n  function tableClose(code) {\n    effects.exit('table')\n    return ok(code)\n  }\n\n  function tableContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // We checked that its not a prefixed or blank line, so were certain a\n    // body is coming, though it may be indented.\n    return createSpace(effects, bodyStart, 'linePrefix', 4)\n  }\n\n  function bodyStart(code) {\n    effects.enter('tableBody')\n    return rowStartBody(code)\n  }\n\n  function rowStartBody(code) {\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentBody(code)\n  }\n\n  function cellDividerBody(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    return cellBreakBody\n  }\n\n  function cellBreakBody(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndBody(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentBody(code)\n  }\n\n  function inWhitespaceBody(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    effects.exit('whitespace')\n    return cellBreakBody(code)\n  }\n\n  function inCellContentBody(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakBody(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeBody : inCellContentBody\n  }\n\n  function inCellContentEscapeBody(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentBody\n    }\n\n    // Anything else.\n    return inCellContentBody(code)\n  }\n\n  function atRowEndBody(code) {\n    effects.exit('tableRow')\n\n    if (code === null) {\n      return tableBodyClose(code)\n    }\n\n    return effects.check(\n      nextPrefixedOrBlank,\n      tableBodyClose,\n      tableBodyContinue\n    )(code)\n  }\n\n  function tableBodyClose(code) {\n    effects.exit('tableBody')\n    return tableClose(code)\n  }\n\n  function tableBodyContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // Support an optional prefix, then start a body row.\n    return createSpace(effects, rowStartBody, 'linePrefix', 4)\n  }\n}\n\n// Based on micromark, but that wont work as were in a table, and that expects\n// content.\n// <https://github.com/micromark/micromark/blob/main/lib/tokenize/setext-underline.js>\nfunction tokenizeSetextUnderlineMini(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // `-`\n    if (code !== 45) {\n      return nok(code)\n    }\n\n    effects.enter('setextUnderline')\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return sequence\n    }\n\n    return whitespace(code)\n  }\n\n  function whitespace(code) {\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return whitespace\n    }\n\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeNextPrefixedOrBlank(effects, ok, nok) {\n  var size = 0\n\n  return start\n\n  function start(code) {\n    // This is a check, so we dont care about tokens, but we open a bogus one\n    // so were valid.\n    effects.enter('check')\n    // EOL.\n    effects.consume(code)\n    return whitespace\n  }\n\n  function whitespace(code) {\n    // VS or SP.\n    if (code === -1 || code === 32) {\n      effects.consume(code)\n      size++\n      return size === 4 ? ok : whitespace\n    }\n\n    // EOF or whitespace\n    if (code === null || code < 0) {\n      return ok(code)\n    }\n\n    // Anything else.\n    return nok(code)\n  }\n}\n","module.exports = require('./syntax')\n","var markdownLineEndingOrSpace = require('micromark/dist/character/markdown-line-ending-or-space')\nvar spaceFactory = require('micromark/dist/tokenize/factory-space')\nvar prefixSize = require('micromark/dist/util/prefix-size')\n\nvar tasklistCheck = {tokenize: tokenizeTasklistCheck}\n\nexports.text = {91: tasklistCheck}\n\nfunction tokenizeTasklistCheck(effects, ok, nok) {\n  var self = this\n\n  return open\n\n  function open(code) {\n    if (\n      // Exit if not `[`.\n      code !== 91 ||\n      // Exit if theres stuff before.\n      self.previous !== null ||\n      // Exit if not in the first content that is the first child of a list\n      // item.\n      !self._gfmTasklistFirstContentOfListItem\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('taskListCheck')\n    effects.enter('taskListCheckMarker')\n    effects.consume(code)\n    effects.exit('taskListCheckMarker')\n    return inside\n  }\n\n  function inside(code) {\n    // Tab or space.\n    if (code === -2 || code === 32) {\n      effects.enter('taskListCheckValueUnchecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueUnchecked')\n      return close\n    }\n\n    // Upper- and lower `x`.\n    if (code === 88 || code === 120) {\n      effects.enter('taskListCheckValueChecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueChecked')\n      return close\n    }\n\n    return nok(code)\n  }\n\n  function close(code) {\n    // `]`\n    if (code === 93) {\n      effects.enter('taskListCheckMarker')\n      effects.consume(code)\n      effects.exit('taskListCheckMarker')\n      effects.exit('taskListCheck')\n      return effects.check({tokenize: spaceThenNonSpace}, ok, nok)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction spaceThenNonSpace(effects, ok, nok) {\n  var self = this\n\n  return spaceFactory(effects, after, 'whitespace')\n\n  function after(code) {\n    return prefixSize(self.events, 'whitespace') &&\n      code !== null &&\n      !markdownLineEndingOrSpace(code)\n      ? ok(code)\n      : nok(code)\n  }\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/from-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/from-markdown')\nvar table = require('mdast-util-gfm-table/from-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/from-markdown')\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = configure([\n  autolinkLiteral,\n  strikethrough,\n  table,\n  taskListItem\n])\n\nfunction configure(extensions) {\n  var config = {transforms: [], canContainEols: []}\n  var length = extensions.length\n  var index = -1\n\n  while (++index < length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n  var right\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n    right = extension[key]\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, right)\n    } else {\n      Object.assign(left, right)\n    }\n  }\n}\n","var ccount = require('ccount')\nvar findAndReplace = require('mdast-util-find-and-replace')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nexports.transforms = [transformGfmAutolinkLiterals]\nexports.enter = {\n  literalAutolink: enterLiteralAutolink,\n  literalAutolinkEmail: enterLiteralAutolinkValue,\n  literalAutolinkHttp: enterLiteralAutolinkValue,\n  literalAutolinkWww: enterLiteralAutolinkValue\n}\nexports.exit = {\n  literalAutolink: exitLiteralAutolink,\n  literalAutolinkEmail: exitLiteralAutolinkEmail,\n  literalAutolinkHttp: exitLiteralAutolinkHttp,\n  literalAutolinkWww: exitLiteralAutolinkWww\n}\n\nfunction enterLiteralAutolink(token) {\n  this.enter({type: 'link', title: null, url: '', children: []}, token)\n}\n\nfunction enterLiteralAutolinkValue(token) {\n  this.config.enter.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkHttp(token) {\n  this.config.exit.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkWww(token) {\n  this.config.exit.data.call(this, token)\n  this.stack[this.stack.length - 1].url = 'http://' + this.sliceSerialize(token)\n}\n\nfunction exitLiteralAutolinkEmail(token) {\n  this.config.exit.autolinkEmail.call(this, token)\n}\n\nfunction exitLiteralAutolink(token) {\n  this.exit(token)\n}\n\nfunction transformGfmAutolinkLiterals(tree) {\n  findAndReplace(\n    tree,\n    [\n      [/(https?:\\/\\/|www(?=\\.))([-.\\w]+)([^ \\t\\r\\n]*)/i, findUrl],\n      [/([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)/, findEmail]\n    ],\n    {ignore: ['link', 'linkReference']}\n  )\n}\n\nfunction findUrl($0, protocol, domain, path, match) {\n  var prefix = ''\n  var parts\n  var result\n\n  // Not an expected previous character.\n  if (!previous(match)) {\n    return false\n  }\n\n  // Treat `www` as part of the domain.\n  if (/^w/i.test(protocol)) {\n    domain = protocol + domain\n    protocol = ''\n    prefix = 'http://'\n  }\n\n  if (!isCorrectDomain(domain)) {\n    return false\n  }\n\n  parts = splitUrl(domain + path)\n\n  if (!parts[0]) return false\n\n  result = {\n    type: 'link',\n    title: null,\n    url: prefix + protocol + parts[0],\n    children: [{type: 'text', value: protocol + parts[0]}]\n  }\n\n  if (parts[1]) {\n    result = [result, {type: 'text', value: parts[1]}]\n  }\n\n  return result\n}\n\nfunction findEmail($0, atext, label, match) {\n  // Not an expected previous character.\n  if (!previous(match, true) || /[_-]$/.test(label)) {\n    return false\n  }\n\n  return {\n    type: 'link',\n    title: null,\n    url: 'mailto:' + atext + '@' + label,\n    children: [{type: 'text', value: atext + '@' + label}]\n  }\n}\n\nfunction isCorrectDomain(domain) {\n  var parts = domain.split('.')\n\n  if (\n    parts.length < 2 ||\n    (parts[parts.length - 1] &&\n      (/_/.test(parts[parts.length - 1]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 1]))) ||\n    (parts[parts.length - 2] &&\n      (/_/.test(parts[parts.length - 2]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 2])))\n  ) {\n    return false\n  }\n\n  return true\n}\n\nfunction splitUrl(url) {\n  var trail = /[!\"&'),.:;<>?\\]}]+$/.exec(url)\n  var closingParenIndex\n  var openingParens\n  var closingParens\n\n  if (trail) {\n    url = url.slice(0, trail.index)\n    trail = trail[0]\n    closingParenIndex = trail.indexOf(')')\n    openingParens = ccount(url, '(')\n    closingParens = ccount(url, ')')\n\n    while (closingParenIndex !== -1 && openingParens > closingParens) {\n      url += trail.slice(0, closingParenIndex + 1)\n      trail = trail.slice(closingParenIndex + 1)\n      closingParenIndex = trail.indexOf(')')\n      closingParens++\n    }\n  }\n\n  return [url, trail]\n}\n\nfunction previous(match, email) {\n  var code = match.input.charCodeAt(match.index - 1)\n  return (\n    (code !== code || unicodeWhitespace(code) || unicodePunctuation(code)) &&\n    (!email || code !== 47)\n  )\n}\n","'use strict'\n\nmodule.exports = ccount\n\nfunction ccount(source, character) {\n  var value = String(source)\n  var count = 0\n  var index\n\n  if (typeof character !== 'string') {\n    throw new Error('Expected character')\n  }\n\n  index = value.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = value.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","'use strict'\n\nmodule.exports = findAndReplace\n\nvar visit = require('unist-util-visit-parents')\nvar convert = require('unist-util-is/convert')\nvar escape = require('escape-string-regexp')\n\nvar splice = [].splice\n\nfunction findAndReplace(tree, find, replace, options) {\n  var settings\n  var schema\n\n  if (typeof find === 'string' || (find && typeof find.exec === 'function')) {\n    schema = [[find, replace]]\n  } else {\n    schema = find\n    options = replace\n  }\n\n  settings = options || {}\n\n  search(tree, settings, handlerFactory(toPairs(schema)))\n\n  return tree\n\n  function handlerFactory(pairs) {\n    var pair = pairs[0]\n\n    return handler\n\n    function handler(node, parent) {\n      var find = pair[0]\n      var replace = pair[1]\n      var nodes = []\n      var start = 0\n      var index = parent.children.indexOf(node)\n      var position\n      var match\n      var subhandler\n      var value\n\n      find.lastIndex = 0\n\n      match = find.exec(node.value)\n\n      while (match) {\n        position = match.index\n        value = replace.apply(\n          null,\n          [].concat(match, {index: match.index, input: match.input})\n        )\n\n        if (value !== false) {\n          if (start !== position) {\n            nodes.push({type: 'text', value: node.value.slice(start, position)})\n          }\n\n          if (typeof value === 'string' && value.length > 0) {\n            value = {type: 'text', value: value}\n          }\n\n          if (value) {\n            nodes = [].concat(nodes, value)\n          }\n\n          start = position + match[0].length\n        }\n\n        if (!find.global) {\n          break\n        }\n\n        match = find.exec(node.value)\n      }\n\n      if (position === undefined) {\n        nodes = [node]\n        index--\n      } else {\n        if (start < node.value.length) {\n          nodes.push({type: 'text', value: node.value.slice(start)})\n        }\n\n        nodes.unshift(index, 1)\n        splice.apply(parent.children, nodes)\n      }\n\n      if (pairs.length > 1) {\n        subhandler = handlerFactory(pairs.slice(1))\n        position = -1\n\n        while (++position < nodes.length) {\n          node = nodes[position]\n\n          if (node.type === 'text') {\n            subhandler(node, parent)\n          } else {\n            search(node, settings, subhandler)\n          }\n        }\n      }\n\n      return index + nodes.length + 1\n    }\n  }\n}\n\nfunction search(tree, settings, handler) {\n  var ignored = convert(settings.ignore || [])\n  var result = []\n\n  visit(tree, 'text', visitor)\n\n  return result\n\n  function visitor(node, parents) {\n    var index = -1\n    var parent\n    var grandparent\n\n    while (++index < parents.length) {\n      parent = parents[index]\n\n      if (\n        ignored(\n          parent,\n          grandparent ? grandparent.children.indexOf(parent) : undefined,\n          grandparent\n        )\n      ) {\n        return\n      }\n\n      grandparent = parent\n    }\n\n    return handler(node, grandparent)\n  }\n}\n\nfunction toPairs(schema) {\n  var result = []\n  var key\n  var index\n\n  if (typeof schema !== 'object') {\n    throw new Error('Expected array or object as schema')\n  }\n\n  if ('length' in schema) {\n    index = -1\n\n    while (++index < schema.length) {\n      result.push([\n        toExpression(schema[index][0]),\n        toFunction(schema[index][1])\n      ])\n    }\n  } else {\n    for (key in schema) {\n      result.push([toExpression(key), toFunction(schema[key])])\n    }\n  }\n\n  return result\n}\n\nfunction toExpression(find) {\n  return typeof find === 'string' ? new RegExp(escape(find), 'g') : find\n}\n\nfunction toFunction(replace) {\n  return typeof replace === 'function' ? replace : returner\n\n  function returner() {\n    return replace\n  }\n}\n","'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when its always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n","exports.canContainEols = ['delete']\nexports.enter = {strikethrough: enterStrikethrough}\nexports.exit = {strikethrough: exitStrikethrough}\n\nfunction enterStrikethrough(token) {\n  this.enter({type: 'delete', children: []}, token)\n}\n\nfunction exitStrikethrough(token) {\n  this.exit(token)\n}\n","exports.enter = {\n  table: enterTable,\n  tableData: enterCell,\n  tableHeader: enterCell,\n  tableRow: enterRow\n}\nexports.exit = {\n  codeText: exitCodeText,\n  table: exitTable,\n  tableData: exit,\n  tableHeader: exit,\n  tableRow: exit\n}\n\nfunction enterTable(token) {\n  this.enter({type: 'table', align: token._align, children: []}, token)\n  this.setData('inTable', true)\n}\n\nfunction exitTable(token) {\n  this.exit(token)\n  this.setData('inTable')\n}\n\nfunction enterRow(token) {\n  this.enter({type: 'tableRow', children: []}, token)\n}\n\nfunction exit(token) {\n  this.exit(token)\n}\n\nfunction enterCell(token) {\n  this.enter({type: 'tableCell', children: []}, token)\n}\n\n// Overwrite the default code text data handler to unescape escaped pipes when\n// they are in tables.\nfunction exitCodeText(token) {\n  var value = this.resume()\n\n  if (this.getData('inTable')) {\n    value = value.replace(/\\\\([\\\\|])/g, replace)\n  }\n\n  this.stack[this.stack.length - 1].value = value\n  this.exit(token)\n}\n\nfunction replace($0, $1) {\n  // Pipes work, backslashes dont (but cant escape pipes).\n  return $1 === '|' ? $1 : $0\n}\n","exports.exit = {\n  taskListCheckValueChecked: exitCheck,\n  taskListCheckValueUnchecked: exitCheck,\n  paragraph: exitParagraphWithTaskListItem\n}\n\nfunction exitCheck(token) {\n  // Were always in a paragraph, in a list item.\n  this.stack[this.stack.length - 2].checked =\n    token.type === 'taskListCheckValueChecked'\n}\n\nfunction exitParagraphWithTaskListItem(token) {\n  var parent = this.stack[this.stack.length - 2]\n  var node = this.stack[this.stack.length - 1]\n  var siblings = parent.children\n  var head = node.children[0]\n  var index = -1\n  var firstParaghraph\n\n  if (\n    parent &&\n    parent.type === 'listItem' &&\n    typeof parent.checked === 'boolean' &&\n    head &&\n    head.type === 'text'\n  ) {\n    while (++index < siblings.length) {\n      if (siblings[index].type === 'paragraph') {\n        firstParaghraph = siblings[index]\n        break\n      }\n    }\n\n    if (firstParaghraph === node) {\n      // Must start with a space or a tab.\n      head.value = head.value.slice(1)\n\n      if (head.value.length === 0) {\n        node.children.shift()\n      } else {\n        head.position.start.column++\n        head.position.start.offset++\n        node.position.start = Object.assign({}, head.position.start)\n      }\n    }\n  }\n\n  this.exit(token)\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/to-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/to-markdown')\nvar table = require('mdast-util-gfm-table/to-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/to-markdown')\nvar configure = require('mdast-util-to-markdown/lib/configure')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var config = configure(\n    {handlers: {}, join: [], unsafe: [], options: {}},\n    {\n      extensions: [autolinkLiteral, strikethrough, table(options), taskListItem]\n    }\n  )\n\n  return Object.assign(config.options, {\n    handlers: config.handlers,\n    join: config.join,\n    unsafe: config.unsafe\n  })\n}\n","var inConstruct = 'phrasing'\nvar notInConstruct = ['autolink', 'link', 'image', 'label']\n\nexports.unsafe = [\n  {\n    character: '@',\n    before: '[+\\\\-.\\\\w]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: '.',\n    before: '[Ww]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: ':',\n    before: '[ps]',\n    after: '\\\\/',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  }\n]\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\n\nexports.unsafe = [{character: '~', inConstruct: 'phrasing'}]\nexports.handlers = {delete: handleDelete}\n\nhandleDelete.peek = peekDelete\n\nfunction handleDelete(node, _, context) {\n  var exit = context.enter('emphasis')\n  var value = phrasing(node, context, {before: '~', after: '~'})\n  exit()\n  return '~~' + value + '~~'\n}\n\nfunction peekDelete() {\n  return '~'\n}\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\nvar defaultInlineCode = require('mdast-util-to-markdown/lib/handle/inline-code')\nvar markdownTable = require('markdown-table')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var settings = options || {}\n  var padding = settings.tableCellPadding\n  var alignDelimiters = settings.tablePipeAlign\n  var stringLength = settings.stringLength\n  var around = padding ? ' ' : '|'\n\n  return {\n    unsafe: [\n      {character: '\\r', inConstruct: 'tableCell'},\n      {character: '\\n', inConstruct: 'tableCell'},\n      // A pipe, when followed by a tab or space (padding), or a dash or colon\n      // (unpadded delimiter row), could result in a table.\n      {atBreak: true, character: '|', after: '[\\t :-]'},\n      // A pipe in a cell must be encoded.\n      {character: '|', inConstruct: 'tableCell'},\n      // A colon must be followed by a dash, in which case it could start a\n      // delimiter row.\n      {atBreak: true, character: ':', after: '-'},\n      // A delimiter row can also start with a dash, when followed by more\n      // dashes, a colon, or a pipe.\n      // This is a stricter version than the built in check for lists, thematic\n      // breaks, and setex heading underlines though:\n      // <https://github.com/syntax-tree/mdast-util-to-markdown/blob/51a2038/lib/unsafe.js#L57>\n      {atBreak: true, character: '-', after: '[:|-]'}\n    ],\n    handlers: {\n      table: handleTable,\n      tableRow: handleTableRow,\n      tableCell: handleTableCell,\n      inlineCode: inlineCodeWithTable\n    }\n  }\n\n  function handleTable(node, _, context) {\n    return serializeData(handleTableAsData(node, context), node.align)\n  }\n\n  // This function isnt really used normally, because we handle rows at the\n  // table level.\n  // But, if someone passes in a table row, this ensures we make somewhat sense.\n  function handleTableRow(node, _, context) {\n    var row = handleTableRowAsData(node, context)\n    // `markdown-table` will always add an align row\n    var value = serializeData([row])\n    return value.slice(0, value.indexOf('\\n'))\n  }\n\n  function handleTableCell(node, _, context) {\n    var exit = context.enter('tableCell')\n    var value = phrasing(node, context, {before: around, after: around})\n    exit()\n    return value\n  }\n\n  function serializeData(matrix, align) {\n    return markdownTable(matrix, {\n      align: align,\n      alignDelimiters: alignDelimiters,\n      padding: padding,\n      stringLength: stringLength\n    })\n  }\n\n  function handleTableAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('table')\n\n    while (++index < length) {\n      result[index] = handleTableRowAsData(children[index], context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function handleTableRowAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('tableRow')\n\n    while (++index < length) {\n      result[index] = handleTableCell(children[index], node, context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function inlineCodeWithTable(node, parent, context) {\n    var value = defaultInlineCode(node, parent, context)\n\n    if (context.stack.indexOf('tableCell') !== -1) {\n      value = value.replace(/\\|/g, '\\\\$&')\n    }\n\n    return value\n  }\n}\n","module.exports = inlineCode\ninlineCode.peek = inlineCodePeek\n\nvar patternCompile = require('../util/pattern-compile')\n\nfunction inlineCode(node, parent, context) {\n  var value = node.value || ''\n  var sequence = '`'\n  var index = -1\n  var pattern\n  var expression\n  var match\n  var position\n\n  // If there is a single grave accent on its own in the code, use a fence of\n  // two.\n  // If there are two in a row, use one.\n  while (new RegExp('(^|[^`])' + sequence + '([^`]|$)').test(value)) {\n    sequence += '`'\n  }\n\n  // If this is not just spaces or eols (tabs dont count), and either the\n  // first or last character are a space, eol, or tick, then pad with spaces.\n  if (\n    /[^ \\r\\n]/.test(value) &&\n    (/[ \\r\\n`]/.test(value.charAt(0)) ||\n      /[ \\r\\n`]/.test(value.charAt(value.length - 1)))\n  ) {\n    value = ' ' + value + ' '\n  }\n\n  // We have a potential problem: certain characters after eols could result in\n  // blocks being seen.\n  // For example, if someone injected the string `'\\n# b'`, then that would\n  // result in an ATX heading.\n  // We cant escape characters in `inlineCode`, but because eols are\n  // transformed to spaces when going from markdown to HTML anyway, we can swap\n  // them out.\n  while (++index < context.unsafe.length) {\n    pattern = context.unsafe[index]\n\n    // Only look for `atBreak`s.\n    // Btw: note that `atBreak` patterns will always start the regex at LF or\n    // CR.\n    if (!pattern.atBreak) continue\n\n    expression = patternCompile(pattern)\n\n    while ((match = expression.exec(value))) {\n      position = match.index\n\n      // Support CRLF (patterns only look for one of the characters).\n      if (\n        value.charCodeAt(position) === 10 /* `\\n` */ &&\n        value.charCodeAt(position - 1) === 13 /* `\\r` */\n      ) {\n        position--\n      }\n\n      value = value.slice(0, position) + ' ' + value.slice(match.index + 1)\n    }\n  }\n\n  return sequence + value + sequence\n}\n\nfunction inlineCodePeek() {\n  return '`'\n}\n","module.exports = patternCompile\n\nfunction patternCompile(pattern) {\n  var before\n  var after\n\n  if (!pattern._compiled) {\n    before = pattern.before ? '(?:' + pattern.before + ')' : ''\n    after = pattern.after ? '(?:' + pattern.after + ')' : ''\n\n    if (pattern.atBreak) {\n      before = '[\\\\r\\\\n][\\\\t ]*' + before\n    }\n\n    pattern._compiled = new RegExp(\n      (before ? '(' + before + ')' : '') +\n        (/[|\\\\{}()[\\]^$+*?.-]/.test(pattern.character) ? '\\\\' : '') +\n        pattern.character +\n        (after || ''),\n      'g'\n    )\n  }\n\n  return pattern._compiled\n}\n","'use strict'\n\nvar repeat = require('repeat-string')\n\nmodule.exports = markdownTable\n\nvar trailingWhitespace = / +$/\n\n// Characters.\nvar space = ' '\nvar lineFeed = '\\n'\nvar dash = '-'\nvar colon = ':'\nvar verticalBar = '|'\n\nvar x = 0\nvar C = 67\nvar L = 76\nvar R = 82\nvar c = 99\nvar l = 108\nvar r = 114\n\n// Create a table from a matrix of strings.\nfunction markdownTable(table, options) {\n  var settings = options || {}\n  var padding = settings.padding !== false\n  var start = settings.delimiterStart !== false\n  var end = settings.delimiterEnd !== false\n  var align = (settings.align || []).concat()\n  var alignDelimiters = settings.alignDelimiters !== false\n  var alignments = []\n  var stringLength = settings.stringLength || defaultStringLength\n  var rowIndex = -1\n  var rowLength = table.length\n  var cellMatrix = []\n  var sizeMatrix = []\n  var row = []\n  var sizes = []\n  var longestCellByColumn = []\n  var mostCellsPerRow = 0\n  var cells\n  var columnIndex\n  var columnLength\n  var largest\n  var size\n  var cell\n  var lines\n  var line\n  var before\n  var after\n  var code\n\n  // This is a superfluous loop if we dont align delimiters, but otherwise wed\n  // do superfluous work when aligning, so optimize for aligning.\n  while (++rowIndex < rowLength) {\n    cells = table[rowIndex]\n    columnIndex = -1\n    columnLength = cells.length\n    row = []\n    sizes = []\n\n    if (columnLength > mostCellsPerRow) {\n      mostCellsPerRow = columnLength\n    }\n\n    while (++columnIndex < columnLength) {\n      cell = serialize(cells[columnIndex])\n\n      if (alignDelimiters === true) {\n        size = stringLength(cell)\n        sizes[columnIndex] = size\n\n        largest = longestCellByColumn[columnIndex]\n\n        if (largest === undefined || size > largest) {\n          longestCellByColumn[columnIndex] = size\n        }\n      }\n\n      row.push(cell)\n    }\n\n    cellMatrix[rowIndex] = row\n    sizeMatrix[rowIndex] = sizes\n  }\n\n  // Figure out which alignments to use.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n\n  if (typeof align === 'object' && 'length' in align) {\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = toAlignment(align[columnIndex])\n    }\n  } else {\n    code = toAlignment(align)\n\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = code\n    }\n  }\n\n  // Inject the alignment row.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n  row = []\n  sizes = []\n\n  while (++columnIndex < columnLength) {\n    code = alignments[columnIndex]\n    before = ''\n    after = ''\n\n    if (code === l) {\n      before = colon\n    } else if (code === r) {\n      after = colon\n    } else if (code === c) {\n      before = colon\n      after = colon\n    }\n\n    // There *must* be at least one hyphen-minus in each alignment cell.\n    size = alignDelimiters\n      ? Math.max(\n          1,\n          longestCellByColumn[columnIndex] - before.length - after.length\n        )\n      : 1\n\n    cell = before + repeat(dash, size) + after\n\n    if (alignDelimiters === true) {\n      size = before.length + size + after.length\n\n      if (size > longestCellByColumn[columnIndex]) {\n        longestCellByColumn[columnIndex] = size\n      }\n\n      sizes[columnIndex] = size\n    }\n\n    row[columnIndex] = cell\n  }\n\n  // Inject the alignment row.\n  cellMatrix.splice(1, 0, row)\n  sizeMatrix.splice(1, 0, sizes)\n\n  rowIndex = -1\n  rowLength = cellMatrix.length\n  lines = []\n\n  while (++rowIndex < rowLength) {\n    row = cellMatrix[rowIndex]\n    sizes = sizeMatrix[rowIndex]\n    columnIndex = -1\n    columnLength = mostCellsPerRow\n    line = []\n\n    while (++columnIndex < columnLength) {\n      cell = row[columnIndex] || ''\n      before = ''\n      after = ''\n\n      if (alignDelimiters === true) {\n        size = longestCellByColumn[columnIndex] - (sizes[columnIndex] || 0)\n        code = alignments[columnIndex]\n\n        if (code === r) {\n          before = repeat(space, size)\n        } else if (code === c) {\n          if (size % 2 === 0) {\n            before = repeat(space, size / 2)\n            after = before\n          } else {\n            before = repeat(space, size / 2 + 0.5)\n            after = repeat(space, size / 2 - 0.5)\n          }\n        } else {\n          after = repeat(space, size)\n        }\n      }\n\n      if (start === true && columnIndex === 0) {\n        line.push(verticalBar)\n      }\n\n      if (\n        padding === true &&\n        // Dont add the opening space if were not aligning and the cell is\n        // empty: there will be a closing space.\n        !(alignDelimiters === false && cell === '') &&\n        (start === true || columnIndex !== 0)\n      ) {\n        line.push(space)\n      }\n\n      if (alignDelimiters === true) {\n        line.push(before)\n      }\n\n      line.push(cell)\n\n      if (alignDelimiters === true) {\n        line.push(after)\n      }\n\n      if (padding === true) {\n        line.push(space)\n      }\n\n      if (end === true || columnIndex !== columnLength - 1) {\n        line.push(verticalBar)\n      }\n    }\n\n    line = line.join('')\n\n    if (end === false) {\n      line = line.replace(trailingWhitespace, '')\n    }\n\n    lines.push(line)\n  }\n\n  return lines.join(lineFeed)\n}\n\nfunction serialize(value) {\n  return value === null || value === undefined ? '' : String(value)\n}\n\nfunction defaultStringLength(value) {\n  return value.length\n}\n\nfunction toAlignment(value) {\n  var code = typeof value === 'string' ? value.charCodeAt(0) : x\n\n  return code === L || code === l\n    ? l\n    : code === R || code === r\n    ? r\n    : code === C || code === c\n    ? c\n    : x\n}\n","var defaultListItem = require('mdast-util-to-markdown/lib/handle/list-item')\n\nexports.unsafe = [{atBreak: true, character: '-', after: '[:|-]'}]\n\nexports.handlers = {\n  listItem: listItemWithTaskListItem\n}\n\nfunction listItemWithTaskListItem(node, parent, context) {\n  var value = defaultListItem(node, parent, context)\n  var head = node.children[0]\n\n  if (typeof node.checked === 'boolean' && head && head.type === 'paragraph') {\n    value = value.replace(/^(?:[*+-]|\\d+\\.)([\\r\\n]| {1,3})/, check)\n  }\n\n  return value\n\n  function check($0) {\n    return $0 + '[' + (node.checked ? 'x' : ' ') + '] '\n  }\n}\n","module.exports = listItem\n\nvar repeat = require('repeat-string')\nvar checkBullet = require('../util/check-bullet')\nvar checkListItemIndent = require('../util/check-list-item-indent')\nvar flow = require('../util/container-flow')\nvar indentLines = require('../util/indent-lines')\n\nfunction listItem(node, parent, context) {\n  var bullet = checkBullet(context)\n  var listItemIndent = checkListItemIndent(context)\n  var size\n  var value\n  var exit\n\n  if (parent && parent.ordered) {\n    bullet =\n      (parent.start > -1 ? parent.start : 1) +\n      (context.options.incrementListMarker === false\n        ? 0\n        : parent.children.indexOf(node)) +\n      '.'\n  }\n\n  size = bullet.length + 1\n\n  if (\n    listItemIndent === 'tab' ||\n    (listItemIndent === 'mixed' && ((parent && parent.spread) || node.spread))\n  ) {\n    size = Math.ceil(size / 4) * 4\n  }\n\n  exit = context.enter('listItem')\n  value = indentLines(flow(node, context), map)\n  exit()\n\n  return value\n\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : repeat(' ', size)) + line\n    }\n\n    return (blank ? bullet : bullet + repeat(' ', size - bullet.length)) + line\n  }\n}\n","module.exports = checkBullet\n\nfunction checkBullet(context) {\n  var marker = context.options.bullet || '*'\n\n  if (marker !== '*' && marker !== '+' && marker !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bullet`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  return marker\n}\n","module.exports = checkListItemIndent\n\nfunction checkListItemIndent(context) {\n  var style = context.options.listItemIndent || 'tab'\n\n  if (style === 1 || style === '1') {\n    return 'one'\n  }\n\n  if (style !== 'tab' && style !== 'one' && style !== 'mixed') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        style +\n        '` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`'\n    )\n  }\n\n  return style\n}\n","module.exports = flow\n\nvar repeat = require('repeat-string')\n\nfunction flow(parent, context) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    results.push(\n      context.handle(child, parent, context, {before: '\\n', after: '\\n'})\n    )\n\n    if (index + 1 < children.length) {\n      results.push(between(child, children[index + 1]))\n    }\n  }\n\n  return results.join('')\n\n  function between(left, right) {\n    var index = -1\n    var result\n\n    while (++index < context.join.length) {\n      result = context.join[index](left, right, parent, context)\n\n      if (result === true || result === 1) {\n        break\n      }\n\n      if (typeof result === 'number') {\n        return repeat('\\n', 1 + Number(result))\n      }\n\n      if (result === false) {\n        return '\\n\\n<!---->\\n\\n'\n      }\n    }\n\n    return '\\n\\n'\n  }\n}\n","module.exports = indentLines\n\nvar eol = /\\r?\\n|\\r/g\n\nfunction indentLines(value, map) {\n  var result = []\n  var start = 0\n  var line = 0\n  var match\n\n  while ((match = eol.exec(value))) {\n    one(value.slice(start, match.index))\n    result.push(match[0])\n    start = match.index + match[0].length\n    line++\n  }\n\n  one(value.slice(start))\n\n  return result.join('')\n\n  function one(value) {\n    result.push(map(value, line, !value))\n  }\n}\n","module.exports = configure\n\nfunction configure(base, extension) {\n  var index = -1\n  var key\n\n  // First do subextensions.\n  if (extension.extensions) {\n    while (++index < extension.extensions.length) {\n      configure(base, extension.extensions[index])\n    }\n  }\n\n  for (key in extension) {\n    if (key === 'extensions') {\n      // Empty.\n    } else if (key === 'unsafe' || key === 'join') {\n      base[key] = base[key].concat(extension[key] || [])\n    } else if (key === 'handlers') {\n      base[key] = Object.assign(base[key], extension[key] || {})\n    } else {\n      base.options[key] = extension[key]\n    }\n  }\n\n  return base\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\t/**\n\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t * additional languages or plugins yourself.\n\t *\n\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t *\n\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t * empty Prism object into the global scope before loading the Prism script like this:\n\t *\n\t * ```js\n\t * window.Prism = window.Prism || {};\n\t * Prism.manual = true;\n\t * // add a new <script> to load Prism's script\n\t * ```\n\t *\n\t * @default false\n\t * @type {boolean}\n\t * @memberof Prism\n\t * @public\n\t */\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t/**\n\t * A namespace for utility methods.\n\t *\n\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t * change or disappear at any time.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t */\n\tutil: {\n\t\tencode: function encode(tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the name of the type of the given value.\n\t\t *\n\t\t * @param {any} o\n\t\t * @returns {string}\n\t\t * @example\n\t\t * type(null)      === 'Null'\n\t\t * type(undefined) === 'Undefined'\n\t\t * type(123)       === 'Number'\n\t\t * type('foo')     === 'String'\n\t\t * type(true)      === 'Boolean'\n\t\t * type([1, 2])    === 'Array'\n\t\t * type({})        === 'Object'\n\t\t * type(String)    === 'Function'\n\t\t * type(/abc+/)    === 'RegExp'\n\t\t */\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\t/**\n\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t *\n\t\t * @param {Object} obj\n\t\t * @returns {number}\n\t\t */\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t/**\n\t\t * Creates a deep clone of the given object.\n\t\t *\n\t\t * The main intended use of this function is to clone language definitions.\n\t\t *\n\t\t * @param {T} o\n\t\t * @param {Record<number, any>} [visited]\n\t\t * @returns {T}\n\t\t * @template T\n\t\t */\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar clone, id;\n\t\t\tswitch (_.util.type(o)) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns whether a given class is active for `element`.\n\t\t *\n\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t * given class is just the given class with a `no-` prefix.\n\t\t *\n\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t *\n\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t * version of it, the class is considered active.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @param {string} className\n\t\t * @param {boolean} [defaultActivation=false]\n\t\t * @returns {boolean}\n\t\t */\n\t\tisActive: function (element, className, defaultActivation) {\n\t\t\tvar no = 'no-' + className;\n\n\t\t\twhile (element) {\n\t\t\t\tvar classList = element.classList;\n\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\treturn !!defaultActivation;\n\t\t}\n\t},\n\n\t/**\n\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\tlanguages: {\n\t\t/**\n\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t *\n\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t * will be overwritten at its original position.\n\t\t *\n\t\t * ## Best practices\n\t\t *\n\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t *\n\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t *\n\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t * @param {Grammar} redef The new tokens to append.\n\t\t * @returns {Grammar} The new language created.\n\t\t * @public\n\t\t * @example\n\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t *     // at its original position\n\t\t *     'comment': { ... },\n\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t * });\n\t\t */\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t *\n\t\t * ## Usage\n\t\t *\n\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t * this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.markup.style = {\n\t\t *     // token\n\t\t * };\n\t\t * ```\n\t\t *\n\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t *     'style': {\n\t\t *         // token\n\t\t *     }\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Special cases\n\t\t *\n\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t * will be ignored.\n\t\t *\n\t\t * This behavior can be used to insert tokens after `before`:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t *     'comment': Prism.languages.markup.comment,\n\t\t *     // tokens after 'comment'\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Limitations\n\t\t *\n\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t *\n\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t *\n\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t *\n\t\t * ```js\n\t\t * var oldMarkup = Prism.languages.markup;\n\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t *\n\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t * ```\n\t\t *\n\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t * object to be modified.\n\t\t * @param {string} before The key to insert before.\n\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t * object to be modified.\n\t\t *\n\t\t * Defaults to `Prism.languages`.\n\t\t * @returns {Grammar} The new grammar object.\n\t\t * @public\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\tvar grammar = root[inside];\n\t\t\t/** @type {Grammar} */\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tplugins: {},\n\n\t/**\n\t * This is the most high-level function in Prisms API.\n\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t * each one of them.\n\t *\n\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t *\n\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\t/**\n\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t * {@link Prism.highlightElement} on each one of them.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-highlightall`\n\t * 2. `before-all-elements-highlight`\n\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t *\n\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\t/**\n\t * Highlights the code inside a single element.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-sanity-check`\n\t * 2. `before-highlight`\n\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t * 4. `before-insert`\n\t * 5. `after-highlight`\n\t * 6. `complete`\n\t *\n\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t * the element's language.\n\t *\n\t * @param {Element} element The element containing the code.\n\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t *\n\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t * asynchronous highlighting to work. You can build your own bundle on the\n\t * [Download page](https://prismjs.com/download.html).\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentElement;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\t/**\n\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t * and the language definitions to use, and returns a string with the HTML produced.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-tokenize`\n\t * 2. `after-tokenize`\n\t * 3. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @param {string} language The name of the language definition passed to `grammar`.\n\t * @returns {string} The highlighted HTML.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t */\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\t/**\n\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t * and the language definitions to use, and returns an array with the tokenized code.\n\t *\n\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t *\n\t * This method could be useful in other contexts as well, as a very crude parser.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * let code = `var foo = 0;`;\n\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t * tokens.forEach(token => {\n\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t *         console.log(`Found numeric literal: ${token.content}`);\n\t *     }\n\t * });\n\t */\n\ttokenize: function(text, grammar) {\n\t\tvar rest = grammar.rest;\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\tvar tokenList = new LinkedList();\n\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\treturn toArray(tokenList);\n\t},\n\n\t/**\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\thooks: {\n\t\tall: {},\n\n\t\t/**\n\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t *\n\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t *\n\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t * @public\n\t\t */\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\t/**\n\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t *\n\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t * @public\n\t\t */\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n_self.Prism = _;\n\n\n// Typescript note:\n// The following can be used to import the Token type in JSDoc:\n//\n//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n/**\n * Creates a new token.\n *\n * @param {string} type See {@link Token#type type}\n * @param {string | TokenStream} content See {@link Token#content content}\n * @param {string|string[]} [alias] The alias(es) of the token.\n * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n * @class\n * @global\n * @public\n */\nfunction Token(type, content, alias, matchedStr) {\n\t/**\n\t * The type of the token.\n\t *\n\t * This is usually the key of a pattern in a {@link Grammar}.\n\t *\n\t * @type {string}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.type = type;\n\t/**\n\t * The strings or tokens contained by this token.\n\t *\n\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t *\n\t * @type {string | TokenStream}\n\t * @public\n\t */\n\tthis.content = content;\n\t/**\n\t * The alias(es) of the token.\n\t *\n\t * @type {string|string[]}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length | 0;\n}\n\n/**\n * A token stream is an array of strings and {@link Token Token} objects.\n *\n * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n * them.\n *\n * 1. No adjacent strings.\n * 2. No empty strings.\n *\n *    The only exception here is the token stream that only contains the empty string and nothing else.\n *\n * @typedef {Array<string | Token>} TokenStream\n * @global\n * @public\n */\n\n/**\n * Converts the given token or token stream to an HTML representation.\n *\n * The following hooks will be run:\n * 1. `wrap`: On each {@link Token}.\n *\n * @param {string | Token | TokenStream} o The token or token stream to be converted.\n * @param {string} language The name of current language.\n * @returns {string} The HTML representation of the token or token stream.\n * @memberof Token\n * @static\n */\nToken.stringify = function stringify(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\tif (Array.isArray(o)) {\n\t\tvar s = '';\n\t\to.forEach(function (e) {\n\t\t\ts += stringify(e, language);\n\t\t});\n\t\treturn s;\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tvar aliases = o.alias;\n\tif (aliases) {\n\t\tif (Array.isArray(aliases)) {\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t} else {\n\t\t\tenv.classes.push(aliases);\n\t\t}\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = '';\n\tfor (var name in env.attributes) {\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n};\n\n/**\n * @param {string} text\n * @param {LinkedList<string | Token>} tokenList\n * @param {any} grammar\n * @param {LinkedListNode<string | Token>} startNode\n * @param {number} startPos\n * @param {RematchOptions} [rematch]\n * @returns {void}\n * @private\n *\n * @typedef RematchOptions\n * @property {string} cause\n * @property {number} reach\n */\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\tfor (var token in grammar) {\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar patterns = grammar[token];\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patternObj = patterns[j],\n\t\t\t\tinside = patternObj.inside,\n\t\t\t\tlookbehind = !!patternObj.lookbehind,\n\t\t\t\tgreedy = !!patternObj.greedy,\n\t\t\t\tlookbehindLength = 0,\n\t\t\t\talias = patternObj.alias;\n\n\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t}\n\n\t\t\t/** @type {RegExp} */\n\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t) {\n\n\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\n\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t}\n\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\tpos = p;\n\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\tfor (\n\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\tk = k.next\n\t\t\t\t\t) {\n\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t}\n\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t// replace with the new match\n\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t} else {\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str);\n\t\t\t\t}\n\n\t\t\t\tif (!match) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (lookbehind) {\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t}\n\n\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\tmatchStr = match[0].slice(lookbehindLength),\n\t\t\t\t\tto = from + matchStr.length,\n\t\t\t\t\tbefore = str.slice(0, from),\n\t\t\t\t\tafter = str.slice(to);\n\n\t\t\t\tvar reach = pos + str.length;\n\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\trematch.reach = reach;\n\t\t\t\t}\n\n\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\tif (before) {\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\tpos += before.length;\n\t\t\t\t}\n\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\tif (after) {\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t}\n\n\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t// this can only happen if the current pattern is greedy\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\treach: reach\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @typedef LinkedListNode\n * @property {T} value\n * @property {LinkedListNode<T> | null} prev The previous node.\n * @property {LinkedListNode<T> | null} next The next node.\n * @template T\n * @private\n */\n\n/**\n * @template T\n * @private\n */\nfunction LinkedList() {\n\t/** @type {LinkedListNode<T>} */\n\tvar head = { value: null, prev: null, next: null };\n\t/** @type {LinkedListNode<T>} */\n\tvar tail = { value: null, prev: head, next: null };\n\thead.next = tail;\n\n\t/** @type {LinkedListNode<T>} */\n\tthis.head = head;\n\t/** @type {LinkedListNode<T>} */\n\tthis.tail = tail;\n\tthis.length = 0;\n}\n\n/**\n * Adds a new node with the given value to the list.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {T} value\n * @returns {LinkedListNode<T>} The added node.\n * @template T\n */\nfunction addAfter(list, node, value) {\n\t// assumes that node != list.tail && values.length >= 0\n\tvar next = node.next;\n\n\tvar newNode = { value: value, prev: node, next: next };\n\tnode.next = newNode;\n\tnext.prev = newNode;\n\tlist.length++;\n\n\treturn newNode;\n}\n/**\n * Removes `count` nodes after the given node. The given node will not be removed.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {number} count\n * @template T\n */\nfunction removeRange(list, node, count) {\n\tvar next = node.next;\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\tnext = next.next;\n\t}\n\tnode.next = next;\n\tnext.prev = node;\n\tlist.length -= i;\n}\n/**\n * @param {LinkedList<T>} list\n * @returns {T[]}\n * @template T\n */\nfunction toArray(list) {\n\tvar array = [];\n\tvar node = list.head.next;\n\twhile (node !== list.tail) {\n\t\tarray.push(node.value);\n\t\tnode = node.next;\n\t}\n\treturn array;\n}\n\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n// Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nfunction highlightAutomaticallyCallback() {\n\tif (!_.manual) {\n\t\t_.highlightAll();\n\t}\n}\n\nif (!_.manual) {\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-flags': /[a-z]+$/,\n\t\t\t'regex-delimiter': /^\\/|\\/$/\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\tvar Prism = window.Prism;\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\n\t/**\n\t * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} language\n\t * @returns {void}\n\t */\n\tfunction setLanguageClass(element, language) {\n\t\tvar className = element.className;\n\t\tclassName = className.replace(lang, ' ') + ' language-' + language;\n\t\telement.className = className.replace(/\\s+/g, ' ').trim();\n\t}\n\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tsetLanguageClass(code, language);\n\t\t\tsetLanguageClass(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', src, true);\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t\t// highlight code\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\t\t\t\t\t\tPrism.highlightElement(code);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// mark as failed\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_EMPTY_MESSAGE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send(null);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; element = elements[i++];) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t}\n\n})();\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CheckableTag = function CheckableTag(_a) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      checked = _a.checked,\n      onChange = _a.onChange,\n      onClick = _a.onClick,\n      restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var handleClick = function handleClick(e) {\n    if (onChange) {\n      onChange(!checked);\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var cls = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  }));\n};\n\nvar _default = CheckableTag;\nexports[\"default\"] = _default;","'use strict'\n\nfunction markdownLineEnding(code) {\n  return code < -2\n}\n\nmodule.exports = markdownLineEnding\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\n\nfunction spaceFactory(effects, ok, type, max) {\n  var limit = max ? max - 1 : Infinity\n  var size = 0\n  return start\n\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type)\n      return prefix(code)\n    }\n\n    return ok(code)\n  }\n\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code)\n      return prefix\n    }\n\n    effects.exit(type)\n    return ok(code)\n  }\n}\n\nmodule.exports = spaceFactory\n","'use strict'\n\nfunction markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32\n}\n\nmodule.exports = markdownSpace\n","'use strict'\n\nvar splice = require('../constant/splice.js')\n\n// causes a stack overflow in V8 when trying to insert 100k items for instance.\n\nfunction chunkedSplice(list, start, remove, items) {\n  var end = list.length\n  var chunkStart = 0\n  var parameters // Make start between zero and `end` (included).\n\n  if (start < 0) {\n    start = -start > end ? 0 : end + start\n  } else {\n    start = start > end ? end : start\n  }\n\n  remove = remove > 0 ? remove : 0 // No need to chunk the items if theres only a couple (10k) items.\n\n  if (items.length < 10000) {\n    parameters = Array.from(items)\n    parameters.unshift(start, remove)\n    splice.apply(list, parameters)\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) splice.apply(list, [start, remove]) // Insert the items in chunks to not cause stack overflows.\n\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000)\n      parameters.unshift(start, 0)\n      splice.apply(list, parameters)\n      chunkStart += 10000\n      start += 10000\n    }\n  }\n}\n\nmodule.exports = chunkedSplice\n","'use strict'\n\nfunction markdownLineEndingOrSpace(code) {\n  return code < 0 || code === 32\n}\n\nmodule.exports = markdownLineEndingOrSpace\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction regexCheck(regex) {\n  return check\n\n  function check(code) {\n    return regex.test(fromCharCode(code))\n  }\n}\n\nmodule.exports = regexCheck\n","'use strict'\n\nvar assign = require('../constant/assign.js')\n\nfunction shallow(object) {\n  return assign({}, object)\n}\n\nmodule.exports = shallow\n","'use strict'\n\nvar assign = Object.assign\n\nmodule.exports = assign\n","'use strict'\n\nvar sizeChunks = require('./size-chunks.js')\n\nfunction prefixSize(events, type) {\n  var tail = events[events.length - 1]\n  if (!tail || tail[1].type !== type) return 0\n  return sizeChunks(tail[2].sliceStream(tail[1]))\n}\n\nmodule.exports = prefixSize\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/)\n\nmodule.exports = asciiAlphanumeric\n","Prism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.60.0\";\n\n  return CodeMirror;\n\n})));\n","'use strict'\n\nvar fromCharCode = String.fromCharCode\n\nmodule.exports = fromCharCode\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nvar partialBlankLine = {\n  tokenize: tokenizePartialBlankLine,\n  partial: true\n}\n\nfunction tokenizePartialBlankLine(effects, ok, nok) {\n  return factorySpace(effects, afterWhitespace, 'linePrefix')\n\n  function afterWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = partialBlankLine\n","'use strict'\n\nfunction resolveAll(constructs, events, context) {\n  var called = []\n  var index = -1\n  var resolve\n\n  while (++index < constructs.length) {\n    resolve = constructs[index].resolveAll\n\n    if (resolve && called.indexOf(resolve) < 0) {\n      events = resolve(events, context)\n      called.push(resolve)\n    }\n  }\n\n  return events\n}\n\nmodule.exports = resolveAll\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlpha = regexCheck(/[A-Za-z]/)\n\nmodule.exports = asciiAlpha\n","'use strict'\n\nmodule.exports = visit\n\nvar visitParents = require('unist-util-visit-parents')\n\nvar CONTINUE = visitParents.CONTINUE\nvar SKIP = visitParents.SKIP\nvar EXIT = visitParents.EXIT\n\nvisit.CONTINUE = CONTINUE\nvisit.SKIP = SKIP\nvisit.EXIT = EXIT\n\nfunction visit(tree, test, visitor, reverse) {\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  function overload(node, parents) {\n    var parent = parents[parents.length - 1]\n    var index = parent ? parent.children.indexOf(node) : null\n    return visitor(node, index, parent)\n  }\n}\n"],"sourceRoot":""}