{"version":3,"sources":["webpack:///./src/views/task/index.module.less?ff2f","views/task/index.module.less","apis/tasks.ts","views/task/index.tsx"],"names":["api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_EXPORT___","push","updateTask","_id","data","request","url","method","getTasks","params","Option","TaskView","props","groups","key","name","countOptions","rest","label","seconds","work","mt","moment","start","startOf","format","end","endOf","changeGroup","value","setState","group","changeDate","date","dateString","cm","getList","state","list1","list2","list3","list4","isCollectionVisible","isTomatoVisible","entity","tomatoTitle","countSeconds","this","a","tasks","groupBy","sortBy","list","item","to","from","oldIndex","newIndex","itemId","getAttribute","fromId","toId","values","task","index","findIndex","splice","closeCollection","openCollection","find","tomato","remove","className","styles","defaultValue","clearIcon","onChange","RightOutlined","UpOutlined","map","PlusOutlined","onClick","id","setList","onEnd","updateChangeTask","Array","e","HeartTwoTone","twoToneColor","FormOutlined","editTask","DeleteOutlined","removeTask","PlayCircleOutlined","startTomato","title","i18n","t","visible","width","MODAL_SIZE","md","destroyOnClose","footer","onCancel","labelCol","span","wrapperCol","onFinish","initialValues","Item","rules","required","message","placeholder","allowClear","type","htmlType","closable","color","alpha","size","onComplete","countCompleted","taskOk","taskRestart","taskStop","Component"],"mappings":"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","file":"static/js/8.1fd70f74.chunk.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-10-1!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-10-2!./index.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".uHzKDZHJcGEeSYxjZTCmV {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  left: 60px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe {\\n  position: relative;\\n  display: grid;\\n  grid-gap: 5px;\\n  grid-template-rows: 50% 50%;\\n  grid-template-columns: 50% 50%;\\n  height: 100%;\\n  padding: 20px;\\n  border-bottom: 1px #d9dee2 solid;\\n  border-left: 1px #d9dee2 solid;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._2DcBfWQaznaWC0aEwuSQAP {\\n  position: absolute;\\n  top: -3px;\\n  left: -8px;\\n  color: #d9dee2;\\n  font-size: 0.875rem;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1X5h869HtUq2r8rtlTA_82 {\\n  position: absolute;\\n  right: -3px;\\n  bottom: -8px;\\n  color: #d9dee2;\\n  font-size: 0.875rem;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe .qGeYEYDj_EpDAN66eyz7O {\\n  display: flex;\\n  flex-direction: column;\\n  background: #fff;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe .fUznIFR-Qh1RTwoGl5A3G {\\n  display: flex;\\n  flex-direction: row;\\n  padding: 5px;\\n  border-bottom: 1px #d9dee2 solid;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe .fUznIFR-Qh1RTwoGl5A3G ._1Ui8zYZahoI5LFnjlTLak6 {\\n  flex: 1;\\n  color: #677a8e;\\n  font-weight: bold;\\n  font-size: 0.75rem;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe .fUznIFR-Qh1RTwoGl5A3G ._311Xj_HltEI_bamg8WhQA2 {\\n  color: #8e9ca8;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe .fUznIFR-Qh1RTwoGl5A3G ._311Xj_HltEI_bamg8WhQA2 span {\\n  cursor: pointer;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1CRbpB6-6AUR07E-KJczE- {\\n  flex: 1;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1CRbpB6-6AUR07E-KJczE- ._3ztXcbzslLYCGrTerZTdC7 {\\n  position: relative;\\n  display: flex;\\n  flex-direction: row;\\n  padding: 8px;\\n  color: #3f5361;\\n  border-bottom: 1px #f5f7f7 solid;\\n  cursor: pointer;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1CRbpB6-6AUR07E-KJczE- ._3ztXcbzslLYCGrTerZTdC7:hover {\\n  background: #f0f2f5;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1CRbpB6-6AUR07E-KJczE- ._3ztXcbzslLYCGrTerZTdC7:hover .B6Uw0KosFMxTD-0haIiy9 {\\n  visibility: visible;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1CRbpB6-6AUR07E-KJczE- ._3ztXcbzslLYCGrTerZTdC7 ._1LYjvbZufVkcbcQWv9mGXP {\\n  flex: 1;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1CRbpB6-6AUR07E-KJczE- ._3ztXcbzslLYCGrTerZTdC7 .FAAtLHiMbVYvd_lQwDaRb {\\n  display: flex;\\n  align-items: center;\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._1CRbpB6-6AUR07E-KJczE- ._3ztXcbzslLYCGrTerZTdC7 .B6Uw0KosFMxTD-0haIiy9 {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  padding-right: 12px;\\n  background: #f0f2f5;\\n  visibility: hidden;\\n  transition: all cubic-bezier(0.215, 0.61, 0.355, 1);\\n}\\n._13WU5J_hWfBoYojZ1MzvYe ._2fOYFpGJzlphbalE7fTdm0 {\\n  border-top: 1px #f5f7f7 solid;\\n}\\n._2Bm-kqwz8tV2l5wNH3GhAU .eRIPLfJnSOucp-25FvI6O {\\n  color: #3f5361;\\n  font-weight: bold;\\n  font-size: 30px;\\n  text-align: center;\\n}\\n._2Bm-kqwz8tV2l5wNH3GhAU ._2CpXIGhjjU0UjT4aXSAycA {\\n  display: flex;\\n  justify-content: center;\\n  padding: 40px;\\n}\\n._2Bm-kqwz8tV2l5wNH3GhAU .OhiSjmyejWuWdKR8aXF1z {\\n  display: flex;\\n  justify-content: center;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/views/task/index.module.less\"],\"names\":[],\"mappings\":\"AACA;EACE,kBAAA;EACA,MAAA;EACA,QAAA;EACA,UAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,YAAA;AAAF;AAEA;EACE,kBAAA;EACA,aAAA;EACA,aAAA;EACA,2BAAA;EACA,8BAAA;EACA,YAAA;EACA,aAAA;EACA,gCAAA;EACA,8BAAA;AAAF;AATA;EAWI,kBAAA;EACA,SAAA;EACA,UAAA;EACA,cAAA;EACA,mBAAA;AACJ;AAhBA;EAkBI,kBAAA;EACA,WAAA;EACA,YAAA;EACA,cAAA;EACA,mBAAA;AACJ;AAvBA;EAyBI,aAAA;EACA,sBAAA;EACA,gBAAA;AACJ;AACI;EACE,aAAA;EACA,mBAAA;EACA,YAAA;EACA,gCAAA;AACN;AALI;EAMI,OAAA;EACA,cAAA;EACA,iBAAA;EACA,kBAAA;AAER;AAXI;EAYI,cAAA;AAER;AAdI;EAcM,eAAA;AAGV;AACI;EACE,OAAA;EACA,kBAAA;EACA,gBAAA;AACN;AAJI;EAKI,kBAAA;EACA,aAAA;EACA,mBAAA;EACA,YAAA;EACA,cAAA;EACA,gCAAA;EACA,eAAA;AAER;AADQ;EACE,mBAAA;AAGV;AAJQ;EAGI,mBAAA;AAIZ;AAnBI;EAmBM,OAAA;AAGV;AAtBI;EAsBM,aAAA;EACA,mBAAA;AAGV;AA1BI;EA0BM,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,SAAA;EACA,aAAA;EACA,mBAAA;EACA,yBAAA;EACA,mBAAA;EACA,mBAAA;EACA,kBAAA;EACA,mDAAA;AAGV;AACI;EACE,6BAAA;AACN;AAIA;EAEI,cAAA;EACA,iBAAA;EACA,eAAA;EACA,kBAAA;AAHJ;AAFA;EAQI,aAAA;EACA,uBAAA;EACA,aAAA;AAHJ;AAPA;EAaI,aAAA;EACA,uBAAA;AAHJ\",\"sourcesContent\":[\"@import '@styles/variables.less';\\n.task-aside {\\n  position: absolute;\\n  top: 0;\\n  right:0;\\n  left:60px;\\n  display:flex;\\n  align-items: center;\\n  justify-content: center;\\n  height:50px;\\n}\\n.task-wrap {\\n  position: relative;\\n  display: grid;\\n  grid-gap: 5px;\\n  grid-template-rows: 50% 50%;\\n  grid-template-columns: 50% 50%;\\n  height: 100%;\\n  padding: 20px;\\n  border-bottom: 1px @border-gray solid;\\n  border-left: 1px @border-gray solid;\\n  .arrow-top {\\n    position: absolute;\\n    top: -3px;\\n    left: -8px;\\n    color: @border-gray;\\n    font-size: 0.875rem;\\n  }\\n  .arrow-right {\\n    position: absolute;\\n    right: -3px;\\n    bottom: -8px;\\n    color: @border-gray;\\n    font-size: 0.875rem;\\n  }\\n  .task-item {\\n    display: flex;\\n    flex-direction: column;\\n    background: @bg-white;\\n\\n    &-header {\\n      display: flex;\\n      flex-direction: row;\\n      padding: 5px;\\n      border-bottom: 1px @border-gray solid;\\n      .task-item-header-title {\\n        flex: 1;\\n        color: @text-desc;\\n        font-weight: bold;\\n        font-size: 0.75rem;\\n      }\\n      .task-item-header-action {\\n        color: @icon;\\n        span {\\n          cursor: pointer;\\n        }\\n      }\\n    }\\n    &-body {\\n      flex: 1;\\n      overflow-x: hidden;\\n      overflow-y: auto;\\n      .task-item-wrap {\\n        position: relative;\\n        display: flex;\\n        flex-direction: row;\\n        padding: 8px;\\n        color: @text-dark;\\n        border-bottom: 1px @border solid;\\n        cursor: pointer;\\n        &:hover {\\n          background: @bg-main;\\n          .task-item-actions {\\n            visibility: visible;\\n          }\\n        }\\n        .task-item-title {\\n          flex: 1;\\n        }\\n        .task-item-heart {\\n          display: flex;\\n          align-items: center;\\n        }\\n        .task-item-actions {\\n          position: absolute;\\n          top: 0;\\n          right: 0;\\n          bottom: 0;\\n          left: 50%;\\n          display: flex;\\n          align-items: center;\\n          justify-content: flex-end;\\n          padding-right: 12px;\\n          background: @bg-main;\\n          visibility: hidden;\\n          transition: all cubic-bezier(0.215, 0.61, 0.355, 1);\\n        }\\n      }\\n    }\\n    &-footer {\\n      border-top: 1px @border solid;\\n    }\\n  }\\n}\\n\\n.tomato-wrap {\\n  .tomato-title {\\n    color: @text-dark;\\n    font-weight: bold;\\n    font-size: 30px;\\n    text-align: center;\\n  }\\n  .tomato-clock {\\n    display: flex;\\n    justify-content: center;\\n    padding: 40px;\\n  }\\n  .tomato-actions {\\n    display: flex;\\n    justify-content: center;\\n  }\\n}\\n\\n@laiye-primary-color: #2249c0;@laiye-link-color: #2249c0;\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"task-aside\": \"uHzKDZHJcGEeSYxjZTCmV\",\n\t\"task-wrap\": \"_13WU5J_hWfBoYojZ1MzvYe\",\n\t\"arrow-top\": \"_2DcBfWQaznaWC0aEwuSQAP\",\n\t\"arrow-right\": \"_1X5h869HtUq2r8rtlTA_82\",\n\t\"task-item\": \"qGeYEYDj_EpDAN66eyz7O\",\n\t\"task-item-header\": \"fUznIFR-Qh1RTwoGl5A3G\",\n\t\"task-item-header-title\": \"_1Ui8zYZahoI5LFnjlTLak6\",\n\t\"task-item-header-action\": \"_311Xj_HltEI_bamg8WhQA2\",\n\t\"task-item-body\": \"_1CRbpB6-6AUR07E-KJczE-\",\n\t\"task-item-wrap\": \"_3ztXcbzslLYCGrTerZTdC7\",\n\t\"task-item-actions\": \"B6Uw0KosFMxTD-0haIiy9\",\n\t\"task-item-title\": \"_1LYjvbZufVkcbcQWv9mGXP\",\n\t\"task-item-heart\": \"FAAtLHiMbVYvd_lQwDaRb\",\n\t\"task-item-footer\": \"_2fOYFpGJzlphbalE7fTdm0\",\n\t\"tomato-wrap\": \"_2Bm-kqwz8tV2l5wNH3GhAU\",\n\t\"tomato-title\": \"eRIPLfJnSOucp-25FvI6O\",\n\t\"tomato-clock\": \"_2CpXIGhjjU0UjT4aXSAycA\",\n\t\"tomato-actions\": \"OhiSjmyejWuWdKR8aXF1z\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","/*\n * @Author: D.Y\n * @Date: 2021-04-14 19:16:26\n * @LastEditTime: 2021-04-15 14:36:19\n * @LastEditors: D.Y\n * @FilePath: /arthemis-client/src/apis/tasks.ts\n * @Description:\n */\nimport type { Task } from '@interfaces/task'\nimport request from '@utils/request'\n\nexport const createTask = (data: Task) => {\n  return request({\n    url: '/tasks',\n    method: 'post',\n    data,\n  })\n}\n\nexport const updateTask = (_id: string, data: Task) => {\n  return request({\n    url: `/tasks/${_id}`,\n    method: 'put',\n    data,\n  })\n}\n\n\nexport const deleteTask = (_id: string) => {\n  return request({\n    url: `/tasks/${_id}`,\n    method: 'delete',\n  })\n}\n\n\nexport const getTasks = (params = {}) => {\n  return request({\n    url: '/tasks',\n    method: 'get',\n    params,\n  })\n}\n\nexport const sortTasks = (\n  _id: string,\n  data: {\n    fromId: string\n    toId: string\n    oldIndex: number\n    newIndex: number\n  },\n) => {\n  return request({\n    url: `/tasks/${_id}/sort`,\n    method: 'post',\n    data,\n  })\n}\n","/*\n * @Author: D.Y\n * @Date: 2021-04-14 15:52:59\n * @LastEditTime: 2021-04-16 14:48:37\n * @LastEditors: D.Y\n * @FilePath: /arthemis-client/src/views/task/index.tsx\n * @Description:\n */\nimport {\n  CaretRightOutlined,\n  DeleteOutlined,\n  FormOutlined,\n  HeartTwoTone,\n  PlayCircleOutlined,\n  PlusOutlined,\n  RightOutlined,\n  UpOutlined,\n} from '@ant-design/icons'\nimport { createTask, getTasks, sortTasks, updateTask, deleteTask } from '@apis/index'\nimport { MODAL_SIZE } from '@constants/modal'\nimport i18n from '@i18n/index'\nimport type { Task } from '@interfaces/task'\nimport { Form, Input, Button, Modal, Select, DatePicker } from 'antd'\nimport { Component } from 'react'\nimport { ReactSortable } from 'react-sortablejs'\nimport ReactCountdownClock from 'react-countdown-clock'\nimport styles from './index.module.less'\nimport { groupBy, map, sortBy, findIndex, remove, find } from 'lodash'\nimport moment from 'moment'\n\nconst { Option } = Select\n\ntype Props = {}\n\ntype State = {\n  list1: any\n  list2: any\n  list3: any\n  list4: any\n  group: string\n  isCollectionVisible: boolean\n  isTomatoVisible: boolean\n  entity: Task\n  tomatoTitle: string\n  countSeconds: number\n}\n\nexport default class TaskView extends Component<Props, State> {\n  private groups = [\n    {\n      key: 'list1',\n      name: '紧急不重要',\n    },\n    {\n      key: 'list2',\n      name: '重要紧急',\n    },\n    {\n      key: 'list3',\n      name: '不重要不紧急',\n    },\n    {\n      key: 'list4',\n      name: '重要不紧急',\n    },\n  ]\n\n  private countOptions = {\n    rest: {\n      label: '休息中',\n      seconds: 5,\n    },\n    work: {\n      label: '工作中',\n      seconds: 10,\n    },\n  }\n\n  private mt = moment()\n\n  private start = this.mt.startOf('day').format('X')\n\n  private end = this.mt.endOf('day').format('X')\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      list1: [],\n      list2: [],\n      list3: [],\n      list4: [],\n      group: '',\n      isCollectionVisible: false,\n      isTomatoVisible: false,\n      entity: null,\n      tomatoTitle: this.countOptions.rest.label,\n      countSeconds: this.countOptions.rest.seconds,\n    }\n  }\n\n  componentDidMount() {\n    this.getList()\n  }\n\n  async getList() {\n    const cm = moment()\n    // @ts-ignore\n    const tasks = await getTasks({\n      start: this.start,\n      end: this.end,\n    })\n    const groups = groupBy(tasks, 'group')\n    this.setState({\n      list1: sortBy(groups.list1 || [], 'position'),\n      list2: sortBy(groups.list2 || [], 'position'),\n      list3: sortBy(groups.list3 || [], 'position'),\n      list4: sortBy(groups.list4 || [], 'position'),\n    })\n  }\n\n  setList(key, list) {\n    // @ts-ignore\n    this.setState({\n      [key]: [...list],\n    })\n  }\n\n  async updateChangeTask(key, { item, to, from, oldIndex, newIndex }) {\n    const itemId = item.getAttribute('data-id')\n    const fromId = from.getAttribute('id')\n    const toId = to.getAttribute('id')\n\n    await sortTasks(itemId, {\n      fromId,\n      toId,\n      oldIndex,\n      newIndex,\n    })\n  }\n\n  openCollection(group) {\n    this.setState({\n      group,\n      isCollectionVisible: true,\n    })\n  }\n\n  closeCollection() {\n    this.setState({\n      isCollectionVisible: false,\n    })\n  }\n\n  async onFinish(values: any) {\n    if (this.state.entity) {\n      // @ts-ignore\n      const task: Task = await updateTask(this.state.entity._id, values)\n      if (this.state.group && task) {\n        const index = findIndex(this.state[this.state.group], { _id: task._id })\n        this.state[this.state.group].splice(index, 1, task)\n        // @ts-ignore\n        this.setState({\n          entity: null,\n          [this.state.group]: [...this.state[this.state.group]],\n        })\n      }\n    } else {\n      const task = await createTask(values)\n      if (this.state.group && task) {\n        // @ts-ignore\n        this.setState({\n          [this.state.group]: [...this.state[this.state.group], task],\n        })\n      }\n    }\n    this.closeCollection()\n  }\n\n  changeGroup = (value: string) => {\n    this.setState({\n      group: value,\n    })\n  }\n\n  editTask(entity) {\n    entity &&\n      this.setState({\n        entity,\n      })\n\n    this.openCollection(entity.group)\n  }\n\n  startTomato(entity) {\n    this.setState({\n      entity,\n      tomatoTitle: entity.name,\n      countSeconds: this.countOptions.work.seconds,\n      isTomatoVisible: true,\n    })\n  }\n\n  async countCompleted() {\n    // 从工作进入休息\n    if (this.state.countSeconds === this.countOptions.work.seconds) {\n      this.setState({\n        tomatoTitle: this.countOptions.rest.label,\n        countSeconds: this.countOptions.rest.seconds,\n        isTomatoVisible: true,\n      })\n      const task = find(this.state[this.state.entity.group], { _id: this.state.entity._id })\n      await updateTask(this.state.entity._id, { tomato: this.state.entity.tomato + 1 })\n      task.tomato += 1\n    } else {\n      // 从休息进入工作\n      this.setState({\n        tomatoTitle: this.state.entity.name,\n        countSeconds: this.countOptions.work.seconds,\n        isTomatoVisible: true,\n      })\n    }\n  }\n\n  async removeTask(entity: Task) {\n    await deleteTask(entity._id)\n    remove(this.state[entity.group], { _id: entity._id })\n    // @ts-ignore\n    this.setState({\n      [entity.group]: [...this.state[entity.group]],\n    })\n  }\n\n  taskOk() {\n    // this.setState({\n    //   tomatoTitle: '休息中',\n    //   countSeconds: 5 * 60,\n    //   isTomatoVisible: false,\n    // })\n  }\n\n  taskRestart() {\n    this.setState({\n      countSeconds: this.countOptions.work.seconds,\n      isTomatoVisible: true,\n    })\n  }\n\n  taskStop() {\n    this.setState({\n      tomatoTitle: this.countOptions.rest.label,\n      countSeconds: this.countOptions.rest.seconds,\n      isTomatoVisible: false,\n    })\n  }\n  changeDate = (date, dateString)=>{\n    const cm = moment(date)\n    this.start = cm.startOf('day').format('X')\n    this.end = cm.endOf('day').format('X')\n    this.getList()\n  }\n\n  render() {\n    const {\n      isCollectionVisible,\n      isTomatoVisible,\n      group,\n      entity,\n      tomatoTitle,\n      countSeconds,\n    } = this.state\n    return (\n      <>\n        <div className={styles['task-aside']}>\n        <DatePicker defaultValue={moment()} clearIcon={false} onChange={this.changeDate} />\n        </div>\n        <div className={styles['task-wrap']}>\n          <RightOutlined className={styles['arrow-right']} />\n          <UpOutlined className={styles['arrow-top']} />\n          {this.groups.map(({ key, name }) => {\n            return (\n              <div className={styles['task-item']} key={`${key}-wrap`}>\n                <div className={styles['task-item-header']}>\n                  <span className={styles['task-item-header-title']}>{name}</span>\n                  <span className={styles['task-item-header-action']}>\n                    <PlusOutlined onClick={() => this.openCollection(key)} />\n                  </span>\n                </div>\n                <div className={styles['task-item-body']}>\n                  <ReactSortable\n                    id={key}\n                    group=\"tasks\"\n                    list={this.state[key]}\n                    setList={(tasks) => this.setList(key, tasks)}\n                    onEnd={(tasks) => this.updateChangeTask(key, tasks)}\n                  >\n                    {this.state[key].map((item) => (\n                      <div className={styles['task-item-wrap']} key={item._id}>\n                        <div className={styles['task-item-title']}>{item.name}</div>\n                        <div className={styles['task-item-heart']}>\n                          {Array.from(Array(item.tomato), (e, i) => {\n                            return <HeartTwoTone className=\"m-l-8\" key={i} twoToneColor=\"#eb2f96\" />\n                          })}\n                        </div>\n                        <div className={styles['task-item-actions']}>\n                          <FormOutlined\n                            className=\"m-r-12\"\n                            onClick={() => {\n                              this.editTask(item)\n                            }}\n                          />\n                          <DeleteOutlined\n                            className=\"m-r-12\"\n                            onClick={() => {\n                              this.removeTask(item)\n                            }}\n                          />\n                          <PlayCircleOutlined\n                            onClick={() => {\n                              this.startTomato(item)\n                            }}\n                          />\n                        </div>\n                      </div>\n                    ))}\n                  </ReactSortable>\n                </div>\n              </div>\n            )\n          })}\n          <Modal\n            title={i18n.t('action.create')}\n            visible={isCollectionVisible}\n            width={MODAL_SIZE.md}\n            destroyOnClose={true}\n            footer={false}\n            onCancel={() => this.closeCollection()}\n          >\n            <Form\n              labelCol={{ span: 24 }}\n              wrapperCol={{ span: 24 }}\n              onFinish={(values) => this.onFinish(values)}\n              initialValues={{\n                name: entity ? entity.name : '',\n                group,\n              }}\n            >\n              <Form.Item\n                label=\"名称\"\n                name=\"name\"\n                rules={[{ required: true, message: '请输任务名称' }]}\n              >\n                <Input placeholder=\"请输入任务名称\" />\n              </Form.Item>\n              <Form.Item name=\"group\" label=\"分组\" rules={[{ required: true }]}>\n                <Select placeholder=\"选择分组\" onChange={this.changeGroup} allowClear>\n                  {this.groups.map(({ key, name }) => {\n                    return (\n                      <Option value={key} key={key}>\n                        {name}\n                      </Option>\n                    )\n                  })}\n                </Select>\n              </Form.Item>\n              <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"m-r-12\">\n                  {i18n.t('action.save')}\n                </Button>\n                <Button onClick={() => this.closeCollection()}> {i18n.t('action.cancel')}</Button>\n              </Form.Item>\n            </Form>\n          </Modal>\n\n          <Modal\n            visible={isTomatoVisible}\n            width={MODAL_SIZE.md}\n            destroyOnClose={true}\n            title={false}\n            footer={false}\n            closable={false}\n          >\n            <div className={styles['tomato-wrap']}>\n              <div className={styles['tomato-title']}>{tomatoTitle}</div>\n              <div className={styles['tomato-clock']}>\n                <ReactCountdownClock\n                  seconds={countSeconds}\n                  color=\"#14a3b3\"\n                  alpha={0.9}\n                  size={300}\n                  onComplete={() => this.countCompleted()}\n                />\n              </div>\n              <div className={styles['tomato-actions']}>\n                <Button\n                  type=\"primary\"\n                  onClick={() => {\n                    this.taskOk()\n                  }}\n                >\n                  完成任务\n                </Button>\n                <Button\n                  className=\"m-l-12 m-r-12\"\n                  onClick={() => {\n                    this.taskRestart()\n                  }}\n                >\n                  重新开始\n                </Button>\n                <Button\n                  onClick={() => {\n                    this.taskStop()\n                  }}\n                >\n                  停止\n                </Button>\n              </div>\n            </div>\n          </Modal>\n        </div>\n      </>\n    )\n  }\n}\n"],"sourceRoot":""}